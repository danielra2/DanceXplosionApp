(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("rrwebSnapshot", [], f);
    } else if ("object" == typeof exports) {
      exports["rrwebSnapshot"] = f();
    } else {
      g["rrwebSnapshot"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var Or=Object.defineProperty,Nr=Object.defineProperties;var Ar=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable;var ct=(e,r,l)=>r in e?Or(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,q=(e,r)=>{for(var l in r||(r={}))ht.call(r,l)&&ct(e,l,r[l]);if(ie)for(var l of ie(r))pt.call(r,l)&&ct(e,l,r[l]);return e},Q=(e,r)=>Nr(e,Ar(r));var Ce=(e,r)=>{var l={};for(var a in e)ht.call(e,a)&&r.indexOf(a)<0&&(l[a]=e[a]);if(e!=null&&ie)for(var a of ie(e))r.indexOf(a)<0&&pt.call(e,a)&&(l[a]=e[a]);return l};var Mr=Object.defineProperty,_r=(e,r,l)=>r in e?Mr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,dt=(e,r,l)=>_r(e,typeof r!="symbol"?r+"":r,l);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var A=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(A||{});const mt={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},gt={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},se={};function kr(e){var r,l;const a=(l=(r=globalThis==null?void 0:globalThis.Zone)==null?void 0:r.__symbol__)==null?void 0:l.call(r,e);if(a&&globalThis[a])return globalThis[a]}function Ze(e){if(se[e])return se[e];const r=kr(e)||globalThis[e],l=r.prototype,a=e in mt?mt[e]:void 0,i=!!(a&&a.every(d=>{var n,u;return!!((u=(n=Object.getOwnPropertyDescriptor(l,d))==null?void 0:n.get)!=null&&u.toString().includes("[native code]"))})),h=e in gt?gt[e]:void 0,f=!!(h&&h.every(d=>{var n;return typeof l[d]=="function"&&((n=l[d])==null?void 0:n.toString().includes("[native code]"))}));if(i&&f)return se[e]=r.prototype,r.prototype;try{const d=document.createElement("iframe");document.body.appendChild(d);const n=d.contentWindow;if(!n)return r.prototype;const u=n[e].prototype;return document.body.removeChild(d),u?se[e]=u:l}catch(d){return l}}const ve={};function j(e,r,l){var a;const i=`${e}.${String(l)}`;if(ve[i])return ve[i].call(r);const h=Ze(e),f=(a=Object.getOwnPropertyDescriptor(h,l))==null?void 0:a.get;return f?(ve[i]=f,f.call(r)):r[l]}const xe={};function Qt(e,r,l){const a=`${e}.${String(l)}`;if(xe[a])return xe[a].bind(r);const h=Ze(e)[l];return typeof h!="function"?r[l]:(xe[a]=h,h.bind(r))}function Pr(e){return j("Node",e,"childNodes")}function Ir(e){return j("Node",e,"parentNode")}function Lr(e){return j("Node",e,"parentElement")}function Tr(e){return j("Node",e,"textContent")}function Dr(e,r){return Qt("Node",e,"contains")(r)}function Ur(e){return Qt("Node",e,"getRootNode")()}function Br(e){return!e||!("host"in e)?null:j("ShadowRoot",e,"host")}function Fr(e){return e.styleSheets}function zr(e){return!e||!("shadowRoot"in e)?null:j("Element",e,"shadowRoot")}function qr(e,r){return j("Element",e,"querySelector")(r)}function Wr(e,r){return j("Element",e,"querySelectorAll")(r)}function jr(){return Ze("MutationObserver").constructor}const D={childNodes:Pr,parentNode:Ir,parentElement:Lr,textContent:Tr,contains:Dr,getRootNode:Ur,host:Br,styleSheets:Fr,shadowRoot:zr,querySelector:qr,querySelectorAll:Wr,mutationObserver:jr};function fe(e){return e.nodeType===e.ELEMENT_NODE}function Zt(e){const r=e&&"host"in e&&"mode"in e&&D.host(e)||null;return!!(r&&"shadowRoot"in r&&D.shadowRoot(r)===e)}function le(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function $r(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Xt(e){const{cssText:r}=e;if(r.split('"').length<3)return r;const l=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?l.push("layer"):e.layerName&&l.push(`layer(${e.layerName})`),e.supportsText&&l.push(`supports(${e.supportsText})`),e.media.length&&l.push(e.media.mediaText),l.join(" ")+";"}function ae(e){try{const r=e.rules||e.cssRules;if(!r)return null;let l=e.href;!l&&e.ownerNode&&e.ownerNode.ownerDocument&&(l=e.ownerNode.ownerDocument.location.href);const a=Array.from(r,i=>er(i,l)).join("");return $r(a)}catch(r){return null}}function er(e,r){if(rr(e)){let l;try{l=ae(e.styleSheet)||Xt(e)}catch(a){l=e.cssText}return e.styleSheet.href?X(l,e.styleSheet.href):l}else{let l=e.cssText;return ir(e)&&e.selectorText.includes(":")&&(l=tr(l)),r?X(l,r):l}}function tr(e){const r=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(r,"$1\\$2")}function rr(e){return"styleSheet"in e}function ir(e){return"selectorText"in e}class ce{constructor(){dt(this,"idNodeMap",new Map),dt(this,"nodeMetaMap",new WeakMap)}getId(r){var l;if(!r)return-1;const a=(l=this.getMeta(r))==null?void 0:l.id;return a!=null?a:-1}getNode(r){return this.idNodeMap.get(r)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(r){return this.nodeMetaMap.get(r)||null}removeNodeFromMap(r){const l=this.getId(r);this.idNodeMap.delete(l),r.childNodes&&r.childNodes.forEach(a=>this.removeNodeFromMap(a))}has(r){return this.idNodeMap.has(r)}hasNode(r){return this.nodeMetaMap.has(r)}add(r,l){const a=l.id;this.idNodeMap.set(a,r),this.nodeMetaMap.set(r,l)}replace(r,l){const a=this.getNode(r);if(a){const i=this.nodeMetaMap.get(a);i&&this.nodeMetaMap.set(l,i)}this.idNodeMap.set(r,l)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Vr(){return new ce}function sr({element:e,maskInputOptions:r,tagName:l,type:a,value:i,maskInputFn:h}){let f=i||"";const d=a&&ee(a);return(r[l.toLowerCase()]||d&&r[d])&&(h?f=h(f,e):f="*".repeat(f.length)),f}function ee(e){return e.toLowerCase()}const yt="__rrweb_original__";function nr(e){const r=e.getContext("2d");if(!r)return!0;const l=50;for(let a=0;a<e.width;a+=l)for(let i=0;i<e.height;i+=l){const h=r.getImageData,f=yt in h?h[yt]:h;if(new Uint32Array(f.call(r,a,i,Math.min(l,e.width-a),Math.min(l,e.height-i)).data.buffer).some(n=>n!==0))return!1}return!0}function or(e,r){return!e||!r||e.type!==r.type?!1:e.type===A.Document?e.compatMode===r.compatMode:e.type===A.DocumentType?e.name===r.name&&e.publicId===r.publicId&&e.systemId===r.systemId:e.type===A.Comment||e.type===A.Text||e.type===A.CDATA?e.textContent===r.textContent:e.type===A.Element?e.tagName===r.tagName&&JSON.stringify(e.attributes)===JSON.stringify(r.attributes)&&e.isSVG===r.isSVG&&e.needBlock===r.needBlock:!1}function lr(e){const r=e.type;return e.hasAttribute("data-rr-is-password")?"password":r?ee(r):null}function Xe(e,r){var h;let l;try{l=new URL(e,r!=null?r:window.location.href)}catch(f){return null}const a=/\.([0-9a-z]+)(?:$)/i,i=l.pathname.match(a);return(h=i==null?void 0:i[1])!=null?h:null}function Gr(e){let r="";return e.indexOf("//")>-1?r=e.split("/").slice(0,3).join("/"):r=e.split("/")[0],r=r.split("?")[0],r}const Hr=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Jr=/^(?:[a-z+]+:)?\/\//i,Yr=/^www\..*/i,Kr=/^(data:)([^,]*),(.*)/i;function X(e,r){return(e||"").replace(Hr,(l,a,i,h,f,d)=>{const n=i||f||d,u=a||h||"";if(!n)return l;if(Jr.test(n)||Yr.test(n))return`url(${u}${n}${u})`;if(Kr.test(n))return`url(${u}${n}${u})`;if(n[0]==="/")return`url(${u}${Gr(r)+n}${u})`;const t=r.split("/"),c=n.split("/");t.pop();for(const o of c)o!=="."&&(o===".."?t.pop():t.push(o));return`url(${u}${t.join("/")}${u})`})}function Z(e,r=!1){return r?e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function ar(e,r,l=!1){const a=Array.from(r.childNodes),i=[];let h=0;if(a.length>1&&e&&typeof e=="string"){let f=Z(e,l);const d=f.length/e.length;for(let n=1;n<a.length;n++)if(a[n].textContent&&typeof a[n].textContent=="string"){const u=Z(a[n].textContent,l),t=100;let c=3;for(;c<u.length&&(u[c].match(/[a-zA-Z0-9]/)||u.indexOf(u.substring(0,c),1)!==-1);c++);for(;c<u.length;c++){let o=u.substring(0,c),s=f.split(o),m=-1;if(s.length===2)m=s[0].length;else if(s.length>2&&s[0]===""&&a[n-1].textContent!=="")m=f.indexOf(o,1);else if(s.length===1){if(o=o.substring(0,o.length-1),s=f.split(o),s.length<=1)return i.push(e),i;c=t+1}else c===u.length-1&&(m=f.indexOf(o));if(s.length>=2&&c>t){const p=a[n-1].textContent;if(p&&typeof p=="string"){const g=Z(p).length;m=f.indexOf(o,g)}m===-1&&(m=s[0].length)}if(m!==-1){let p=Math.floor(m/d);for(;p>0&&p<e.length;){if(h+=1,h>50*a.length)return i.push(e),i;const g=Z(e.substring(0,p),l);if(g.length===m){i.push(e.substring(0,p)),e=e.substring(p),f=f.substring(m);break}else g.length<m?p+=Math.max(1,Math.floor((m-g.length)/d)):p-=Math.max(1,Math.floor((g.length-m)*d))}break}}}}return i.push(e),i}function ur(e,r){return ar(e,r).join("/* rr_split */")}const Qr="lightgrey";let fr=1;const Zr=new RegExp("[^a-z0-9-_:]"),Qe=-2;function cr(){return fr++}function Xr(e){if(e instanceof HTMLFormElement)return"form";const r=ee(e.tagName);return Zr.test(r)?"div":r}let J,wt;const ei=/^[^ \t\n\r\u000c]+/,ti=/^[, \t\n\r\u000c]+/;function ri(e,r){if(r.trim()==="")return r;let l=0;function a(h){let f;const d=h.exec(r.substring(l));return d?(f=d[0],l+=f.length,f):""}const i=[];for(;a(ti),!(l>=r.length);){let h=a(ei);if(h.slice(-1)===",")h=Y(e,h.substring(0,h.length-1)),i.push(h);else{let f="";h=Y(e,h);let d=!1;for(;;){const n=r.charAt(l);if(n===""){i.push((h+f).trim());break}else if(d)n===")"&&(d=!1);else if(n===","){l+=1,i.push((h+f).trim());break}else n==="("&&(d=!0);f+=n,l+=1}}}return i.join(", ")}const bt=new WeakMap;function Y(e,r){return!r||r.trim()===""?r:et(e,r)}function ii(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function et(e,r){let l=bt.get(e);if(l||(l=e.createElement("a"),bt.set(e,l)),!r)r="";else if(r.startsWith("blob:")||r.startsWith("data:"))return r;return l.setAttribute("href",r),l.href}function hr(e,r,l,a){return a&&(l==="src"||l==="href"&&!(r==="use"&&a[0]==="#")||l==="xlink:href"&&a[0]!=="#"||l==="background"&&(r==="table"||r==="td"||r==="th")?Y(e,a):l==="srcset"?ri(e,a):l==="style"?X(a,et(e)):r==="object"&&l==="data"?Y(e,a):a)}function pr(e,r,l){return(e==="video"||e==="audio")&&r==="autoplay"}function si(e,r,l){try{if(typeof r=="string"){if(e.classList.contains(r))return!0}else for(let a=e.classList.length;a--;){const i=e.classList[a];if(r.test(i))return!0}if(l)return e.matches(l)}catch(a){}return!1}function ue(e,r,l){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return l?ue(D.parentNode(e),r,l):!1;for(let a=e.classList.length;a--;){const i=e.classList[a];if(r.test(i))return!0}return l?ue(D.parentNode(e),r,l):!1}function dr(e,r,l,a){let i;if(fe(e)){if(i=e,!D.childNodes(i).length)return!1}else{if(D.parentElement(e)===null)return!1;i=D.parentElement(e)}try{if(typeof r=="string"){if(a){if(i.closest(`.${r}`))return!0}else if(i.classList.contains(r))return!0}else if(ue(i,r,a))return!0;if(l){if(a){if(i.closest(l))return!0}else if(i.matches(l))return!0}}catch(h){}return!1}function ni(e,r,l){const a=e.contentWindow;if(!a)return;let i=!1,h;try{h=a.document.readyState}catch(d){return}if(h!=="complete"){const d=setTimeout(()=>{i||(r(),i=!0)},l);e.addEventListener("load",()=>{clearTimeout(d),i=!0,r()});return}const f="about:blank";if(a.location.href!==f||e.src===f||e.src==="")return setTimeout(r,0),e.addEventListener("load",r);e.addEventListener("load",r)}function oi(e,r,l){let a=!1,i;try{i=e.sheet}catch(f){return}if(i)return;const h=setTimeout(()=>{a||(r(),a=!0)},l);e.addEventListener("load",()=>{clearTimeout(h),a=!0,r()})}function li(e,r){const{doc:l,mirror:a,blockClass:i,blockSelector:h,needsMask:f,inlineStylesheet:d,maskInputOptions:n={},maskTextFn:u,maskInputFn:t,dataURLOptions:c={},inlineImages:o,recordCanvas:s,keepIframeSrcFn:m,newlyAddedElement:p=!1,cssCaptured:g=!1,applyBackgroundColorToBlockedElements:C=!1}=r,b=ai(l,a);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:A.Document,childNodes:[],compatMode:e.compatMode}:{type:A.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:A.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return fi(e,{doc:l,blockClass:i,blockSelector:h,inlineStylesheet:d,maskInputOptions:n,maskInputFn:t,dataURLOptions:c,inlineImages:o,recordCanvas:s,keepIframeSrcFn:m,newlyAddedElement:p,rootId:b,applyBackgroundColorToBlockedElements:C});case e.TEXT_NODE:return ui(e,{doc:l,needsMask:f,maskTextFn:u,rootId:b,cssCaptured:g});case e.CDATA_SECTION_NODE:return{type:A.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:A.Comment,textContent:D.textContent(e)||"",rootId:b};default:return!1}}function ai(e,r){if(!r.hasNode(e))return;const l=r.getId(e);return l===1?void 0:l}function ui(e,r){const{needsMask:l,maskTextFn:a,rootId:i,cssCaptured:h}=r,f=D.parentNode(e),d=f&&f.tagName;let n="";const u=d==="STYLE"?!0:void 0,t=d==="SCRIPT"?!0:void 0;return t?n="SCRIPT_PLACEHOLDER":h||(n=D.textContent(e),u&&n&&(n=X(n,et(r.doc)))),!u&&!t&&n&&l&&(n=a?a(n,D.parentElement(e)):n.replace(/[\S]/g,"*")),{type:A.Text,textContent:n||"",rootId:i}}function fi(e,r){const{doc:l,blockClass:a,blockSelector:i,inlineStylesheet:h,maskInputOptions:f={},maskInputFn:d,dataURLOptions:n={},inlineImages:u,recordCanvas:t,keepIframeSrcFn:c,newlyAddedElement:o=!1,rootId:s,applyBackgroundColorToBlockedElements:m=!1}=r,p=si(e,a,i),g=Xr(e);let C={};const b=e.attributes.length;for(let S=0;S<b;S++){const y=e.attributes[S];pr(g,y.name,y.value)||(C[y.name]=hr(l,g,ee(y.name),y.value))}if(g==="link"&&h){const S=Array.from(l.styleSheets).find(w=>w.href===e.href);let y=null;S&&(y=ae(S)),y&&(delete C.rel,delete C.href,C._cssText=y)}if(g==="style"&&e.sheet){let S=ae(e.sheet);S&&(e.childNodes.length>1&&(S=ur(S,e)),C._cssText=S)}if(g==="input"||g==="textarea"||g==="select"){const S=e.value,y=e.checked;C.type!=="radio"&&C.type!=="checkbox"&&C.type!=="submit"&&C.type!=="button"&&S?C.value=sr({element:e,type:lr(e),tagName:g,value:S,maskInputOptions:f,maskInputFn:d}):y&&(C.checked=y)}if(g==="option"&&(e.selected&&!f.select?C.selected=!0:delete C.selected),g==="dialog"&&e.open&&(C.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),g==="canvas"&&t){if(e.__context==="2d")nr(e)||(C.rr_dataURL=e.toDataURL(n.type,n.quality));else if(!("__context"in e)){const S=e.toDataURL(n.type,n.quality),y=l.createElement("canvas");y.width=e.width,y.height=e.height;const w=y.toDataURL(n.type,n.quality);S!==w&&(C.rr_dataURL=S)}}if(g==="img"&&u){J||(J=l.createElement("canvas"),wt=J.getContext("2d"));const S=e,y=S.currentSrc||S.getAttribute("src")||"<unknown-src>",w=S.crossOrigin,x=()=>{S.removeEventListener("load",x);try{J.width=S.naturalWidth,J.height=S.naturalHeight,wt.drawImage(S,0,0),C.rr_dataURL=J.toDataURL(n.type,n.quality)}catch(R){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?x():S.addEventListener("load",x);return}else console.warn(`Cannot inline img src=${y}! Error: ${R}`)}S.crossOrigin==="anonymous"&&(w?C.crossOrigin=w:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?x():S.addEventListener("load",x)}if(g==="audio"||g==="video"){const S=C;S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime,S.rr_mediaPlaybackRate=e.playbackRate,S.rr_mediaMuted=e.muted,S.rr_mediaLoop=e.loop,S.rr_mediaVolume=e.volume}if(o||(e.scrollLeft&&(C.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(C.rr_scrollTop=e.scrollTop)),p){const{width:S,height:y}=e.getBoundingClientRect();C=q({class:C.class,rr_width:`${S}px`,rr_height:`${y}px`},m?{rr_background_color:Qr}:{})}g==="iframe"&&!c(C.src)&&(e.contentDocument||(C.rr_src=C.src),delete C.src);let v;try{customElements.get(g)&&(v=!0)}catch(S){}return{type:A.Element,tagName:g,attributes:C,childNodes:[],isSVG:ii(e)||void 0,needBlock:p,rootId:s,isCustom:v}}function P(e){return e==null?"":e.toLowerCase()}function ci(e,r){if(r.comment&&e.type===A.Comment)return!0;if(e.type===A.Element){if(r.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Xe(e.attributes.href)==="js"))return!0;if(r.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(P(e.attributes.name).match(/^msapplication-tile(image|color)$/)||P(e.attributes.name)==="application-name"||P(e.attributes.rel)==="icon"||P(e.attributes.rel)==="apple-touch-icon"||P(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(r.headMetaDescKeywords&&P(e.attributes.name).match(/^description|keywords$/))return!0;if(r.headMetaSocial&&(P(e.attributes.property).match(/^(og|twitter|fb):/)||P(e.attributes.name).match(/^(og|twitter):/)||P(e.attributes.name)==="pinterest"))return!0;if(r.headMetaRobots&&(P(e.attributes.name)==="robots"||P(e.attributes.name)==="googlebot"||P(e.attributes.name)==="bingbot"))return!0;if(r.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(r.headMetaAuthorship&&(P(e.attributes.name)==="author"||P(e.attributes.name)==="generator"||P(e.attributes.name)==="framework"||P(e.attributes.name)==="publisher"||P(e.attributes.name)==="progid"||P(e.attributes.property).match(/^article:/)||P(e.attributes.property).match(/^product:/)))return!0;if(r.headMetaVerification&&(P(e.attributes.name)==="google-site-verification"||P(e.attributes.name)==="yandex-verification"||P(e.attributes.name)==="csrf-token"||P(e.attributes.name)==="p:domain_verify"||P(e.attributes.name)==="verify-v1"||P(e.attributes.name)==="verification"||P(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function K(e,r){const{doc:l,mirror:a,blockClass:i,blockSelector:h,maskTextClass:f,maskTextSelector:d,skipChild:n=!1,inlineStylesheet:u=!0,maskInputOptions:t={},maskTextFn:c,maskInputFn:o,slimDOMOptions:s,dataURLOptions:m={},inlineImages:p=!1,recordCanvas:g=!1,onSerialize:C,onIframeLoad:b,iframeLoadTimeout:v=5e3,onStylesheetLoad:S,stylesheetLoadTimeout:y=5e3,keepIframeSrcFn:w=()=>!1,newlyAddedElement:x=!1,cssCaptured:R=!1,applyBackgroundColorToBlockedElements:M=!1}=r;let{needsMask:O}=r,{preserveWhiteSpace:T=!0}=r;O||(O=dr(e,f,d,O===void 0));const k=li(e,{doc:l,mirror:a,blockClass:i,blockSelector:h,needsMask:O,inlineStylesheet:u,maskInputOptions:t,maskTextFn:c,maskInputFn:o,dataURLOptions:m,inlineImages:p,recordCanvas:g,keepIframeSrcFn:w,newlyAddedElement:x,cssCaptured:R,applyBackgroundColorToBlockedElements:M});if(!k)return console.warn(e,"not serialized"),null;let E;a.hasNode(e)?E=a.getId(e):ci(k,s)||!T&&k.type===A.Text&&!k.textContent.replace(/^\s+|\s+$/gm,"").length?E=Qe:E=cr();const _=Object.assign(k,{id:E});if(a.add(e,_),E===Qe)return null;C&&C(e);let $=!n;if(_.type===A.Element){$=$&&!_.needBlock,delete _.needBlock;const L=D.shadowRoot(e);L&&le(L)&&(_.isShadowHost=!0)}if((_.type===A.Document||_.type===A.Element)&&$){s.headWhitespace&&_.type===A.Element&&_.tagName==="head"&&(T=!1);const L={doc:l,mirror:a,blockClass:i,blockSelector:h,needsMask:O,maskTextClass:f,maskTextSelector:d,skipChild:n,inlineStylesheet:u,maskInputOptions:t,maskTextFn:c,maskInputFn:o,slimDOMOptions:s,dataURLOptions:m,inlineImages:p,recordCanvas:g,preserveWhiteSpace:T,onSerialize:C,onIframeLoad:b,iframeLoadTimeout:v,onStylesheetLoad:S,stylesheetLoadTimeout:y,keepIframeSrcFn:w,cssCaptured:!1,applyBackgroundColorToBlockedElements:M};if(!(_.type===A.Element&&_.tagName==="textarea"&&_.attributes.value!==void 0)){_.type===A.Element&&_.attributes._cssText!==void 0&&typeof _.attributes._cssText=="string"&&(L.cssCaptured=!0);for(const G of Array.from(D.childNodes(e))){const U=K(G,L);U&&_.childNodes.push(U)}}let B=null;if(fe(e)&&(B=D.shadowRoot(e)))for(const G of Array.from(D.childNodes(B))){const U=K(G,L);U&&(le(B)&&(U.isShadow=!0),_.childNodes.push(U))}}const W=D.parentNode(e);return W&&Zt(W)&&le(W)&&(_.isShadow=!0),_.type===A.Element&&_.tagName==="iframe"&&ni(e,()=>{const L=e.contentDocument;if(L&&b){const B=K(L,{doc:L,mirror:a,blockClass:i,blockSelector:h,needsMask:O,maskTextClass:f,maskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:t,maskTextFn:c,maskInputFn:o,slimDOMOptions:s,dataURLOptions:m,inlineImages:p,recordCanvas:g,preserveWhiteSpace:T,onSerialize:C,onIframeLoad:b,iframeLoadTimeout:v,onStylesheetLoad:S,stylesheetLoadTimeout:y,keepIframeSrcFn:w});B&&b(e,B)}},v),_.type===A.Element&&_.tagName==="link"&&typeof _.attributes.rel=="string"&&(_.attributes.rel==="stylesheet"||_.attributes.rel==="preload"&&typeof _.attributes.href=="string"&&Xe(_.attributes.href)==="css")&&oi(e,()=>{if(S){const L=K(e,{doc:l,mirror:a,blockClass:i,blockSelector:h,needsMask:O,maskTextClass:f,maskTextSelector:d,skipChild:!1,inlineStylesheet:u,maskInputOptions:t,maskTextFn:c,maskInputFn:o,slimDOMOptions:s,dataURLOptions:m,inlineImages:p,recordCanvas:g,preserveWhiteSpace:T,onSerialize:C,onIframeLoad:b,iframeLoadTimeout:v,onStylesheetLoad:S,stylesheetLoadTimeout:y,keepIframeSrcFn:w});L&&S(e,L)}},y),_}function hi(e,r){const{mirror:l=new ce,blockClass:a="rr-block",blockSelector:i=null,maskTextClass:h="rr-mask",maskTextSelector:f=null,inlineStylesheet:d=!0,inlineImages:n=!1,recordCanvas:u=!1,maskAllInputs:t=!1,maskTextFn:c,maskInputFn:o,slimDOM:s=!1,dataURLOptions:m,preserveWhiteSpace:p,onSerialize:g,onIframeLoad:C,iframeLoadTimeout:b,onStylesheetLoad:v,stylesheetLoadTimeout:S,keepIframeSrcFn:y=()=>!1,applyBackgroundColorToBlockedElements:w=!1}=r||{};return K(e,{doc:e,mirror:l,blockClass:a,blockSelector:i,maskTextClass:h,maskTextSelector:f,skipChild:!1,inlineStylesheet:d,maskInputOptions:t===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:t===!1?{password:!0}:t,maskTextFn:c,maskInputFn:o,slimDOMOptions:s===!0||s==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:s==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:s===!1?{}:s,dataURLOptions:m,inlineImages:n,recordCanvas:u,preserveWhiteSpace:p,onSerialize:g,onIframeLoad:C,iframeLoadTimeout:b,onStylesheetLoad:v,stylesheetLoadTimeout:S,keepIframeSrcFn:y,newlyAddedElement:!1,applyBackgroundColorToBlockedElements:w})}function pi(e,r){function l(a){r(a),(a.type===A.Document||a.type===A.Element)&&a.childNodes.forEach(l)}l(e)}function di(){fr=1}const mi=/(max|min)-device-(width|height)/,St=new RegExp(mi.source,"g"),gi={postcssPlugin:"postcss-custom-selectors",prepare(){return{postcssPlugin:"postcss-custom-selectors",AtRule:function(e){e.params.match(St)&&(e.params=e.params.replace(St,"$1-$2"))}}}},yi={postcssPlugin:"postcss-hover-classes",prepare:function(){const e=[];return{Rule:function(r){e.indexOf(r)===-1&&(e.push(r),r.selectors.forEach(function(l){l.includes(":hover")&&(r.selector+=`,
`+l.replace(/:hover/g,".\\:hover"))}))}}}};function wi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bi(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var l=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};l.prototype=r.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var i=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(l,a,i.get?i:{enumerable:!0,get:function(){return e[a]}})}),l}var ne={exports:{}},Ct;function Si(){if(Ct)return ne.exports;Ct=1;var e=String,r=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e}};return ne.exports=r(),ne.exports.createColors=r,ne.exports}const Ci={},vi=Object.freeze(Object.defineProperty({__proto__:null,default:Ci},Symbol.toStringTag,{value:"Module"})),z=bi(vi);var Ee,vt;function tt(){if(vt)return Ee;vt=1;let e=Si(),r=z;class l extends Error{constructor(i,h,f,d,n,u){super(i),this.name="CssSyntaxError",this.reason=i,n&&(this.file=n),d&&(this.source=d),u&&(this.plugin=u),typeof h!="undefined"&&typeof f!="undefined"&&(typeof h=="number"?(this.line=h,this.column=f):(this.line=h.line,this.column=h.column,this.endLine=f.line,this.endColumn=f.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,l)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let h=this.source;i==null&&(i=e.isColorSupported),r&&i&&(h=r(h));let f=h.split(/\r?\n/),d=Math.max(this.line-3,0),n=Math.min(this.line+2,f.length),u=String(n).length,t,c;if(i){let{bold:o,gray:s,red:m}=e.createColors(!0);t=p=>o(m(p)),c=p=>s(p)}else t=c=o=>o;return f.slice(d,n).map((o,s)=>{let m=d+1+s,p=" "+(" "+m).slice(-u)+" | ";if(m===this.line){let g=c(p.replace(/\d/g," "))+o.slice(0,this.column-1).replace(/[^\t]/g," ");return t(">")+c(p)+o+`
 `+g+t("^")}return" "+c(p)+o}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return Ee=l,l.default=l,Ee}var oe={},xt;function rt(){return xt||(xt=1,oe.isClean=Symbol("isClean"),oe.my=Symbol("my")),oe}var Re,Et;function mr(){if(Et)return Re;Et=1;const e={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function r(a){return a[0].toUpperCase()+a.slice(1)}class l{constructor(i){this.builder=i}atrule(i,h){let f="@"+i.name,d=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName!="undefined"?f+=i.raws.afterName:d&&(f+=" "),i.nodes)this.block(i,f+d);else{let n=(i.raws.between||"")+(h?";":"");this.builder(f+d+n,i)}}beforeAfter(i,h){let f;i.type==="decl"?f=this.raw(i,null,"beforeDecl"):i.type==="comment"?f=this.raw(i,null,"beforeComment"):h==="before"?f=this.raw(i,null,"beforeRule"):f=this.raw(i,null,"beforeClose");let d=i.parent,n=0;for(;d&&d.type!=="root";)n+=1,d=d.parent;if(f.includes(`
`)){let u=this.raw(i,null,"indent");if(u.length)for(let t=0;t<n;t++)f+=u}return f}block(i,h){let f=this.raw(i,"between","beforeOpen");this.builder(h+f+"{",i,"start");let d;i.nodes&&i.nodes.length?(this.body(i),d=this.raw(i,"after")):d=this.raw(i,"after","emptyBody"),d&&this.builder(d),this.builder("}",i,"end")}body(i){let h=i.nodes.length-1;for(;h>0&&i.nodes[h].type==="comment";)h-=1;let f=this.raw(i,"semicolon");for(let d=0;d<i.nodes.length;d++){let n=i.nodes[d],u=this.raw(n,"before");u&&this.builder(u),this.stringify(n,h!==d||f)}}comment(i){let h=this.raw(i,"left","commentLeft"),f=this.raw(i,"right","commentRight");this.builder("/*"+h+i.text+f+"*/",i)}decl(i,h){let f=this.raw(i,"between","colon"),d=i.prop+f+this.rawValue(i,"value");i.important&&(d+=i.raws.important||" !important"),h&&(d+=";"),this.builder(d,i)}document(i){this.body(i)}raw(i,h,f){let d;if(f||(f=h),h&&(d=i.raws[h],typeof d!="undefined"))return d;let n=i.parent;if(f==="before"&&(!n||n.type==="root"&&n.first===i||n&&n.type==="document"))return"";if(!n)return e[f];let u=i.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[f]!="undefined")return u.rawCache[f];if(f==="before"||f==="after")return this.beforeAfter(i,f);{let t="raw"+r(f);this[t]?d=this[t](u,i):u.walk(c=>{if(d=c.raws[h],typeof d!="undefined")return!1})}return typeof d=="undefined"&&(d=e[f]),u.rawCache[f]=d,d}rawBeforeClose(i){let h;return i.walk(f=>{if(f.nodes&&f.nodes.length>0&&typeof f.raws.after!="undefined")return h=f.raws.after,h.includes(`
`)&&(h=h.replace(/[^\n]+$/,"")),!1}),h&&(h=h.replace(/\S/g,"")),h}rawBeforeComment(i,h){let f;return i.walkComments(d=>{if(typeof d.raws.before!="undefined")return f=d.raws.before,f.includes(`
`)&&(f=f.replace(/[^\n]+$/,"")),!1}),typeof f=="undefined"?f=this.raw(h,null,"beforeDecl"):f&&(f=f.replace(/\S/g,"")),f}rawBeforeDecl(i,h){let f;return i.walkDecls(d=>{if(typeof d.raws.before!="undefined")return f=d.raws.before,f.includes(`
`)&&(f=f.replace(/[^\n]+$/,"")),!1}),typeof f=="undefined"?f=this.raw(h,null,"beforeRule"):f&&(f=f.replace(/\S/g,"")),f}rawBeforeOpen(i){let h;return i.walk(f=>{if(f.type!=="decl"&&(h=f.raws.between,typeof h!="undefined"))return!1}),h}rawBeforeRule(i){let h;return i.walk(f=>{if(f.nodes&&(f.parent!==i||i.first!==f)&&typeof f.raws.before!="undefined")return h=f.raws.before,h.includes(`
`)&&(h=h.replace(/[^\n]+$/,"")),!1}),h&&(h=h.replace(/\S/g,"")),h}rawColon(i){let h;return i.walkDecls(f=>{if(typeof f.raws.between!="undefined")return h=f.raws.between.replace(/[^\s:]/g,""),!1}),h}rawEmptyBody(i){let h;return i.walk(f=>{if(f.nodes&&f.nodes.length===0&&(h=f.raws.after,typeof h!="undefined"))return!1}),h}rawIndent(i){if(i.raws.indent)return i.raws.indent;let h;return i.walk(f=>{let d=f.parent;if(d&&d!==i&&d.parent&&d.parent===i&&typeof f.raws.before!="undefined"){let n=f.raws.before.split(`
`);return h=n[n.length-1],h=h.replace(/\S/g,""),!1}}),h}rawSemicolon(i){let h;return i.walk(f=>{if(f.nodes&&f.nodes.length&&f.last.type==="decl"&&(h=f.raws.semicolon,typeof h!="undefined"))return!1}),h}rawValue(i,h){let f=i[h],d=i.raws[h];return d&&d.value===f?d.raw:f}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,h){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,h)}}return Re=l,l.default=l,Re}var Oe,Rt;function he(){if(Rt)return Oe;Rt=1;let e=mr();function r(l,a){new e(a).stringify(l)}return Oe=r,r.default=r,Oe}var Ne,Ot;function pe(){if(Ot)return Ne;Ot=1;let{isClean:e,my:r}=rt(),l=tt(),a=mr(),i=he();function h(d,n){let u=new d.constructor;for(let t in d){if(!Object.prototype.hasOwnProperty.call(d,t)||t==="proxyCache")continue;let c=d[t],o=typeof c;t==="parent"&&o==="object"?n&&(u[t]=n):t==="source"?u[t]=c:Array.isArray(c)?u[t]=c.map(s=>h(s,u)):(o==="object"&&c!==null&&(c=h(c)),u[t]=c)}return u}class f{constructor(n={}){this.raws={},this[e]=!1,this[r]=!0;for(let u in n)if(u==="nodes"){this.nodes=[];for(let t of n[u])typeof t.clone=="function"?this.append(t.clone()):this.append(t)}else this[u]=n[u]}addToError(n){if(n.postcssNode=this,n.stack&&this.source&&/\n\s{4}at /.test(n.stack)){let u=this.source;n.stack=n.stack.replace(/\n\s{4}at /,`$&${u.input.from}:${u.start.line}:${u.start.column}$&`)}return n}after(n){return this.parent.insertAfter(this,n),this}assign(n={}){for(let u in n)this[u]=n[u];return this}before(n){return this.parent.insertBefore(this,n),this}cleanRaws(n){delete this.raws.before,delete this.raws.after,n||delete this.raws.between}clone(n={}){let u=h(this);for(let t in n)u[t]=n[t];return u}cloneAfter(n={}){let u=this.clone(n);return this.parent.insertAfter(this,u),u}cloneBefore(n={}){let u=this.clone(n);return this.parent.insertBefore(this,u),u}error(n,u={}){if(this.source){let{end:t,start:c}=this.rangeBy(u);return this.source.input.error(n,{column:c.column,line:c.line},{column:t.column,line:t.line},u)}return new l(n)}getProxyProcessor(){return{get(n,u){return u==="proxyOf"?n:u==="root"?()=>n.root().toProxy():n[u]},set(n,u,t){return n[u]===t||(n[u]=t,(u==="prop"||u==="value"||u==="name"||u==="params"||u==="important"||u==="text")&&n.markDirty()),!0}}}markDirty(){if(this[e]){this[e]=!1;let n=this;for(;n=n.parent;)n[e]=!1}}next(){if(!this.parent)return;let n=this.parent.index(this);return this.parent.nodes[n+1]}positionBy(n,u){let t=this.source.start;if(n.index)t=this.positionInside(n.index,u);else if(n.word){u=this.toString();let c=u.indexOf(n.word);c!==-1&&(t=this.positionInside(c,u))}return t}positionInside(n,u){let t=u||this.toString(),c=this.source.start.column,o=this.source.start.line;for(let s=0;s<n;s++)t[s]===`
`?(c=1,o+=1):c+=1;return{column:c,line:o}}prev(){if(!this.parent)return;let n=this.parent.index(this);return this.parent.nodes[n-1]}rangeBy(n){let u={column:this.source.start.column,line:this.source.start.line},t=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:u.column+1,line:u.line};if(n.word){let c=this.toString(),o=c.indexOf(n.word);o!==-1&&(u=this.positionInside(o,c),t=this.positionInside(o+n.word.length,c))}else n.start?u={column:n.start.column,line:n.start.line}:n.index&&(u=this.positionInside(n.index)),n.end?t={column:n.end.column,line:n.end.line}:typeof n.endIndex=="number"?t=this.positionInside(n.endIndex):n.index&&(t=this.positionInside(n.index+1));return(t.line<u.line||t.line===u.line&&t.column<=u.column)&&(t={column:u.column+1,line:u.line}),{end:t,start:u}}raw(n,u){return new a().raw(this,n,u)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...n){if(this.parent){let u=this,t=!1;for(let c of n)c===this?t=!0:t?(this.parent.insertAfter(u,c),u=c):this.parent.insertBefore(u,c);t||this.remove()}return this}root(){let n=this;for(;n.parent&&n.parent.type!=="document";)n=n.parent;return n}toJSON(n,u){let t={},c=u==null;u=u||new Map;let o=0;for(let s in this){if(!Object.prototype.hasOwnProperty.call(this,s)||s==="parent"||s==="proxyCache")continue;let m=this[s];if(Array.isArray(m))t[s]=m.map(p=>typeof p=="object"&&p.toJSON?p.toJSON(null,u):p);else if(typeof m=="object"&&m.toJSON)t[s]=m.toJSON(null,u);else if(s==="source"){let p=u.get(m.input);p==null&&(p=o,u.set(m.input,o),o++),t[s]={end:m.end,inputId:p,start:m.start}}else t[s]=m}return c&&(t.inputs=[...u.keys()].map(s=>s.toJSON())),t}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(n=i){n.stringify&&(n=n.stringify);let u="";return n(this,t=>{u+=t}),u}warn(n,u,t){let c={node:this};for(let o in t)c[o]=t[o];return n.warn(u,c)}get proxyOf(){return this}}return Ne=f,f.default=f,Ne}var Ae,Nt;function de(){if(Nt)return Ae;Nt=1;let e=pe();class r extends e{constructor(a){a&&typeof a.value!="undefined"&&typeof a.value!="string"&&(a=Q(q({},a),{value:String(a.value)})),super(a),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return Ae=r,r.default=r,Ae}var Me,At;function xi(){if(At)return Me;At=1;let e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return Me={nanoid:(a=21)=>{let i="",h=a;for(;h--;)i+=e[Math.random()*64|0];return i},customAlphabet:(a,i=21)=>(h=i)=>{let f="",d=h;for(;d--;)f+=a[Math.random()*a.length|0];return f}},Me}var _e,Mt;function gr(){if(Mt)return _e;Mt=1;let{SourceMapConsumer:e,SourceMapGenerator:r}=z,{existsSync:l,readFileSync:a}=z,{dirname:i,join:h}=z;function f(n){return Buffer?Buffer.from(n,"base64").toString():window.atob(n)}class d{constructor(u,t){if(t.map===!1)return;this.loadAnnotation(u),this.inline=this.startWith(this.annotation,"data:");let c=t.map?t.map.prev:void 0,o=this.loadMap(t.from,c);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=i(this.mapFile)),o&&(this.text=o)}consumer(){return this.consumerCache||(this.consumerCache=new e(this.text)),this.consumerCache}decodeInline(u){let t=/^data:application\/json;charset=utf-?8;base64,/,c=/^data:application\/json;base64,/,o=/^data:application\/json;charset=utf-?8,/,s=/^data:application\/json,/;if(o.test(u)||s.test(u))return decodeURIComponent(u.substr(RegExp.lastMatch.length));if(t.test(u)||c.test(u))return f(u.substr(RegExp.lastMatch.length));let m=u.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+m)}getAnnotationURL(u){return u.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(u){return typeof u!="object"?!1:typeof u.mappings=="string"||typeof u._mappings=="string"||Array.isArray(u.sections)}loadAnnotation(u){let t=u.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let c=u.lastIndexOf(t.pop()),o=u.indexOf("*/",c);c>-1&&o>-1&&(this.annotation=this.getAnnotationURL(u.substring(c,o)))}loadFile(u){if(this.root=i(u),l(u))return this.mapFile=u,a(u,"utf-8").toString().trim()}loadMap(u,t){if(t===!1)return!1;if(t){if(typeof t=="string")return t;if(typeof t=="function"){let c=t(u);if(c){let o=this.loadFile(c);if(!o)throw new Error("Unable to load previous source map: "+c.toString());return o}}else{if(t instanceof e)return r.fromSourceMap(t).toString();if(t instanceof r)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let c=this.annotation;return u&&(c=h(i(u),c)),this.loadFile(c)}}}startWith(u,t){return u?u.substr(0,t.length)===t:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return _e=d,d.default=d,_e}var ke,_t;function me(){if(_t)return ke;_t=1;let{SourceMapConsumer:e,SourceMapGenerator:r}=z,{fileURLToPath:l,pathToFileURL:a}=z,{isAbsolute:i,resolve:h}=z,{nanoid:f}=xi(),d=z,n=tt(),u=gr(),t=Symbol("fromOffsetCache"),c=!!(e&&r),o=!!(h&&i);class s{constructor(p,g={}){if(p===null||typeof p=="undefined"||typeof p=="object"&&!p.toString)throw new Error(`PostCSS received ${p} instead of CSS string`);if(this.css=p.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,g.from&&(!o||/^\w+:\/\//.test(g.from)||i(g.from)?this.file=g.from:this.file=h(g.from)),o&&c){let C=new u(this.css,g);if(C.text){this.map=C;let b=C.consumer().file;!this.file&&b&&(this.file=this.mapResolve(b))}}this.file||(this.id="<input css "+f(6)+">"),this.map&&(this.map.file=this.from)}error(p,g,C,b={}){let v,S,y;if(g&&typeof g=="object"){let x=g,R=C;if(typeof x.offset=="number"){let M=this.fromOffset(x.offset);g=M.line,C=M.col}else g=x.line,C=x.column;if(typeof R.offset=="number"){let M=this.fromOffset(R.offset);S=M.line,y=M.col}else S=R.line,y=R.column}else if(!C){let x=this.fromOffset(g);g=x.line,C=x.col}let w=this.origin(g,C,S,y);return w?v=new n(p,w.endLine===void 0?w.line:{column:w.column,line:w.line},w.endLine===void 0?w.column:{column:w.endColumn,line:w.endLine},w.source,w.file,b.plugin):v=new n(p,S===void 0?g:{column:C,line:g},S===void 0?C:{column:y,line:S},this.css,this.file,b.plugin),v.input={column:C,endColumn:y,endLine:S,line:g,source:this.css},this.file&&(a&&(v.input.url=a(this.file).toString()),v.input.file=this.file),v}fromOffset(p){let g,C;if(this[t])C=this[t];else{let v=this.css.split(`
`);C=new Array(v.length);let S=0;for(let y=0,w=v.length;y<w;y++)C[y]=S,S+=v[y].length+1;this[t]=C}g=C[C.length-1];let b=0;if(p>=g)b=C.length-1;else{let v=C.length-2,S;for(;b<v;)if(S=b+(v-b>>1),p<C[S])v=S-1;else if(p>=C[S+1])b=S+1;else{b=S;break}}return{col:p-C[b]+1,line:b+1}}mapResolve(p){return/^\w+:\/\//.test(p)?p:h(this.map.consumer().sourceRoot||this.map.root||".",p)}origin(p,g,C,b){if(!this.map)return!1;let v=this.map.consumer(),S=v.originalPositionFor({column:g,line:p});if(!S.source)return!1;let y;typeof C=="number"&&(y=v.originalPositionFor({column:b,line:C}));let w;i(S.source)?w=a(S.source):w=new URL(S.source,this.map.consumer().sourceRoot||a(this.map.mapFile));let x={column:S.column,endColumn:y&&y.column,endLine:y&&y.line,line:S.line,url:w.toString()};if(w.protocol==="file:")if(l)x.file=l(w);else throw new Error("file: protocol is not available in this PostCSS build");let R=v.sourceContentFor(S.source);return R&&(x.source=R),x}toJSON(){let p={};for(let g of["hasBOM","css","file","id"])this[g]!=null&&(p[g]=this[g]);return this.map&&(p.map=q({},this.map),p.map.consumerCache&&(p.map.consumerCache=void 0)),p}get from(){return this.file||this.id}}return ke=s,s.default=s,d&&d.registerInput&&d.registerInput(s),ke}var Pe,kt;function yr(){if(kt)return Pe;kt=1;let{SourceMapConsumer:e,SourceMapGenerator:r}=z,{dirname:l,relative:a,resolve:i,sep:h}=z,{pathToFileURL:f}=z,d=me(),n=!!(e&&r),u=!!(l&&i&&a&&h);class t{constructor(o,s,m,p){this.stringify=o,this.mapOpts=m.map||{},this.root=s,this.opts=m,this.css=p,this.originalCSS=p,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let o;this.isInline()?o="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?o=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?o=this.mapOpts.annotation(this.opts.to,this.root):o=this.outputFile()+".map";let s=`
`;this.css.includes(`\r
`)&&(s=`\r
`),this.css+=s+"/*# sourceMappingURL="+o+" */"}applyPrevMaps(){for(let o of this.previous()){let s=this.toUrl(this.path(o.file)),m=o.root||l(o.file),p;this.mapOpts.sourcesContent===!1?(p=new e(o.text),p.sourcesContent&&(p.sourcesContent=null)):p=o.consumer(),this.map.applySourceMap(p,s,this.toUrl(this.path(m)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let o;for(let s=this.root.nodes.length-1;s>=0;s--)o=this.root.nodes[s],o.type==="comment"&&o.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(s)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),u&&n&&this.isMap())return this.generateMap();{let o="";return this.stringify(this.root,s=>{o+=s}),[o]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let o=this.previous()[0].consumer();o.file=this.outputFile(),this.map=r.fromSourceMap(o,{ignoreInvalidMapping:!0})}else this.map=new r({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new r({file:this.outputFile(),ignoreInvalidMapping:!0});let o=1,s=1,m="<no source>",p={generated:{column:0,line:0},original:{column:0,line:0},source:""},g,C;this.stringify(this.root,(b,v,S)=>{if(this.css+=b,v&&S!=="end"&&(p.generated.line=o,p.generated.column=s-1,v.source&&v.source.start?(p.source=this.sourcePath(v),p.original.line=v.source.start.line,p.original.column=v.source.start.column-1,this.map.addMapping(p)):(p.source=m,p.original.line=1,p.original.column=0,this.map.addMapping(p))),g=b.match(/\n/g),g?(o+=g.length,C=b.lastIndexOf(`
`),s=b.length-C):s+=b.length,v&&S!=="start"){let y=v.parent||{raws:{}};(!(v.type==="decl"||v.type==="atrule"&&!v.nodes)||v!==y.last||y.raws.semicolon)&&(v.source&&v.source.end?(p.source=this.sourcePath(v),p.original.line=v.source.end.line,p.original.column=v.source.end.column-1,p.generated.line=o,p.generated.column=s-2,this.map.addMapping(p)):(p.source=m,p.original.line=1,p.original.column=0,p.generated.line=o,p.generated.column=s-1,this.map.addMapping(p)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(o=>o.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let o=this.mapOpts.annotation;return typeof o!="undefined"&&o!==!0?!1:this.previous().length?this.previous().some(s=>s.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(o=>o.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(o){if(this.mapOpts.absolute||o.charCodeAt(0)===60||/^\w+:\/\//.test(o))return o;let s=this.memoizedPaths.get(o);if(s)return s;let m=this.opts.to?l(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(m=l(i(m,this.mapOpts.annotation)));let p=a(m,o);return this.memoizedPaths.set(o,p),p}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(o=>{if(o.source&&o.source.input.map){let s=o.source.input.map;this.previousMaps.includes(s)||this.previousMaps.push(s)}});else{let o=new d(this.originalCSS,this.opts);o.map&&this.previousMaps.push(o.map)}return this.previousMaps}setSourcesContent(){let o={};if(this.root)this.root.walk(s=>{if(s.source){let m=s.source.input.from;if(m&&!o[m]){o[m]=!0;let p=this.usesFileUrls?this.toFileUrl(m):this.toUrl(this.path(m));this.map.setSourceContent(p,s.source.input.css)}}});else if(this.css){let s=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(s,this.css)}}sourcePath(o){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(o.source.input.from):this.toUrl(this.path(o.source.input.from))}toBase64(o){return Buffer?Buffer.from(o).toString("base64"):window.btoa(unescape(encodeURIComponent(o)))}toFileUrl(o){let s=this.memoizedFileURLs.get(o);if(s)return s;if(f){let m=f(o).toString();return this.memoizedFileURLs.set(o,m),m}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(o){let s=this.memoizedURLs.get(o);if(s)return s;h==="\\"&&(o=o.replace(/\\/g,"/"));let m=encodeURI(o).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(o,m),m}}return Pe=t,Pe}var Ie,Pt;function ge(){if(Pt)return Ie;Pt=1;let e=pe();class r extends e{constructor(a){super(a),this.type="comment"}}return Ie=r,r.default=r,Ie}var Le,It;function V(){if(It)return Le;It=1;let{isClean:e,my:r}=rt(),l=de(),a=ge(),i=pe(),h,f,d,n;function u(o){return o.map(s=>(s.nodes&&(s.nodes=u(s.nodes)),delete s.source,s))}function t(o){if(o[e]=!1,o.proxyOf.nodes)for(let s of o.proxyOf.nodes)t(s)}class c extends i{append(...s){for(let m of s){let p=this.normalize(m,this.last);for(let g of p)this.proxyOf.nodes.push(g)}return this.markDirty(),this}cleanRaws(s){if(super.cleanRaws(s),this.nodes)for(let m of this.nodes)m.cleanRaws(s)}each(s){if(!this.proxyOf.nodes)return;let m=this.getIterator(),p,g;for(;this.indexes[m]<this.proxyOf.nodes.length&&(p=this.indexes[m],g=s(this.proxyOf.nodes[p],p),g!==!1);)this.indexes[m]+=1;return delete this.indexes[m],g}every(s){return this.nodes.every(s)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let s=this.lastEach;return this.indexes[s]=0,s}getProxyProcessor(){return{get(s,m){return m==="proxyOf"?s:s[m]?m==="each"||typeof m=="string"&&m.startsWith("walk")?(...p)=>s[m](...p.map(g=>typeof g=="function"?(C,b)=>g(C.toProxy(),b):g)):m==="every"||m==="some"?p=>s[m]((g,...C)=>p(g.toProxy(),...C)):m==="root"?()=>s.root().toProxy():m==="nodes"?s.nodes.map(p=>p.toProxy()):m==="first"||m==="last"?s[m].toProxy():s[m]:s[m]},set(s,m,p){return s[m]===p||(s[m]=p,(m==="name"||m==="params"||m==="selector")&&s.markDirty()),!0}}}index(s){return typeof s=="number"?s:(s.proxyOf&&(s=s.proxyOf),this.proxyOf.nodes.indexOf(s))}insertAfter(s,m){let p=this.index(s),g=this.normalize(m,this.proxyOf.nodes[p]).reverse();p=this.index(s);for(let b of g)this.proxyOf.nodes.splice(p+1,0,b);let C;for(let b in this.indexes)C=this.indexes[b],p<C&&(this.indexes[b]=C+g.length);return this.markDirty(),this}insertBefore(s,m){let p=this.index(s),g=p===0?"prepend":!1,C=this.normalize(m,this.proxyOf.nodes[p],g).reverse();p=this.index(s);for(let v of C)this.proxyOf.nodes.splice(p,0,v);let b;for(let v in this.indexes)b=this.indexes[v],p<=b&&(this.indexes[v]=b+C.length);return this.markDirty(),this}normalize(s,m){if(typeof s=="string")s=u(h(s).nodes);else if(typeof s=="undefined")s=[];else if(Array.isArray(s)){s=s.slice(0);for(let g of s)g.parent&&g.parent.removeChild(g,"ignore")}else if(s.type==="root"&&this.type!=="document"){s=s.nodes.slice(0);for(let g of s)g.parent&&g.parent.removeChild(g,"ignore")}else if(s.type)s=[s];else if(s.prop){if(typeof s.value=="undefined")throw new Error("Value field is missed in node creation");typeof s.value!="string"&&(s.value=String(s.value)),s=[new l(s)]}else if(s.selector)s=[new f(s)];else if(s.name)s=[new d(s)];else if(s.text)s=[new a(s)];else throw new Error("Unknown node type in node creation");return s.map(g=>(g[r]||c.rebuild(g),g=g.proxyOf,g.parent&&g.parent.removeChild(g),g[e]&&t(g),typeof g.raws.before=="undefined"&&m&&typeof m.raws.before!="undefined"&&(g.raws.before=m.raws.before.replace(/\S/g,"")),g.parent=this.proxyOf,g))}prepend(...s){s=s.reverse();for(let m of s){let p=this.normalize(m,this.first,"prepend").reverse();for(let g of p)this.proxyOf.nodes.unshift(g);for(let g in this.indexes)this.indexes[g]=this.indexes[g]+p.length}return this.markDirty(),this}push(s){return s.parent=this,this.proxyOf.nodes.push(s),this}removeAll(){for(let s of this.proxyOf.nodes)s.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(s){s=this.index(s),this.proxyOf.nodes[s].parent=void 0,this.proxyOf.nodes.splice(s,1);let m;for(let p in this.indexes)m=this.indexes[p],m>=s&&(this.indexes[p]=m-1);return this.markDirty(),this}replaceValues(s,m,p){return p||(p=m,m={}),this.walkDecls(g=>{m.props&&!m.props.includes(g.prop)||m.fast&&!g.value.includes(m.fast)||(g.value=g.value.replace(s,p))}),this.markDirty(),this}some(s){return this.nodes.some(s)}walk(s){return this.each((m,p)=>{let g;try{g=s(m,p)}catch(C){throw m.addToError(C)}return g!==!1&&m.walk&&(g=m.walk(s)),g})}walkAtRules(s,m){return m?s instanceof RegExp?this.walk((p,g)=>{if(p.type==="atrule"&&s.test(p.name))return m(p,g)}):this.walk((p,g)=>{if(p.type==="atrule"&&p.name===s)return m(p,g)}):(m=s,this.walk((p,g)=>{if(p.type==="atrule")return m(p,g)}))}walkComments(s){return this.walk((m,p)=>{if(m.type==="comment")return s(m,p)})}walkDecls(s,m){return m?s instanceof RegExp?this.walk((p,g)=>{if(p.type==="decl"&&s.test(p.prop))return m(p,g)}):this.walk((p,g)=>{if(p.type==="decl"&&p.prop===s)return m(p,g)}):(m=s,this.walk((p,g)=>{if(p.type==="decl")return m(p,g)}))}walkRules(s,m){return m?s instanceof RegExp?this.walk((p,g)=>{if(p.type==="rule"&&s.test(p.selector))return m(p,g)}):this.walk((p,g)=>{if(p.type==="rule"&&p.selector===s)return m(p,g)}):(m=s,this.walk((p,g)=>{if(p.type==="rule")return m(p,g)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return c.registerParse=o=>{h=o},c.registerRule=o=>{f=o},c.registerAtRule=o=>{d=o},c.registerRoot=o=>{n=o},Le=c,c.default=c,c.rebuild=o=>{o.type==="atrule"?Object.setPrototypeOf(o,d.prototype):o.type==="rule"?Object.setPrototypeOf(o,f.prototype):o.type==="decl"?Object.setPrototypeOf(o,l.prototype):o.type==="comment"?Object.setPrototypeOf(o,a.prototype):o.type==="root"&&Object.setPrototypeOf(o,n.prototype),o[r]=!0,o.nodes&&o.nodes.forEach(s=>{c.rebuild(s)})},Le}var Te,Lt;function it(){if(Lt)return Te;Lt=1;let e=V(),r,l;class a extends e{constructor(h){super(q({type:"document"},h)),this.nodes||(this.nodes=[])}toResult(h={}){return new r(new l,this,h).stringify()}}return a.registerLazyResult=i=>{r=i},a.registerProcessor=i=>{l=i},Te=a,a.default=a,Te}var De,Tt;function wr(){if(Tt)return De;Tt=1;let e={};return De=function(l){e[l]||(e[l]=!0,typeof console!="undefined"&&console.warn&&console.warn(l))},De}var Ue,Dt;function br(){if(Dt)return Ue;Dt=1;class e{constructor(l,a={}){if(this.type="warning",this.text=l,a.node&&a.node.source){let i=a.node.rangeBy(a);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in a)this[i]=a[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Ue=e,e.default=e,Ue}var Be,Ut;function st(){if(Ut)return Be;Ut=1;let e=br();class r{constructor(a,i,h){this.processor=a,this.messages=[],this.root=i,this.opts=h,this.css=void 0,this.map=void 0}toString(){return this.css}warn(a,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let h=new e(a,i);return this.messages.push(h),h}warnings(){return this.messages.filter(a=>a.type==="warning")}get content(){return this.css}}return Be=r,r.default=r,Be}var Fe,Bt;function Ei(){if(Bt)return Fe;Bt=1;const e=39,r=34,l=92,a=47,i=10,h=32,f=12,d=9,n=13,u=91,t=93,c=40,o=41,s=123,m=125,p=59,g=42,C=58,b=64,v=/[\t\n\f\r "#'()/;[\\\]{}]/g,S=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,y=/.[\r\n"'(/\\]/,w=/[\da-f]/i;return Fe=function(R,M={}){let O=R.css.valueOf(),T=M.ignoreErrors,k,E,_,$,W,L,B,G,U,F,ut=O.length,N=0,we=[],re=[];function vr(){return N}function be(H){throw R.error("Unclosed "+H,N)}function xr(){return re.length===0&&N>=ut}function Er(H){if(re.length)return re.pop();if(N>=ut)return;let Se=H?H.ignoreUnclosed:!1;switch(k=O.charCodeAt(N),k){case i:case h:case d:case n:case f:{E=N;do E+=1,k=O.charCodeAt(E);while(k===h||k===i||k===d||k===n||k===f);F=["space",O.slice(N,E)],N=E-1;break}case u:case t:case s:case m:case C:case p:case o:{let ft=String.fromCharCode(k);F=[ft,ft,N];break}case c:{if(G=we.length?we.pop()[1]:"",U=O.charCodeAt(N+1),G==="url"&&U!==e&&U!==r&&U!==h&&U!==i&&U!==d&&U!==f&&U!==n){E=N;do{if(L=!1,E=O.indexOf(")",E+1),E===-1)if(T||Se){E=N;break}else be("bracket");for(B=E;O.charCodeAt(B-1)===l;)B-=1,L=!L}while(L);F=["brackets",O.slice(N,E+1),N,E],N=E}else E=O.indexOf(")",N+1),$=O.slice(N,E+1),E===-1||y.test($)?F=["(","(",N]:(F=["brackets",$,N,E],N=E);break}case e:case r:{_=k===e?"'":'"',E=N;do{if(L=!1,E=O.indexOf(_,E+1),E===-1)if(T||Se){E=N+1;break}else be("string");for(B=E;O.charCodeAt(B-1)===l;)B-=1,L=!L}while(L);F=["string",O.slice(N,E+1),N,E],N=E;break}case b:{v.lastIndex=N+1,v.test(O),v.lastIndex===0?E=O.length-1:E=v.lastIndex-2,F=["at-word",O.slice(N,E+1),N,E],N=E;break}case l:{for(E=N,W=!0;O.charCodeAt(E+1)===l;)E+=1,W=!W;if(k=O.charCodeAt(E+1),W&&k!==a&&k!==h&&k!==i&&k!==d&&k!==n&&k!==f&&(E+=1,w.test(O.charAt(E)))){for(;w.test(O.charAt(E+1));)E+=1;O.charCodeAt(E+1)===h&&(E+=1)}F=["word",O.slice(N,E+1),N,E],N=E;break}default:{k===a&&O.charCodeAt(N+1)===g?(E=O.indexOf("*/",N+2)+1,E===0&&(T||Se?E=O.length:be("comment")),F=["comment",O.slice(N,E+1),N,E],N=E):(S.lastIndex=N+1,S.test(O),S.lastIndex===0?E=O.length-1:E=S.lastIndex-2,F=["word",O.slice(N,E+1),N,E],we.push(F),N=E);break}}return N++,F}function Rr(H){re.push(H)}return{back:Rr,endOfFile:xr,nextToken:Er,position:vr}},Fe}var ze,Ft;function nt(){if(Ft)return ze;Ft=1;let e=V();class r extends e{constructor(a){super(a),this.type="atrule"}append(...a){return this.proxyOf.nodes||(this.nodes=[]),super.append(...a)}prepend(...a){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...a)}}return ze=r,r.default=r,e.registerAtRule(r),ze}var qe,zt;function te(){if(zt)return qe;zt=1;let e=V(),r,l;class a extends e{constructor(h){super(h),this.type="root",this.nodes||(this.nodes=[])}normalize(h,f,d){let n=super.normalize(h);if(f){if(d==="prepend")this.nodes.length>1?f.raws.before=this.nodes[1].raws.before:delete f.raws.before;else if(this.first!==f)for(let u of n)u.raws.before=f.raws.before}return n}removeChild(h,f){let d=this.index(h);return!f&&d===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[d].raws.before),super.removeChild(h)}toResult(h={}){return new r(new l,this,h).stringify()}}return a.registerLazyResult=i=>{r=i},a.registerProcessor=i=>{l=i},qe=a,a.default=a,e.registerRoot(a),qe}var We,qt;function Sr(){if(qt)return We;qt=1;let e={comma(r){return e.split(r,[","],!0)},space(r){let l=[" ",`
`,"	"];return e.split(r,l)},split(r,l,a){let i=[],h="",f=!1,d=0,n=!1,u="",t=!1;for(let c of r)t?t=!1:c==="\\"?t=!0:n?c===u&&(n=!1):c==='"'||c==="'"?(n=!0,u=c):c==="("?d+=1:c===")"?d>0&&(d-=1):d===0&&l.includes(c)&&(f=!0),f?(h!==""&&i.push(h.trim()),h="",f=!1):h+=c;return(a||h!=="")&&i.push(h.trim()),i}};return We=e,e.default=e,We}var je,Wt;function ot(){if(Wt)return je;Wt=1;let e=V(),r=Sr();class l extends e{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return r.comma(this.selector)}set selectors(i){let h=this.selector?this.selector.match(/,\s*/):null,f=h?h[0]:","+this.raw("between","beforeOpen");this.selector=i.join(f)}}return je=l,l.default=l,e.registerRule(l),je}var $e,jt;function Ri(){if(jt)return $e;jt=1;let e=de(),r=Ei(),l=ge(),a=nt(),i=te(),h=ot();const f={empty:!0,space:!0};function d(u){for(let t=u.length-1;t>=0;t--){let c=u[t],o=c[3]||c[2];if(o)return o}}class n{constructor(t){this.input=t,this.root=new i,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:t,start:{column:1,line:1,offset:0}}}atrule(t){let c=new a;c.name=t[1].slice(1),c.name===""&&this.unnamedAtrule(c,t),this.init(c,t[2]);let o,s,m,p=!1,g=!1,C=[],b=[];for(;!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?b.push(o==="("?")":"]"):o==="{"&&b.length>0?b.push("}"):o===b[b.length-1]&&b.pop(),b.length===0)if(o===";"){c.source.end=this.getPosition(t[2]),c.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){g=!0;break}else if(o==="}"){if(C.length>0){for(m=C.length-1,s=C[m];s&&s[0]==="space";)s=C[--m];s&&(c.source.end=this.getPosition(s[3]||s[2]),c.source.end.offset++)}this.end(t);break}else C.push(t);else C.push(t);if(this.tokenizer.endOfFile()){p=!0;break}}c.raws.between=this.spacesAndCommentsFromEnd(C),C.length?(c.raws.afterName=this.spacesAndCommentsFromStart(C),this.raw(c,"params",C),p&&(t=C[C.length-1],c.source.end=this.getPosition(t[3]||t[2]),c.source.end.offset++,this.spaces=c.raws.between,c.raws.between="")):(c.raws.afterName="",c.params=""),g&&(c.nodes=[],this.current=c)}checkMissedSemicolon(t){let c=this.colon(t);if(c===!1)return;let o=0,s;for(let m=c-1;m>=0&&(s=t[m],!(s[0]!=="space"&&(o+=1,o===2)));m--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}colon(t){let c=0,o,s,m;for(let[p,g]of t.entries()){if(o=g,s=o[0],s==="("&&(c+=1),s===")"&&(c-=1),c===0&&s===":")if(!m)this.doubleColon(o);else{if(m[0]==="word"&&m[1]==="progid")continue;return p}m=o}return!1}comment(t){let c=new l;this.init(c,t[2]),c.source.end=this.getPosition(t[3]||t[2]),c.source.end.offset++;let o=t[1].slice(2,-2);if(/^\s*$/.test(o))c.text="",c.raws.left=o,c.raws.right="";else{let s=o.match(/^(\s*)([^]*\S)(\s*)$/);c.text=s[2],c.raws.left=s[1],c.raws.right=s[3]}}createTokenizer(){this.tokenizer=r(this.input)}decl(t,c){let o=new e;this.init(o,t[0][2]);let s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||d(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){let b=t[0][0];if(b===":"||b==="space"||b==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";let m;for(;t.length;)if(m=t.shift(),m[0]===":"){o.raws.between+=m[1];break}else m[0]==="word"&&/\w/.test(m[1])&&this.unknownWord([m]),o.raws.between+=m[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));let p=[],g;for(;t.length&&(g=t[0][0],!(g!=="space"&&g!=="comment"));)p.push(t.shift());this.precheckMissedSemicolon(t);for(let b=t.length-1;b>=0;b--){if(m=t[b],m[1].toLowerCase()==="!important"){o.important=!0;let v=this.stringFrom(t,b);v=this.spacesFromEnd(t)+v,v!==" !important"&&(o.raws.important=v);break}else if(m[1].toLowerCase()==="important"){let v=t.slice(0),S="";for(let y=b;y>0;y--){let w=v[y][0];if(S.trim().indexOf("!")===0&&w!=="space")break;S=v.pop()[1]+S}S.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=S,t=v)}if(m[0]!=="space"&&m[0]!=="comment")break}t.some(b=>b[0]!=="space"&&b[0]!=="comment")&&(o.raws.between+=p.map(b=>b[1]).join(""),p=[]),this.raw(o,"value",p.concat(t),c),o.value.includes(":")&&!c&&this.checkMissedSemicolon(t)}doubleColon(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})}emptyRule(t){let c=new h;this.init(c,t[2]),c.selector="",c.raws.between="",this.current=c}end(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(t){if(this.spaces+=t[1],this.current.nodes){let c=this.current.nodes[this.current.nodes.length-1];c&&c.type==="rule"&&!c.raws.ownSemicolon&&(c.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(t){let c=this.input.fromOffset(t);return{column:c.col,line:c.line,offset:t}}init(t,c){this.current.push(t),t.source={input:this.input,start:this.getPosition(c)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)}other(t){let c=!1,o=null,s=!1,m=null,p=[],g=t[1].startsWith("--"),C=[],b=t;for(;b;){if(o=b[0],C.push(b),o==="("||o==="[")m||(m=b),p.push(o==="("?")":"]");else if(g&&s&&o==="{")m||(m=b),p.push("}");else if(p.length===0)if(o===";")if(s){this.decl(C,g);return}else break;else if(o==="{"){this.rule(C);return}else if(o==="}"){this.tokenizer.back(C.pop()),c=!0;break}else o===":"&&(s=!0);else o===p[p.length-1]&&(p.pop(),p.length===0&&(m=null));b=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(c=!0),p.length>0&&this.unclosedBracket(m),c&&s){if(!g)for(;C.length&&(b=C[C.length-1][0],!(b!=="space"&&b!=="comment"));)this.tokenizer.back(C.pop());this.decl(C,g)}else this.unknownWord(C)}parse(){let t;for(;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()}precheckMissedSemicolon(){}raw(t,c,o,s){let m,p,g=o.length,C="",b=!0,v,S;for(let y=0;y<g;y+=1)m=o[y],p=m[0],p==="space"&&y===g-1&&!s?b=!1:p==="comment"?(S=o[y-1]?o[y-1][0]:"empty",v=o[y+1]?o[y+1][0]:"empty",!f[S]&&!f[v]?C.slice(-1)===","?b=!1:C+=m[1]:b=!1):C+=m[1];if(!b){let y=o.reduce((w,x)=>w+x[1],"");t.raws[c]={raw:y,value:C}}t[c]=C}rule(t){t.pop();let c=new h;this.init(c,t[0][2]),c.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(c,"selector",t),this.current=c}spacesAndCommentsFromEnd(t){let c,o="";for(;t.length&&(c=t[t.length-1][0],!(c!=="space"&&c!=="comment"));)o=t.pop()[1]+o;return o}spacesAndCommentsFromStart(t){let c,o="";for(;t.length&&(c=t[0][0],!(c!=="space"&&c!=="comment"));)o+=t.shift()[1];return o}spacesFromEnd(t){let c,o="";for(;t.length&&(c=t[t.length-1][0],c==="space");)o=t.pop()[1]+o;return o}stringFrom(t,c){let o="";for(let s=c;s<t.length;s++)o+=t[s][1];return t.splice(c,t.length-c),o}unclosedBlock(){let t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)}unclosedBracket(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})}unexpectedClose(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})}unknownWord(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})}unnamedAtrule(t,c){throw this.input.error("At-rule without name",{offset:c[2]},{offset:c[2]+c[1].length})}}return $e=n,$e}var Ve,$t;function lt(){if($t)return Ve;$t=1;let e=V(),r=Ri(),l=me();function a(i,h){let f=new l(i,h),d=new r(f);try{d.parse()}catch(n){throw n}return d.root}return Ve=a,a.default=a,e.registerParse(a),Ve}var Ge,Vt;function Cr(){if(Vt)return Ge;Vt=1;let{isClean:e,my:r}=rt(),l=yr(),a=he(),i=V(),h=it(),f=wr(),d=st(),n=lt(),u=te();const t={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},c={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},o={Once:!0,postcssPlugin:!0,prepare:!0},s=0;function m(S){return typeof S=="object"&&typeof S.then=="function"}function p(S){let y=!1,w=t[S.type];return S.type==="decl"?y=S.prop.toLowerCase():S.type==="atrule"&&(y=S.name.toLowerCase()),y&&S.append?[w,w+"-"+y,s,w+"Exit",w+"Exit-"+y]:y?[w,w+"-"+y,w+"Exit",w+"Exit-"+y]:S.append?[w,s,w+"Exit"]:[w,w+"Exit"]}function g(S){let y;return S.type==="document"?y=["Document",s,"DocumentExit"]:S.type==="root"?y=["Root",s,"RootExit"]:y=p(S),{eventIndex:0,events:y,iterator:0,node:S,visitorIndex:0,visitors:[]}}function C(S){return S[e]=!1,S.nodes&&S.nodes.forEach(y=>C(y)),S}let b={};class v{constructor(y,w,x){this.stringified=!1,this.processed=!1;let R;if(typeof w=="object"&&w!==null&&(w.type==="root"||w.type==="document"))R=C(w);else if(w instanceof v||w instanceof d)R=C(w.root),w.map&&(typeof x.map=="undefined"&&(x.map={}),x.map.inline||(x.map.inline=!1),x.map.prev=w.map);else{let M=n;x.syntax&&(M=x.syntax.parse),x.parser&&(M=x.parser),M.parse&&(M=M.parse);try{R=M(w,x)}catch(O){this.processed=!0,this.error=O}R&&!R[r]&&i.rebuild(R)}this.result=new d(y,R,x),this.helpers=Q(q({},b),{postcss:b,result:this.result}),this.plugins=this.processor.plugins.map(M=>typeof M=="object"&&M.prepare?q(q({},M),M.prepare(this.result)):M)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(y){return this.async().catch(y)}finally(y){return this.async().then(y,y)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(y,w){let x=this.result.lastPlugin;try{w&&w.addToError(y),this.error=y,y.name==="CssSyntaxError"&&!y.plugin?(y.plugin=x.postcssPlugin,y.setMessage()):x.postcssVersion}catch(R){console&&console.error&&console.error(R)}return y}prepareVisitors(){this.listeners={};let y=(w,x,R)=>{this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push([w,R])};for(let w of this.plugins)if(typeof w=="object")for(let x in w){if(!c[x]&&/^[A-Z]/.test(x))throw new Error(`Unknown event ${x} in ${w.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!o[x])if(typeof w[x]=="object")for(let R in w[x])R==="*"?y(w,x,w[x][R]):y(w,x+"-"+R.toLowerCase(),w[x][R]);else typeof w[x]=="function"&&y(w,x,w[x])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let y=0;y<this.plugins.length;y++){let w=this.plugins[y],x=this.runOnRoot(w);if(m(x))try{await x}catch(R){throw this.handleError(R)}}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[e];){y[e]=!0;let w=[g(y)];for(;w.length>0;){let x=this.visitTick(w);if(m(x))try{await x}catch(R){let M=w[w.length-1].node;throw this.handleError(R,M)}}}if(this.listeners.OnceExit)for(let[w,x]of this.listeners.OnceExit){this.result.lastPlugin=w;try{if(y.type==="document"){let R=y.nodes.map(M=>x(M,this.helpers));await Promise.all(R)}else await x(y,this.helpers)}catch(R){throw this.handleError(R)}}}return this.processed=!0,this.stringify()}runOnRoot(y){this.result.lastPlugin=y;try{if(typeof y=="object"&&y.Once){if(this.result.root.type==="document"){let w=this.result.root.nodes.map(x=>y.Once(x,this.helpers));return m(w[0])?Promise.all(w):w}return y.Once(this.result.root,this.helpers)}else if(typeof y=="function")return y(this.result.root,this.result)}catch(w){throw this.handleError(w)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let y=this.result.opts,w=a;y.syntax&&(w=y.syntax.stringify),y.stringifier&&(w=y.stringifier),w.stringify&&(w=w.stringify);let R=new l(w,this.result.root,this.result.opts).generate();return this.result.css=R[0],this.result.map=R[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let y of this.plugins){let w=this.runOnRoot(y);if(m(w))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[e];)y[e]=!0,this.walkSync(y);if(this.listeners.OnceExit)if(y.type==="document")for(let w of y.nodes)this.visitSync(this.listeners.OnceExit,w);else this.visitSync(this.listeners.OnceExit,y)}return this.result}then(y,w){return this.async().then(y,w)}toString(){return this.css}visitSync(y,w){for(let[x,R]of y){this.result.lastPlugin=x;let M;try{M=R(w,this.helpers)}catch(O){throw this.handleError(O,w.proxyOf)}if(w.type!=="root"&&w.type!=="document"&&!w.parent)return!0;if(m(M))throw this.getAsyncError()}}visitTick(y){let w=y[y.length-1],{node:x,visitors:R}=w;if(x.type!=="root"&&x.type!=="document"&&!x.parent){y.pop();return}if(R.length>0&&w.visitorIndex<R.length){let[O,T]=R[w.visitorIndex];w.visitorIndex+=1,w.visitorIndex===R.length&&(w.visitors=[],w.visitorIndex=0),this.result.lastPlugin=O;try{return T(x.toProxy(),this.helpers)}catch(k){throw this.handleError(k,x)}}if(w.iterator!==0){let O=w.iterator,T;for(;T=x.nodes[x.indexes[O]];)if(x.indexes[O]+=1,!T[e]){T[e]=!0,y.push(g(T));return}w.iterator=0,delete x.indexes[O]}let M=w.events;for(;w.eventIndex<M.length;){let O=M[w.eventIndex];if(w.eventIndex+=1,O===s){x.nodes&&x.nodes.length&&(x[e]=!0,w.iterator=x.getIterator());return}else if(this.listeners[O]){w.visitors=this.listeners[O];return}}y.pop()}walkSync(y){y[e]=!0;let w=p(y);for(let x of w)if(x===s)y.nodes&&y.each(R=>{R[e]||this.walkSync(R)});else{let R=this.listeners[x];if(R&&this.visitSync(R,y.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return v.registerPostcss=S=>{b=S},Ge=v,v.default=v,u.registerLazyResult(v),h.registerLazyResult(v),Ge}var He,Gt;function Oi(){if(Gt)return He;Gt=1;let e=yr(),r=he(),l=wr(),a=lt();const i=st();class h{constructor(d,n,u){n=n.toString(),this.stringified=!1,this._processor=d,this._css=n,this._opts=u,this._map=void 0;let t,c=r;this.result=new i(this._processor,t,this._opts),this.result.css=n;let o=this;Object.defineProperty(this.result,"root",{get(){return o.root}});let s=new e(c,t,this._opts,n);if(s.isMap()){let[m,p]=s.generate();m&&(this.result.css=m),p&&(this.result.map=p)}else s.clearAnnotation(),this.result.css=s.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(d){return this.async().catch(d)}finally(d){return this.async().then(d,d)}sync(){if(this.error)throw this.error;return this.result}then(d,n){return this.async().then(d,n)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let d,n=a;try{d=n(this._css,this._opts)}catch(u){this.error=u}if(this.error)throw this.error;return this._root=d,d}get[Symbol.toStringTag](){return"NoWorkResult"}}return He=h,h.default=h,He}var Je,Ht;function Ni(){if(Ht)return Je;Ht=1;let e=Oi(),r=Cr(),l=it(),a=te();class i{constructor(f=[]){this.version="8.4.38",this.plugins=this.normalize(f)}normalize(f){let d=[];for(let n of f)if(n.postcss===!0?n=n():n.postcss&&(n=n.postcss),typeof n=="object"&&Array.isArray(n.plugins))d=d.concat(n.plugins);else if(typeof n=="object"&&n.postcssPlugin)d.push(n);else if(typeof n=="function")d.push(n);else if(!(typeof n=="object"&&(n.parse||n.stringify)))throw new Error(n+" is not a PostCSS plugin");return d}process(f,d={}){return!this.plugins.length&&!d.parser&&!d.stringifier&&!d.syntax?new e(this,f,d):new r(this,f,d)}use(f){return this.plugins=this.plugins.concat(this.normalize([f])),this}}return Je=i,i.default=i,a.registerProcessor(i),l.registerProcessor(i),Je}var Ye,Jt;function Ai(){if(Jt)return Ye;Jt=1;let e=de(),r=gr(),l=ge(),a=nt(),i=me(),h=te(),f=ot();function d(n,u){if(Array.isArray(n))return n.map(m=>d(m));let o=n,{inputs:t}=o,c=Ce(o,["inputs"]);if(t){u=[];for(let m of t){let p=Q(q({},m),{__proto__:i.prototype});p.map&&(p.map=Q(q({},p.map),{__proto__:r.prototype})),u.push(p)}}if(c.nodes&&(c.nodes=n.nodes.map(m=>d(m,u))),c.source){let s=c.source,{inputId:m}=s,p=Ce(s,["inputId"]);c.source=p,m!=null&&(c.source.input=u[m])}if(c.type==="root")return new h(c);if(c.type==="decl")return new e(c);if(c.type==="rule")return new f(c);if(c.type==="comment")return new l(c);if(c.type==="atrule")return new a(c);throw new Error("Unknown node type: "+n.type)}return Ye=d,d.default=d,Ye}var Ke,Yt;function Mi(){if(Yt)return Ke;Yt=1;let e=tt(),r=de(),l=Cr(),a=V(),i=Ni(),h=he(),f=Ai(),d=it(),n=br(),u=ge(),t=nt(),c=st(),o=me(),s=lt(),m=Sr(),p=ot(),g=te(),C=pe();function b(...v){return v.length===1&&Array.isArray(v[0])&&(v=v[0]),new i(v)}return b.plugin=function(S,y){let w=!1;function x(...M){console&&console.warn&&!w&&(w=!0,console.warn(S+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(S+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let O=y(...M);return O.postcssPlugin=S,O.postcssVersion=new i().version,O}let R;return Object.defineProperty(x,"postcss",{get(){return R||(R=x()),R}}),x.process=function(M,O,T){return b([x(T)]).process(M,O)},x},b.stringify=h,b.parse=s,b.fromJSON=f,b.list=m,b.comment=v=>new u(v),b.atRule=v=>new t(v),b.decl=v=>new r(v),b.rule=v=>new p(v),b.root=v=>new g(v),b.document=v=>new d(v),b.CssSyntaxError=e,b.Declaration=r,b.Container=a,b.Processor=i,b.Document=d,b.Comment=u,b.Warning=n,b.AtRule=t,b.Result=c,b.Input=o,b.Rule=p,b.Root=g,b.Node=C,l.registerPostcss(b),Ke=b,b.default=b,Ke}var _i=Mi();const I=wi(_i);I.stringify;I.fromJSON;I.plugin;I.parse;I.list;I.document;I.comment;I.atRule;I.rule;I.decl;I.root;I.CssSyntaxError;I.Declaration;I.Container;I.Processor;I.Document;I.Comment;I.Warning;I.AtRule;I.Result;I.Input;I.Rule;I.Root;I.Node;const ki=["webview"],Kt={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function Pi(e){let r=Kt[e.tagName]?Kt[e.tagName]:e.tagName;return r==="link"&&e.attributes._cssText&&(r="style"),r}function ye(e,r){const l=r==null?void 0:r.stylesWithHoverClass.get(e);if(l)return l;let a=e;try{a=I([gi,yi]).process(e).css}catch(i){console.warn("Failed to adapt css for replay",i)}return r==null||r.stylesWithHoverClass.set(e,a),a}function Ii(){return{stylesWithHoverClass:new Map}}function Li(e,r,l,a){const i=[];for(const f of e.childNodes)f.type===A.Text&&i.push(f);const h=r.split("/* rr_split */");for(;h.length>1&&h.length>i.length;)h.splice(-2,2,h.slice(-2).join(""));for(let f=0;f<i.length;f++){const d=i[f],n=h[f];d&&n&&(d.textContent=l?ye(n,a):n)}}function Ti(e,r,l,a){const{doc:i,hackCss:h,cache:f}=a;e.childNodes.length?Li(e,l,h,f):(h&&(l=ye(l,f)),r.appendChild(i.createTextNode(l)))}function Di(e,r){var l;const{doc:a,hackCss:i,cache:h}=r;switch(e.type){case A.Document:return a.implementation.createDocument(null,"",null);case A.DocumentType:return a.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case A.Element:{const f=Pi(e);let d;e.isSVG?d=a.createElementNS("http://www.w3.org/2000/svg",f):(e.isCustom&&((l=a.defaultView)!=null&&l.customElements)&&!a.defaultView.customElements.get(e.tagName)&&!ki.includes(e.tagName)&&a.defaultView.customElements.define(e.tagName,class extends a.defaultView.HTMLElement{}),d=a.createElement(f));const n={};for(const u in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,u))continue;let t=e.attributes[u];if(!(f==="option"&&u==="selected"&&t===!1)&&t!==null){if(t===!0&&(t=""),u.startsWith("rr_")){n[u]=t;continue}if(typeof t=="string"){if(f==="style"&&u==="_cssText"){Ti(e,d,t,r);continue}else if(f==="textarea"&&u==="value"){d.appendChild(a.createTextNode(t)),e.childNodes=[];continue}}try{if(e.isSVG&&u==="xlink:href")d.setAttributeNS("http://www.w3.org/1999/xlink",u,t.toString());else if(u==="onload"||u==="onclick"||u.substring(0,7)==="onmouse")d.setAttribute("_"+u,t.toString());else if(f==="meta"&&e.attributes["http-equiv"]==="Content-Security-Policy"&&u==="content"){d.setAttribute("csp-content",t.toString());continue}else f==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||f==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")||(f==="img"&&e.attributes.srcset&&e.attributes.rr_dataURL?d.setAttribute("rrweb-original-srcset",e.attributes.srcset):d.setAttribute(u,t.toString()))}catch(c){}}}for(const u in n){const t=n[u];if(f==="canvas"&&u==="rr_dataURL"){const c=a.createElement("img");c.onload=()=>{const o=d.getContext("2d");o&&o.drawImage(c,0,0,c.width,c.height)},c.src=t.toString(),d.RRNodeType&&(d.rr_dataURL=t.toString())}else if(f==="img"&&u==="rr_dataURL"){const c=d;c.currentSrc.startsWith("data:")||(c.setAttribute("rrweb-original-src",e.attributes.src),c.src=t.toString())}if(u==="rr_width")d.style.setProperty("width",t.toString());else if(u==="rr_height")d.style.setProperty("height",t.toString());else if(u==="rr_background_color")d.style.setProperty("background-color",t.toString());else if(u==="rr_mediaCurrentTime"&&typeof t=="number")d.currentTime=t;else if(u==="rr_mediaState")switch(t){case"played":d.play().catch(c=>console.warn("media playback error",c));break;case"paused":d.pause();break}else u==="rr_mediaPlaybackRate"&&typeof t=="number"?d.playbackRate=t:u==="rr_mediaMuted"&&typeof t=="boolean"?d.muted=t:u==="rr_mediaLoop"&&typeof t=="boolean"?d.loop=t:u==="rr_mediaVolume"&&typeof t=="number"?d.volume=t:u==="rr_open_mode"&&d.setAttribute("rr_open_mode",t)}if(e.isShadowHost)if(!d.shadowRoot)d.attachShadow({mode:"open"});else for(;d.shadowRoot.firstChild;)d.shadowRoot.removeChild(d.shadowRoot.firstChild);return d}case A.Text:return e.isStyle&&i?a.createTextNode(ye(e.textContent,h)):a.createTextNode(e.textContent);case A.CDATA:return a.createCDATASection(e.textContent);case A.Comment:return a.createComment(e.textContent);default:return null}}function at(e,r){const{doc:l,mirror:a,skipChild:i=!1,hackCss:h=!0,afterAppend:f,cache:d}=r;if(a.has(e.id)){const u=a.getNode(e.id),t=a.getMeta(u);if(or(t,e))return a.getNode(e.id)}let n=Di(e,{doc:l,hackCss:h,cache:d});if(!n)return null;if(e.rootId&&a.getNode(e.rootId)!==l&&a.replace(e.rootId,l),e.type===A.Document&&(l.close(),l.open(),e.compatMode==="BackCompat"&&e.childNodes&&e.childNodes[0].type!==A.DocumentType&&(e.childNodes[0].type===A.Element&&"xmlns"in e.childNodes[0].attributes&&e.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"?l.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):l.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),n=l),a.add(n,e),(e.type===A.Document||e.type===A.Element)&&!i)for(const u of e.childNodes){const t=at(u,{doc:l,mirror:a,skipChild:!1,hackCss:h,afterAppend:f,cache:d});if(!t){console.warn("Failed to rebuild",u);continue}if(u.isShadow&&fe(n)&&n.shadowRoot)n.shadowRoot.appendChild(t);else if(e.type===A.Document&&u.type==A.Element){const c=t;let o=null;c.childNodes.forEach(s=>{s.nodeName==="BODY"&&(o=s)}),o?(c.removeChild(o),n.appendChild(t),c.appendChild(o)):n.appendChild(t)}else n.appendChild(t);f&&f(t,u.id)}return n}function Ui(e,r){function l(a){r(a)}for(const a of e.getIds())e.has(a)&&l(e.getNode(a))}function Bi(e,r){const l=r.getMeta(e);if((l==null?void 0:l.type)!==A.Element)return;const a=e;for(const i in l.attributes){if(!(Object.prototype.hasOwnProperty.call(l.attributes,i)&&i.startsWith("rr_")))continue;const h=l.attributes[i];i==="rr_scrollLeft"&&(a.scrollLeft=h),i==="rr_scrollTop"&&(a.scrollTop=h)}}function Fi(e,r){const{doc:l,onVisit:a,hackCss:i=!0,afterAppend:h,cache:f,mirror:d=new ce}=r,n=at(e,{doc:l,mirror:d,skipChild:!1,hackCss:i,afterAppend:h,cache:f});return Ui(d,u=>{a&&a(u),Bi(u,d)}),n}exports.IGNORED_NODE=Qe;exports.Mirror=ce;exports.absolutifyURLs=X;exports.adaptCssForReplay=ye;exports.buildNodeWithSN=at;exports.classMatchesRegex=ue;exports.cleanupSnapshot=di;exports.createCache=Ii;exports.createMirror=Vr;exports.escapeImportStatement=Xt;exports.extractFileExtension=Xe;exports.fixSafariColons=tr;exports.genId=cr;exports.getInputType=lr;exports.ignoreAttribute=pr;exports.is2DCanvasBlank=nr;exports.isCSSImportRule=rr;exports.isCSSStyleRule=ir;exports.isElement=fe;exports.isNativeShadowDom=le;exports.isNodeMetaEqual=or;exports.isShadowRoot=Zt;exports.markCssSplits=ur;exports.maskInputValue=sr;exports.needMaskingText=dr;exports.normalizeCssString=Z;exports.rebuild=Fi;exports.serializeNodeWithId=K;exports.snapshot=hi;exports.splitCssText=ar;exports.stringifyRule=er;exports.stringifyStylesheet=ae;exports.toLowerCase=ee;exports.transformAttribute=hr;exports.visitSnapshot=pi;
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
//# sourceMappingURL=rrweb-snapshot.umd.min.cjs.map
