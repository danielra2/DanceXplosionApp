{"version":3,"file":"plugin-session-replay-browser-min.js","sources":["../../../../node_modules/tslib/tslib.es6.js","../../../analytics-core/lib/esm/types/event/event.js","../../../analytics-core/lib/esm/types/constants.js","../../../analytics-core/lib/esm/types/status.js","../../../analytics-core/lib/esm/global-scope.js","../../../analytics-core/lib/esm/types/loglevel.js","../../../analytics-core/lib/esm/utils/uuid.js","../../../analytics-core/lib/esm/utils/return-wrapper.js","../../../analytics-core/lib/esm/logger.js","../../../analytics-core/lib/esm/config.js","../../../analytics-core/lib/esm/utils/debug.js","../../../../node_modules/@amplitude/analytics-connector/dist/analytics-connector.esm.js","../../../analytics-core/lib/esm/types/server-zone.js","../../../analytics-core/lib/esm/utils/sampling.js","../../../analytics-core/lib/esm/transports/base.js","../../../analytics-core/lib/esm/utils/status-code.js","../../../analytics-core/lib/esm/transports/fetch.js","../../../analytics-core/lib/esm/remote-config/remote-config-localstorage.js","../../../analytics-core/lib/esm/remote-config/remote-config.js","../../../session-replay-browser/lib/esm/constants.js","../../../session-replay-browser/lib/esm/logger.js","../../../session-replay-browser/lib/esm/config/types.js","../../../session-replay-browser/lib/esm/helpers.js","../../../session-replay-browser/lib/esm/utils/get-input-type.js","../../../session-replay-browser/lib/esm/config/local-config.js","../../../../node_modules/@amplitude/rrweb-types/dist/rrweb-types.js","../../../session-replay-browser/lib/esm/config/joined-config.js","../../../../node_modules/@amplitude/rrweb-packer/dist/base-Dgki_PiJ.js","../../../../node_modules/@amplitude/rrweb-packer/dist/pack.js","../../../session-replay-browser/lib/esm/events/event-compressor.js","../../../session-replay-browser/lib/esm/messages.js","../../../session-replay-browser/lib/esm/version.js","../../../session-replay-browser/lib/esm/track-destination.js","../../../../node_modules/idb/build/index.js","../../../session-replay-browser/lib/esm/events/base-events-store.js","../../../session-replay-browser/lib/esm/events/legacy-idb-types.js","../../../session-replay-browser/lib/esm/events/events-idb-store.js","../../../session-replay-browser/lib/esm/libs/finder.js","../../../session-replay-browser/lib/esm/events/events-memory-store.js","../../../session-replay-browser/lib/esm/events/events-manager.js","../../../session-replay-browser/lib/esm/events/multi-manager.js","../../../session-replay-browser/lib/esm/hooks/click.js","../../../session-replay-browser/lib/esm/utils/rrweb.js","../../../session-replay-browser/lib/esm/beacon-transport.js","../../../session-replay-browser/lib/esm/hooks/scroll.js","../../../session-replay-browser/lib/esm/identifiers.js","../../../session-replay-browser/lib/esm/targeting/targeting-idb-store.js","../../../session-replay-browser/lib/esm/targeting/targeting-manager.js","../../../session-replay-browser/lib/esm/plugins/url-tracking-plugin.js","../../../session-replay-browser/lib/esm/session-replay.js","../../../analytics-types/lib/esm/event.js","../../../analytics-core/lib/esm/analytics-connector.js","../../../session-replay-browser/lib/esm/session-replay-factory.js","../../../session-replay-browser/lib/esm/index.js","../../../../src/constants.ts","../../../../src/version.ts","../../../../src/session-replay.ts","../../../analytics-client-common/lib/esm/analytics-connector.js","../../../../src/helpers.ts","../../../../node_modules/@amplitude/experiment-core/dist/experiment-core.esm.js","../../../targeting/lib/esm/targeting-idb-store.js","../../../../node_modules/@amplitude/rrweb-plugin-console-record/dist/rrweb-plugin-console-record.js","../../../targeting/lib/esm/targeting.js","../../../targeting/lib/esm/index.js","../../../targeting/lib/esm/targeting-factory.js","../../../session-replay-browser/lib/esm/worker/index.js","../../../../node_modules/@amplitude/rrweb-record/dist/rrweb-record.js","../../../session-replay-browser/lib/esm/observers.js"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","export var IdentifyOperation;\n(function (IdentifyOperation) {\n    // Base Operations to set values\n    IdentifyOperation[\"SET\"] = \"$set\";\n    IdentifyOperation[\"SET_ONCE\"] = \"$setOnce\";\n    // Operations around modifying existing values\n    IdentifyOperation[\"ADD\"] = \"$add\";\n    IdentifyOperation[\"APPEND\"] = \"$append\";\n    IdentifyOperation[\"PREPEND\"] = \"$prepend\";\n    IdentifyOperation[\"REMOVE\"] = \"$remove\";\n    // Operations around appending values *if* they aren't present\n    IdentifyOperation[\"PREINSERT\"] = \"$preInsert\";\n    IdentifyOperation[\"POSTINSERT\"] = \"$postInsert\";\n    // Operations around removing properties/values\n    IdentifyOperation[\"UNSET\"] = \"$unset\";\n    IdentifyOperation[\"CLEAR_ALL\"] = \"$clearAll\";\n})(IdentifyOperation || (IdentifyOperation = {}));\n/**\n * Strings that have special meaning when used as an event's type\n * and have different specifications.\n */\nexport var SpecialEventType;\n(function (SpecialEventType) {\n    SpecialEventType[\"IDENTIFY\"] = \"$identify\";\n    SpecialEventType[\"GROUP_IDENTIFY\"] = \"$groupidentify\";\n    SpecialEventType[\"REVENUE\"] = \"revenue_amount\";\n})(SpecialEventType || (SpecialEventType = {}));\n//# sourceMappingURL=event.js.map","export var UNSET_VALUE = '-';\nexport var AMPLITUDE_PREFIX = 'AMP';\nexport var STORAGE_PREFIX = \"\".concat(AMPLITUDE_PREFIX, \"_unsent\");\nexport var DEFAULT_INSTANCE_NAME = '$default_instance';\nexport var AMPLITUDE_SERVER_URL = 'https://api2.amplitude.com/2/httpapi';\nexport var EU_AMPLITUDE_SERVER_URL = 'https://api.eu.amplitude.com/2/httpapi';\nexport var AMPLITUDE_BATCH_SERVER_URL = 'https://api2.amplitude.com/batch';\nexport var EU_AMPLITUDE_BATCH_SERVER_URL = 'https://api.eu.amplitude.com/batch';\n// Campaign constants\nexport var UTM_CAMPAIGN = 'utm_campaign';\nexport var UTM_CONTENT = 'utm_content';\nexport var UTM_ID = 'utm_id';\nexport var UTM_MEDIUM = 'utm_medium';\nexport var UTM_SOURCE = 'utm_source';\nexport var UTM_TERM = 'utm_term';\nexport var DCLID = 'dclid';\nexport var FBCLID = 'fbclid';\nexport var GBRAID = 'gbraid';\nexport var GCLID = 'gclid';\nexport var KO_CLICK_ID = 'ko_click_id';\nexport var LI_FAT_ID = 'li_fat_id';\nexport var MSCLKID = 'msclkid';\nexport var RDT_CID = 'rdt_cid';\nexport var TTCLID = 'ttclid';\nexport var TWCLID = 'twclid';\nexport var WBRAID = 'wbraid';\nexport var EMPTY_VALUE = 'EMPTY';\nexport var BASE_CAMPAIGN = {\n    utm_campaign: undefined,\n    utm_content: undefined,\n    utm_id: undefined,\n    utm_medium: undefined,\n    utm_source: undefined,\n    utm_term: undefined,\n    referrer: undefined,\n    referring_domain: undefined,\n    dclid: undefined,\n    gbraid: undefined,\n    gclid: undefined,\n    fbclid: undefined,\n    ko_click_id: undefined,\n    li_fat_id: undefined,\n    msclkid: undefined,\n    rdt_cid: undefined,\n    ttclid: undefined,\n    twclid: undefined,\n    wbraid: undefined,\n};\nexport var MKTG = 'MKTG';\n// list of Network headers that are safe to capture\nexport var SAFE_HEADERS = [\n    'access-control-allow-origin',\n    'access-control-allow-credentials',\n    'access-control-expose-headers',\n    'access-control-max-age',\n    'access-control-allow-methods',\n    'access-control-allow-headers',\n    'accept-patch',\n    'accept-ranges',\n    'age',\n    'allow',\n    'alt-svc',\n    'cache-control',\n    'connection',\n    'content-disposition',\n    'content-encoding',\n    'content-language',\n    'content-length',\n    'content-location',\n    'content-md5',\n    'content-range',\n    'content-type',\n    'date',\n    'delta-base',\n    'etag',\n    'expires',\n    'im',\n    'last-modified',\n    'link',\n    'location',\n    'permanent',\n    'p3p',\n    'pragma',\n    'proxy-authenticate',\n    'public-key-pins',\n    'retry-after',\n    'server',\n    'status',\n    'strict-transport-security',\n    'trailer',\n    'transfer-encoding',\n    'tk',\n    'upgrade',\n    'vary',\n    'via',\n    'warning',\n    'www-authenticate',\n    'x-b3-traceid',\n    'x-frame-options',\n];\n// list of Network headers to never capture\nexport var FORBIDDEN_HEADERS = ['authorization', 'cookie', 'set-cookie'];\n//# sourceMappingURL=constants.js.map","/** The status of an event. */\nexport var Status;\n(function (Status) {\n    /** The status could not be determined. */\n    Status[\"Unknown\"] = \"unknown\";\n    /** The event was skipped due to configuration or callbacks. */\n    Status[\"Skipped\"] = \"skipped\";\n    /** The event was sent successfully. */\n    Status[\"Success\"] = \"success\";\n    /** A user or device in the payload is currently rate limited and should try again later. */\n    Status[\"RateLimit\"] = \"rate_limit\";\n    /** The sent payload was too large to be processed. */\n    Status[\"PayloadTooLarge\"] = \"payload_too_large\";\n    /** The event could not be processed. */\n    Status[\"Invalid\"] = \"invalid\";\n    /** A server-side error ocurred during submission. */\n    Status[\"Failed\"] = \"failed\";\n    /** a server or client side error occuring when a request takes too long and is cancelled */\n    Status[\"Timeout\"] = \"Timeout\";\n    /** NodeJS runtime environment error.. E.g. disconnected from network */\n    Status[\"SystemError\"] = \"SystemError\";\n})(Status || (Status = {}));\n//# sourceMappingURL=status.js.map","/* eslint-disable no-restricted-globals */\n/* Only file allowed to access to globalThis, window, self */\nexport var getGlobalScope = function () {\n    // This should only be used for integrations with Amplitude that are not running in a browser environment\n    //   We need to specify the name of the global variable as a string to prevent it from being minified\n    var ampIntegrationContextName = 'ampIntegrationContext';\n    if (typeof globalThis !== 'undefined' && typeof globalThis[ampIntegrationContextName] !== 'undefined') {\n        return globalThis[ampIntegrationContextName];\n    }\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    return undefined;\n};\n//# sourceMappingURL=global-scope.js.map","export var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"None\"] = 0] = \"None\";\n    LogLevel[LogLevel[\"Error\"] = 1] = \"Error\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n    LogLevel[LogLevel[\"Debug\"] = 4] = \"Debug\";\n})(LogLevel || (LogLevel = {}));\n//# sourceMappingURL=loglevel.js.map","/**\n * Source: [jed's gist's comment]{@link https://gist.github.com/jed/982883?permalink_comment_id=3223002#gistcomment-3223002}.\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f, and\n * y is replaced with a random hexadecimal digit from 8 to b.\n * Used to generate UUIDs for deviceIds.\n * @private\n */\nimport { __read, __spreadArray } from \"tslib\";\nimport { getGlobalScope } from '../global-scope';\nvar legacyUUID = function (a) {\n    return a // if the placeholder was passed, return\n        ? // a random number from 0 to 15\n            (a ^ // unless b is 8,\n                ((Math.random() * // in which case\n                    16) >> // a random number from\n                    (a / 4))) // 8 to 11\n                .toString(16) // in hexadecimal\n        : // or otherwise a concatenated string:\n            (String(1e7) + // 10000000 +\n                String(-1e3) + // -1000 +\n                String(-4e3) + // -4000 +\n                String(-8e3) + // -80000000 +\n                String(-1e11)) // -100000000000,\n                .replace(\n            // replacing\n            /[018]/g, // zeroes, ones, and eights with\n            UUID);\n};\nvar hex = __spreadArray([], __read(Array(256).keys()), false).map(function (index) { return index.toString(16).padStart(2, '0'); });\nexport var UUID = function (a) {\n    var _a;\n    var globalScope = getGlobalScope();\n    /* istanbul ignore next */\n    if (!((_a = globalScope === null || globalScope === void 0 ? void 0 : globalScope.crypto) === null || _a === void 0 ? void 0 : _a.getRandomValues)) {\n        // Fallback to legacy UUID generation if crypto is not available\n        return legacyUUID(a);\n    }\n    var r = globalScope.crypto.getRandomValues(new Uint8Array(16));\n    r[6] = (r[6] & 0x0f) | 0x40;\n    r[8] = (r[8] & 0x3f) | 0x80;\n    return __spreadArray([], __read(r.entries()), false).map(function (_a) {\n        var _b = __read(_a, 2), index = _b[0], int = _b[1];\n        return ([4, 6, 8, 10].includes(index) ? \"-\".concat(hex[int]) : hex[int]);\n    }).join('');\n};\n//# sourceMappingURL=uuid.js.map","export var returnWrapper = function (awaitable) { return ({\n    promise: awaitable || Promise.resolve(),\n}); };\n//# sourceMappingURL=return-wrapper.js.map","import { LogLevel } from './types/loglevel';\nvar PREFIX = 'Amplitude Logger ';\nvar Logger = /** @class */ (function () {\n    function Logger() {\n        this.logLevel = LogLevel.None;\n    }\n    Logger.prototype.disable = function () {\n        this.logLevel = LogLevel.None;\n    };\n    Logger.prototype.enable = function (logLevel) {\n        if (logLevel === void 0) { logLevel = LogLevel.Warn; }\n        this.logLevel = logLevel;\n    };\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Verbose) {\n            return;\n        }\n        console.log(\"\".concat(PREFIX, \"[Log]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Warn) {\n            return;\n        }\n        console.warn(\"\".concat(PREFIX, \"[Warn]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Error) {\n            return;\n        }\n        console.error(\"\".concat(PREFIX, \"[Error]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < LogLevel.Debug) {\n            return;\n        }\n        // console.debug output is hidden by default in chrome\n        console.log(\"\".concat(PREFIX, \"[Debug]: \").concat(args.join(' ')));\n    };\n    return Logger;\n}());\nexport { Logger };\n//# sourceMappingURL=logger.js.map","import { AMPLITUDE_SERVER_URL, AMPLITUDE_BATCH_SERVER_URL, EU_AMPLITUDE_SERVER_URL, EU_AMPLITUDE_BATCH_SERVER_URL, DEFAULT_INSTANCE_NAME, } from './types/constants';\nimport { Logger } from './logger';\nimport { LogLevel } from './types/loglevel';\nexport var getDefaultConfig = function () { return ({\n    flushMaxRetries: 12,\n    flushQueueSize: 200,\n    flushIntervalMillis: 10000,\n    instanceName: DEFAULT_INSTANCE_NAME,\n    logLevel: LogLevel.Warn,\n    loggerProvider: new Logger(),\n    offline: false,\n    optOut: false,\n    serverUrl: AMPLITUDE_SERVER_URL,\n    serverZone: 'US',\n    useBatch: false,\n}); };\nvar Config = /** @class */ (function () {\n    function Config(options) {\n        var _a, _b, _c, _d;\n        this._optOut = false;\n        var defaultConfig = getDefaultConfig();\n        this.apiKey = options.apiKey;\n        this.flushIntervalMillis = (_a = options.flushIntervalMillis) !== null && _a !== void 0 ? _a : defaultConfig.flushIntervalMillis;\n        this.flushMaxRetries = options.flushMaxRetries || defaultConfig.flushMaxRetries;\n        this.flushQueueSize = options.flushQueueSize || defaultConfig.flushQueueSize;\n        this.instanceName = options.instanceName || defaultConfig.instanceName;\n        this.loggerProvider = options.loggerProvider || defaultConfig.loggerProvider;\n        this.logLevel = (_b = options.logLevel) !== null && _b !== void 0 ? _b : defaultConfig.logLevel;\n        this.minIdLength = options.minIdLength;\n        this.plan = options.plan;\n        this.ingestionMetadata = options.ingestionMetadata;\n        this.offline = options.offline !== undefined ? options.offline : defaultConfig.offline;\n        this.optOut = (_c = options.optOut) !== null && _c !== void 0 ? _c : defaultConfig.optOut;\n        this.serverUrl = options.serverUrl;\n        this.serverZone = options.serverZone || defaultConfig.serverZone;\n        this.storageProvider = options.storageProvider;\n        this.transportProvider = options.transportProvider;\n        this.useBatch = (_d = options.useBatch) !== null && _d !== void 0 ? _d : defaultConfig.useBatch;\n        this.loggerProvider.enable(this.logLevel);\n        var serverConfig = createServerConfig(options.serverUrl, options.serverZone, options.useBatch);\n        this.serverZone = serverConfig.serverZone;\n        this.serverUrl = serverConfig.serverUrl;\n    }\n    Object.defineProperty(Config.prototype, \"optOut\", {\n        get: function () {\n            return this._optOut;\n        },\n        set: function (optOut) {\n            this._optOut = optOut;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Config;\n}());\nexport { Config };\nexport var getServerUrl = function (serverZone, useBatch) {\n    if (serverZone === 'EU') {\n        return useBatch ? EU_AMPLITUDE_BATCH_SERVER_URL : EU_AMPLITUDE_SERVER_URL;\n    }\n    return useBatch ? AMPLITUDE_BATCH_SERVER_URL : AMPLITUDE_SERVER_URL;\n};\nexport var createServerConfig = function (serverUrl, serverZone, useBatch) {\n    if (serverUrl === void 0) { serverUrl = ''; }\n    if (serverZone === void 0) { serverZone = getDefaultConfig().serverZone; }\n    if (useBatch === void 0) { useBatch = getDefaultConfig().useBatch; }\n    if (serverUrl) {\n        return { serverUrl: serverUrl, serverZone: undefined };\n    }\n    var _serverZone = ['US', 'EU'].includes(serverZone) ? serverZone : getDefaultConfig().serverZone;\n    return {\n        serverZone: _serverZone,\n        serverUrl: getServerUrl(_serverZone, useBatch),\n    };\n};\nvar RequestMetadata = /** @class */ (function () {\n    function RequestMetadata() {\n        this.sdk = {\n            metrics: {\n                histogram: {},\n            },\n        };\n    }\n    RequestMetadata.prototype.recordHistogram = function (key, value) {\n        this.sdk.metrics.histogram[key] = value;\n    };\n    return RequestMetadata;\n}());\nexport { RequestMetadata };\nvar HistogramOptions = /** @class */ (function () {\n    function HistogramOptions() {\n    }\n    return HistogramOptions;\n}());\n//# sourceMappingURL=config.js.map","import { __assign, __values } from \"tslib\";\nimport { LogLevel } from '../types/loglevel';\nexport var getStacktrace = function (ignoreDepth) {\n    if (ignoreDepth === void 0) { ignoreDepth = 0; }\n    var trace = new Error().stack || '';\n    return trace\n        .split('\\n')\n        .slice(2 + ignoreDepth)\n        .map(function (text) { return text.trim(); });\n};\n// This hook makes sure we always get the latest logger and logLevel.\nexport var getClientLogConfig = function (client) { return function () {\n    var _a = __assign({}, client.config), logger = _a.loggerProvider, logLevel = _a.logLevel;\n    return {\n        logger: logger,\n        logLevel: logLevel,\n    };\n}; };\n// This is a convenient function to get the attribute from object with string path, similar to lodash '#get'.\nexport var getValueByStringPath = function (obj, path) {\n    var e_1, _a;\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n    path = path.replace(/^\\./, ''); // strip a leading dot\n    try {\n        for (var _b = __values(path.split('.')), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var attr = _c.value;\n            if (attr in obj) {\n                obj = obj[attr];\n            }\n            else {\n                return;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return obj;\n};\nexport var getClientStates = function (client, paths) { return function () {\n    var e_2, _a;\n    var res = {};\n    try {\n        for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n            var path = paths_1_1.value;\n            res[path] = getValueByStringPath(client, path);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return res;\n}; };\nexport var debugWrapper = function (fn, fnName, getLogConfig, getStates, fnContext) {\n    if (fnContext === void 0) { fnContext = null; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _a = getLogConfig(), logger = _a.logger, logLevel = _a.logLevel;\n        // return early if possible to reduce overhead\n        if ((logLevel && logLevel < LogLevel.Debug) || !logLevel || !logger) {\n            return fn.apply(fnContext, args);\n        }\n        var debugContext = {\n            type: 'invoke public method',\n            name: fnName,\n            args: args,\n            stacktrace: getStacktrace(1),\n            time: {\n                start: new Date().toISOString(),\n            },\n            states: {},\n        };\n        if (getStates && debugContext.states) {\n            debugContext.states.before = getStates();\n        }\n        var result = fn.apply(fnContext, args);\n        if (result && result.promise) {\n            // if result is a promise, add the callback\n            result.promise.then(function () {\n                if (getStates && debugContext.states) {\n                    debugContext.states.after = getStates();\n                }\n                if (debugContext.time) {\n                    debugContext.time.end = new Date().toISOString();\n                }\n                logger.debug(JSON.stringify(debugContext, null, 2));\n            });\n        }\n        else {\n            if (getStates && debugContext.states) {\n                debugContext.states.after = getStates();\n            }\n            if (debugContext.time) {\n                debugContext.time.end = new Date().toISOString();\n            }\n            logger.debug(JSON.stringify(debugContext, null, 2));\n        }\n        return result;\n    };\n};\n//# sourceMappingURL=debug.js.map","var ApplicationContextProviderImpl = /** @class */ (function () {\n    function ApplicationContextProviderImpl() {\n    }\n    ApplicationContextProviderImpl.prototype.getApplicationContext = function () {\n        return {\n            versionName: this.versionName,\n            language: getLanguage(),\n            platform: 'Web',\n            os: undefined,\n            deviceModel: undefined,\n        };\n    };\n    return ApplicationContextProviderImpl;\n}());\nvar getLanguage = function () {\n    return ((typeof navigator !== 'undefined' &&\n        ((navigator.languages && navigator.languages[0]) ||\n            navigator.language)) ||\n        '');\n};\n\nvar EventBridgeImpl = /** @class */ (function () {\n    function EventBridgeImpl() {\n        this.queue = [];\n    }\n    EventBridgeImpl.prototype.logEvent = function (event) {\n        if (!this.receiver) {\n            if (this.queue.length < 512) {\n                this.queue.push(event);\n            }\n        }\n        else {\n            this.receiver(event);\n        }\n    };\n    EventBridgeImpl.prototype.setEventReceiver = function (receiver) {\n        this.receiver = receiver;\n        if (this.queue.length > 0) {\n            this.queue.forEach(function (event) {\n                receiver(event);\n            });\n            this.queue = [];\n        }\n    };\n    return EventBridgeImpl;\n}());\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvar isEqual = function (obj1, obj2) {\n    var e_1, _a;\n    var primitive = ['string', 'number', 'boolean', 'undefined'];\n    var typeA = typeof obj1;\n    var typeB = typeof obj2;\n    if (typeA !== typeB) {\n        return false;\n    }\n    try {\n        for (var primitive_1 = __values(primitive), primitive_1_1 = primitive_1.next(); !primitive_1_1.done; primitive_1_1 = primitive_1.next()) {\n            var p = primitive_1_1.value;\n            if (p === typeA) {\n                return obj1 === obj2;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (primitive_1_1 && !primitive_1_1.done && (_a = primitive_1.return)) _a.call(primitive_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    // check null\n    if (obj1 == null && obj2 == null) {\n        return true;\n    }\n    else if (obj1 == null || obj2 == null) {\n        return false;\n    }\n    // if got here - objects\n    if (obj1.length !== obj2.length) {\n        return false;\n    }\n    //check if arrays\n    var isArrayA = Array.isArray(obj1);\n    var isArrayB = Array.isArray(obj2);\n    if (isArrayA !== isArrayB) {\n        return false;\n    }\n    if (isArrayA && isArrayB) {\n        //arrays\n        for (var i = 0; i < obj1.length; i++) {\n            if (!isEqual(obj1[i], obj2[i])) {\n                return false;\n            }\n        }\n    }\n    else {\n        //objects\n        var sorted1 = Object.keys(obj1).sort();\n        var sorted2 = Object.keys(obj2).sort();\n        if (!isEqual(sorted1, sorted2)) {\n            return false;\n        }\n        //compare object values\n        var result_1 = true;\n        Object.keys(obj1).forEach(function (key) {\n            if (!isEqual(obj1[key], obj2[key])) {\n                result_1 = false;\n            }\n        });\n        return result_1;\n    }\n    return true;\n};\n\nvar ID_OP_SET = '$set';\nvar ID_OP_UNSET = '$unset';\nvar ID_OP_CLEAR_ALL = '$clearAll';\n// Polyfill for Object.entries\nif (!Object.entries) {\n    Object.entries = function (obj) {\n        var ownProps = Object.keys(obj);\n        var i = ownProps.length;\n        var resArray = new Array(i);\n        while (i--) {\n            resArray[i] = [ownProps[i], obj[ownProps[i]]];\n        }\n        return resArray;\n    };\n}\nvar IdentityStoreImpl = /** @class */ (function () {\n    function IdentityStoreImpl() {\n        this.identity = { userProperties: {} };\n        this.listeners = new Set();\n    }\n    IdentityStoreImpl.prototype.editIdentity = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var self = this;\n        var actingUserProperties = __assign({}, this.identity.userProperties);\n        var actingIdentity = __assign(__assign({}, this.identity), { userProperties: actingUserProperties });\n        return {\n            setUserId: function (userId) {\n                actingIdentity.userId = userId;\n                return this;\n            },\n            setDeviceId: function (deviceId) {\n                actingIdentity.deviceId = deviceId;\n                return this;\n            },\n            setUserProperties: function (userProperties) {\n                actingIdentity.userProperties = userProperties;\n                return this;\n            },\n            setOptOut: function (optOut) {\n                actingIdentity.optOut = optOut;\n                return this;\n            },\n            updateUserProperties: function (actions) {\n                var e_1, _a, e_2, _b, e_3, _c;\n                var actingProperties = actingIdentity.userProperties || {};\n                try {\n                    for (var _d = __values(Object.entries(actions)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                        var _f = __read(_e.value, 2), action = _f[0], properties = _f[1];\n                        switch (action) {\n                            case ID_OP_SET:\n                                try {\n                                    for (var _g = (e_2 = void 0, __values(Object.entries(properties))), _h = _g.next(); !_h.done; _h = _g.next()) {\n                                        var _j = __read(_h.value, 2), key = _j[0], value = _j[1];\n                                        actingProperties[key] = value;\n                                    }\n                                }\n                                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                                finally {\n                                    try {\n                                        if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n                                    }\n                                    finally { if (e_2) throw e_2.error; }\n                                }\n                                break;\n                            case ID_OP_UNSET:\n                                try {\n                                    for (var _k = (e_3 = void 0, __values(Object.keys(properties))), _l = _k.next(); !_l.done; _l = _k.next()) {\n                                        var key = _l.value;\n                                        delete actingProperties[key];\n                                    }\n                                }\n                                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                                finally {\n                                    try {\n                                        if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n                                    }\n                                    finally { if (e_3) throw e_3.error; }\n                                }\n                                break;\n                            case ID_OP_CLEAR_ALL:\n                                actingProperties = {};\n                                break;\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                actingIdentity.userProperties = actingProperties;\n                return this;\n            },\n            commit: function () {\n                self.setIdentity(actingIdentity);\n                return this;\n            },\n        };\n    };\n    IdentityStoreImpl.prototype.getIdentity = function () {\n        return __assign({}, this.identity);\n    };\n    IdentityStoreImpl.prototype.setIdentity = function (identity) {\n        var originalIdentity = __assign({}, this.identity);\n        this.identity = __assign({}, identity);\n        if (!isEqual(originalIdentity, this.identity)) {\n            this.listeners.forEach(function (listener) {\n                listener(identity);\n            });\n        }\n    };\n    IdentityStoreImpl.prototype.addIdentityListener = function (listener) {\n        this.listeners.add(listener);\n    };\n    IdentityStoreImpl.prototype.removeIdentityListener = function (listener) {\n        this.listeners.delete(listener);\n    };\n    return IdentityStoreImpl;\n}());\n\nvar safeGlobal = typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof global !== 'undefined'\n        ? global\n        : self;\n\nvar AnalyticsConnector = /** @class */ (function () {\n    function AnalyticsConnector() {\n        this.identityStore = new IdentityStoreImpl();\n        this.eventBridge = new EventBridgeImpl();\n        this.applicationContextProvider = new ApplicationContextProviderImpl();\n    }\n    AnalyticsConnector.getInstance = function (instanceName) {\n        if (!safeGlobal['analyticsConnectorInstances']) {\n            safeGlobal['analyticsConnectorInstances'] = {};\n        }\n        if (!safeGlobal['analyticsConnectorInstances'][instanceName]) {\n            safeGlobal['analyticsConnectorInstances'][instanceName] =\n                new AnalyticsConnector();\n        }\n        return safeGlobal['analyticsConnectorInstances'][instanceName];\n    };\n    return AnalyticsConnector;\n}());\n\nexport { AnalyticsConnector };\n","/**\n * @deprecated use ServerZoneType instead\n */\nexport var ServerZone;\n(function (ServerZone) {\n    ServerZone[\"US\"] = \"US\";\n    ServerZone[\"EU\"] = \"EU\";\n    /**\n     * Add for session-replay-browser migration from analytics-type v1.x.\n     */\n    ServerZone[\"STAGING\"] = \"STAGING\";\n})(ServerZone || (ServerZone = {}));\n//# sourceMappingURL=server-zone.js.map","export var generateHashCode = function (str) {\n    var hash = 0;\n    if (str.length === 0)\n        return hash;\n    for (var i = 0; i < str.length; i++) {\n        var chr = str.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0;\n    }\n    return hash;\n};\nexport var isTimestampInSample = function (timestamp, sampleRate) {\n    var hashNumber = generateHashCode(timestamp.toString());\n    var absHash = Math.abs(hashNumber);\n    var absHashMultiply = absHash * 31;\n    var mod = absHashMultiply % 1000000;\n    return mod / 1000000 < sampleRate;\n};\n// TODO(xinyi): replace the temp one in diagnostics client after the fix\n// istanbul ignore next\nexport var isTimestampInSampleTemp = function (timestamp, sampleRate) {\n    var hashNumber = generateHashCode(timestamp.toString());\n    var absHash = Math.abs(hashNumber);\n    var absHashMultiply = absHash * 31;\n    var mod = absHashMultiply % 100000;\n    return mod / 100000 < sampleRate;\n};\n//# sourceMappingURL=sampling.js.map","import { Status } from '../types/status';\nimport { isSuccessStatusCode } from '../utils/status-code';\nvar BaseTransport = /** @class */ (function () {\n    function BaseTransport() {\n    }\n    BaseTransport.prototype.send = function (_serverUrl, _payload) {\n        return Promise.resolve(null);\n    };\n    BaseTransport.prototype.buildResponse = function (responseJSON) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n        if (typeof responseJSON !== 'object') {\n            return null;\n        }\n        var statusCode = responseJSON.code || 0;\n        var status = this.buildStatus(statusCode);\n        switch (status) {\n            case Status.Success:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        eventsIngested: (_a = responseJSON.events_ingested) !== null && _a !== void 0 ? _a : 0,\n                        payloadSizeBytes: (_b = responseJSON.payload_size_bytes) !== null && _b !== void 0 ? _b : 0,\n                        serverUploadTime: (_c = responseJSON.server_upload_time) !== null && _c !== void 0 ? _c : 0,\n                    },\n                };\n            case Status.Invalid:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_d = responseJSON.error) !== null && _d !== void 0 ? _d : '',\n                        missingField: (_e = responseJSON.missing_field) !== null && _e !== void 0 ? _e : '',\n                        eventsWithInvalidFields: (_f = responseJSON.events_with_invalid_fields) !== null && _f !== void 0 ? _f : {},\n                        eventsWithMissingFields: (_g = responseJSON.events_with_missing_fields) !== null && _g !== void 0 ? _g : {},\n                        eventsWithInvalidIdLengths: (_h = responseJSON.events_with_invalid_id_lengths) !== null && _h !== void 0 ? _h : {},\n                        epsThreshold: (_j = responseJSON.eps_threshold) !== null && _j !== void 0 ? _j : 0,\n                        exceededDailyQuotaDevices: (_k = responseJSON.exceeded_daily_quota_devices) !== null && _k !== void 0 ? _k : {},\n                        silencedDevices: (_l = responseJSON.silenced_devices) !== null && _l !== void 0 ? _l : [],\n                        silencedEvents: (_m = responseJSON.silenced_events) !== null && _m !== void 0 ? _m : [],\n                        throttledDevices: (_o = responseJSON.throttled_devices) !== null && _o !== void 0 ? _o : {},\n                        throttledEvents: (_p = responseJSON.throttled_events) !== null && _p !== void 0 ? _p : [],\n                    },\n                };\n            case Status.PayloadTooLarge:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_q = responseJSON.error) !== null && _q !== void 0 ? _q : '',\n                    },\n                };\n            case Status.RateLimit:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_r = responseJSON.error) !== null && _r !== void 0 ? _r : '',\n                        epsThreshold: (_s = responseJSON.eps_threshold) !== null && _s !== void 0 ? _s : 0,\n                        throttledDevices: (_t = responseJSON.throttled_devices) !== null && _t !== void 0 ? _t : {},\n                        throttledUsers: (_u = responseJSON.throttled_users) !== null && _u !== void 0 ? _u : {},\n                        exceededDailyQuotaDevices: (_v = responseJSON.exceeded_daily_quota_devices) !== null && _v !== void 0 ? _v : {},\n                        exceededDailyQuotaUsers: (_w = responseJSON.exceeded_daily_quota_users) !== null && _w !== void 0 ? _w : {},\n                        throttledEvents: (_x = responseJSON.throttled_events) !== null && _x !== void 0 ? _x : [],\n                    },\n                };\n            case Status.Timeout:\n            default:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                };\n        }\n    };\n    BaseTransport.prototype.buildStatus = function (code) {\n        if (isSuccessStatusCode(code)) {\n            return Status.Success;\n        }\n        if (code === 429) {\n            return Status.RateLimit;\n        }\n        if (code === 413) {\n            return Status.PayloadTooLarge;\n        }\n        if (code === 408) {\n            return Status.Timeout;\n        }\n        if (code >= 400 && code < 500) {\n            return Status.Invalid;\n        }\n        if (code >= 500) {\n            return Status.Failed;\n        }\n        return Status.Unknown;\n    };\n    return BaseTransport;\n}());\nexport { BaseTransport };\n//# sourceMappingURL=base.js.map","/**\n * Checks if an HTTP status code indicates success (2xx range)\n * @param code - The HTTP status code to check\n * @returns true if the status code is in the 2xx range, false otherwise\n */\nexport function isSuccessStatusCode(code) {\n    return code >= 200 && code < 300;\n}\n//# sourceMappingURL=status-code.js.map","import { __assign, __awaiter, __extends, __generator } from \"tslib\";\nimport { BaseTransport } from './base';\nvar FetchTransport = /** @class */ (function (_super) {\n    __extends(FetchTransport, _super);\n    function FetchTransport(customHeaders) {\n        if (customHeaders === void 0) { customHeaders = {}; }\n        var _this = _super.call(this) || this;\n        _this.customHeaders = customHeaders;\n        return _this;\n    }\n    FetchTransport.prototype.send = function (serverUrl, payload) {\n        return __awaiter(this, void 0, void 0, function () {\n            var options, response, responseText;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        /* istanbul ignore if */\n                        if (typeof fetch === 'undefined') {\n                            throw new Error('FetchTransport is not supported');\n                        }\n                        options = {\n                            headers: __assign({ 'Content-Type': 'application/json', Accept: '*/*' }, this.customHeaders),\n                            body: JSON.stringify(payload),\n                            method: 'POST',\n                        };\n                        return [4 /*yield*/, fetch(serverUrl, options)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        responseText = _a.sent();\n                        try {\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                            return [2 /*return*/, this.buildResponse(JSON.parse(responseText))];\n                        }\n                        catch (_b) {\n                            return [2 /*return*/, this.buildResponse({ code: response.status })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return FetchTransport;\n}(BaseTransport));\nexport { FetchTransport };\n//# sourceMappingURL=fetch.js.map","var RemoteConfigLocalStorage = /** @class */ (function () {\n    function RemoteConfigLocalStorage(apiKey, logger) {\n        this.key = \"AMP_remote_config_\".concat(apiKey.substring(0, 10));\n        this.logger = logger;\n    }\n    RemoteConfigLocalStorage.prototype.fetchConfig = function () {\n        var result = null;\n        var failedRemoteConfigInfo = {\n            remoteConfig: null,\n            lastFetch: new Date(),\n        };\n        try {\n            result = localStorage.getItem(this.key);\n        }\n        catch (error) {\n            this.logger.debug('Remote config localstorage failed to access: ', error);\n            return Promise.resolve(failedRemoteConfigInfo);\n        }\n        if (result === null) {\n            this.logger.debug('Remote config localstorage gets null because the key does not exist');\n            return Promise.resolve(failedRemoteConfigInfo);\n        }\n        try {\n            var remoteConfigInfo = JSON.parse(result);\n            this.logger.debug(\"Remote config localstorage parsed successfully: \".concat(JSON.stringify(remoteConfigInfo)));\n            return Promise.resolve({\n                remoteConfig: remoteConfigInfo.remoteConfig,\n                lastFetch: new Date(remoteConfigInfo.lastFetch),\n            });\n        }\n        catch (error) {\n            this.logger.debug('Remote config localstorage failed to parse: ', error);\n            localStorage.removeItem(this.key);\n            return Promise.resolve(failedRemoteConfigInfo);\n        }\n    };\n    RemoteConfigLocalStorage.prototype.setConfig = function (config) {\n        try {\n            localStorage.setItem(this.key, JSON.stringify(config));\n            this.logger.debug('Remote config localstorage set successfully.');\n            return Promise.resolve(true);\n        }\n        catch (error) {\n            this.logger.debug('Remote config localstorage failed to set: ', error);\n        }\n        return Promise.resolve(false);\n    };\n    return RemoteConfigLocalStorage;\n}());\nexport { RemoteConfigLocalStorage };\n//# sourceMappingURL=remote-config-localstorage.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { RemoteConfigLocalStorage } from './remote-config-localstorage';\nimport { UUID } from '../utils/uuid';\nexport var US_SERVER_URL = 'https://sr-client-cfg.amplitude.com/config';\nexport var EU_SERVER_URL = 'https://sr-client-cfg.eu.amplitude.com/config';\nexport var DEFAULT_MAX_RETRIES = 3;\n/**\n * The default timeout for fetch in milliseconds.\n * Linear backoff policy: timeout / retry times is the interval between fetch retry.\n */\nvar DEFAULT_TIMEOUT = 1000;\n/**\n * The minimum time between fetches in milliseconds.\n * This prevents too many requests from being sent in a short period of time.\n */\nvar DEFAULT_MIN_TIME_BETWEEN_FETCHES = 5 * 60 * 1000; // 5 minutes\nvar RemoteConfigClient = /** @class */ (function () {\n    function RemoteConfigClient(apiKey, logger, serverZone, serverUrl) {\n        if (serverZone === void 0) { serverZone = 'US'; }\n        // Registered callbackInfos by subscribe().\n        this.callbackInfos = [];\n        // Track the last successful fetch time for throttling (timestamp in milliseconds).\n        this.lastSuccessfulFetch = null;\n        // Store the in-flight fetch promise for deduplication.\n        this.fetchPromise = null;\n        this.apiKey = apiKey;\n        this.serverUrl = serverUrl || (serverZone === 'US' ? US_SERVER_URL : EU_SERVER_URL);\n        this.logger = logger;\n        this.storage = new RemoteConfigLocalStorage(apiKey, logger);\n    }\n    RemoteConfigClient.prototype.subscribe = function (key, deliveryMode, callback) {\n        var id = UUID();\n        var callbackInfo = {\n            id: id,\n            key: key,\n            deliveryMode: deliveryMode,\n            callback: callback,\n        };\n        this.callbackInfos.push(callbackInfo);\n        if (deliveryMode === 'all') {\n            void this.subscribeAll(callbackInfo);\n        }\n        else {\n            void this.subscribeWaitForRemote(callbackInfo, deliveryMode.timeout);\n        }\n        return id;\n    };\n    RemoteConfigClient.prototype.unsubscribe = function (id) {\n        var index = this.callbackInfos.findIndex(function (callbackInfo) { return callbackInfo.id === id; });\n        if (index === -1) {\n            this.logger.debug(\"Remote config client unsubscribe failed because callback with id \".concat(id, \" doesn't exist.\"));\n            return false;\n        }\n        this.callbackInfos.splice(index, 1);\n        this.logger.debug(\"Remote config client unsubscribe succeeded removing callback with id \".concat(id, \".\"));\n        return true;\n    };\n    RemoteConfigClient.prototype.updateConfigs = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var timeSinceLastFetch, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Check if we need to throttle based on last successful fetch time\n                        if (this.lastSuccessfulFetch) {\n                            timeSinceLastFetch = Date.now() - this.lastSuccessfulFetch;\n                            if (timeSinceLastFetch < DEFAULT_MIN_TIME_BETWEEN_FETCHES) {\n                                this.logger.debug('Remote config client skipping updateConfigs: Too recent');\n                                return [2 /*return*/];\n                            }\n                        }\n                        return [4 /*yield*/, this.getOrCreateFetchPromise()];\n                    case 1:\n                        result = _a.sent();\n                        void this.storage.setConfig(result);\n                        this.callbackInfos.forEach(function (callbackInfo) {\n                            _this.sendCallback(callbackInfo, result, 'remote');\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Get the in-flight fetch promise or create a new one.\n     * This ensures multiple subscribe calls share the same network request.\n     */\n    RemoteConfigClient.prototype.getOrCreateFetchPromise = function () {\n        var _this = this;\n        if (this.fetchPromise) {\n            return this.fetchPromise;\n        }\n        this.fetchPromise = this.fetch()\n            .then(function (result) {\n            // Update last successful fetch time if we got a valid config\n            if (result.remoteConfig !== null) {\n                _this.lastSuccessfulFetch = Date.now();\n            }\n            return result;\n        })\n            .finally(function () {\n            // Clear the promise after it settles (success or failure)\n            _this.fetchPromise = null;\n        });\n        return this.fetchPromise;\n    };\n    /**\n     * Send remote first. If it's already complete, we can skip the cached response.\n     * - if remote is fetched first, no cache fetch.\n     * - if cache is fetched first, still fetching remote.\n     */\n    RemoteConfigClient.prototype.subscribeAll = function (callbackInfo) {\n        return __awaiter(this, void 0, void 0, function () {\n            var remotePromise, cachePromise, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        remotePromise = this.getOrCreateFetchPromise().then(function (result) {\n                            _this.logger.debug(\"Remote config client subscription all mode fetched from remote: \".concat(JSON.stringify(result)));\n                            _this.sendCallback(callbackInfo, result, 'remote');\n                            void _this.storage.setConfig(result);\n                        });\n                        cachePromise = this.storage.fetchConfig().then(function (result) {\n                            return result;\n                        });\n                        return [4 /*yield*/, Promise.race([remotePromise, cachePromise])];\n                    case 1:\n                        result = _a.sent();\n                        // If cache is fetched first, wait for remote.\n                        if (result !== undefined) {\n                            this.logger.debug(\"Remote config client subscription all mode fetched from cache: \".concat(JSON.stringify(result)));\n                            // Skip sending callback if cache is empty (first time user).\n                            if (result.remoteConfig !== null) {\n                                this.sendCallback(callbackInfo, result, 'cache');\n                            }\n                            else {\n                                this.logger.debug('Remote config client skips sending callback because cache is empty (first time user).');\n                            }\n                        }\n                        return [4 /*yield*/, remotePromise];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Waits for a remote response until the given timeout, then return a cached copy, if available.\n     */\n    RemoteConfigClient.prototype.subscribeWaitForRemote = function (callbackInfo, timeout) {\n        return __awaiter(this, void 0, void 0, function () {\n            var timeoutPromise, result, error_1, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        timeoutPromise = new Promise(function (_, reject) {\n                            setTimeout(function () {\n                                reject('Timeout exceeded');\n                            }, timeout);\n                        });\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 5]);\n                        return [4 /*yield*/, Promise.race([\n                                this.getOrCreateFetchPromise(),\n                                timeoutPromise,\n                            ])];\n                    case 2:\n                        result = (_a.sent());\n                        this.logger.debug('Remote config client subscription wait for remote mode returns from remote.');\n                        this.sendCallback(callbackInfo, result, 'remote');\n                        void this.storage.setConfig(result);\n                        return [3 /*break*/, 5];\n                    case 3:\n                        error_1 = _a.sent();\n                        this.logger.debug('Remote config client subscription wait for remote mode exceeded timeout. Try to fetch from cache.');\n                        return [4 /*yield*/, this.storage.fetchConfig()];\n                    case 4:\n                        result = _a.sent();\n                        if (result.remoteConfig !== null) {\n                            this.logger.debug('Remote config client subscription wait for remote mode returns a cached copy.');\n                            this.sendCallback(callbackInfo, result, 'cache');\n                        }\n                        else {\n                            this.logger.debug('Remote config client subscription wait for remote mode failed to fetch cache.');\n                            this.sendCallback(callbackInfo, result, 'remote');\n                        }\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Call the callback with filtered remote config based on key.\n     * @param remoteConfigInfo - the whole remote config object without filtering by key.\n     */\n    RemoteConfigClient.prototype.sendCallback = function (callbackInfo, remoteConfigInfo, source) {\n        callbackInfo.lastCallback = new Date();\n        var filteredConfig;\n        if (callbackInfo.key) {\n            // Filter remote config by key.\n            // For example, if remote config is {a: {b: {c: 1}}},\n            // if key = 'a', filter result is {b: {c: 1}};\n            // if key = 'a.b', filter result is {c: 1}\n            filteredConfig = callbackInfo.key.split('.').reduce(function (config, key) {\n                if (config === null) {\n                    return config;\n                }\n                return key in config ? config[key] : null;\n            }, remoteConfigInfo.remoteConfig);\n        }\n        else {\n            filteredConfig = remoteConfigInfo.remoteConfig;\n        }\n        callbackInfo.callback(filteredConfig, source, remoteConfigInfo.lastFetch);\n    };\n    /**\n     * Fetch remote config from remote.\n     * @param retries - the number of retries. default is 3.\n     * @param timeout - the timeout in milliseconds. Default is 1000.\n     * This timeout serves two purposes:\n     * 1. It determines how long to wait for each remote config fetch request before aborting it.\n     *    If the fetch does not complete within the specified timeout, the request is cancelled using AbortController,\n     *    and the attempt is considered failed (and may be retried if retries remain).\n     * 2. It is also used to calculate the interval between retries. The total timeout is divided by the number of retries,\n     *    so each retry waits for (timeout / retries) milliseconds before the next attempt (linear backoff).\n     * @returns the remote config info. null if failed to fetch or the response is not valid JSON.\n     */\n    RemoteConfigClient.prototype.fetch = function (retries, timeout) {\n        if (retries === void 0) { retries = DEFAULT_MAX_RETRIES; }\n        if (timeout === void 0) { timeout = DEFAULT_TIMEOUT; }\n        return __awaiter(this, void 0, void 0, function () {\n            var interval, failedRemoteConfigInfo, _loop_1, this_1, attempt, state_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        interval = timeout / retries;\n                        failedRemoteConfigInfo = {\n                            remoteConfig: null,\n                            lastFetch: new Date(),\n                        };\n                        _loop_1 = function (attempt) {\n                            var abortController, timeoutId, res, body, remoteConfig, error_2;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        abortController = new AbortController();\n                                        timeoutId = setTimeout(function () { return abortController.abort(); }, timeout);\n                                        _b.label = 1;\n                                    case 1:\n                                        _b.trys.push([1, 7, 8, 9]);\n                                        return [4 /*yield*/, fetch(this_1.getUrlParams(), {\n                                                method: 'GET',\n                                                headers: {\n                                                    Accept: '*/*',\n                                                },\n                                                signal: abortController.signal,\n                                            })];\n                                    case 2:\n                                        res = _b.sent();\n                                        if (!!res.ok) return [3 /*break*/, 4];\n                                        return [4 /*yield*/, res.text()];\n                                    case 3:\n                                        body = _b.sent();\n                                        this_1.logger.debug(\"Remote config client fetch with retry time \".concat(retries, \" failed with \").concat(res.status, \": \").concat(body));\n                                        return [3 /*break*/, 6];\n                                    case 4: return [4 /*yield*/, res.json()];\n                                    case 5:\n                                        remoteConfig = (_b.sent());\n                                        return [2 /*return*/, { value: {\n                                                    remoteConfig: remoteConfig,\n                                                    lastFetch: new Date(),\n                                                } }];\n                                    case 6: return [3 /*break*/, 9];\n                                    case 7:\n                                        error_2 = _b.sent();\n                                        // Handle rejects when the request fails, for example, a network error or timeout\n                                        if (error_2 instanceof Error && error_2.name === 'AbortError') {\n                                            this_1.logger.debug(\"Remote config client fetch with retry time \".concat(retries, \" timed out after \").concat(timeout, \"ms\"));\n                                        }\n                                        else {\n                                            this_1.logger.debug(\"Remote config client fetch with retry time \".concat(retries, \" is rejected because: \"), error_2);\n                                        }\n                                        return [3 /*break*/, 9];\n                                    case 8:\n                                        // Clear the timeout since request completed or failed\n                                        clearTimeout(timeoutId);\n                                        return [7 /*endfinally*/];\n                                    case 9:\n                                        if (!(attempt < retries - 1)) return [3 /*break*/, 11];\n                                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, _this.getJitterDelay(interval)); })];\n                                    case 10:\n                                        _b.sent();\n                                        _b.label = 11;\n                                    case 11: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        attempt = 0;\n                        _a.label = 1;\n                    case 1:\n                        if (!(attempt < retries)) return [3 /*break*/, 4];\n                        return [5 /*yield**/, _loop_1(attempt)];\n                    case 2:\n                        state_1 = _a.sent();\n                        if (typeof state_1 === \"object\")\n                            return [2 /*return*/, state_1.value];\n                        _a.label = 3;\n                    case 3:\n                        attempt++;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/, failedRemoteConfigInfo];\n                }\n            });\n        });\n    };\n    /**\n     * Return jitter in the bound of [0,baseDelay) and then floor round.\n     */\n    RemoteConfigClient.prototype.getJitterDelay = function (baseDelay) {\n        return Math.floor(Math.random() * baseDelay);\n    };\n    RemoteConfigClient.prototype.getUrlParams = function () {\n        // URL encode the API key to handle special characters\n        var encodedApiKey = encodeURIComponent(this.apiKey);\n        var urlParams = new URLSearchParams();\n        urlParams.append('config_group', RemoteConfigClient.CONFIG_GROUP);\n        return \"\".concat(this.serverUrl, \"/\").concat(encodedApiKey, \"?\").concat(urlParams.toString());\n    };\n    RemoteConfigClient.CONFIG_GROUP = 'browser';\n    return RemoteConfigClient;\n}());\nexport { RemoteConfigClient };\n//# sourceMappingURL=remote-config.js.map","import { AMPLITUDE_PREFIX, ServerZone } from '@amplitude/analytics-core';\nexport var DEFAULT_EVENT_PROPERTY_PREFIX = '[Amplitude]';\nexport var DEFAULT_SESSION_REPLAY_PROPERTY = \"\".concat(DEFAULT_EVENT_PROPERTY_PREFIX, \" Session Replay ID\");\nexport var DEFAULT_SESSION_START_EVENT = 'session_start';\nexport var DEFAULT_SESSION_END_EVENT = 'session_end';\nexport var DEFAULT_SAMPLE_RATE = 0;\nexport var DEFAULT_SERVER_ZONE = ServerZone.US;\nexport var DEFAULT_PERFORMANCE_CONFIG = { enabled: true };\nexport var DEFAULT_URL_CHANGE_POLLING_INTERVAL = 1000;\nexport var SESSION_REPLAY_DEBUG_PROPERTY = \"\".concat(DEFAULT_EVENT_PROPERTY_PREFIX, \" Session Replay Debug\");\nexport var BLOCK_CLASS = 'amp-block';\nexport var MASK_TEXT_CLASS = 'amp-mask';\nexport var UNMASK_TEXT_CLASS = 'amp-unmask';\nexport var SESSION_REPLAY_SERVER_URL = 'https://api-sr.amplitude.com/sessions/v2/track';\nexport var SESSION_REPLAY_EU_URL = 'https://api-sr.eu.amplitude.com/sessions/v2/track';\nexport var SESSION_REPLAY_STAGING_URL = 'https://api-sr.stag2.amplitude.com/sessions/v2/track';\nexport var STORAGE_PREFIX = \"\".concat(AMPLITUDE_PREFIX, \"_replay_unsent\");\nexport var MAX_EVENT_LIST_SIZE = 1 * 1000000; // ~1 MB limit for JSON serialized events payload\nexport var INTERACTION_MIN_INTERVAL = 30000; // 30 seconds\nexport var INTERACTION_MAX_INTERVAL = 60000; // 1 minute\nexport var MIN_INTERVAL = 500; // 500 ms\nexport var MAX_INTERVAL = 10 * 1000; // 10 seconds\nexport var MAX_IDB_STORAGE_LENGTH = 1000 * 60 * 60 * 24 * 3; // 3 days\nexport var KB_SIZE = 1024;\nexport var MAX_URL_LENGTH = 1000;\nexport var CustomRRwebEvent;\n(function (CustomRRwebEvent) {\n    CustomRRwebEvent[\"GET_SR_PROPS\"] = \"get-sr-props\";\n    CustomRRwebEvent[\"DEBUG_INFO\"] = \"debug-info\";\n    CustomRRwebEvent[\"FETCH_REQUEST\"] = \"fetch-request\";\n    CustomRRwebEvent[\"METADATA\"] = \"metadata\";\n    CustomRRwebEvent[\"TARGETING_DECISION\"] = \"targeting-decision\";\n})(CustomRRwebEvent || (CustomRRwebEvent = {}));\n//# sourceMappingURL=constants.js.map","var SafeLoggerProvider = /** @class */ (function () {\n    function SafeLoggerProvider(loggerProvider) {\n        this.logger = loggerProvider;\n        this.log = this.getSafeMethod('log');\n        this.warn = this.getSafeMethod('warn');\n        this.error = this.getSafeMethod('error');\n        this.debug = this.getSafeMethod('debug');\n    }\n    SafeLoggerProvider.prototype.getSafeMethod = function (method) {\n        var _a;\n        if (!this.logger) {\n            return (function () {\n                // No-op function fallback\n            });\n        }\n        var fn = this.logger[method];\n        if (typeof fn === 'function') {\n            var originalFn = (_a = fn.__rrweb_original__) !== null && _a !== void 0 ? _a : fn;\n            return originalFn.bind(this.logger);\n        }\n        return (function () {\n            // No-op function fallback\n        });\n    };\n    SafeLoggerProvider.prototype.enable = function (logLevel) {\n        this.logger.enable(logLevel);\n    };\n    SafeLoggerProvider.prototype.disable = function () {\n        this.logger.disable();\n    };\n    return SafeLoggerProvider;\n}());\nexport { SafeLoggerProvider };\n//# sourceMappingURL=logger.js.map","export var DEFAULT_MASK_LEVEL = 'medium';\n//# sourceMappingURL=types.js.map","import { __assign, __awaiter, __generator, __values } from \"tslib\";\nimport { getGlobalScope, ServerZone } from '@amplitude/analytics-core';\nimport { DEFAULT_MASK_LEVEL } from './config/types';\nimport { KB_SIZE, MASK_TEXT_CLASS, SESSION_REPLAY_EU_URL, SESSION_REPLAY_SERVER_URL, SESSION_REPLAY_STAGING_URL, UNMASK_TEXT_CLASS, } from './constants';\nimport { getInputType } from './utils/get-input-type';\n/**\n * Light: Subset of inputs\n * Medium: All inputs\n * Conservative: All inputs and all texts\n */\nvar isMaskedForLevel = function (elementType, level, element) {\n    switch (level) {\n        case 'light': {\n            if (elementType !== 'input') {\n                return true;\n            }\n            var inputType = element ? getInputType(element) : '';\n            /* istanbul ignore if */ // TODO(lew): For some reason it's impossible to test this.\n            if (!inputType) {\n                return false;\n            }\n            if (['password', 'hidden', 'email', 'tel'].includes(inputType)) {\n                return true;\n            }\n            if (element.autocomplete.startsWith('cc-')) {\n                return true;\n            }\n            return false;\n        }\n        case 'medium':\n        case 'conservative':\n            return true;\n        default:\n            return isMaskedForLevel(elementType, DEFAULT_MASK_LEVEL, element);\n    }\n};\n/**\n * Checks if the given element set to be masked by rrweb\n *\n * Priority is:\n *  1. [In code] Element/class based masking/unmasking <> [Config based] Selector based masking/unmasking\n *  2. Use app defaults\n */\nvar isMasked = function (elementType, config, element) {\n    var _a, _b, _c;\n    if (config === void 0) { config = { defaultMaskLevel: DEFAULT_MASK_LEVEL }; }\n    if (element) {\n        // Element or parent is explicitly instrumented in code to mask\n        if (element.closest('.' + MASK_TEXT_CLASS)) {\n            return true;\n        }\n        // Config has override for mask\n        var shouldMask = ((_a = config.maskSelector) !== null && _a !== void 0 ? _a : []).some(function (selector) { return element.closest(selector); });\n        if (shouldMask) {\n            return true;\n        }\n        // Code or config has override to unmask\n        if (element.closest('.' + UNMASK_TEXT_CLASS)) {\n            return false;\n        }\n        // Here we are probably sent an element, but we want to match if they have a\n        // parent with an unmask selector.\n        var shouldUnmask = ((_b = config.unmaskSelector) !== null && _b !== void 0 ? _b : []).some(function (selector) { return element.closest(selector); });\n        if (shouldUnmask) {\n            return false;\n        }\n    }\n    return isMaskedForLevel(elementType, (_c = config.defaultMaskLevel) !== null && _c !== void 0 ? _c : DEFAULT_MASK_LEVEL, element);\n};\nexport var maskFn = function (elementType, config) {\n    return function (text, element) {\n        return isMasked(elementType, config, element) ? text.replace(/[^\\s]/g, '*') : text;\n    };\n};\nexport var getCurrentUrl = function () {\n    var globalScope = getGlobalScope();\n    return (globalScope === null || globalScope === void 0 ? void 0 : globalScope.location) ? globalScope.location.href : '';\n};\nexport var generateSessionReplayId = function (sessionId, deviceId) {\n    return \"\".concat(deviceId, \"/\").concat(sessionId);\n};\nexport var getServerUrl = function (serverZone, trackServerUrl) {\n    if (trackServerUrl) {\n        return trackServerUrl;\n    }\n    if (serverZone === ServerZone.STAGING) {\n        return SESSION_REPLAY_STAGING_URL;\n    }\n    if (serverZone === ServerZone.EU) {\n        return SESSION_REPLAY_EU_URL;\n    }\n    return SESSION_REPLAY_SERVER_URL;\n};\nvar isValidGlobUrl = function (globUrl) {\n    if (typeof globUrl !== 'string' || globUrl.trim() === '')\n        return false;\n    var urlPattern = /^\\/|^https?:\\/\\/[^\\s]+$/;\n    if (!urlPattern.test(globUrl))\n        return false;\n    return true;\n};\nvar globToRegex = function (glob) {\n    // Escape special regex characters, then convert globs\n    var escaped = glob\n        .replace(/[.+^${}()|[\\]\\\\]/g, '\\\\$&') // Escape regex specials\n        .replace(/\\*/g, '.*') // Convert * to .*\n        .replace(/\\?/g, '.'); // Convert ? to .\n    return new RegExp(\"^\".concat(escaped, \"$\"));\n};\nexport var validateUGCFilterRules = function (ugcFilterRules) {\n    // validate ugcFilterRules\n    if (!ugcFilterRules.every(function (rule) { return typeof rule.selector === 'string' && typeof rule.replacement === 'string'; })) {\n        throw new Error('ugcFilterRules must be an array of objects with selector and replacement properties');\n    }\n    // validate ugcFilterRules are valid globs\n    if (!ugcFilterRules.every(function (rule) { return isValidGlobUrl(rule.selector); })) {\n        throw new Error('ugcFilterRules must be an array of objects with valid globs');\n    }\n};\nexport var getPageUrl = function (pageUrl, ugcFilterRules) {\n    var e_1, _a;\n    try {\n        // apply ugcFilterRules, order is important, first rule wins\n        for (var ugcFilterRules_1 = __values(ugcFilterRules), ugcFilterRules_1_1 = ugcFilterRules_1.next(); !ugcFilterRules_1_1.done; ugcFilterRules_1_1 = ugcFilterRules_1.next()) {\n            var rule = ugcFilterRules_1_1.value;\n            var regex = globToRegex(rule.selector);\n            if (regex.test(pageUrl)) {\n                return pageUrl.replace(regex, rule.replacement);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (ugcFilterRules_1_1 && !ugcFilterRules_1_1.done && (_a = ugcFilterRules_1.return)) _a.call(ugcFilterRules_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return pageUrl;\n};\nexport var getStorageSize = function () { return __awaiter(void 0, void 0, void 0, function () {\n    var globalScope, _a, usage, quota, usageDetails, totalStorageSize, percentOfQuota, e_2;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                _b.trys.push([0, 3, , 4]);\n                globalScope = getGlobalScope();\n                if (!globalScope) return [3 /*break*/, 2];\n                return [4 /*yield*/, globalScope.navigator.storage.estimate()];\n            case 1:\n                _a = _b.sent(), usage = _a.usage, quota = _a.quota, usageDetails = _a.usageDetails;\n                totalStorageSize = usage ? Math.round(usage / KB_SIZE) : 0;\n                percentOfQuota = usage && quota ? Math.round((usage / quota + Number.EPSILON) * 1000) / 1000 : 0;\n                return [2 /*return*/, { totalStorageSize: totalStorageSize, percentOfQuota: percentOfQuota, usageDetails: JSON.stringify(usageDetails) }];\n            case 2: return [3 /*break*/, 4];\n            case 3:\n                e_2 = _b.sent();\n                return [3 /*break*/, 4];\n            case 4: return [2 /*return*/, { totalStorageSize: 0, percentOfQuota: 0, usageDetails: '' }];\n        }\n    });\n}); };\nexport var getDebugConfig = function (config) {\n    var debugConfig = __assign({}, config);\n    var apiKey = debugConfig.apiKey;\n    debugConfig.apiKey = \"****\".concat(apiKey.substring(apiKey.length - 4));\n    return debugConfig;\n};\n//# sourceMappingURL=helpers.js.map","export function toLowerCase(str) {\n    return str.toLowerCase();\n}\n/**\n * Get the type of an input element.\n * This takes care of the case where a password input is changed to a text input.\n * In this case, we continue to consider this of type password, in order to avoid leaking sensitive data\n * where passwords should be masked.\n */\nexport function getInputType(element) {\n    // when omitting the type of input element(e.g. <input />), the type is treated as text\n    var type = element.type;\n    return element.hasAttribute('data-rr-is-password')\n        ? 'password'\n        : type\n            ? // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n                toLowerCase(type)\n            : null;\n}\n//# sourceMappingURL=get-input-type.js.map","import { __assign, __extends } from \"tslib\";\nimport { Config, Logger, FetchTransport, LogLevel } from '@amplitude/analytics-core';\nimport { DEFAULT_PERFORMANCE_CONFIG, DEFAULT_SAMPLE_RATE, DEFAULT_SERVER_ZONE, DEFAULT_URL_CHANGE_POLLING_INTERVAL, } from '../constants';\nimport { SafeLoggerProvider } from '../logger';\nimport { validateUGCFilterRules } from '../helpers';\nexport var getDefaultConfig = function () { return ({\n    flushMaxRetries: 2,\n    logLevel: LogLevel.Warn,\n    loggerProvider: new Logger(),\n    transportProvider: new FetchTransport(),\n}); };\nvar SessionReplayLocalConfig = /** @class */ (function (_super) {\n    __extends(SessionReplayLocalConfig, _super);\n    function SessionReplayLocalConfig(apiKey, options) {\n        var _this = this;\n        var _a, _b, _c, _d, _e, _f;\n        var defaultConfig = getDefaultConfig();\n        _this = _super.call(this, __assign(__assign({ transportProvider: defaultConfig.transportProvider, loggerProvider: new SafeLoggerProvider(options.loggerProvider || defaultConfig.loggerProvider) }, options), { apiKey: apiKey })) || this;\n        _this.flushMaxRetries =\n            options.flushMaxRetries !== undefined && options.flushMaxRetries <= defaultConfig.flushMaxRetries\n                ? options.flushMaxRetries\n                : defaultConfig.flushMaxRetries;\n        _this.apiKey = apiKey;\n        _this.sampleRate = options.sampleRate || DEFAULT_SAMPLE_RATE;\n        _this.serverZone = options.serverZone || DEFAULT_SERVER_ZONE;\n        _this.configServerUrl = options.configServerUrl;\n        _this.trackServerUrl = options.trackServerUrl;\n        _this.shouldInlineStylesheet = options.shouldInlineStylesheet;\n        _this.version = options.version;\n        _this.performanceConfig = options.performanceConfig || DEFAULT_PERFORMANCE_CONFIG;\n        _this.storeType = (_a = options.storeType) !== null && _a !== void 0 ? _a : 'idb';\n        _this.applyBackgroundColorToBlockedElements = (_b = options.applyBackgroundColorToBlockedElements) !== null && _b !== void 0 ? _b : false;\n        _this.enableUrlChangePolling = (_c = options.enableUrlChangePolling) !== null && _c !== void 0 ? _c : false;\n        _this.urlChangePollingInterval = (_d = options.urlChangePollingInterval) !== null && _d !== void 0 ? _d : DEFAULT_URL_CHANGE_POLLING_INTERVAL;\n        _this.captureDocumentTitle = (_e = options.captureDocumentTitle) !== null && _e !== void 0 ? _e : false;\n        if (options.privacyConfig) {\n            _this.privacyConfig = options.privacyConfig;\n        }\n        if (options.interactionConfig) {\n            _this.interactionConfig = options.interactionConfig;\n            // validate ugcFilterRules, throw error if invalid - throw error at the beginning of the config\n            if (_this.interactionConfig.ugcFilterRules) {\n                validateUGCFilterRules(_this.interactionConfig.ugcFilterRules);\n            }\n        }\n        if (options.debugMode) {\n            _this.debugMode = options.debugMode;\n        }\n        // Support both new useWebWorker and legacy experimental.useWebWorker for backwards compatibility\n        if (options.useWebWorker !== undefined) {\n            _this.useWebWorker = options.useWebWorker;\n        }\n        else {\n            var legacyOptions = options;\n            if (((_f = legacyOptions.experimental) === null || _f === void 0 ? void 0 : _f.useWebWorker) !== undefined) {\n                _this.useWebWorker = legacyOptions.experimental.useWebWorker;\n            }\n        }\n        if (options.omitElementTags) {\n            _this.omitElementTags = options.omitElementTags;\n        }\n        return _this;\n    }\n    return SessionReplayLocalConfig;\n}(Config));\nexport { SessionReplayLocalConfig };\n//# sourceMappingURL=local-config.js.map","var EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nvar ReplayerEvents = /* @__PURE__ */ ((ReplayerEvents2) => {\n  ReplayerEvents2[\"Start\"] = \"start\";\n  ReplayerEvents2[\"Pause\"] = \"pause\";\n  ReplayerEvents2[\"Resume\"] = \"resume\";\n  ReplayerEvents2[\"Resize\"] = \"resize\";\n  ReplayerEvents2[\"Finish\"] = \"finish\";\n  ReplayerEvents2[\"FullsnapshotRebuilded\"] = \"fullsnapshot-rebuilded\";\n  ReplayerEvents2[\"LoadStylesheetStart\"] = \"load-stylesheet-start\";\n  ReplayerEvents2[\"LoadStylesheetEnd\"] = \"load-stylesheet-end\";\n  ReplayerEvents2[\"SkipStart\"] = \"skip-start\";\n  ReplayerEvents2[\"SkipEnd\"] = \"skip-end\";\n  ReplayerEvents2[\"MouseInteraction\"] = \"mouse-interaction\";\n  ReplayerEvents2[\"EventCast\"] = \"event-cast\";\n  ReplayerEvents2[\"CustomEvent\"] = \"custom-event\";\n  ReplayerEvents2[\"Flush\"] = \"flush\";\n  ReplayerEvents2[\"StateChange\"] = \"state-change\";\n  ReplayerEvents2[\"PlayBack\"] = \"play-back\";\n  ReplayerEvents2[\"Destroy\"] = \"destroy\";\n  return ReplayerEvents2;\n})(ReplayerEvents || {});\nvar NodeType = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType || {});\nexport {\n  CanvasContext,\n  EventType,\n  IncrementalSource,\n  MediaInteractions,\n  MouseInteractions,\n  NodeType,\n  PointerTypes,\n  ReplayerEvents\n};\n//# sourceMappingURL=rrweb-types.js.map\n","import { __assign, __awaiter, __generator, __read, __values } from \"tslib\";\nimport { RemoteConfigClient } from '@amplitude/analytics-core';\nimport { getDebugConfig } from '../helpers';\nimport { SessionReplayLocalConfig } from './local-config';\nexport var removeInvalidSelectorsFromPrivacyConfig = function (privacyConfig, loggerProvider) {\n    // This allows us to not search the DOM.\n    var fragment = document.createDocumentFragment();\n    var dropInvalidSelectors = function (selectors) {\n        if (selectors === void 0) { selectors = []; }\n        if (typeof selectors === 'string') {\n            selectors = [selectors];\n        }\n        selectors = selectors.filter(function (selector) {\n            try {\n                fragment.querySelector(selector);\n            }\n            catch (_a) {\n                loggerProvider.warn(\"[session-replay-browser] omitting selector \\\"\".concat(selector, \"\\\" because it is invalid\"));\n                return false;\n            }\n            return true;\n        });\n        if (selectors.length === 0) {\n            return undefined;\n        }\n        return selectors;\n    };\n    privacyConfig.blockSelector = dropInvalidSelectors(privacyConfig.blockSelector);\n    privacyConfig.maskSelector = dropInvalidSelectors(privacyConfig.maskSelector);\n    privacyConfig.unmaskSelector = dropInvalidSelectors(privacyConfig.unmaskSelector);\n    return privacyConfig;\n};\nvar SessionReplayJoinedConfigGenerator = /** @class */ (function () {\n    function SessionReplayJoinedConfigGenerator(remoteConfigClient, localConfig) {\n        this.localConfig = localConfig;\n        this.remoteConfigClient = remoteConfigClient;\n    }\n    SessionReplayJoinedConfigGenerator.prototype.generateJoinedConfig = function () {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function () {\n            var config, sessionReplayRemoteConfig, error_1, samplingConfig, remotePrivacyConfig, targetingConfig, localPrivacyConfig, joinedPrivacyConfig, privacyConfigSelectorMap, selectorMap, _d, _e, _f, selector, selectorType;\n            var e_1, _g;\n            var _this = this;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        config = __assign({}, this.localConfig);\n                        // Special case here as optOut is implemented via getter/setter\n                        config.optOut = this.localConfig.optOut;\n                        // We always want captureEnabled to be true, unless there's an override\n                        // in the remote config.\n                        config.captureEnabled = true;\n                        _h.label = 1;\n                    case 1:\n                        _h.trys.push([1, 3, , 4]);\n                        // Subscribe to remote config client to get the config (uses cache if available)\n                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                _this.remoteConfigClient.subscribe('configs.sessionReplay', 'all', function (remoteConfig, source) {\n                                    var _a;\n                                    _this.localConfig.loggerProvider.debug(\"Session Replay remote configuration received from \".concat(source, \":\"), JSON.stringify(remoteConfig, null, 2));\n                                    if (!remoteConfig) {\n                                        reject(new Error('No remote config received'));\n                                        return;\n                                    }\n                                    // remoteConfig is already filtered to 'configs.sessionReplay' namespace\n                                    var namespaceConfig = remoteConfig;\n                                    var samplingConfig = namespaceConfig.sr_sampling_config;\n                                    var privacyConfig = namespaceConfig.sr_privacy_config;\n                                    var targetingConfig = namespaceConfig.sr_targeting_config;\n                                    var ugcFilterRules = (_a = config.interactionConfig) === null || _a === void 0 ? void 0 : _a.ugcFilterRules;\n                                    // This is intentionally forced to only be set through the remote config.\n                                    config.interactionConfig = namespaceConfig.sr_interaction_config;\n                                    if (config.interactionConfig && ugcFilterRules) {\n                                        config.interactionConfig.ugcFilterRules = ugcFilterRules;\n                                    }\n                                    // This is intentionally forced to only be set through the remote config.\n                                    config.loggingConfig = namespaceConfig.sr_logging_config;\n                                    if (samplingConfig || privacyConfig || targetingConfig) {\n                                        sessionReplayRemoteConfig = {};\n                                        if (samplingConfig) {\n                                            sessionReplayRemoteConfig.sr_sampling_config = samplingConfig;\n                                        }\n                                        if (privacyConfig) {\n                                            sessionReplayRemoteConfig.sr_privacy_config = privacyConfig;\n                                        }\n                                        if (targetingConfig) {\n                                            sessionReplayRemoteConfig.sr_targeting_config = targetingConfig;\n                                        }\n                                    }\n                                    // Resolve on first callback\n                                    resolve();\n                                });\n                            })];\n                    case 2:\n                        // Subscribe to remote config client to get the config (uses cache if available)\n                        _h.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_1 = _h.sent();\n                        this.localConfig.loggerProvider.error('Failed to generate joined config: ', error_1);\n                        config.captureEnabled = false;\n                        return [2 /*return*/, {\n                                localConfig: this.localConfig,\n                                joinedConfig: config,\n                                remoteConfig: undefined,\n                            }];\n                    case 4:\n                        if (!sessionReplayRemoteConfig) {\n                            return [2 /*return*/, {\n                                    localConfig: this.localConfig,\n                                    joinedConfig: config,\n                                    remoteConfig: sessionReplayRemoteConfig,\n                                }];\n                        }\n                        samplingConfig = sessionReplayRemoteConfig.sr_sampling_config, remotePrivacyConfig = sessionReplayRemoteConfig.sr_privacy_config, targetingConfig = sessionReplayRemoteConfig.sr_targeting_config;\n                        if (samplingConfig && Object.keys(samplingConfig).length > 0) {\n                            if (Object.prototype.hasOwnProperty.call(samplingConfig, 'capture_enabled')) {\n                                config.captureEnabled = samplingConfig.capture_enabled;\n                            }\n                            else {\n                                config.captureEnabled = false;\n                            }\n                            if (Object.prototype.hasOwnProperty.call(samplingConfig, 'sample_rate')) {\n                                config.sampleRate = samplingConfig.sample_rate;\n                            }\n                        }\n                        else {\n                            // If config API response was valid (ie 200), but no config returned, assume that\n                            // customer has not yet set up config, and use sample rate from SDK options,\n                            // allowing for immediate replay capture\n                            config.captureEnabled = true;\n                            this.localConfig.loggerProvider.debug('Remote config successfully fetched, but no values set for project, Session Replay capture enabled.');\n                        }\n                        // Remote config join acts somewhat like a left join between the remote and the local\n                        // config. That is, remote config has precedence over local values as with sampling.\n                        // However, non conflicting values will be added to the lists.\n                        // Here's an example to illustrate:\n                        //\n                        // Remote config:   {'.selector1': 'MASK',   '.selector2': 'UNMASK'}\n                        // Local config:    {'.selector1': 'UNMASK',                         '.selector3': 'MASK'}\n                        //\n                        // Resolved config: {'.selector1': 'MASK',   '.selector2': 'UNMASK', '.selector3': 'MASK'}\n                        // config.privacyConfig = {\n                        //   ...(config.privacyConfig ?? {}),\n                        //   ...remotePrivacyConfig,\n                        // };\n                        if (remotePrivacyConfig) {\n                            localPrivacyConfig = (_a = config.privacyConfig) !== null && _a !== void 0 ? _a : {};\n                            joinedPrivacyConfig = {\n                                defaultMaskLevel: (_c = (_b = remotePrivacyConfig.defaultMaskLevel) !== null && _b !== void 0 ? _b : localPrivacyConfig.defaultMaskLevel) !== null && _c !== void 0 ? _c : 'medium',\n                                blockSelector: [],\n                                maskSelector: [],\n                                unmaskSelector: [],\n                            };\n                            privacyConfigSelectorMap = function (privacyConfig) {\n                                var e_2, _a, e_3, _b, e_4, _c;\n                                var _d, _e, _f;\n                                var selectorMap = {};\n                                if (typeof privacyConfig.blockSelector === 'string') {\n                                    privacyConfig.blockSelector = [privacyConfig.blockSelector];\n                                }\n                                try {\n                                    for (var _g = __values((_d = privacyConfig.blockSelector) !== null && _d !== void 0 ? _d : []), _h = _g.next(); !_h.done; _h = _g.next()) {\n                                        var selector = _h.value;\n                                        selectorMap[selector] = 'block';\n                                    }\n                                }\n                                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                                finally {\n                                    try {\n                                        if (_h && !_h.done && (_a = _g.return)) _a.call(_g);\n                                    }\n                                    finally { if (e_2) throw e_2.error; }\n                                }\n                                try {\n                                    for (var _j = __values((_e = privacyConfig.maskSelector) !== null && _e !== void 0 ? _e : []), _k = _j.next(); !_k.done; _k = _j.next()) {\n                                        var selector = _k.value;\n                                        selectorMap[selector] = 'mask';\n                                    }\n                                }\n                                catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                                finally {\n                                    try {\n                                        if (_k && !_k.done && (_b = _j.return)) _b.call(_j);\n                                    }\n                                    finally { if (e_3) throw e_3.error; }\n                                }\n                                try {\n                                    for (var _l = __values((_f = privacyConfig.unmaskSelector) !== null && _f !== void 0 ? _f : []), _m = _l.next(); !_m.done; _m = _l.next()) {\n                                        var selector = _m.value;\n                                        selectorMap[selector] = 'unmask';\n                                    }\n                                }\n                                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                                finally {\n                                    try {\n                                        if (_m && !_m.done && (_c = _l.return)) _c.call(_l);\n                                    }\n                                    finally { if (e_4) throw e_4.error; }\n                                }\n                                return selectorMap;\n                            };\n                            selectorMap = __assign(__assign({}, privacyConfigSelectorMap(localPrivacyConfig)), privacyConfigSelectorMap(remotePrivacyConfig));\n                            try {\n                                for (_d = __values(Object.entries(selectorMap)), _e = _d.next(); !_e.done; _e = _d.next()) {\n                                    _f = __read(_e.value, 2), selector = _f[0], selectorType = _f[1];\n                                    if (selectorType === 'mask') {\n                                        joinedPrivacyConfig.maskSelector.push(selector);\n                                    }\n                                    else if (selectorType === 'block') {\n                                        joinedPrivacyConfig.blockSelector.push(selector);\n                                    }\n                                    else if (selectorType === 'unmask') {\n                                        joinedPrivacyConfig.unmaskSelector.push(selector);\n                                    }\n                                }\n                            }\n                            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                            finally {\n                                try {\n                                    if (_e && !_e.done && (_g = _d.return)) _g.call(_d);\n                                }\n                                finally { if (e_1) throw e_1.error; }\n                            }\n                            config.privacyConfig = removeInvalidSelectorsFromPrivacyConfig(joinedPrivacyConfig, this.localConfig.loggerProvider);\n                        }\n                        if (targetingConfig && Object.keys(targetingConfig).length > 0) {\n                            config.targetingConfig = targetingConfig;\n                        }\n                        this.localConfig.loggerProvider.debug(JSON.stringify({ name: 'session replay joined config', config: getDebugConfig(config) }, null, 2));\n                        return [2 /*return*/, {\n                                localConfig: this.localConfig,\n                                joinedConfig: config,\n                                remoteConfig: sessionReplayRemoteConfig,\n                            }];\n                }\n            });\n        });\n    };\n    return SessionReplayJoinedConfigGenerator;\n}());\nexport { SessionReplayJoinedConfigGenerator };\nexport var createSessionReplayJoinedConfigGenerator = function (apiKey, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var localConfig, remoteConfigClient;\n    return __generator(this, function (_a) {\n        localConfig = new SessionReplayLocalConfig(apiKey, options);\n        remoteConfigClient = new RemoteConfigClient(apiKey, localConfig.loggerProvider, localConfig.serverZone, options.configServerUrl);\n        return [2 /*return*/, new SessionReplayJoinedConfigGenerator(remoteConfigClient, localConfig)];\n    });\n}); };\n//# sourceMappingURL=joined-config.js.map","var u8 = Uint8Array, u16 = Uint16Array, u32 = Uint32Array;\nvar fleb = new u8([\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  0,\n  1,\n  1,\n  1,\n  1,\n  2,\n  2,\n  2,\n  2,\n  3,\n  3,\n  3,\n  3,\n  4,\n  4,\n  4,\n  4,\n  5,\n  5,\n  5,\n  5,\n  0,\n  /* unused */\n  0,\n  0,\n  /* impossible */\n  0\n]);\nvar fdeb = new u8([\n  0,\n  0,\n  0,\n  0,\n  1,\n  1,\n  2,\n  2,\n  3,\n  3,\n  4,\n  4,\n  5,\n  5,\n  6,\n  6,\n  7,\n  7,\n  8,\n  8,\n  9,\n  9,\n  10,\n  10,\n  11,\n  11,\n  12,\n  12,\n  13,\n  13,\n  /* unused */\n  0,\n  0\n]);\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\nvar freb = function(eb, start) {\n  var b = new u16(31);\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  }\n  var r = new u32(b[30]);\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n  return [b, r];\n};\nvar _a = freb(fleb, 2), fl = _a[0], revfl = _a[1];\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0), fd = _b[0], revfd = _b[1];\nvar rev = new u16(32768);\nfor (var i = 0; i < 32768; ++i) {\n  var x = (i & 43690) >>> 1 | (i & 21845) << 1;\n  x = (x & 52428) >>> 2 | (x & 13107) << 2;\n  x = (x & 61680) >>> 4 | (x & 3855) << 4;\n  rev[i] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;\n}\nvar hMap = function(cd, mb, r) {\n  var s = cd.length;\n  var i = 0;\n  var l = new u16(mb);\n  for (; i < s; ++i)\n    ++l[cd[i] - 1];\n  var le = new u16(mb);\n  for (i = 0; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n  var co;\n  if (r) {\n    co = new u16(1 << mb);\n    var rvb = 15 - mb;\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        var sv = i << 4 | cd[i];\n        var r_1 = mb - cd[i];\n        var v = le[cd[i] - 1]++ << r_1;\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n    for (i = 0; i < s; ++i)\n      co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];\n  }\n  return co;\n};\nvar flt = new u8(288);\nfor (var i = 0; i < 144; ++i)\n  flt[i] = 8;\nfor (var i = 144; i < 256; ++i)\n  flt[i] = 9;\nfor (var i = 256; i < 280; ++i)\n  flt[i] = 7;\nfor (var i = 280; i < 288; ++i)\n  flt[i] = 8;\nvar fdt = new u8(32);\nfor (var i = 0; i < 32; ++i)\n  fdt[i] = 5;\nvar flm = /* @__PURE__ */ hMap(flt, 9, 0), flrm = /* @__PURE__ */ hMap(flt, 9, 1);\nvar fdm = /* @__PURE__ */ hMap(fdt, 5, 0), fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);\nvar max = function(a) {\n  var m = a[0];\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m)\n      m = a[i];\n  }\n  return m;\n};\nvar bits = function(d, p, m) {\n  var o = p / 8 >> 0;\n  return (d[o] | d[o + 1] << 8) >>> (p & 7) & m;\n};\nvar bits16 = function(d, p) {\n  var o = p / 8 >> 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >>> (p & 7);\n};\nvar shft = function(p) {\n  return (p / 8 >> 0) + (p & 7 && 1);\n};\nvar slc = function(v, s, e) {\n  if (e == null || e > v.length)\n    e = v.length;\n  var n = new (v instanceof u16 ? u16 : v instanceof u32 ? u32 : u8)(e - s);\n  n.set(v.subarray(s, e));\n  return n;\n};\nvar inflt = function(dat, buf, st) {\n  var sl = dat.length;\n  var noBuf = !buf || st;\n  var noSt = !st || st.i;\n  if (!st)\n    st = {};\n  if (!buf)\n    buf = new u8(sl * 3);\n  var cbuf = function(l2) {\n    var bl = buf.length;\n    if (l2 > bl) {\n      var nbuf = new u8(Math.max(bl * 2, l2));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      st.f = final = bits(dat, pos, 1);\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        var s = shft(pos) + 4, l = dat[s - 4] | dat[s - 3] << 8, t = s + l;\n        if (t > sl) {\n          if (noSt)\n            throw \"unexpected EOF\";\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + l);\n        buf.set(dat.subarray(s, t), bt);\n        st.b = bt += l, st.p = pos = t * 8;\n        continue;\n      } else if (type == 1)\n        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n      else if (type == 2) {\n        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        var ldt = new u8(tl);\n        var clt = new u8(19);\n        for (var i = 0; i < hcLen; ++i) {\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n        pos += hcLen * 3;\n        var clb = max(clt), clbmsk = (1 << clb) - 1;\n        if (!noSt && pos + tl * (clb + 7) > tbts)\n          break;\n        var clm = hMap(clt, clb, 1);\n        for (var i = 0; i < tl; ) {\n          var r = clm[bits(dat, pos, clbmsk)];\n          pos += r & 15;\n          var s = r >>> 4;\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            var c = 0, n = 0;\n            if (s == 16)\n              n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n            else if (s == 17)\n              n = 3 + bits(dat, pos, 7), pos += 3;\n            else if (s == 18)\n              n = 11 + bits(dat, pos, 127), pos += 7;\n            while (n--)\n              ldt[i++] = c;\n          }\n        }\n        var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n        lbt = max(lt);\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else\n        throw \"invalid block type\";\n      if (pos > tbts)\n        throw \"unexpected EOF\";\n    }\n    if (noBuf)\n      cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n    var mxa = lbt + dbt + 18;\n    while (noSt || pos + mxa < tbts) {\n      var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n      pos += c & 15;\n      if (pos > tbts)\n        throw \"unexpected EOF\";\n      if (!c)\n        throw \"invalid length/literal\";\n      if (sym < 256)\n        buf[bt++] = sym;\n      else if (sym == 256) {\n        lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        if (sym > 264) {\n          var i = sym - 257, b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        }\n        var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n        if (!d)\n          throw \"invalid distance\";\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts)\n          throw \"unexpected EOF\";\n        if (noBuf)\n          cbuf(bt + 131072);\n        var end = bt + add;\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n        bt = end;\n      }\n    }\n    st.l = lm, st.p = pos, st.b = bt;\n    if (lm)\n      final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n};\nvar wbits = function(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 >> 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n};\nvar wbits16 = function(d, p, v) {\n  v <<= p & 7;\n  var o = p / 8 >> 0;\n  d[o] |= v;\n  d[o + 1] |= v >>> 8;\n  d[o + 2] |= v >>> 16;\n};\nvar hTree = function(d, mb) {\n  var t = [];\n  for (var i = 0; i < d.length; ++i) {\n    if (d[i])\n      t.push({ s: i, f: d[i] });\n  }\n  var s = t.length;\n  var t2 = t.slice();\n  if (!s)\n    return [new u8(0), 0];\n  if (s == 1) {\n    var v = new u8(t[0].s + 1);\n    v[t[0].s] = 1;\n    return [v, 1];\n  }\n  t.sort(function(a, b) {\n    return a.f - b.f;\n  });\n  t.push({ s: -1, f: 25001 });\n  var l = t[0], r = t[1], i0 = 0, i1 = 1, i2 = 2;\n  t[0] = { s: -1, f: l.f + r.f, l, r };\n  while (i1 != s - 1) {\n    l = t[t[i0].f < t[i2].f ? i0++ : i2++];\n    r = t[i0 != i1 && t[i0].f < t[i2].f ? i0++ : i2++];\n    t[i1++] = { s: -1, f: l.f + r.f, l, r };\n  }\n  var maxSym = t2[0].s;\n  for (var i = 1; i < s; ++i) {\n    if (t2[i].s > maxSym)\n      maxSym = t2[i].s;\n  }\n  var tr = new u16(maxSym + 1);\n  var mbt = ln(t[i1 - 1], tr, 0);\n  if (mbt > mb) {\n    var i = 0, dt = 0;\n    var lft = mbt - mb, cst = 1 << lft;\n    t2.sort(function(a, b) {\n      return tr[b.s] - tr[a.s] || a.f - b.f;\n    });\n    for (; i < s; ++i) {\n      var i2_1 = t2[i].s;\n      if (tr[i2_1] > mb) {\n        dt += cst - (1 << mbt - tr[i2_1]);\n        tr[i2_1] = mb;\n      } else\n        break;\n    }\n    dt >>>= lft;\n    while (dt > 0) {\n      var i2_2 = t2[i].s;\n      if (tr[i2_2] < mb)\n        dt -= 1 << mb - tr[i2_2]++ - 1;\n      else\n        ++i;\n    }\n    for (; i >= 0 && dt; --i) {\n      var i2_3 = t2[i].s;\n      if (tr[i2_3] == mb) {\n        --tr[i2_3];\n        ++dt;\n      }\n    }\n    mbt = mb;\n  }\n  return [new u8(tr), mbt];\n};\nvar ln = function(n, l, d) {\n  return n.s == -1 ? Math.max(ln(n.l, l, d + 1), ln(n.r, l, d + 1)) : l[n.s] = d;\n};\nvar lc = function(c) {\n  var s = c.length;\n  while (s && !c[--s])\n    ;\n  var cl = new u16(++s);\n  var cli = 0, cln = c[0], cls = 1;\n  var w = function(v) {\n    cl[cli++] = v;\n  };\n  for (var i = 1; i <= s; ++i) {\n    if (c[i] == cln && i != s)\n      ++cls;\n    else {\n      if (!cln && cls > 2) {\n        for (; cls > 138; cls -= 138)\n          w(32754);\n        if (cls > 2) {\n          w(cls > 10 ? cls - 11 << 5 | 28690 : cls - 3 << 5 | 12305);\n          cls = 0;\n        }\n      } else if (cls > 3) {\n        w(cln), --cls;\n        for (; cls > 6; cls -= 6)\n          w(8304);\n        if (cls > 2)\n          w(cls - 3 << 5 | 8208), cls = 0;\n      }\n      while (cls--)\n        w(cln);\n      cls = 1;\n      cln = c[i];\n    }\n  }\n  return [cl.subarray(0, cli), s];\n};\nvar clen = function(cf, cl) {\n  var l = 0;\n  for (var i = 0; i < cl.length; ++i)\n    l += cf[i] * cl[i];\n  return l;\n};\nvar wfblk = function(out, pos, dat) {\n  var s = dat.length;\n  var o = shft(pos + 2);\n  out[o] = s & 255;\n  out[o + 1] = s >>> 8;\n  out[o + 2] = out[o] ^ 255;\n  out[o + 3] = out[o + 1] ^ 255;\n  for (var i = 0; i < s; ++i)\n    out[o + i + 4] = dat[i];\n  return (o + 4 + s) * 8;\n};\nvar wblk = function(dat, out, final, syms, lf, df, eb, li, bs, bl, p) {\n  wbits(out, p++, final);\n  ++lf[256];\n  var _a2 = hTree(lf, 15), dlt = _a2[0], mlb = _a2[1];\n  var _b2 = hTree(df, 15), ddt = _b2[0], mdb = _b2[1];\n  var _c = lc(dlt), lclt = _c[0], nlc = _c[1];\n  var _d = lc(ddt), lcdt = _d[0], ndc = _d[1];\n  var lcfreq = new u16(19);\n  for (var i = 0; i < lclt.length; ++i)\n    lcfreq[lclt[i] & 31]++;\n  for (var i = 0; i < lcdt.length; ++i)\n    lcfreq[lcdt[i] & 31]++;\n  var _e = hTree(lcfreq, 7), lct = _e[0], mlcb = _e[1];\n  var nlcc = 19;\n  for (; nlcc > 4 && !lct[clim[nlcc - 1]]; --nlcc)\n    ;\n  var flen = bl + 5 << 3;\n  var ftlen = clen(lf, flt) + clen(df, fdt) + eb;\n  var dtlen = clen(lf, dlt) + clen(df, ddt) + eb + 14 + 3 * nlcc + clen(lcfreq, lct) + (2 * lcfreq[16] + 3 * lcfreq[17] + 7 * lcfreq[18]);\n  if (flen <= ftlen && flen <= dtlen)\n    return wfblk(out, p, dat.subarray(bs, bs + bl));\n  var lm, ll, dm, dl;\n  wbits(out, p, 1 + (dtlen < ftlen)), p += 2;\n  if (dtlen < ftlen) {\n    lm = hMap(dlt, mlb, 0), ll = dlt, dm = hMap(ddt, mdb, 0), dl = ddt;\n    var llm = hMap(lct, mlcb, 0);\n    wbits(out, p, nlc - 257);\n    wbits(out, p + 5, ndc - 1);\n    wbits(out, p + 10, nlcc - 4);\n    p += 14;\n    for (var i = 0; i < nlcc; ++i)\n      wbits(out, p + 3 * i, lct[clim[i]]);\n    p += 3 * nlcc;\n    var lcts = [lclt, lcdt];\n    for (var it = 0; it < 2; ++it) {\n      var clct = lcts[it];\n      for (var i = 0; i < clct.length; ++i) {\n        var len = clct[i] & 31;\n        wbits(out, p, llm[len]), p += lct[len];\n        if (len > 15)\n          wbits(out, p, clct[i] >>> 5 & 127), p += clct[i] >>> 12;\n      }\n    }\n  } else {\n    lm = flm, ll = flt, dm = fdm, dl = fdt;\n  }\n  for (var i = 0; i < li; ++i) {\n    if (syms[i] > 255) {\n      var len = syms[i] >>> 18 & 31;\n      wbits16(out, p, lm[len + 257]), p += ll[len + 257];\n      if (len > 7)\n        wbits(out, p, syms[i] >>> 23 & 31), p += fleb[len];\n      var dst = syms[i] & 31;\n      wbits16(out, p, dm[dst]), p += dl[dst];\n      if (dst > 3)\n        wbits16(out, p, syms[i] >>> 5 & 8191), p += fdeb[dst];\n    } else {\n      wbits16(out, p, lm[syms[i]]), p += ll[syms[i]];\n    }\n  }\n  wbits16(out, p, lm[256]);\n  return p + ll[256];\n};\nvar deo = /* @__PURE__ */ new u32([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]);\nvar dflt = function(dat, lvl, plvl, pre, post, lst) {\n  var s = dat.length;\n  var o = new u8(pre + s + 5 * (1 + Math.floor(s / 7e3)) + post);\n  var w = o.subarray(pre, o.length - post);\n  var pos = 0;\n  if (!lvl || s < 8) {\n    for (var i = 0; i <= s; i += 65535) {\n      var e = i + 65535;\n      if (e < s) {\n        pos = wfblk(w, pos, dat.subarray(i, e));\n      } else {\n        w[i] = lst;\n        pos = wfblk(w, pos, dat.subarray(i, s));\n      }\n    }\n  } else {\n    var opt = deo[lvl - 1];\n    var n = opt >>> 13, c = opt & 8191;\n    var msk_1 = (1 << plvl) - 1;\n    var prev = new u16(32768), head = new u16(msk_1 + 1);\n    var bs1_1 = Math.ceil(plvl / 3), bs2_1 = 2 * bs1_1;\n    var hsh = function(i2) {\n      return (dat[i2] ^ dat[i2 + 1] << bs1_1 ^ dat[i2 + 2] << bs2_1) & msk_1;\n    };\n    var syms = new u32(25e3);\n    var lf = new u16(288), df = new u16(32);\n    var lc_1 = 0, eb = 0, i = 0, li = 0, wi = 0, bs = 0;\n    for (; i < s; ++i) {\n      var hv = hsh(i);\n      var imod = i & 32767;\n      var pimod = head[hv];\n      prev[imod] = pimod;\n      head[hv] = imod;\n      if (wi <= i) {\n        var rem = s - i;\n        if ((lc_1 > 7e3 || li > 24576) && rem > 423) {\n          pos = wblk(dat, w, 0, syms, lf, df, eb, li, bs, i - bs, pos);\n          li = lc_1 = eb = 0, bs = i;\n          for (var j = 0; j < 286; ++j)\n            lf[j] = 0;\n          for (var j = 0; j < 30; ++j)\n            df[j] = 0;\n        }\n        var l = 2, d = 0, ch_1 = c, dif = imod - pimod & 32767;\n        if (rem > 2 && hv == hsh(i - dif)) {\n          var maxn = Math.min(n, rem) - 1;\n          var maxd = Math.min(32767, i);\n          var ml = Math.min(258, rem);\n          while (dif <= maxd && --ch_1 && imod != pimod) {\n            if (dat[i + l] == dat[i + l - dif]) {\n              var nl = 0;\n              for (; nl < ml && dat[i + nl] == dat[i + nl - dif]; ++nl)\n                ;\n              if (nl > l) {\n                l = nl, d = dif;\n                if (nl > maxn)\n                  break;\n                var mmd = Math.min(dif, nl - 2);\n                var md = 0;\n                for (var j = 0; j < mmd; ++j) {\n                  var ti = i - dif + j + 32768 & 32767;\n                  var pti = prev[ti];\n                  var cd = ti - pti + 32768 & 32767;\n                  if (cd > md)\n                    md = cd, pimod = ti;\n                }\n              }\n            }\n            imod = pimod, pimod = prev[imod];\n            dif += imod - pimod + 32768 & 32767;\n          }\n        }\n        if (d) {\n          syms[li++] = 268435456 | revfl[l] << 18 | revfd[d];\n          var lin = revfl[l] & 31, din = revfd[d] & 31;\n          eb += fleb[lin] + fdeb[din];\n          ++lf[257 + lin];\n          ++df[din];\n          wi = i + l;\n          ++lc_1;\n        } else {\n          syms[li++] = dat[i];\n          ++lf[dat[i]];\n        }\n      }\n    }\n    pos = wblk(dat, w, lst, syms, lf, df, eb, li, bs, i - bs, pos);\n  }\n  return slc(o, 0, pre + shft(pos) + post);\n};\nvar adler = function() {\n  var a = 1, b = 0;\n  return {\n    p: function(d) {\n      var n = a, m = b;\n      var l = d.length;\n      for (var i = 0; i != l; ) {\n        var e = Math.min(i + 5552, l);\n        for (; i < e; ++i)\n          n += d[i], m += n;\n        n %= 65521, m %= 65521;\n      }\n      a = n, b = m;\n    },\n    d: function() {\n      return (a >>> 8 << 16 | (b & 255) << 8 | b >>> 8) + ((a & 255) << 23) * 2;\n    }\n  };\n};\nvar dopt = function(dat, opt, pre, post, st) {\n  return dflt(dat, opt.level == null ? 6 : opt.level, opt.mem == null ? Math.ceil(Math.max(8, Math.min(13, Math.log(dat.length))) * 1.5) : 12 + opt.mem, pre, post, true);\n};\nvar wbytes = function(d, b, v) {\n  for (; v; ++b)\n    d[b] = v, v >>>= 8;\n};\nvar zlh = function(c, o) {\n  var lv = o.level, fl2 = lv == 0 ? 0 : lv < 6 ? 1 : lv == 9 ? 3 : 2;\n  c[0] = 120, c[1] = fl2 << 6 | (fl2 ? 32 - 2 * fl2 : 1);\n};\nvar zlv = function(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31)\n    throw \"invalid zlib data\";\n  if (d[1] & 32)\n    throw \"invalid zlib data: preset dictionaries not supported\";\n};\nfunction zlibSync(data, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  var a = adler();\n  a.p(data);\n  var d = dopt(data, opts, 2, 4);\n  return zlh(d, opts), wbytes(d, d.length - 4, a.d()), d;\n}\nfunction unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n}\nfunction strToU8(str, latin1) {\n  var l = str.length;\n  if (!latin1 && typeof TextEncoder != \"undefined\")\n    return new TextEncoder().encode(str);\n  var ar = new u8(str.length + (str.length >>> 1));\n  var ai = 0;\n  var w = function(v) {\n    ar[ai++] = v;\n  };\n  for (var i = 0; i < l; ++i) {\n    if (ai + 5 > ar.length) {\n      var n = new u8(ai + 8 + (l - i << 1));\n      n.set(ar);\n      ar = n;\n    }\n    var c = str.charCodeAt(i);\n    if (c < 128 || latin1)\n      w(c);\n    else if (c < 2048)\n      w(192 | c >>> 6), w(128 | c & 63);\n    else if (c > 55295 && c < 57344)\n      c = 65536 + (c & 1023 << 10) | str.charCodeAt(++i) & 1023, w(240 | c >>> 18), w(128 | c >>> 12 & 63), w(128 | c >>> 6 & 63), w(128 | c & 63);\n    else\n      w(224 | c >>> 12), w(128 | c >>> 6 & 63), w(128 | c & 63);\n  }\n  return slc(ar, 0, ai);\n}\nfunction strFromU8(dat, latin1) {\n  var r = \"\";\n  if (!latin1 && typeof TextDecoder != \"undefined\")\n    return new TextDecoder().decode(dat);\n  for (var i = 0; i < dat.length; ) {\n    var c = dat[i++];\n    if (c < 128 || latin1)\n      r += String.fromCharCode(c);\n    else if (c < 224)\n      r += String.fromCharCode((c & 31) << 6 | dat[i++] & 63);\n    else if (c < 240)\n      r += String.fromCharCode((c & 15) << 12 | (dat[i++] & 63) << 6 | dat[i++] & 63);\n    else\n      c = ((c & 15) << 18 | (dat[i++] & 63) << 12 | (dat[i++] & 63) << 6 | dat[i++] & 63) - 65536, r += String.fromCharCode(55296 | c >> 10, 56320 | c & 1023);\n  }\n  return r;\n}\nconst MARK = \"v1\";\nexport {\n  MARK as M,\n  strToU8 as a,\n  strFromU8 as s,\n  unzlibSync as u,\n  zlibSync as z\n};\n//# sourceMappingURL=base-Dgki_PiJ.js.map\n","import { M as MARK, s as strFromU8, z as zlibSync, a as strToU8 } from \"./base-Dgki_PiJ.js\";\nconst pack = (event) => {\n  const _e = {\n    ...event,\n    v: MARK\n  };\n  return strFromU8(zlibSync(strToU8(JSON.stringify(_e))), true);\n};\nexport {\n  pack\n};\n//# sourceMappingURL=pack.js.map\n","import { getGlobalScope } from '@amplitude/analytics-core';\nimport { pack } from '@amplitude/rrweb-packer';\nvar DEFAULT_TIMEOUT = 2000;\nvar EventCompressor = /** @class */ (function () {\n    function EventCompressor(eventsManager, config, deviceId, workerScript) {\n        var _this = this;\n        var _a;\n        this.taskQueue = [];\n        this.isProcessing = false;\n        this.compressEvent = function (event) {\n            var packedEvent = pack(event);\n            return JSON.stringify(packedEvent);\n        };\n        this.addCompressedEventToManager = function (compressedEvent, sessionId) {\n            if (_this.eventsManager && _this.deviceId) {\n                _this.eventsManager.addEvent({\n                    event: { type: 'replay', data: compressedEvent },\n                    sessionId: sessionId,\n                    deviceId: _this.deviceId,\n                });\n            }\n        };\n        this.addCompressedEvent = function (event, sessionId) {\n            if (_this.worker) {\n                // This indirectly compresses the event.\n                try {\n                    _this.worker.postMessage({ event: event, sessionId: sessionId });\n                }\n                catch (err) {\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    if (err.name === 'DataCloneError') {\n                        // fallback: serialize\n                        _this.worker.postMessage(JSON.stringify({ event: event, sessionId: sessionId }));\n                    }\n                    else {\n                        _this.config.loggerProvider.warn('Unexpected error while posting message to worker:', err);\n                    }\n                }\n            }\n            else {\n                var compressedEvent = _this.compressEvent(event);\n                _this.addCompressedEventToManager(compressedEvent, sessionId);\n            }\n        };\n        this.terminate = function () {\n            var _a;\n            (_a = _this.worker) === null || _a === void 0 ? void 0 : _a.terminate();\n        };\n        var globalScope = getGlobalScope();\n        this.canUseIdleCallback = globalScope && 'requestIdleCallback' in globalScope;\n        this.eventsManager = eventsManager;\n        this.config = config;\n        this.deviceId = deviceId;\n        this.timeout = ((_a = config.performanceConfig) === null || _a === void 0 ? void 0 : _a.timeout) || DEFAULT_TIMEOUT;\n        if (workerScript) {\n            config.loggerProvider.log('Enabling web worker for compression');\n            var worker = new Worker(URL.createObjectURL(new Blob([workerScript], { type: 'application/javascript' })));\n            worker.onerror = function (e) {\n                config.loggerProvider.error(e);\n            };\n            worker.onmessage = function (e) {\n                var _a = e.data, compressedEvent = _a.compressedEvent, sessionId = _a.sessionId;\n                _this.addCompressedEventToManager(compressedEvent, sessionId);\n            };\n            this.worker = worker;\n        }\n    }\n    // Schedule processing during idle time\n    EventCompressor.prototype.scheduleIdleProcessing = function () {\n        var _this = this;\n        if (!this.isProcessing) {\n            this.isProcessing = true;\n            requestIdleCallback(function (idleDeadline) {\n                _this.processQueue(idleDeadline);\n            }, { timeout: this.timeout });\n        }\n    };\n    // Add an event to the task queue if idle callback is supported or compress the event directly\n    EventCompressor.prototype.enqueueEvent = function (event, sessionId) {\n        var _a;\n        if (this.canUseIdleCallback && ((_a = this.config.performanceConfig) === null || _a === void 0 ? void 0 : _a.enabled)) {\n            this.config.loggerProvider.debug('Enqueuing event for processing during idle time.');\n            this.taskQueue.push({ event: event, sessionId: sessionId });\n            this.scheduleIdleProcessing();\n        }\n        else {\n            this.config.loggerProvider.debug('Processing event without idle callback.');\n            this.addCompressedEvent(event, sessionId);\n        }\n    };\n    // Process the task queue during idle time\n    EventCompressor.prototype.processQueue = function (idleDeadline) {\n        var _this = this;\n        // Process tasks while there's idle time or until the max number of tasks is reached\n        while (this.taskQueue.length > 0 && (idleDeadline.timeRemaining() > 0 || idleDeadline.didTimeout)) {\n            var task = this.taskQueue.shift();\n            if (task) {\n                var event_1 = task.event, sessionId = task.sessionId;\n                this.addCompressedEvent(event_1, sessionId);\n            }\n        }\n        // If there are still tasks in the queue, schedule the next idle callback\n        if (this.taskQueue.length > 0) {\n            requestIdleCallback(function (idleDeadline) {\n                _this.processQueue(idleDeadline);\n            }, { timeout: this.timeout });\n        }\n        else {\n            this.isProcessing = false;\n        }\n    };\n    return EventCompressor;\n}());\nexport { EventCompressor };\n//# sourceMappingURL=event-compressor.js.map","export var UNEXPECTED_ERROR_MESSAGE = 'Unexpected error occurred';\nexport var UNEXPECTED_NETWORK_ERROR_MESSAGE = 'Network error occurred, event batch rejected';\nexport var MAX_RETRIES_EXCEEDED_MESSAGE = 'Session replay event batch rejected due to exceeded retry count';\nexport var STORAGE_FAILURE = 'Failed to store session replay events in IndexedDB';\nexport var MISSING_DEVICE_ID_MESSAGE = 'Session replay event batch not sent due to missing device ID';\nexport var MISSING_API_KEY_MESSAGE = 'Session replay event batch not sent due to missing api key';\n//# sourceMappingURL=messages.js.map","// Autogenerated by `yarn version-file`. DO NOT EDIT\nexport var VERSION = '1.30.4';\n//# sourceMappingURL=version.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { BaseTransport, Status } from '@amplitude/analytics-core';\nimport { getCurrentUrl, getServerUrl } from './helpers';\nimport { MAX_RETRIES_EXCEEDED_MESSAGE, MISSING_API_KEY_MESSAGE, MISSING_DEVICE_ID_MESSAGE, UNEXPECTED_ERROR_MESSAGE, UNEXPECTED_NETWORK_ERROR_MESSAGE, } from './messages';\nimport { VERSION } from './version';\nimport { MAX_URL_LENGTH, KB_SIZE } from './constants';\nvar SessionReplayTrackDestination = /** @class */ (function () {\n    function SessionReplayTrackDestination(_a) {\n        var trackServerUrl = _a.trackServerUrl, loggerProvider = _a.loggerProvider, payloadBatcher = _a.payloadBatcher;\n        this.storageKey = '';\n        this.retryTimeout = 1000;\n        this.scheduled = null;\n        this.queue = [];\n        this.loggerProvider = loggerProvider;\n        this.payloadBatcher = payloadBatcher ? payloadBatcher : function (payload) { return payload; };\n        this.trackServerUrl = trackServerUrl;\n    }\n    SessionReplayTrackDestination.prototype.sendEventsList = function (destinationData) {\n        this.addToQueue(__assign(__assign({}, destinationData), { attempts: 0, timeout: 0 }));\n    };\n    SessionReplayTrackDestination.prototype.addToQueue = function () {\n        var _this = this;\n        var list = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            list[_i] = arguments[_i];\n        }\n        var tryable = list.filter(function (context) {\n            if (context.attempts < (context.flushMaxRetries || 0)) {\n                context.attempts += 1;\n                return true;\n            }\n            _this.completeRequest({\n                context: context,\n                err: MAX_RETRIES_EXCEEDED_MESSAGE,\n            });\n            return false;\n        });\n        tryable.forEach(function (context) {\n            _this.queue = _this.queue.concat(context);\n            if (context.timeout === 0) {\n                _this.schedule(0);\n                return;\n            }\n            setTimeout(function () {\n                context.timeout = 0;\n                _this.schedule(0);\n            }, context.timeout);\n        });\n    };\n    SessionReplayTrackDestination.prototype.schedule = function (timeout) {\n        var _this = this;\n        if (this.scheduled)\n            return;\n        this.scheduled = setTimeout(function () {\n            void _this.flush(true).then(function () {\n                if (_this.queue.length > 0) {\n                    _this.schedule(timeout);\n                }\n            });\n        }, timeout);\n    };\n    SessionReplayTrackDestination.prototype.flush = function (useRetry) {\n        if (useRetry === void 0) { useRetry = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var list, later;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        list = [];\n                        later = [];\n                        this.queue.forEach(function (context) { return (context.timeout === 0 ? list.push(context) : later.push(context)); });\n                        this.queue = later;\n                        if (this.scheduled) {\n                            clearTimeout(this.scheduled);\n                            this.scheduled = null;\n                        }\n                        return [4 /*yield*/, Promise.all(list.map(function (context) { return _this.send(context, useRetry); }))];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplayTrackDestination.prototype.send = function (context, useRetry) {\n        var _a, _b;\n        if (useRetry === void 0) { useRetry = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            var apiKey, deviceId, url, version, sampleRate, urlParams, sessionReplayLibrary, payload, options, serverUrl, res, responseBody, e_1;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        apiKey = context.apiKey;\n                        if (!apiKey) {\n                            return [2 /*return*/, this.completeRequest({ context: context, err: MISSING_API_KEY_MESSAGE })];\n                        }\n                        deviceId = context.deviceId;\n                        if (!deviceId) {\n                            return [2 /*return*/, this.completeRequest({ context: context, err: MISSING_DEVICE_ID_MESSAGE })];\n                        }\n                        url = getCurrentUrl();\n                        version = VERSION;\n                        sampleRate = context.sampleRate;\n                        urlParams = new URLSearchParams({\n                            device_id: deviceId,\n                            session_id: \"\".concat(context.sessionId),\n                            type: \"\".concat(context.type),\n                        });\n                        sessionReplayLibrary = \"\".concat(((_a = context.version) === null || _a === void 0 ? void 0 : _a.type) || 'standalone', \"/\").concat(((_b = context.version) === null || _b === void 0 ? void 0 : _b.version) || version);\n                        payload = this.payloadBatcher({\n                            version: 1,\n                            events: context.events,\n                        });\n                        if (payload.events.length === 0) {\n                            this.completeRequest({ context: context });\n                            return [2 /*return*/];\n                        }\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        options = {\n                            headers: {\n                                'Content-Type': 'application/json',\n                                Accept: '*/*',\n                                Authorization: \"Bearer \".concat(apiKey),\n                                'X-Client-Version': version,\n                                'X-Client-Library': sessionReplayLibrary,\n                                'X-Client-Url': url.substring(0, MAX_URL_LENGTH),\n                                'X-Client-Sample-Rate': \"\".concat(sampleRate),\n                            },\n                            body: JSON.stringify(payload),\n                            method: 'POST',\n                        };\n                        serverUrl = \"\".concat(getServerUrl(context.serverZone, this.trackServerUrl), \"?\").concat(urlParams.toString());\n                        return [4 /*yield*/, fetch(serverUrl, options)];\n                    case 2:\n                        res = _c.sent();\n                        if (res === null) {\n                            this.completeRequest({ context: context, err: UNEXPECTED_ERROR_MESSAGE });\n                            return [2 /*return*/];\n                        }\n                        if (!useRetry) {\n                            responseBody = '';\n                            try {\n                                responseBody = JSON.stringify(res.body, null, 2);\n                            }\n                            catch (_d) {\n                                // to avoid crash, but don't care about the error, add comment to avoid empty block lint error\n                            }\n                            this.completeRequest({ context: context, success: \"\".concat(res.status, \": \").concat(responseBody) });\n                        }\n                        else {\n                            this.handleReponse(res.status, context);\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _c.sent();\n                        this.completeRequest({ context: context, err: e_1 });\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplayTrackDestination.prototype.handleReponse = function (status, context) {\n        var parsedStatus = new BaseTransport().buildStatus(status);\n        switch (parsedStatus) {\n            case Status.Success:\n                this.handleSuccessResponse(context);\n                break;\n            case Status.Failed:\n                this.handleOtherResponse(context);\n                break;\n            default:\n                this.completeRequest({ context: context, err: UNEXPECTED_NETWORK_ERROR_MESSAGE });\n        }\n    };\n    SessionReplayTrackDestination.prototype.handleSuccessResponse = function (context) {\n        var sizeOfEventsList = Math.round(new Blob(context.events).size / KB_SIZE);\n        this.completeRequest({\n            context: context,\n            success: \"Session replay event batch tracked successfully for session id \".concat(context.sessionId, \", size of events: \").concat(sizeOfEventsList, \" KB\"),\n        });\n    };\n    SessionReplayTrackDestination.prototype.handleOtherResponse = function (context) {\n        this.addToQueue(__assign(__assign({}, context), { timeout: context.attempts * this.retryTimeout }));\n    };\n    SessionReplayTrackDestination.prototype.completeRequest = function (_a) {\n        var context = _a.context, err = _a.err, success = _a.success;\n        void context.onComplete();\n        if (err) {\n            this.loggerProvider.warn(err);\n        }\n        else if (success) {\n            this.loggerProvider.log(success);\n        }\n    };\n    return SessionReplayTrackDestination;\n}());\nexport { SessionReplayTrackDestination };\n//# sourceMappingURL=track-destination.js.map","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","import { __values } from \"tslib\";\nimport { MAX_EVENT_LIST_SIZE, MAX_INTERVAL, MIN_INTERVAL } from '../constants';\nvar BaseEventsStore = /** @class */ (function () {\n    function BaseEventsStore(args) {\n        var _this = this;\n        var _a, _b, _c;\n        this.minInterval = MIN_INTERVAL;\n        this.maxInterval = MAX_INTERVAL;\n        this.maxPersistedEventsSize = MAX_EVENT_LIST_SIZE;\n        this.interval = this.minInterval;\n        this._timeAtLastSplit = Date.now(); // Initialize this so we have a point of comparison when events are recorded\n        /**\n         * Determines whether to send the events list to the backend and start a new\n         * empty events list, based on the size of the list as well as the last time sent\n         * @param nextEventString\n         * @returns boolean\n         */\n        this.shouldSplitEventsList = function (events, nextEventString) {\n            var sizeOfNextEvent = _this.getStringSize(nextEventString);\n            var sizeOfEventsList = _this.getEventsArraySize(events);\n            // Check size constraint first (most likely to trigger)\n            if (sizeOfEventsList + sizeOfNextEvent >= _this.maxPersistedEventsSize) {\n                return true;\n            }\n            if (Date.now() - _this.timeAtLastSplit > _this.interval && events.length) {\n                _this.interval = Math.min(_this.maxInterval, _this.interval + _this.minInterval);\n                _this._timeAtLastSplit = Date.now();\n                return true;\n            }\n            return false;\n        };\n        this.loggerProvider = args.loggerProvider;\n        this.minInterval = (_a = args.minInterval) !== null && _a !== void 0 ? _a : this.minInterval;\n        this.maxInterval = (_b = args.maxInterval) !== null && _b !== void 0 ? _b : this.maxInterval;\n        this.maxPersistedEventsSize = (_c = args.maxPersistedEventsSize) !== null && _c !== void 0 ? _c : this.maxPersistedEventsSize;\n    }\n    Object.defineProperty(BaseEventsStore.prototype, \"timeAtLastSplit\", {\n        get: function () {\n            return this._timeAtLastSplit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Calculates the character length of a string as size approximation\n     * Note: String length closely approximates byte size for most content\n     */\n    BaseEventsStore.prototype.getStringSize = function (str) {\n        return str.length;\n    };\n    /**\n     * Calculates the total character length of events array\n     * Accounts for JSON serialization overhead when sent to backend\n     */\n    BaseEventsStore.prototype.getEventsArraySize = function (events) {\n        var e_1, _a;\n        var totalSize = 0;\n        try {\n            for (var events_1 = __values(events), events_1_1 = events_1.next(); !events_1_1.done; events_1_1 = events_1.next()) {\n                var event_1 = events_1_1.value;\n                totalSize += this.getStringSize(event_1);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (events_1_1 && !events_1_1.done && (_a = events_1.return)) _a.call(events_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        // Additional overhead from using length instead of byte size\n        // - Array brackets: [] = 2 characters\n        // - Commas between events: events.length - 1\n        // - Double quotes around each event: events.length * 2\n        var overhead = 2 + Math.max(0, events.length - 1) + events.length * 2;\n        return totalSize + overhead;\n    };\n    return BaseEventsStore;\n}());\nexport { BaseEventsStore };\n//# sourceMappingURL=base-events-store.js.map","export var RecordingStatus;\n(function (RecordingStatus) {\n    RecordingStatus[\"RECORDING\"] = \"recording\";\n    RecordingStatus[\"SENT\"] = \"sent\";\n})(RecordingStatus || (RecordingStatus = {}));\n//# sourceMappingURL=legacy-idb-types.js.map","import { __assign, __awaiter, __extends, __generator, __read, __spreadArray, __values } from \"tslib\";\nimport { STORAGE_PREFIX, getGlobalScope } from '@amplitude/analytics-core';\nimport { openDB } from 'idb';\nimport { STORAGE_FAILURE } from '../messages';\nimport { BaseEventsStore } from './base-events-store';\nimport { RecordingStatus } from './legacy-idb-types';\nexport var currentSequenceKey = 'sessionCurrentSequence';\nexport var sequencesToSendKey = 'sequencesToSend';\nexport var remoteConfigKey = 'remoteConfig';\nexport var keyValDatabaseExists = function () {\n    var globalScope = getGlobalScope();\n    return new Promise(function (resolve, reject) {\n        if (!globalScope) {\n            return reject(new Error('Global scope not found'));\n        }\n        if (!globalScope.indexedDB) {\n            return reject(new Error('Session Replay: cannot find indexedDB'));\n        }\n        try {\n            var request_1 = globalScope.indexedDB.open('keyval-store');\n            // If the DB doesn't exist, IndexedDB will create it at version 1 and fire `onupgradeneeded`.\n            // In that case, we want to clean it up and resolve (not reject) without emitting noisy AbortErrors.\n            var shouldDeleteNewDb_1 = false;\n            request_1.onupgradeneeded = function () {\n                if (request_1.result.version === 1) {\n                    shouldDeleteNewDb_1 = true;\n                }\n            };\n            request_1.onsuccess = function () {\n                if (shouldDeleteNewDb_1) {\n                    try {\n                        request_1.result.close();\n                    }\n                    catch (_a) {\n                        // ignore\n                    }\n                    try {\n                        globalScope.indexedDB.deleteDatabase('keyval-store');\n                    }\n                    catch (_b) {\n                        // ignore\n                    }\n                    resolve();\n                    return;\n                }\n                resolve(request_1.result);\n            };\n            request_1.onerror = function (event) {\n                var _a;\n                // AbortErrors can occur due to internal IndexedDB cancellation/cleanup and are not actionable.\n                // Prevent the default error event behavior to avoid surfacing it to customer error trackers.\n                if (((_a = request_1.error) === null || _a === void 0 ? void 0 : _a.name) === 'AbortError') {\n                    event.preventDefault();\n                    resolve();\n                    return;\n                }\n                reject(request_1.error);\n            };\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n};\nvar batchPromiseAll = function (promiseBatch) { return __awaiter(void 0, void 0, void 0, function () {\n    var chunkSize, batch;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!(promiseBatch.length > 0)) return [3 /*break*/, 2];\n                chunkSize = 10;\n                batch = promiseBatch.splice(0, chunkSize);\n                return [4 /*yield*/, Promise.all(batch)];\n            case 1:\n                _a.sent();\n                return [3 /*break*/, 0];\n            case 2: return [2 /*return*/];\n        }\n    });\n}); };\nexport var defineObjectStores = function (db) {\n    var sequencesStore;\n    var currentSequenceStore;\n    if (!db.objectStoreNames.contains(currentSequenceKey)) {\n        currentSequenceStore = db.createObjectStore(currentSequenceKey, {\n            keyPath: 'sessionId',\n        });\n    }\n    if (!db.objectStoreNames.contains(sequencesToSendKey)) {\n        sequencesStore = db.createObjectStore(sequencesToSendKey, {\n            keyPath: 'sequenceId',\n            autoIncrement: true,\n        });\n        sequencesStore.createIndex('sessionId', 'sessionId');\n    }\n    return {\n        sequencesStore: sequencesStore,\n        currentSequenceStore: currentSequenceStore,\n    };\n};\nexport var createStore = function (dbName) { return __awaiter(void 0, void 0, void 0, function () {\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0: return [4 /*yield*/, openDB(dbName, 1, {\n                    upgrade: defineObjectStores,\n                })];\n            case 1: return [2 /*return*/, _a.sent()];\n        }\n    });\n}); };\nvar SessionReplayEventsIDBStore = /** @class */ (function (_super) {\n    __extends(SessionReplayEventsIDBStore, _super);\n    function SessionReplayEventsIDBStore(args) {\n        var _this = _super.call(this, args) || this;\n        _this.getSequencesToSend = function () { return __awaiter(_this, void 0, void 0, function () {\n            var sequences, cursor, _a, sessionId, events, e_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 5, , 6]);\n                        sequences = [];\n                        return [4 /*yield*/, this.db.transaction('sequencesToSend').store.openCursor()];\n                    case 1:\n                        cursor = _b.sent();\n                        _b.label = 2;\n                    case 2:\n                        if (!cursor) return [3 /*break*/, 4];\n                        _a = cursor.value, sessionId = _a.sessionId, events = _a.events;\n                        sequences.push({\n                            events: events,\n                            sequenceId: cursor.key,\n                            sessionId: sessionId,\n                        });\n                        return [4 /*yield*/, cursor.continue()];\n                    case 3:\n                        cursor = _b.sent();\n                        return [3 /*break*/, 2];\n                    case 4: return [2 /*return*/, sequences];\n                    case 5:\n                        e_1 = _b.sent();\n                        this.loggerProvider.warn(\"\".concat(STORAGE_FAILURE, \": \").concat(e_1));\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/, undefined];\n                }\n            });\n        }); };\n        _this.storeCurrentSequence = function (sessionId) { return __awaiter(_this, void 0, void 0, function () {\n            var currentSequenceData, sequenceId, e_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        return [4 /*yield*/, this.db.get(currentSequenceKey, sessionId)];\n                    case 1:\n                        currentSequenceData = _a.sent();\n                        if (!currentSequenceData) {\n                            return [2 /*return*/, undefined];\n                        }\n                        return [4 /*yield*/, this.db.put(sequencesToSendKey, {\n                                sessionId: sessionId,\n                                events: currentSequenceData.events,\n                            })];\n                    case 2:\n                        sequenceId = _a.sent();\n                        return [4 /*yield*/, this.db.put(currentSequenceKey, {\n                                sessionId: sessionId,\n                                events: [],\n                            })];\n                    case 3:\n                        _a.sent();\n                        return [2 /*return*/, __assign(__assign({}, currentSequenceData), { sessionId: sessionId, sequenceId: sequenceId })];\n                    case 4:\n                        e_2 = _a.sent();\n                        this.loggerProvider.warn(\"\".concat(STORAGE_FAILURE, \": \").concat(e_2));\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/, undefined];\n                }\n            });\n        }); };\n        _this.addEventToCurrentSequence = function (sessionId, event) { return __awaiter(_this, void 0, void 0, function () {\n            var tx, sequenceEvents, eventsToSend, updatedEvents, sequenceId, e_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 10, , 11]);\n                        tx = this.db.transaction(currentSequenceKey, 'readwrite');\n                        return [4 /*yield*/, tx.store.get(sessionId)];\n                    case 1:\n                        sequenceEvents = _a.sent();\n                        if (!!sequenceEvents) return [3 /*break*/, 3];\n                        return [4 /*yield*/, tx.store.put({ sessionId: sessionId, events: [event] })];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                    case 3:\n                        eventsToSend = void 0;\n                        if (!this.shouldSplitEventsList(sequenceEvents.events, event)) return [3 /*break*/, 5];\n                        eventsToSend = sequenceEvents.events;\n                        // set store to empty array\n                        return [4 /*yield*/, tx.store.put({ sessionId: sessionId, events: [event] })];\n                    case 4:\n                        // set store to empty array\n                        _a.sent();\n                        return [3 /*break*/, 7];\n                    case 5:\n                        updatedEvents = sequenceEvents.events.concat(event);\n                        return [4 /*yield*/, tx.store.put({ sessionId: sessionId, events: updatedEvents })];\n                    case 6:\n                        _a.sent();\n                        _a.label = 7;\n                    case 7: return [4 /*yield*/, tx.done];\n                    case 8:\n                        _a.sent();\n                        if (!eventsToSend) {\n                            return [2 /*return*/, undefined];\n                        }\n                        return [4 /*yield*/, this.storeSendingEvents(sessionId, eventsToSend)];\n                    case 9:\n                        sequenceId = _a.sent();\n                        if (!sequenceId) {\n                            return [2 /*return*/, undefined];\n                        }\n                        return [2 /*return*/, {\n                                events: eventsToSend,\n                                sessionId: sessionId,\n                                sequenceId: sequenceId,\n                            }];\n                    case 10:\n                        e_3 = _a.sent();\n                        this.loggerProvider.warn(\"\".concat(STORAGE_FAILURE, \": \").concat(e_3));\n                        return [3 /*break*/, 11];\n                    case 11: return [2 /*return*/, undefined];\n                }\n            });\n        }); };\n        _this.storeSendingEvents = function (sessionId, events) { return __awaiter(_this, void 0, void 0, function () {\n            var sequenceId, e_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.db.put(sequencesToSendKey, {\n                                sessionId: sessionId,\n                                events: events,\n                            })];\n                    case 1:\n                        sequenceId = _a.sent();\n                        return [2 /*return*/, sequenceId];\n                    case 2:\n                        e_4 = _a.sent();\n                        this.loggerProvider.warn(\"\".concat(STORAGE_FAILURE, \": \").concat(e_4));\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/, undefined];\n                }\n            });\n        }); };\n        _this.cleanUpSessionEventsStore = function (_sessionId, sequenceId) { return __awaiter(_this, void 0, void 0, function () {\n            var e_5;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!sequenceId) {\n                            return [2 /*return*/];\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this.db.delete(sequencesToSendKey, sequenceId)];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_5 = _a.sent();\n                        this.loggerProvider.warn(\"\".concat(STORAGE_FAILURE, \": \").concat(e_5));\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.transitionFromKeyValStore = function (sessionId) { return __awaiter(_this, void 0, void 0, function () {\n            var keyValDb, transitionCurrentSessionSequences_1, storageKey, getAllRequest_1, transitionPromise, globalScope, e_6, e_7;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 6, , 7]);\n                        return [4 /*yield*/, keyValDatabaseExists()];\n                    case 1:\n                        keyValDb = _a.sent();\n                        if (!keyValDb) {\n                            return [2 /*return*/];\n                        }\n                        transitionCurrentSessionSequences_1 = function (numericSessionId, sessionStore) { return __awaiter(_this, void 0, void 0, function () {\n                            var currentSessionSequences, promisesToBatch;\n                            var _this = this;\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0:\n                                        currentSessionSequences = sessionStore.sessionSequences;\n                                        promisesToBatch = [];\n                                        Object.keys(currentSessionSequences).forEach(function (sequenceId) {\n                                            var numericSequenceId = parseInt(sequenceId, 10);\n                                            var sequence = currentSessionSequences[numericSequenceId];\n                                            if (numericSequenceId === sessionStore.currentSequenceId) {\n                                                var eventAddPromises = sequence.events.map(function (event) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n                                                    return [2 /*return*/, this.addEventToCurrentSequence(numericSessionId, event)];\n                                                }); }); });\n                                                promisesToBatch.push.apply(promisesToBatch, __spreadArray([], __read(eventAddPromises), false));\n                                            }\n                                            else if (sequence.status !== RecordingStatus.SENT) {\n                                                promisesToBatch.push(_this.storeSendingEvents(numericSessionId, sequence.events));\n                                            }\n                                        });\n                                        return [4 /*yield*/, batchPromiseAll(promisesToBatch)];\n                                    case 1:\n                                        _a.sent();\n                                        return [2 /*return*/];\n                                }\n                            });\n                        }); };\n                        storageKey = \"\".concat(STORAGE_PREFIX, \"_\").concat(this.apiKey.substring(0, 10));\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        getAllRequest_1 = keyValDb.transaction('keyval').objectStore('keyval').getAll(storageKey);\n                        transitionPromise = new Promise(function (resolve) {\n                            getAllRequest_1.onsuccess = function (e) { return __awaiter(_this, void 0, void 0, function () {\n                                var storedReplaySessionContextList, storedReplaySessionContexts, promisesToBatch_1;\n                                var _this = this;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0:\n                                            storedReplaySessionContextList = e && e.target.result;\n                                            storedReplaySessionContexts = storedReplaySessionContextList && storedReplaySessionContextList[0];\n                                            if (!storedReplaySessionContexts) return [3 /*break*/, 2];\n                                            promisesToBatch_1 = [];\n                                            Object.keys(storedReplaySessionContexts).forEach(function (storedSessionId) {\n                                                var numericSessionId = parseInt(storedSessionId, 10);\n                                                var oldSessionStore = storedReplaySessionContexts[numericSessionId];\n                                                if (sessionId === numericSessionId) {\n                                                    promisesToBatch_1.push(transitionCurrentSessionSequences_1(numericSessionId, oldSessionStore));\n                                                }\n                                                else {\n                                                    var oldSessionSequences_1 = oldSessionStore.sessionSequences;\n                                                    Object.keys(oldSessionSequences_1).forEach(function (sequenceId) {\n                                                        var numericSequenceId = parseInt(sequenceId, 10);\n                                                        if (oldSessionSequences_1[numericSequenceId].status !== RecordingStatus.SENT) {\n                                                            promisesToBatch_1.push(_this.storeSendingEvents(numericSessionId, oldSessionSequences_1[numericSequenceId].events));\n                                                        }\n                                                    });\n                                                }\n                                            });\n                                            return [4 /*yield*/, batchPromiseAll(promisesToBatch_1)];\n                                        case 1:\n                                            _a.sent();\n                                            _a.label = 2;\n                                        case 2:\n                                            resolve();\n                                            return [2 /*return*/];\n                                    }\n                                });\n                            }); };\n                        });\n                        return [4 /*yield*/, transitionPromise];\n                    case 3:\n                        _a.sent();\n                        globalScope = getGlobalScope();\n                        if (globalScope) {\n                            globalScope.indexedDB.deleteDatabase('keyval-store');\n                        }\n                        return [3 /*break*/, 5];\n                    case 4:\n                        e_6 = _a.sent();\n                        this.loggerProvider.warn(\"Failed to transition session replay events from keyval to new store: \".concat(e_6));\n                        return [3 /*break*/, 5];\n                    case 5: return [3 /*break*/, 7];\n                    case 6:\n                        e_7 = _a.sent();\n                        this.loggerProvider.warn(\"Failed to access keyval store: \".concat(e_7, \". For more information, visit: https://www.docs.developers.amplitude.com/session-replay/sdks/standalone/#indexeddb-best-practices\"));\n                        return [3 /*break*/, 7];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.apiKey = args.apiKey;\n        _this.db = args.db;\n        return _this;\n    }\n    SessionReplayEventsIDBStore.new = function (type, args, sessionId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var dbSuffix, dbName, db, eventsIDBStore, e_8;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 3, , 4]);\n                        dbSuffix = type === 'replay' ? '' : \"_\".concat(type);\n                        dbName = \"\".concat(args.apiKey.substring(0, 10), \"_amp_session_replay_events\").concat(dbSuffix);\n                        return [4 /*yield*/, createStore(dbName)];\n                    case 1:\n                        db = _a.sent();\n                        eventsIDBStore = new SessionReplayEventsIDBStore(__assign(__assign({}, args), { db: db }));\n                        return [4 /*yield*/, eventsIDBStore.transitionFromKeyValStore(sessionId)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/, eventsIDBStore];\n                    case 3:\n                        e_8 = _a.sent();\n                        args.loggerProvider.warn(\"\".concat(STORAGE_FAILURE, \": \").concat(e_8));\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplayEventsIDBStore.prototype.getCurrentSequenceEvents = function (sessionId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var events, allEvents, _a, _b, events, e_9_1;\n            var e_9, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        if (!sessionId) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.db.get('sessionCurrentSequence', sessionId)];\n                    case 1:\n                        events = _d.sent();\n                        if (!events) {\n                            return [2 /*return*/, undefined];\n                        }\n                        return [2 /*return*/, [events]];\n                    case 2:\n                        allEvents = [];\n                        _d.label = 3;\n                    case 3:\n                        _d.trys.push([3, 8, 9, 10]);\n                        return [4 /*yield*/, this.db.getAll('sessionCurrentSequence')];\n                    case 4:\n                        _a = __values.apply(void 0, [_d.sent()]), _b = _a.next();\n                        _d.label = 5;\n                    case 5:\n                        if (!!_b.done) return [3 /*break*/, 7];\n                        events = _b.value;\n                        allEvents.push(events);\n                        _d.label = 6;\n                    case 6:\n                        _b = _a.next();\n                        return [3 /*break*/, 5];\n                    case 7: return [3 /*break*/, 10];\n                    case 8:\n                        e_9_1 = _d.sent();\n                        e_9 = { error: e_9_1 };\n                        return [3 /*break*/, 10];\n                    case 9:\n                        try {\n                            if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                        }\n                        finally { if (e_9) throw e_9.error; }\n                        return [7 /*endfinally*/];\n                    case 10: return [2 /*return*/, allEvents];\n                }\n            });\n        });\n    };\n    return SessionReplayEventsIDBStore;\n}(BaseEventsStore));\nexport { SessionReplayEventsIDBStore };\n//# sourceMappingURL=events-idb-store.js.map","/* istanbul ignore file */\nimport { __assign, __generator, __read, __spreadArray, __values } from \"tslib\";\nvar config;\nvar rootDocument;\nvar start;\nexport function finder(input, options) {\n    start = new Date();\n    if (input.nodeType !== Node.ELEMENT_NODE) {\n        throw new Error(\"Can't generate CSS selector for non-element node type.\");\n    }\n    if ('html' === input.tagName.toLowerCase()) {\n        return 'html';\n    }\n    var defaults = {\n        root: document.body,\n        idName: function (_name) { return true; },\n        className: function (_name) { return true; },\n        tagName: function (_name) { return true; },\n        attr: function (_name, _value) { return false; },\n        seedMinLength: 1,\n        optimizedMinLength: 2,\n        threshold: 1000,\n        maxNumberOfTries: 10000,\n        timeoutMs: undefined,\n    };\n    config = __assign(__assign({}, defaults), options);\n    rootDocument = findRootDocument(config.root, defaults);\n    var path = bottomUpSearch(input, 'all', function () {\n        return bottomUpSearch(input, 'two', function () { return bottomUpSearch(input, 'one', function () { return bottomUpSearch(input, 'none'); }); });\n    });\n    if (path) {\n        var optimized = sort(optimize(path, input));\n        if (optimized.length > 0) {\n            path = optimized[0];\n        }\n        return selector(path);\n    }\n    else {\n        throw new Error(\"Selector was not found.\");\n    }\n}\nfunction findRootDocument(rootNode, defaults) {\n    if (rootNode.nodeType === Node.DOCUMENT_NODE) {\n        return rootNode;\n    }\n    if (rootNode === defaults.root) {\n        return rootNode.ownerDocument;\n    }\n    return rootNode;\n}\nfunction bottomUpSearch(input, limit, fallback) {\n    var path = null;\n    var stack = [];\n    var current = input;\n    var i = 0;\n    var _loop_1 = function () {\n        var e_1, _a;\n        var elapsedTime = new Date().getTime() - start.getTime();\n        if (config.timeoutMs !== undefined && elapsedTime > config.timeoutMs) {\n            throw new Error(\"Timeout: Can't find a unique selector after \".concat(elapsedTime, \"ms\"));\n        }\n        var level = maybe(id(current)) || maybe.apply(void 0, __spreadArray([], __read(attr(current)), false)) || maybe.apply(void 0, __spreadArray([], __read(classNames(current)), false)) ||\n            maybe(tagName(current)) || [any()];\n        var nth = index(current);\n        if (limit == 'all') {\n            if (nth) {\n                level = level.concat(level.filter(dispensableNth).map(function (node) { return nthChild(node, nth); }));\n            }\n        }\n        else if (limit == 'two') {\n            level = level.slice(0, 1);\n            if (nth) {\n                level = level.concat(level.filter(dispensableNth).map(function (node) { return nthChild(node, nth); }));\n            }\n        }\n        else if (limit == 'one') {\n            var _b = __read((level = level.slice(0, 1)), 1), node = _b[0];\n            if (nth && dispensableNth(node)) {\n                level = [nthChild(node, nth)];\n            }\n        }\n        else if (limit == 'none') {\n            level = [any()];\n            if (nth) {\n                level = [nthChild(level[0], nth)];\n            }\n        }\n        try {\n            for (var level_1 = (e_1 = void 0, __values(level)), level_1_1 = level_1.next(); !level_1_1.done; level_1_1 = level_1.next()) {\n                var node = level_1_1.value;\n                node.level = i;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (level_1_1 && !level_1_1.done && (_a = level_1.return)) _a.call(level_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        stack.push(level);\n        if (stack.length >= config.seedMinLength) {\n            path = findUniquePath(stack, fallback);\n            if (path) {\n                return \"break\";\n            }\n        }\n        current = current.parentElement;\n        i++;\n    };\n    while (current) {\n        var state_1 = _loop_1();\n        if (state_1 === \"break\")\n            break;\n    }\n    if (!path) {\n        path = findUniquePath(stack, fallback);\n    }\n    if (!path && fallback) {\n        return fallback();\n    }\n    return path;\n}\nfunction findUniquePath(stack, fallback) {\n    var e_2, _a;\n    var paths = sort(combinations(stack));\n    if (paths.length > config.threshold) {\n        return fallback ? fallback() : null;\n    }\n    try {\n        for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n            var candidate = paths_1_1.value;\n            if (unique(candidate)) {\n                return candidate;\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return null;\n}\nfunction selector(path) {\n    var node = path[0];\n    var query = node.name;\n    for (var i = 1; i < path.length; i++) {\n        var level = path[i].level || 0;\n        if (node.level === level - 1) {\n            query = \"\".concat(path[i].name, \" > \").concat(query);\n        }\n        else {\n            query = \"\".concat(path[i].name, \" \").concat(query);\n        }\n        node = path[i];\n    }\n    return query;\n}\nfunction penalty(path) {\n    return path.map(function (node) { return node.penalty; }).reduce(function (acc, i) { return acc + i; }, 0);\n}\nfunction unique(path) {\n    var css = selector(path);\n    switch (rootDocument.querySelectorAll(css).length) {\n        case 0:\n            throw new Error(\"Can't select any node with this selector: \".concat(css));\n        case 1:\n            return true;\n        default:\n            return false;\n    }\n}\nfunction id(input) {\n    var elementId = input.getAttribute('id');\n    if (elementId && config.idName(elementId)) {\n        return {\n            name: '#' + CSS.escape(elementId),\n            penalty: 0,\n        };\n    }\n    return null;\n}\nfunction attr(input) {\n    var attrs = Array.from(input.attributes).filter(function (attr) { return config.attr(attr.name, attr.value); });\n    return attrs.map(function (attr) { return ({\n        name: \"[\".concat(CSS.escape(attr.name), \"=\\\"\").concat(CSS.escape(attr.value), \"\\\"]\"),\n        penalty: 0.5,\n    }); });\n}\nfunction classNames(input) {\n    var names = Array.from(input.classList).filter(config.className);\n    return names.map(function (name) { return ({\n        name: '.' + CSS.escape(name),\n        penalty: 1,\n    }); });\n}\nfunction tagName(input) {\n    var name = input.tagName.toLowerCase();\n    if (config.tagName(name)) {\n        return {\n            name: name,\n            penalty: 2,\n        };\n    }\n    return null;\n}\nfunction any() {\n    return {\n        name: '*',\n        penalty: 3,\n    };\n}\nfunction index(input) {\n    var parent = input.parentNode;\n    if (!parent) {\n        return null;\n    }\n    var child = parent.firstChild;\n    if (!child) {\n        return null;\n    }\n    var i = 0;\n    while (child) {\n        if (child.nodeType === Node.ELEMENT_NODE) {\n            i++;\n        }\n        if (child === input) {\n            break;\n        }\n        child = child.nextSibling;\n    }\n    return i;\n}\nfunction nthChild(node, i) {\n    return {\n        name: node.name + \":nth-child(\".concat(i, \")\"),\n        penalty: node.penalty + 1,\n    };\n}\nfunction dispensableNth(node) {\n    return node.name !== 'html' && !node.name.startsWith('#');\n}\nfunction maybe() {\n    var level = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        level[_i] = arguments[_i];\n    }\n    var list = level.filter(notEmpty);\n    if (list.length > 0) {\n        return list;\n    }\n    return null;\n}\nfunction notEmpty(value) {\n    return value !== null && value !== undefined;\n}\nfunction combinations(stack, path) {\n    var _a, _b, node, e_3_1;\n    var e_3, _c;\n    if (path === void 0) { path = []; }\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                if (!(stack.length > 0)) return [3 /*break*/, 9];\n                _d.label = 1;\n            case 1:\n                _d.trys.push([1, 6, 7, 8]);\n                _a = __values(stack[0]), _b = _a.next();\n                _d.label = 2;\n            case 2:\n                if (!!_b.done) return [3 /*break*/, 5];\n                node = _b.value;\n                return [5 /*yield**/, __values(combinations(stack.slice(1, stack.length), path.concat(node)))];\n            case 3:\n                _d.sent();\n                _d.label = 4;\n            case 4:\n                _b = _a.next();\n                return [3 /*break*/, 2];\n            case 5: return [3 /*break*/, 8];\n            case 6:\n                e_3_1 = _d.sent();\n                e_3 = { error: e_3_1 };\n                return [3 /*break*/, 8];\n            case 7:\n                try {\n                    if (_b && !_b.done && (_c = _a.return)) _c.call(_a);\n                }\n                finally { if (e_3) throw e_3.error; }\n                return [7 /*endfinally*/];\n            case 8: return [3 /*break*/, 11];\n            case 9: return [4 /*yield*/, path];\n            case 10:\n                _d.sent();\n                _d.label = 11;\n            case 11: return [2 /*return*/];\n        }\n    });\n}\nfunction sort(paths) {\n    return __spreadArray([], __read(paths), false).sort(function (a, b) { return penalty(a) - penalty(b); });\n}\nfunction optimize(path, input, scope) {\n    var i, newPath, newPathKey;\n    if (scope === void 0) { scope = {\n        counter: 0,\n        visited: new Map(),\n    }; }\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (!(path.length > 2 && path.length > config.optimizedMinLength)) return [3 /*break*/, 5];\n                i = 1;\n                _a.label = 1;\n            case 1:\n                if (!(i < path.length - 1)) return [3 /*break*/, 5];\n                if (scope.counter > config.maxNumberOfTries) {\n                    return [2 /*return*/]; // Okay At least I tried!\n                }\n                scope.counter += 1;\n                newPath = __spreadArray([], __read(path), false);\n                newPath.splice(i, 1);\n                newPathKey = selector(newPath);\n                if (scope.visited.has(newPathKey)) {\n                    return [2 /*return*/];\n                }\n                if (!(unique(newPath) && same(newPath, input))) return [3 /*break*/, 4];\n                return [4 /*yield*/, newPath];\n            case 2:\n                _a.sent();\n                scope.visited.set(newPathKey, true);\n                return [5 /*yield**/, __values(optimize(newPath, input, scope))];\n            case 3:\n                _a.sent();\n                _a.label = 4;\n            case 4:\n                i++;\n                return [3 /*break*/, 1];\n            case 5: return [2 /*return*/];\n        }\n    });\n}\nfunction same(path, input) {\n    return rootDocument.querySelector(selector(path)) === input;\n}\n//# sourceMappingURL=finder.js.map","import { __awaiter, __extends, __generator, __read, __spreadArray } from \"tslib\";\nimport { BaseEventsStore } from './base-events-store';\nvar InMemoryEventsStore = /** @class */ (function (_super) {\n    __extends(InMemoryEventsStore, _super);\n    function InMemoryEventsStore() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.finalizedSequences = {};\n        _this.sequences = {};\n        _this.sequenceId = 0;\n        return _this;\n    }\n    InMemoryEventsStore.prototype.resetCurrentSequence = function (sessionId) {\n        this.sequences[sessionId] = [];\n    };\n    InMemoryEventsStore.prototype.addSequence = function (sessionId) {\n        var sequenceId = this.sequenceId++;\n        var events = __spreadArray([], __read(this.sequences[sessionId]), false);\n        this.finalizedSequences[sequenceId] = { sessionId: sessionId, events: events };\n        this.resetCurrentSequence(sessionId);\n        return { sequenceId: sequenceId, events: events, sessionId: sessionId };\n    };\n    InMemoryEventsStore.prototype.getSequencesToSend = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, Object.entries(this.finalizedSequences).map(function (_a) {\n                        var _b = __read(_a, 2), sequenceId = _b[0], _c = _b[1], sessionId = _c.sessionId, events = _c.events;\n                        return ({\n                            sequenceId: Number(sequenceId),\n                            sessionId: sessionId,\n                            events: events,\n                        });\n                    })];\n            });\n        });\n    };\n    InMemoryEventsStore.prototype.storeCurrentSequence = function (sessionId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (!this.sequences[sessionId]) {\n                    return [2 /*return*/, undefined];\n                }\n                return [2 /*return*/, this.addSequence(sessionId)];\n            });\n        });\n    };\n    InMemoryEventsStore.prototype.addEventToCurrentSequence = function (sessionId, event) {\n        return __awaiter(this, void 0, void 0, function () {\n            var sequenceReturn;\n            return __generator(this, function (_a) {\n                if (!this.sequences[sessionId]) {\n                    this.resetCurrentSequence(sessionId);\n                }\n                if (this.shouldSplitEventsList(this.sequences[sessionId], event)) {\n                    sequenceReturn = this.addSequence(sessionId);\n                }\n                this.sequences[sessionId].push(event);\n                return [2 /*return*/, sequenceReturn];\n            });\n        });\n    };\n    InMemoryEventsStore.prototype.storeSendingEvents = function (sessionId, events) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.finalizedSequences[this.sequenceId] = { sessionId: sessionId, events: events };\n                return [2 /*return*/, this.sequenceId++];\n            });\n        });\n    };\n    InMemoryEventsStore.prototype.cleanUpSessionEventsStore = function (_sessionId, sequenceId) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (sequenceId !== undefined) {\n                    delete this.finalizedSequences[sequenceId];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return InMemoryEventsStore;\n}(BaseEventsStore));\nexport { InMemoryEventsStore };\n//# sourceMappingURL=events-memory-store.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { getStorageSize } from '../helpers';\nimport { SessionReplayTrackDestination } from '../track-destination';\nimport { SessionReplayEventsIDBStore } from './events-idb-store';\nimport { InMemoryEventsStore } from './events-memory-store';\nexport var createEventsManager = function (_a) {\n    var config = _a.config, sessionId = _a.sessionId, minInterval = _a.minInterval, maxInterval = _a.maxInterval, type = _a.type, payloadBatcher = _a.payloadBatcher, storeType = _a.storeType;\n    return __awaiter(void 0, void 0, void 0, function () {\n        function flush(useRetry) {\n            if (useRetry === void 0) { useRetry = false; }\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, trackDestination.flush(useRetry)];\n                });\n            });\n        }\n        var trackDestination, getMemoryStore, getIdbStoreOrFallback, store, _b, sendEventsList, sendCurrentSequenceEvents, sendStoredEvents, addEvent;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    trackDestination = new SessionReplayTrackDestination(__assign(__assign({}, config), { loggerProvider: config.loggerProvider, payloadBatcher: payloadBatcher }));\n                    getMemoryStore = function () {\n                        return new InMemoryEventsStore({\n                            loggerProvider: config.loggerProvider,\n                            maxInterval: maxInterval,\n                            minInterval: minInterval,\n                        });\n                    };\n                    getIdbStoreOrFallback = function () { return __awaiter(void 0, void 0, void 0, function () {\n                        var store;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, SessionReplayEventsIDBStore.new(type, {\n                                        loggerProvider: config.loggerProvider,\n                                        minInterval: minInterval,\n                                        maxInterval: maxInterval,\n                                        apiKey: config.apiKey,\n                                    }, sessionId)];\n                                case 1:\n                                    store = _a.sent();\n                                    config.loggerProvider.log('Failed to initialize idb store, falling back to memory store.');\n                                    return [2 /*return*/, store !== null && store !== void 0 ? store : getMemoryStore()];\n                            }\n                        });\n                    }); };\n                    if (!(storeType === 'idb')) return [3 /*break*/, 2];\n                    return [4 /*yield*/, getIdbStoreOrFallback()];\n                case 1:\n                    _b = _c.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b = getMemoryStore();\n                    _c.label = 3;\n                case 3:\n                    store = _b;\n                    sendEventsList = function (_a) {\n                        var events = _a.events, sessionId = _a.sessionId, deviceId = _a.deviceId, sequenceId = _a.sequenceId;\n                        if (config.debugMode) {\n                            getStorageSize()\n                                .then(function (_a) {\n                                var totalStorageSize = _a.totalStorageSize, percentOfQuota = _a.percentOfQuota, usageDetails = _a.usageDetails;\n                                config.loggerProvider.debug(\"Total storage size: \".concat(totalStorageSize, \" KB, percentage of quota: \").concat(percentOfQuota, \"%, usage details: \").concat(usageDetails));\n                            })\n                                .catch(function () {\n                                // swallow error\n                            });\n                        }\n                        trackDestination.sendEventsList({\n                            events: events,\n                            sessionId: sessionId,\n                            flushMaxRetries: config.flushMaxRetries,\n                            apiKey: config.apiKey,\n                            deviceId: deviceId,\n                            sampleRate: config.sampleRate,\n                            serverZone: config.serverZone,\n                            version: config.version,\n                            type: type,\n                            onComplete: function () { return __awaiter(void 0, void 0, void 0, function () {\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, store.cleanUpSessionEventsStore(sessionId, sequenceId)];\n                                        case 1:\n                                            _a.sent();\n                                            return [2 /*return*/];\n                                    }\n                                });\n                            }); },\n                        });\n                    };\n                    sendCurrentSequenceEvents = function (_a) {\n                        var sessionId = _a.sessionId, deviceId = _a.deviceId;\n                        store\n                            .storeCurrentSequence(sessionId)\n                            .then(function (currentSequence) {\n                            if (currentSequence) {\n                                sendEventsList({\n                                    sequenceId: currentSequence.sequenceId,\n                                    events: currentSequence.events,\n                                    sessionId: currentSequence.sessionId,\n                                    deviceId: deviceId,\n                                });\n                            }\n                        })\n                            .catch(function (e) {\n                            config.loggerProvider.warn('Failed to get current sequence of session replay events for session:', e);\n                        });\n                    };\n                    sendStoredEvents = function (_a) {\n                        var deviceId = _a.deviceId;\n                        return __awaiter(void 0, void 0, void 0, function () {\n                            var sequencesToSend;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0: return [4 /*yield*/, store.getSequencesToSend()];\n                                    case 1:\n                                        sequencesToSend = _b.sent();\n                                        sequencesToSend &&\n                                            sequencesToSend.forEach(function (sequence) {\n                                                sendEventsList({\n                                                    sequenceId: sequence.sequenceId,\n                                                    events: sequence.events,\n                                                    sessionId: sequence.sessionId,\n                                                    deviceId: deviceId,\n                                                });\n                                            });\n                                        return [2 /*return*/];\n                                }\n                            });\n                        });\n                    };\n                    addEvent = function (_a) {\n                        var event = _a.event, sessionId = _a.sessionId, deviceId = _a.deviceId;\n                        store\n                            .addEventToCurrentSequence(sessionId, event.data)\n                            .then(function (sequenceToSend) {\n                            return (sequenceToSend &&\n                                sendEventsList({\n                                    sequenceId: sequenceToSend.sequenceId,\n                                    events: sequenceToSend.events,\n                                    sessionId: sequenceToSend.sessionId,\n                                    deviceId: deviceId,\n                                }));\n                        })\n                            .catch(function (e) {\n                            config.loggerProvider.warn('Failed to add event to session replay capture:', e);\n                        });\n                    };\n                    return [2 /*return*/, {\n                            sendCurrentSequenceEvents: sendCurrentSequenceEvents,\n                            addEvent: addEvent,\n                            sendStoredEvents: sendStoredEvents,\n                            flush: flush,\n                        }];\n            }\n        });\n    });\n};\n//# sourceMappingURL=events-manager.js.map","import { __awaiter, __generator } from \"tslib\";\n/**\n * \"Registers\" events managers internally. When an event is added this class routes the event to the correct\n * manager. For all send or flush methods this will invoke the event for all registered managers.\n */\nvar MultiEventManager = /** @class */ (function () {\n    function MultiEventManager() {\n        var managers = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            managers[_i] = arguments[_i];\n        }\n        var managersMap = new Map();\n        managers.forEach(function (t) {\n            managersMap.set(t.name, t.manager);\n        });\n        this.managers = managersMap;\n    }\n    MultiEventManager.prototype.sendStoredEvents = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var promises;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        promises = [];\n                        this.managers.forEach(function (manager) {\n                            promises.push(manager.sendStoredEvents(opts));\n                        });\n                        return [4 /*yield*/, Promise.all(promises)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    MultiEventManager.prototype.addEvent = function (_a) {\n        var _b;\n        var sessionId = _a.sessionId, event = _a.event, deviceId = _a.deviceId;\n        (_b = this.managers.get(event.type)) === null || _b === void 0 ? void 0 : _b.addEvent({ sessionId: sessionId, event: event, deviceId: deviceId });\n    };\n    MultiEventManager.prototype.sendCurrentSequenceEvents = function (_a) {\n        var sessionId = _a.sessionId, deviceId = _a.deviceId;\n        this.managers.forEach(function (manager) {\n            manager.sendCurrentSequenceEvents({ sessionId: sessionId, deviceId: deviceId });\n        });\n    };\n    MultiEventManager.prototype.flush = function (useRetry) {\n        return __awaiter(this, void 0, void 0, function () {\n            var promises;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        promises = [];\n                        this.managers.forEach(function (manager) {\n                            promises.push(manager.flush(useRetry));\n                        });\n                        return [4 /*yield*/, Promise.all(promises)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return MultiEventManager;\n}());\nexport { MultiEventManager };\n//# sourceMappingURL=multi-manager.js.map","import { __assign } from \"tslib\";\nimport { MouseInteractions } from '@amplitude/rrweb-types';\nimport { finder } from '../libs/finder';\nimport { getGlobalScope } from '@amplitude/analytics-core';\nimport { getPageUrl } from '../helpers';\nvar HOUR_IN_MILLISECONDS = 3600000;\nexport var clickNonBatcher = function (_a) {\n    var version = _a.version, events = _a.events;\n    var clickEvents = [];\n    events.forEach(function (evt) {\n        var record = JSON.parse(evt);\n        record.count = 1;\n        if (record.type === 'click') {\n            clickEvents.push(record);\n        }\n    });\n    return { version: version, events: clickEvents };\n};\nexport var clickBatcher = function (_a) {\n    var version = _a.version, events = _a.events;\n    var clickEvents = [];\n    events.forEach(function (evt) {\n        var record = JSON.parse(evt);\n        if (record.type === 'click') {\n            clickEvents.push(record);\n        }\n    });\n    var reduced = clickEvents.reduce(function (prev, curr) {\n        var x = curr.x, y = curr.y, selector = curr.selector, timestamp = curr.timestamp;\n        // round down to nearest hour.\n        var hour = timestamp - (timestamp % HOUR_IN_MILLISECONDS);\n        var k = \"\".concat(x, \":\").concat(y, \":\").concat(selector !== null && selector !== void 0 ? selector : '', \":\").concat(hour);\n        if (!prev[k]) {\n            prev[k] = __assign(__assign({}, curr), { timestamp: hour, count: 1 });\n        }\n        else {\n            prev[k].count += 1;\n        }\n        return prev;\n    }, {});\n    return { version: version, events: Object.values(reduced) };\n};\nvar ClickHandler = /** @class */ (function () {\n    function ClickHandler(logger, scrollWatcher) {\n        var _this = this;\n        this.createHook = function (_a) {\n            var eventsManager = _a.eventsManager, sessionId = _a.sessionId, deviceIdFn = _a.deviceIdFn, mirror = _a.mirror, ugcFilterRules = _a.ugcFilterRules, performanceOptions = _a.performanceOptions;\n            return function (e) {\n                if (e.type !== MouseInteractions.Click) {\n                    return;\n                }\n                var globalScope = getGlobalScope();\n                if (!globalScope) {\n                    return;\n                }\n                var location = globalScope.location, innerHeight = globalScope.innerHeight, innerWidth = globalScope.innerWidth;\n                // it only makes sense to send events if a pageUrl exists\n                if (!location) {\n                    return;\n                }\n                var x = e.x, y = e.y;\n                if (x === undefined || y === undefined) {\n                    return;\n                }\n                var node = mirror.getNode(e.id);\n                var selector;\n                if (node) {\n                    try {\n                        selector = finder(node, performanceOptions);\n                    }\n                    catch (err) {\n                        _this.logger.debug('error resolving selector from finder');\n                    }\n                }\n                var pageUrl = getPageUrl(location.href, ugcFilterRules);\n                var event = {\n                    x: x + _this.scrollWatcher.currentScrollX,\n                    y: y + _this.scrollWatcher.currentScrollY,\n                    selector: selector,\n                    viewportHeight: innerHeight,\n                    viewportWidth: innerWidth,\n                    pageUrl: pageUrl,\n                    timestamp: Date.now(),\n                    type: 'click',\n                };\n                var deviceId = deviceIdFn();\n                if (deviceId) {\n                    eventsManager.addEvent({ sessionId: sessionId, event: { type: 'interaction', data: JSON.stringify(event) }, deviceId: deviceId });\n                }\n            };\n        };\n        this.logger = logger;\n        this.scrollWatcher = scrollWatcher;\n    }\n    return ClickHandler;\n}());\nexport { ClickHandler };\n//# sourceMappingURL=click.js.map","import { getGlobalScope } from '@amplitude/analytics-core';\n// These functions are not exposed in rrweb package, so we will define it here to use\n// Ignoring this function since this is copied from rrweb\nexport function getWindowHeight() {\n    var globalScope = getGlobalScope();\n    return ((globalScope === null || globalScope === void 0 ? void 0 : globalScope.innerHeight) ||\n        (document.documentElement && document.documentElement.clientHeight) ||\n        (document.body && document.body.clientHeight) ||\n        0);\n}\nexport function getWindowWidth() {\n    var globalScope = getGlobalScope();\n    return ((globalScope === null || globalScope === void 0 ? void 0 : globalScope.innerWidth) ||\n        (document.documentElement && document.documentElement.clientWidth) ||\n        (document.body && document.body.clientWidth) ||\n        0);\n}\n//# sourceMappingURL=rrweb.js.map","import { getGlobalScope } from '@amplitude/analytics-core';\nimport { getServerUrl } from './helpers';\n/**\n * For very small payloads it's preferable to use the [Beacon API](https://developer.mozilla.org/en-US/docs/Web/API/Beacon_API).\n * While it doesn't provide 100% guarantees on sends, it greatly helps with overall reliability and page load performance. As\n * the Beacon API has a potential to fail due to size constraints we want to fall back to XHR if need be. This is mostly to\n * be used with 'pagehide' or 'beforeunload' events.\n *\n * Note there are only 3 CORS safelisted Content-Types you can send:\n *\n * - application/x-www-form-urlencoded\n * - multipart/form-data\n * - text/plain\n *\n * If we do not send one of these, some browsers like Chrome may not send this at all. Also we incur the overhead of a preflight\n * request. In our case we will add no additional content-type header. If you are trying to ping a server that requires this\n * header, you may want to use the regular fetch API or a different mechanism.\n */\nvar BeaconTransport = /** @class */ (function () {\n    function BeaconTransport(context, config) {\n        var globalScope = getGlobalScope();\n        if (globalScope && globalScope.navigator && typeof globalScope.navigator.sendBeacon === 'function') {\n            this.sendBeacon = function (pageUrl, payload) {\n                try {\n                    if (globalScope.navigator.sendBeacon(pageUrl, JSON.stringify(payload))) {\n                        return true;\n                    }\n                }\n                catch (e) {\n                    // not logging error, since it would be hard to view and just adds overhead.\n                }\n                return false;\n            };\n        }\n        else {\n            this.sendBeacon = function () { return false; };\n        }\n        this.sendXhr = function (pageUrl, payload) {\n            var xhr = new XMLHttpRequest();\n            xhr.open('POST', pageUrl, true);\n            xhr.setRequestHeader('Accept', '*/*');\n            xhr.send(JSON.stringify(payload));\n            return true;\n        };\n        this.basePageUrl = getServerUrl(config.serverZone, config.trackServerUrl);\n        this.apiKey = config.apiKey;\n        this.context = context;\n    }\n    BeaconTransport.prototype.send = function (deviceId, payload) {\n        var _a = this.context, sessionId = _a.sessionId, type = _a.type;\n        var urlParams = new URLSearchParams({\n            device_id: deviceId,\n            session_id: String(sessionId),\n            type: String(type),\n            api_key: this.apiKey,\n        });\n        var pageUrl = \"\".concat(this.basePageUrl, \"?\").concat(urlParams.toString());\n        // ideally send using the beacon API, but there is a chance it may fail, possibly due to a payload\n        // size limit. in this case, try best effort to send using xhr.\n        this.sendBeacon(pageUrl, payload) || this.sendXhr(pageUrl, payload);\n    };\n    return BeaconTransport;\n}());\nexport { BeaconTransport };\n//# sourceMappingURL=beacon-transport.js.map","import { getWindowHeight, getWindowWidth } from '../utils/rrweb';\nimport { BeaconTransport } from '../beacon-transport';\nimport { getGlobalScope } from '@amplitude/analytics-core';\nimport { getPageUrl } from '../helpers';\n/**\n * This is intended to watch and update max scroll activity when loaded for a particular page.\n * A new instance should be created if the page URL changes, since by default it does not reset\n * it's max scroll state. It is intended to send very few and very small events utilizing the\n * Beacon API.\n * @see {@link BeaconTransport} for more details on Beacon API usage.\n */\nvar ScrollWatcher = /** @class */ (function () {\n    function ScrollWatcher(transport, config) {\n        var _this = this;\n        this.timestamp = Date.now();\n        this.hook = function (e) {\n            _this.update(e);\n        };\n        this.send = function (deviceIdFn) { return function (_) {\n            var _a, _b;\n            var deviceId = deviceIdFn();\n            var globalScope = getGlobalScope();\n            if (globalScope && deviceId) {\n                _this.transport.send(deviceId, {\n                    version: 1,\n                    events: [\n                        {\n                            maxScrollX: _this._maxScrollX,\n                            maxScrollY: _this._maxScrollY,\n                            maxScrollWidth: _this._maxScrollWidth,\n                            maxScrollHeight: _this._maxScrollHeight,\n                            viewportHeight: getWindowHeight(),\n                            viewportWidth: getWindowWidth(),\n                            pageUrl: getPageUrl(globalScope.location.href, (_b = (_a = _this.config.interactionConfig) === null || _a === void 0 ? void 0 : _a.ugcFilterRules) !== null && _b !== void 0 ? _b : []),\n                            timestamp: _this.timestamp,\n                            type: 'scroll',\n                        },\n                    ],\n                });\n            }\n        }; };\n        this._maxScrollX = 0;\n        this._maxScrollY = 0;\n        this._currentScrollX = 0;\n        this._currentScrollY = 0;\n        this._maxScrollWidth = getWindowWidth();\n        this._maxScrollHeight = getWindowHeight();\n        this.config = config;\n        this.transport = transport;\n    }\n    ScrollWatcher.default = function (context, config) {\n        return new ScrollWatcher(new BeaconTransport(context, config), config);\n    };\n    Object.defineProperty(ScrollWatcher.prototype, \"maxScrollX\", {\n        get: function () {\n            return this._maxScrollX;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScrollWatcher.prototype, \"maxScrollY\", {\n        get: function () {\n            return this._maxScrollY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScrollWatcher.prototype, \"maxScrollWidth\", {\n        get: function () {\n            return this._maxScrollWidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScrollWatcher.prototype, \"maxScrollHeight\", {\n        get: function () {\n            return this._maxScrollHeight;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScrollWatcher.prototype, \"currentScrollX\", {\n        get: function () {\n            return this._currentScrollX;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScrollWatcher.prototype, \"currentScrollY\", {\n        get: function () {\n            return this._currentScrollY;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ScrollWatcher.prototype.update = function (e) {\n        var now = Date.now();\n        this._currentScrollX = e.x;\n        this._currentScrollY = e.y;\n        if (e.x > this._maxScrollX) {\n            var width = getWindowWidth();\n            this._maxScrollX = e.x;\n            var maxScrollWidth = e.x + width;\n            if (maxScrollWidth > this._maxScrollWidth) {\n                this._maxScrollWidth = maxScrollWidth;\n            }\n            this.timestamp = now;\n        }\n        if (e.y > this._maxScrollY) {\n            var height = getWindowHeight();\n            this._maxScrollY = e.y;\n            var maxScrollHeight = e.y + height;\n            if (maxScrollHeight > this._maxScrollHeight) {\n                this._maxScrollHeight = maxScrollHeight;\n            }\n            this.timestamp = now;\n        }\n    };\n    return ScrollWatcher;\n}());\nexport { ScrollWatcher };\n//# sourceMappingURL=scroll.js.map","import { generateSessionReplayId } from './helpers';\nvar SessionIdentifiers = /** @class */ (function () {\n    function SessionIdentifiers(_a) {\n        var sessionId = _a.sessionId, deviceId = _a.deviceId;\n        this.deviceId = deviceId;\n        this.sessionId = sessionId;\n        if (sessionId && deviceId) {\n            this.sessionReplayId = generateSessionReplayId(sessionId, deviceId);\n        }\n    }\n    return SessionIdentifiers;\n}());\nexport { SessionIdentifiers };\n//# sourceMappingURL=identifiers.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { openDB } from 'idb';\nexport var MAX_IDB_STORAGE_LENGTH = 1000 * 60 * 60 * 24 * 2; // 2 days\nvar TargetingIDBStore = /** @class */ (function () {\n    function TargetingIDBStore() {\n        var _this = this;\n        this.dbs = {};\n        this.createStore = function (dbName) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, openDB(dbName, 1, {\n                            upgrade: function (db) {\n                                if (!db.objectStoreNames.contains('sessionTargetingMatch')) {\n                                    db.createObjectStore('sessionTargetingMatch', {\n                                        keyPath: 'sessionId',\n                                    });\n                                }\n                            },\n                        })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        }); };\n        this.openOrCreateDB = function (apiKey) { return __awaiter(_this, void 0, void 0, function () {\n            var dbName, db;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.dbs && this.dbs[apiKey]) {\n                            return [2 /*return*/, this.dbs[apiKey]];\n                        }\n                        dbName = \"\".concat(apiKey.substring(0, 10), \"_amp_session_replay_targeting\");\n                        return [4 /*yield*/, this.createStore(dbName)];\n                    case 1:\n                        db = _a.sent();\n                        this.dbs[apiKey] = db;\n                        return [2 /*return*/, db];\n                }\n            });\n        }); };\n        this.getTargetingMatchForSession = function (_a) {\n            var loggerProvider = _a.loggerProvider, apiKey = _a.apiKey, sessionId = _a.sessionId;\n            return __awaiter(_this, void 0, void 0, function () {\n                var db, sessionIdStr, targetingMatchForSession, e_1;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 3, , 4]);\n                            return [4 /*yield*/, this.openOrCreateDB(apiKey)];\n                        case 1:\n                            db = _b.sent();\n                            sessionIdStr = String(sessionId);\n                            return [4 /*yield*/, db.get('sessionTargetingMatch', sessionIdStr)];\n                        case 2:\n                            targetingMatchForSession = _b.sent();\n                            return [2 /*return*/, targetingMatchForSession === null || targetingMatchForSession === void 0 ? void 0 : targetingMatchForSession.targetingMatch];\n                        case 3:\n                            e_1 = _b.sent();\n                            loggerProvider.warn(\"Failed to get targeting match for session id \".concat(sessionId, \": \").concat(e_1));\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/, undefined];\n                    }\n                });\n            });\n        };\n        this.storeTargetingMatchForSession = function (_a) {\n            var loggerProvider = _a.loggerProvider, apiKey = _a.apiKey, sessionId = _a.sessionId, targetingMatch = _a.targetingMatch;\n            return __awaiter(_this, void 0, void 0, function () {\n                var db, sessionIdStr, targetingMatchForSession, e_2;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 3, , 4]);\n                            return [4 /*yield*/, this.openOrCreateDB(apiKey)];\n                        case 1:\n                            db = _b.sent();\n                            sessionIdStr = String(sessionId);\n                            return [4 /*yield*/, db.put('sessionTargetingMatch', {\n                                    targetingMatch: targetingMatch,\n                                    sessionId: sessionIdStr,\n                                    lastUpdated: Date.now(),\n                                })];\n                        case 2:\n                            targetingMatchForSession = _b.sent();\n                            return [2 /*return*/, targetingMatchForSession];\n                        case 3:\n                            e_2 = _b.sent();\n                            loggerProvider.warn(\"Failed to store targeting match for session id \".concat(sessionId, \": \").concat(e_2));\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/, undefined];\n                    }\n                });\n            });\n        };\n        this.clearStoreOfOldSessions = function (_a) {\n            var loggerProvider = _a.loggerProvider, apiKey = _a.apiKey, currentSessionId = _a.currentSessionId;\n            return __awaiter(_this, void 0, void 0, function () {\n                var db, currentSessionIdStr, tx, allTargetingMatchObjs, i, targetingMatchObj, amountOfTimeSinceSession, e_3;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 8, , 9]);\n                            return [4 /*yield*/, this.openOrCreateDB(apiKey)];\n                        case 1:\n                            db = _b.sent();\n                            currentSessionIdStr = String(currentSessionId);\n                            tx = db.transaction('sessionTargetingMatch', 'readwrite');\n                            return [4 /*yield*/, tx.store.getAll()];\n                        case 2:\n                            allTargetingMatchObjs = _b.sent();\n                            i = 0;\n                            _b.label = 3;\n                        case 3:\n                            if (!(i < allTargetingMatchObjs.length)) return [3 /*break*/, 6];\n                            targetingMatchObj = allTargetingMatchObjs[i];\n                            amountOfTimeSinceSession = Date.now() - targetingMatchObj.lastUpdated;\n                            if (!(targetingMatchObj.sessionId !== currentSessionIdStr && amountOfTimeSinceSession > MAX_IDB_STORAGE_LENGTH)) return [3 /*break*/, 5];\n                            return [4 /*yield*/, tx.store.delete(targetingMatchObj.sessionId)];\n                        case 4:\n                            _b.sent();\n                            _b.label = 5;\n                        case 5:\n                            i++;\n                            return [3 /*break*/, 3];\n                        case 6: return [4 /*yield*/, tx.done];\n                        case 7:\n                            _b.sent();\n                            return [3 /*break*/, 9];\n                        case 8:\n                            e_3 = _b.sent();\n                            loggerProvider.warn(\"Failed to clear old targeting matches for sessions: \".concat(e_3));\n                            return [3 /*break*/, 9];\n                        case 9: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    }\n    return TargetingIDBStore;\n}());\nexport { TargetingIDBStore };\nexport var targetingIDBStore = new TargetingIDBStore();\n//# sourceMappingURL=targeting-idb-store.js.map","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { targetingIDBStore } from './targeting-idb-store';\nexport var evaluateTargetingAndStore = function (_a) {\n    var sessionId = _a.sessionId, targetingConfig = _a.targetingConfig, loggerProvider = _a.loggerProvider, apiKey = _a.apiKey, targetingParams = _a.targetingParams;\n    return __awaiter(void 0, void 0, void 0, function () {\n        var idbTargetingMatch, sessionTargetingMatch, evaluateTargetingPackage, targetingResult, err_1, knownError;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0: return [4 /*yield*/, targetingIDBStore.clearStoreOfOldSessions({\n                        loggerProvider: loggerProvider,\n                        apiKey: apiKey,\n                        currentSessionId: sessionId,\n                    })];\n                case 1:\n                    _b.sent();\n                    return [4 /*yield*/, targetingIDBStore.getTargetingMatchForSession({\n                            loggerProvider: loggerProvider,\n                            apiKey: apiKey,\n                            sessionId: sessionId,\n                        })];\n                case 2:\n                    idbTargetingMatch = _b.sent();\n                    if (idbTargetingMatch === true) {\n                        return [2 /*return*/, true];\n                    }\n                    sessionTargetingMatch = true;\n                    _b.label = 3;\n                case 3:\n                    _b.trys.push([3, 6, , 7]);\n                    return [4 /*yield*/, import('@amplitude/targeting')];\n                case 4:\n                    evaluateTargetingPackage = (_b.sent()).evaluateTargeting;\n                    return [4 /*yield*/, evaluateTargetingPackage(__assign(__assign({}, targetingParams), { flag: targetingConfig, sessionId: sessionId, apiKey: apiKey, loggerProvider: loggerProvider }))];\n                case 5:\n                    targetingResult = _b.sent();\n                    if (targetingResult && targetingResult.sr_targeting_config) {\n                        sessionTargetingMatch = targetingResult.sr_targeting_config.key === 'on';\n                    }\n                    void targetingIDBStore.storeTargetingMatchForSession({\n                        loggerProvider: loggerProvider,\n                        apiKey: apiKey,\n                        sessionId: sessionId,\n                        targetingMatch: sessionTargetingMatch,\n                    });\n                    return [3 /*break*/, 7];\n                case 6:\n                    err_1 = _b.sent();\n                    knownError = err_1;\n                    loggerProvider.warn(knownError.message);\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/, sessionTargetingMatch];\n            }\n        });\n    });\n};\n//# sourceMappingURL=targeting-manager.js.map","import { __assign } from \"tslib\";\nimport { getPageUrl } from '../helpers';\nimport { DEFAULT_URL_CHANGE_POLLING_INTERVAL } from '../constants';\n/**\n * Creates a URL tracking plugin for rrweb record function\n *\n * This plugin monitors URL changes in the browser and emits events when the URL changes.\n * It supports three tracking modes:\n * 1. Polling (if explicitly enabled) - periodically checks for URL changes\n * 2. History API + Hash routing (default) - patches pushState/replaceState, listens to popstate and hashchange\n * 3. Hash routing only (fallback) - listens to hashchange events when History API is unavailable\n *\n * The plugin handles edge cases gracefully:\n * - Missing or null location objects\n * - Undefined, null, or empty location.href values\n * - Temporal dead zone issues with variable declarations\n * - Consistent URL normalization across all code paths\n *\n * @param options Configuration options for URL tracking\n * @returns RecordPlugin instance that can be used with rrweb\n */\nexport function createUrlTrackingPlugin(options) {\n    if (options === void 0) { options = {}; }\n    return {\n        name: 'amplitude/url-tracking@1',\n        observer: function (cb, globalScope, pluginOptions) {\n            var _a, _b, _c;\n            // Merge options with plugin-level options taking precedence over constructor options\n            var config = __assign(__assign({}, options), pluginOptions);\n            var ugcFilterRules = config.ugcFilterRules || [];\n            var enablePolling = (_a = config.enablePolling) !== null && _a !== void 0 ? _a : false;\n            var pollingInterval = (_b = config.pollingInterval) !== null && _b !== void 0 ? _b : DEFAULT_URL_CHANGE_POLLING_INTERVAL;\n            var captureDocumentTitle = (_c = config.captureDocumentTitle) !== null && _c !== void 0 ? _c : false;\n            // Early return if no global scope is available\n            if (!globalScope) {\n                return function () {\n                    // No cleanup needed if no global scope available\n                };\n            }\n            // Track the last URL to prevent duplicate events\n            // Initialize to undefined to ensure first call always emits an event\n            var lastTrackedUrl = undefined;\n            // Patch detection marker to prevent double-patching\n            var PATCH_MARKER = '__amplitude_url_tracking_patched__';\n            // Global flag key on globalScope to track if the plugin has been reset/cleaned up\n            // When true, prevents emitUrlChange from being called from patched history methods\n            // even if other plugins have also patched them and we can't restore the originals\n            var RESET_FLAG_KEY = '__amplitude_url_tracking_reset__';\n            // Helper functions\n            /**\n             * Gets the current URL with proper normalization\n             * Handles edge cases where location.href might be undefined, null, or empty\n             * Ensures consistent behavior across all code paths\n             * @returns Normalized URL string (empty string if location unavailable)\n             */\n            var getCurrentUrl = function () {\n                if (!globalScope.location)\n                    return '';\n                return globalScope.location.href || '';\n            };\n            /**\n             * Creates a URL change event with current page information\n             * Applies UGC filtering if rules are configured\n             * Uses getCurrentUrl() for consistent URL normalization\n             * @returns URLChangeEvent with current page state\n             */\n            var createUrlChangeEvent = function () {\n                var innerHeight = globalScope.innerHeight, innerWidth = globalScope.innerWidth, document = globalScope.document;\n                var currentUrl = getCurrentUrl();\n                var currentTitle = '';\n                if (captureDocumentTitle) {\n                    currentTitle = (document === null || document === void 0 ? void 0 : document.title) || '';\n                }\n                // Apply UGC filtering if rules are provided, otherwise use original URL\n                var filteredUrl = ugcFilterRules.length > 0 ? getPageUrl(currentUrl, ugcFilterRules) : currentUrl;\n                return {\n                    href: filteredUrl,\n                    title: currentTitle,\n                    viewportHeight: innerHeight,\n                    viewportWidth: innerWidth,\n                    type: 'url-change-event',\n                };\n            };\n            /**\n             * Emits a URL change event if the URL has actually changed\n             * Always emits on first call (when lastTrackedUrl is undefined)\n             * Prevents duplicate events for the same URL on subsequent calls\n             * Handles edge cases like undefined/null/empty URLs gracefully\n             */\n            var emitUrlChange = function () {\n                var currentUrl = getCurrentUrl();\n                // Always emit on first call, or if URL actually changed\n                if (lastTrackedUrl === undefined || currentUrl !== lastTrackedUrl) {\n                    lastTrackedUrl = currentUrl;\n                    var event_1 = createUrlChangeEvent();\n                    cb(event_1);\n                }\n            };\n            /**\n             * Creates a patched version of history methods (pushState/replaceState)\n             * that calls the original method and then emits a URL change event\n             * Ensures URL changes are detected even when history methods are called programmatically\n             * Checks global reset flag to prevent emitting after plugin cleanup\n             * @param originalMethod The original history method to patch\n             * @returns Patched function that calls original method then emits URL change event\n             */\n            var createHistoryMethodPatch = function (originalMethod) {\n                var patchedMethod = function () {\n                    var args = [];\n                    for (var _i = 0; _i < arguments.length; _i++) {\n                        args[_i] = arguments[_i];\n                    }\n                    // Call the original history method first\n                    var result = originalMethod.apply(this, args);\n                    // Then emit URL change event only if plugin hasn't been reset\n                    if (!globalScope[RESET_FLAG_KEY]) {\n                        emitUrlChange();\n                    }\n                    return result;\n                };\n                // Mark the patched method to prevent double-patching\n                patchedMethod[PATCH_MARKER] = true;\n                return patchedMethod;\n            };\n            // Hashchange event handler - delegates to emitUrlChange for consistency\n            var hashChangeHandler = function () {\n                emitUrlChange();\n            };\n            // 1. if explicitly enable polling  use polling\n            if (enablePolling) {\n                // Use polling (covers everything)\n                var urlChangeInterval_1 = globalScope.setInterval(function () {\n                    emitUrlChange();\n                }, pollingInterval);\n                // Emit initial URL immediately\n                emitUrlChange();\n                // Return cleanup function to stop polling\n                return function () {\n                    if (urlChangeInterval_1) {\n                        globalScope.clearInterval(urlChangeInterval_1);\n                    }\n                };\n            }\n            // 2. if polling not enabled  check history, if exist, use history\n            if (globalScope.history) {\n                // Use History API + hashchange (covers History API + hash routing)\n                // Store original history methods for restoration during cleanup\n                var originalPushState_1 = globalScope.history.pushState.bind(globalScope.history);\n                var originalReplaceState_1 = globalScope.history.replaceState.bind(globalScope.history);\n                /**\n                 * Sets up history method patching to intercept pushState and replaceState calls\n                 * This ensures URL changes are detected even when history methods are called programmatically\n                 * Includes patch detection to prevent double-patching by the same plugin\n                 */\n                var setupHistoryPatching = function () {\n                    // Check if we already patched these methods\n                    if (globalScope.history.pushState[PATCH_MARKER]) {\n                        // Already patched by this plugin, skip patching\n                        return;\n                    }\n                    // Patch pushState to emit URL change events\n                    globalScope.history.pushState = createHistoryMethodPatch(originalPushState_1);\n                    // Patch replaceState to emit URL change events\n                    globalScope.history.replaceState = createHistoryMethodPatch(originalReplaceState_1);\n                };\n                // Apply history method patches\n                setupHistoryPatching();\n                // Listen to popstate events for browser back/forward navigation\n                globalScope.addEventListener('popstate', emitUrlChange);\n                // Listen to hashchange events for hash routing\n                globalScope.addEventListener('hashchange', hashChangeHandler);\n                // Emit initial URL immediately\n                emitUrlChange();\n                // Return cleanup function to restore original state\n                return function () {\n                    // Restore original history methods - cannot be done here\n                    // because the plugin is not aware of the history methods modified by other plugins\n                    // so we need to set a flag on the globalScope to prevent further emitUrlChange calls from patched methods\n                    // Set reset flag on globalScope to prevent further emitUrlChange calls from patched methods\n                    globalScope[RESET_FLAG_KEY] = true;\n                    // Remove popstate event listener\n                    globalScope.removeEventListener('popstate', emitUrlChange);\n                    // Remove hashchange event listener\n                    globalScope.removeEventListener('hashchange', hashChangeHandler);\n                };\n            }\n            // 3. if not, then the framework is probably using hash router  do hash\n            // Fallback: just hashchange (for pure hash routing)\n            globalScope.addEventListener('hashchange', hashChangeHandler);\n            emitUrlChange();\n            return function () {\n                globalScope.removeEventListener('hashchange', hashChangeHandler);\n            };\n        },\n        options: options,\n    };\n}\n/**\n * Default URL tracking plugin instance with default options\n * Can be used directly without custom configuration\n */\nexport var urlTrackingPlugin = createUrlTrackingPlugin();\n//# sourceMappingURL=url-tracking-plugin.js.map","import { __assign, __awaiter, __generator, __read, __spreadArray } from \"tslib\";\nimport { getAnalyticsConnector, getGlobalScope, Logger, returnWrapper, SpecialEventType, generateHashCode, isTimestampInSample, } from '@amplitude/analytics-core';\n// Import only specific types to avoid pulling in the entire rrweb-types package\nimport { EventType as RRWebEventType } from '@amplitude/rrweb-types';\nimport { createSessionReplayJoinedConfigGenerator } from './config/joined-config';\nimport { BLOCK_CLASS, CustomRRwebEvent, DEFAULT_SESSION_REPLAY_PROPERTY, INTERACTION_MAX_INTERVAL, INTERACTION_MIN_INTERVAL, MASK_TEXT_CLASS, SESSION_REPLAY_DEBUG_PROPERTY, } from './constants';\nimport { EventCompressor } from './events/event-compressor';\nimport { createEventsManager } from './events/events-manager';\nimport { MultiEventManager } from './events/multi-manager';\nimport { getDebugConfig, getPageUrl, getStorageSize, maskFn } from './helpers';\nimport { clickBatcher, ClickHandler, clickNonBatcher } from './hooks/click';\nimport { ScrollWatcher } from './hooks/scroll';\nimport { SessionIdentifiers } from './identifiers';\nimport { SafeLoggerProvider } from './logger';\nimport { evaluateTargetingAndStore } from './targeting/targeting-manager';\nimport { VERSION } from './version';\nimport { createUrlTrackingPlugin } from './plugins/url-tracking-plugin';\nvar SessionReplay = /** @class */ (function () {\n    function SessionReplay() {\n        var _this = this;\n        this.name = '@amplitude/session-replay-browser';\n        this.recordCancelCallback = null;\n        this.eventCount = 0;\n        this.sessionTargetingMatch = false;\n        // Visible for testing only\n        this.pageLeaveFns = [];\n        // Cache the dynamically imported record function\n        this.recordFunction = null;\n        this.teardownEventListeners = function (teardown) {\n            var globalScope = getGlobalScope();\n            if (globalScope) {\n                globalScope.removeEventListener('blur', _this.blurListener);\n                globalScope.removeEventListener('focus', _this.focusListener);\n                !teardown && globalScope.addEventListener('blur', _this.blurListener);\n                !teardown && globalScope.addEventListener('focus', _this.focusListener);\n                // prefer pagehide to unload events, this is the standard going forward. it is not\n                // 100% reliable, but is bfcache-compatible.\n                if (globalScope.self && 'onpagehide' in globalScope.self) {\n                    globalScope.removeEventListener('pagehide', _this.pageLeaveListener);\n                    !teardown && globalScope.addEventListener('pagehide', _this.pageLeaveListener);\n                }\n                else {\n                    // this has performance implications, but is the only way we can reliably send events\n                    // in browser that don't support pagehide.\n                    globalScope.removeEventListener('beforeunload', _this.pageLeaveListener);\n                    !teardown && globalScope.addEventListener('beforeunload', _this.pageLeaveListener);\n                }\n            }\n        };\n        this.blurListener = function () {\n            _this.sendEvents();\n        };\n        this.focusListener = function () {\n            // Restart recording on focus to ensure that when user\n            // switches tabs, we take a full snapshot\n            void _this.recordEvents(false);\n        };\n        /**\n         * This is an instance member so that if init is called multiple times\n         * it doesn't add another listener to the page leave event. This is to\n         * prevent duplicate listener actions from firing.\n         */\n        this.pageLeaveListener = function (e) {\n            _this.pageLeaveFns.forEach(function (fn) {\n                fn(e);\n            });\n        };\n        this.evaluateTargetingAndCapture = function (targetingParams, isInit, forceRestart) {\n            if (isInit === void 0) { isInit = false; }\n            if (forceRestart === void 0) { forceRestart = false; }\n            return __awaiter(_this, void 0, void 0, function () {\n                var eventForTargeting, _a;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (!this.identifiers || !this.identifiers.sessionId || !this.config) {\n                                if (this.identifiers && !this.identifiers.sessionId) {\n                                    this.loggerProvider.log('Session ID has not been set yet, cannot evaluate targeting for Session Replay.');\n                                }\n                                else {\n                                    this.loggerProvider.warn('Session replay init has not been called, cannot evaluate targeting.');\n                                }\n                                return [2 /*return*/];\n                            }\n                            // Handle cases where there's no targeting config\n                            if (!this.config.targetingConfig) {\n                                if (isInit) {\n                                    this.loggerProvider.log('Targeting config has not been set yet, cannot evaluate targeting.');\n                                }\n                                else {\n                                    this.loggerProvider.log('No targeting config set, skipping initialization/recording for event.');\n                                    return [2 /*return*/];\n                                }\n                            }\n                            // Store targeting parameters for use in getShouldRecord\n                            this.lastTargetingParams = targetingParams;\n                            if (!(this.config.targetingConfig && !this.sessionTargetingMatch)) return [3 /*break*/, 2];\n                            eventForTargeting = targetingParams.event;\n                            if (eventForTargeting &&\n                                Object.values(SpecialEventType).includes(eventForTargeting.event_type)) {\n                                eventForTargeting = undefined;\n                            }\n                            // We're setting this on this class because fetching the value from idb\n                            // is async, we need to access this value synchronously (for record\n                            // and for getSessionReplayProperties - both synchronous fns)\n                            _a = this;\n                            return [4 /*yield*/, evaluateTargetingAndStore({\n                                    sessionId: this.identifiers.sessionId,\n                                    targetingConfig: this.config.targetingConfig,\n                                    loggerProvider: this.loggerProvider,\n                                    apiKey: this.config.apiKey,\n                                    targetingParams: { userProperties: targetingParams.userProperties, event: eventForTargeting },\n                                })];\n                        case 1:\n                            // We're setting this on this class because fetching the value from idb\n                            // is async, we need to access this value synchronously (for record\n                            // and for getSessionReplayProperties - both synchronous fns)\n                            _a.sessionTargetingMatch = _b.sent();\n                            // Log the targeting config to debug\n                            this.loggerProvider.debug(JSON.stringify({\n                                name: 'targeted replay capture config',\n                                sessionTargetingMatch: this.sessionTargetingMatch,\n                                event: eventForTargeting,\n                                targetingParams: targetingParams,\n                            }, null, 2));\n                            _b.label = 2;\n                        case 2:\n                            if (!isInit) return [3 /*break*/, 3];\n                            void this.initialize(true);\n                            return [3 /*break*/, 5];\n                        case 3:\n                            if (!(forceRestart || !this.recordCancelCallback)) return [3 /*break*/, 5];\n                            // Only call recordEvents if we're not already recording, unless forceRestart is true\n                            this.loggerProvider.log('Recording events for session due to forceRestart or no ongoing recording.');\n                            return [4 /*yield*/, this.recordEvents()];\n                        case 4:\n                            _b.sent();\n                            _b.label = 5;\n                        case 5: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        this.addCustomRRWebEvent = function (eventName, eventData, addStorageInfo) {\n            if (eventData === void 0) { eventData = {}; }\n            if (addStorageInfo === void 0) { addStorageInfo = true; }\n            return __awaiter(_this, void 0, void 0, function () {\n                var debugInfo, config, storageSizeData, e_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            _a.trys.push([0, 3, , 4]);\n                            debugInfo = undefined;\n                            config = this.config;\n                            if (!(config && eventName !== CustomRRwebEvent.METADATA)) return [3 /*break*/, 2];\n                            debugInfo = {\n                                config: getDebugConfig(config),\n                                version: VERSION,\n                            };\n                            if (!addStorageInfo) return [3 /*break*/, 2];\n                            return [4 /*yield*/, getStorageSize()];\n                        case 1:\n                            storageSizeData = _a.sent();\n                            debugInfo = __assign(__assign({}, storageSizeData), debugInfo);\n                            _a.label = 2;\n                        case 2:\n                            // Check first to ensure we are recording\n                            if (this.recordCancelCallback && this.recordFunction) {\n                                this.recordFunction.addCustomEvent(eventName, __assign(__assign({}, eventData), debugInfo));\n                            }\n                            else {\n                                this.loggerProvider.debug(\"Not able to add custom replay capture event \".concat(eventName, \" due to no ongoing recording.\"));\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            this.loggerProvider.debug('Error while adding custom replay capture event: ', e_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        this.stopRecordingEvents = function () {\n            var _a;\n            try {\n                _this.loggerProvider.log('Session Replay capture stopping.');\n                _this.recordCancelCallback && _this.recordCancelCallback();\n                _this.recordCancelCallback = null;\n                (_a = _this.networkObservers) === null || _a === void 0 ? void 0 : _a.stop();\n            }\n            catch (error) {\n                var typedError = error;\n                _this.loggerProvider.warn(\"Error occurred while stopping replay capture: \".concat(typedError.toString()));\n            }\n        };\n        this.loggerProvider = new SafeLoggerProvider(new Logger());\n    }\n    SessionReplay.prototype.init = function (apiKey, options) {\n        return returnWrapper(this._init(apiKey, options));\n    };\n    SessionReplay.prototype._init = function (apiKey, options) {\n        var _a, _b, _c, _d, _e, _f;\n        return __awaiter(this, void 0, void 0, function () {\n            var _g, _h, joinedConfig, localConfig, remoteConfig, scrollWatcher, managers, storeType, rrwebEventManager, error_1, typedError, payloadBatcher, interactionEventManager, error_2, typedError, workerScript, globalScope, compressionScript;\n            return __generator(this, function (_j) {\n                switch (_j.label) {\n                    case 0:\n                        this.loggerProvider = new SafeLoggerProvider(options.loggerProvider || new Logger());\n                        Object.prototype.hasOwnProperty.call(options, 'logLevel') &&\n                            this.loggerProvider.enable(options.logLevel);\n                        this.identifiers = new SessionIdentifiers({ sessionId: options.sessionId, deviceId: options.deviceId });\n                        _g = this;\n                        return [4 /*yield*/, createSessionReplayJoinedConfigGenerator(apiKey, options)];\n                    case 1:\n                        _g.joinedConfigGenerator = _j.sent();\n                        return [4 /*yield*/, this.joinedConfigGenerator.generateJoinedConfig()];\n                    case 2:\n                        _h = _j.sent(), joinedConfig = _h.joinedConfig, localConfig = _h.localConfig, remoteConfig = _h.remoteConfig;\n                        this.config = joinedConfig;\n                        this.setMetadata(options.sessionId, joinedConfig, localConfig, remoteConfig, (_a = options.version) === null || _a === void 0 ? void 0 : _a.version, VERSION, (_b = options.version) === null || _b === void 0 ? void 0 : _b.type);\n                        if (options.sessionId && ((_c = this.config.interactionConfig) === null || _c === void 0 ? void 0 : _c.enabled)) {\n                            scrollWatcher = ScrollWatcher.default({\n                                sessionId: options.sessionId,\n                                type: 'interaction',\n                            }, this.config);\n                            this.pageLeaveFns = [scrollWatcher.send(this.getDeviceId.bind(this)).bind(scrollWatcher)];\n                            this.scrollHook = scrollWatcher.hook.bind(scrollWatcher);\n                            this.clickHandler = new ClickHandler(this.loggerProvider, scrollWatcher);\n                        }\n                        managers = [];\n                        storeType = this.config.storeType;\n                        if (storeType === 'idb' && !((_d = getGlobalScope()) === null || _d === void 0 ? void 0 : _d.indexedDB)) {\n                            storeType = 'memory';\n                            this.loggerProvider.warn('Could not use preferred indexedDB storage, reverting to in memory option.');\n                        }\n                        this.loggerProvider.log(\"Using \".concat(storeType, \" for event storage.\"));\n                        _j.label = 3;\n                    case 3:\n                        _j.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, createEventsManager({\n                                config: this.config,\n                                sessionId: this.identifiers.sessionId,\n                                type: 'replay',\n                                storeType: storeType,\n                            })];\n                    case 4:\n                        rrwebEventManager = _j.sent();\n                        managers.push({ name: 'replay', manager: rrwebEventManager });\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_1 = _j.sent();\n                        typedError = error_1;\n                        this.loggerProvider.warn(\"Error occurred while creating replay events manager: \".concat(typedError.toString()));\n                        return [3 /*break*/, 6];\n                    case 6:\n                        if (!((_e = this.config.interactionConfig) === null || _e === void 0 ? void 0 : _e.enabled)) return [3 /*break*/, 10];\n                        payloadBatcher = this.config.interactionConfig.batch ? clickBatcher : clickNonBatcher;\n                        _j.label = 7;\n                    case 7:\n                        _j.trys.push([7, 9, , 10]);\n                        return [4 /*yield*/, createEventsManager({\n                                config: this.config,\n                                sessionId: this.identifiers.sessionId,\n                                type: 'interaction',\n                                minInterval: (_f = this.config.interactionConfig.trackEveryNms) !== null && _f !== void 0 ? _f : INTERACTION_MIN_INTERVAL,\n                                maxInterval: INTERACTION_MAX_INTERVAL,\n                                payloadBatcher: payloadBatcher,\n                                storeType: storeType,\n                            })];\n                    case 8:\n                        interactionEventManager = _j.sent();\n                        managers.push({ name: 'interaction', manager: interactionEventManager });\n                        return [3 /*break*/, 10];\n                    case 9:\n                        error_2 = _j.sent();\n                        typedError = error_2;\n                        this.loggerProvider.warn(\"Error occurred while creating interaction events manager: \".concat(typedError.toString()));\n                        return [3 /*break*/, 10];\n                    case 10:\n                        this.eventsManager = new (MultiEventManager.bind.apply(MultiEventManager, __spreadArray([void 0], __read(managers), false)))();\n                        // To prevent too many threads.\n                        if (this.eventCompressor) {\n                            this.eventCompressor.terminate();\n                        }\n                        workerScript = undefined;\n                        globalScope = getGlobalScope();\n                        if (!(this.config.useWebWorker && globalScope && globalScope.Worker)) return [3 /*break*/, 12];\n                        return [4 /*yield*/, import('./worker')];\n                    case 11:\n                        compressionScript = (_j.sent()).compressionScript;\n                        workerScript = compressionScript;\n                        _j.label = 12;\n                    case 12:\n                        this.eventCompressor = new EventCompressor(this.eventsManager, this.config, this.getDeviceId(), workerScript);\n                        return [4 /*yield*/, this.initializeNetworkObservers()];\n                    case 13:\n                        _j.sent();\n                        this.loggerProvider.log('Installing @amplitude/session-replay-browser.');\n                        this.teardownEventListeners(false);\n                        return [4 /*yield*/, this.evaluateTargetingAndCapture({ userProperties: options.userProperties }, true)];\n                    case 14:\n                        _j.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplay.prototype.setSessionId = function (sessionId, deviceId) {\n        return returnWrapper(this.asyncSetSessionId(sessionId, deviceId));\n    };\n    SessionReplay.prototype.asyncSetSessionId = function (sessionId, deviceId, options) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var previousSessionId, deviceIdForReplayId, joinedConfig;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.sessionTargetingMatch = false;\n                        this.lastShouldRecordDecision = undefined; // Reset targeting decision for new session\n                        previousSessionId = this.identifiers && this.identifiers.sessionId;\n                        if (previousSessionId) {\n                            this.sendEvents(previousSessionId);\n                        }\n                        deviceIdForReplayId = deviceId || this.getDeviceId();\n                        this.identifiers = new SessionIdentifiers({\n                            sessionId: sessionId,\n                            deviceId: deviceIdForReplayId,\n                        });\n                        if (!(this.joinedConfigGenerator && previousSessionId)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.joinedConfigGenerator.generateJoinedConfig()];\n                    case 1:\n                        joinedConfig = (_b.sent()).joinedConfig;\n                        this.config = joinedConfig;\n                        _b.label = 2;\n                    case 2:\n                        if (!((_a = this.config) === null || _a === void 0 ? void 0 : _a.targetingConfig)) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.evaluateTargetingAndCapture({ userProperties: options === null || options === void 0 ? void 0 : options.userProperties }, false, true)];\n                    case 3:\n                        _b.sent();\n                        return [3 /*break*/, 6];\n                    case 4: return [4 /*yield*/, this.recordEvents()];\n                    case 5:\n                        _b.sent();\n                        _b.label = 6;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplay.prototype.getSessionReplayProperties = function () {\n        var _a;\n        var config = this.config;\n        var identifiers = this.identifiers;\n        if (!config || !identifiers) {\n            this.loggerProvider.warn('Session replay init has not been called, cannot get session replay properties.');\n            return {};\n        }\n        var shouldRecord = this.getShouldRecord();\n        var eventProperties = {};\n        if (shouldRecord) {\n            eventProperties = (_a = {},\n                _a[DEFAULT_SESSION_REPLAY_PROPERTY] = identifiers.sessionReplayId ? identifiers.sessionReplayId : null,\n                _a);\n            if (config.debugMode) {\n                eventProperties[SESSION_REPLAY_DEBUG_PROPERTY] = JSON.stringify({\n                    appHash: generateHashCode(config.apiKey).toString(),\n                });\n            }\n        }\n        void this.addCustomRRWebEvent(CustomRRwebEvent.GET_SR_PROPS, {\n            shouldRecord: shouldRecord,\n            eventProperties: eventProperties,\n        }, this.eventCount === 10);\n        if (this.eventCount === 10) {\n            this.eventCount = 0;\n        }\n        this.eventCount++;\n        return eventProperties;\n    };\n    SessionReplay.prototype.sendEvents = function (sessionId) {\n        var _a;\n        var sessionIdToSend = sessionId || ((_a = this.identifiers) === null || _a === void 0 ? void 0 : _a.sessionId);\n        var deviceId = this.getDeviceId();\n        this.eventsManager &&\n            sessionIdToSend &&\n            deviceId &&\n            this.eventsManager.sendCurrentSequenceEvents({ sessionId: sessionIdToSend, deviceId: deviceId });\n    };\n    SessionReplay.prototype.initialize = function (shouldSendStoredEvents) {\n        var _a;\n        if (shouldSendStoredEvents === void 0) { shouldSendStoredEvents = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var deviceId;\n            return __generator(this, function (_b) {\n                if (!((_a = this.identifiers) === null || _a === void 0 ? void 0 : _a.sessionId)) {\n                    this.loggerProvider.log(\"Session is not being recorded due to lack of session id.\");\n                    return [2 /*return*/, Promise.resolve()];\n                }\n                deviceId = this.getDeviceId();\n                if (!deviceId) {\n                    this.loggerProvider.log(\"Session is not being recorded due to lack of device id.\");\n                    return [2 /*return*/, Promise.resolve()];\n                }\n                this.eventsManager && shouldSendStoredEvents && void this.eventsManager.sendStoredEvents({ deviceId: deviceId });\n                return [2 /*return*/, this.recordEvents()];\n            });\n        });\n    };\n    SessionReplay.prototype.shouldOptOut = function () {\n        var _a, _b;\n        var identityStoreOptOut;\n        if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.instanceName) {\n            var identityStore = getAnalyticsConnector(this.config.instanceName).identityStore;\n            identityStoreOptOut = identityStore.getIdentity().optOut;\n        }\n        return identityStoreOptOut !== undefined ? identityStoreOptOut : (_b = this.config) === null || _b === void 0 ? void 0 : _b.optOut;\n    };\n    SessionReplay.prototype.getShouldRecord = function () {\n        if (!this.identifiers || !this.config || !this.identifiers.sessionId) {\n            this.loggerProvider.warn(\"Session is not being recorded due to lack of config, please call sessionReplay.init.\");\n            return false;\n        }\n        if (!this.config.captureEnabled) {\n            this.loggerProvider.log(\"Session \".concat(this.identifiers.sessionId, \" not being captured due to capture being disabled for project or because the remote config could not be fetched.\"));\n            return false;\n        }\n        if (this.shouldOptOut()) {\n            this.loggerProvider.log(\"Opting session \".concat(this.identifiers.sessionId, \" out of recording due to optOut config.\"));\n            return false;\n        }\n        var shouldRecord = false;\n        var message = '';\n        var matched = false;\n        // If targetingConfig exists, we'll use the sessionTargetingMatch to determine whether to record\n        // Otherwise, we'll evaluate the session against the overall sample rate\n        if (this.config.targetingConfig) {\n            if (!this.sessionTargetingMatch) {\n                message = \"Not capturing replays for session \".concat(this.identifiers.sessionId, \" due to not matching targeting conditions.\");\n                this.loggerProvider.log(message);\n                shouldRecord = false;\n                matched = false;\n            }\n            else {\n                message = \"Capturing replays for session \".concat(this.identifiers.sessionId, \" due to matching targeting conditions.\");\n                this.loggerProvider.log(message);\n                shouldRecord = true;\n                matched = true;\n            }\n        }\n        else {\n            var isInSample = isTimestampInSample(this.identifiers.sessionId, this.config.sampleRate);\n            if (!isInSample) {\n                message = \"Opting session \".concat(this.identifiers.sessionId, \" out of recording due to sample rate.\");\n                this.loggerProvider.log(message);\n                shouldRecord = false;\n                matched = false;\n            }\n            else {\n                shouldRecord = true;\n                matched = true;\n            }\n        }\n        // Only send custom rrweb event for targeting decision when the decision changes\n        if (this.lastShouldRecordDecision !== shouldRecord && this.config.targetingConfig) {\n            void this.addCustomRRWebEvent(CustomRRwebEvent.TARGETING_DECISION, {\n                message: message,\n                sessionId: this.identifiers.sessionId,\n                matched: matched,\n                targetingParams: this.lastTargetingParams,\n            });\n            this.lastShouldRecordDecision = shouldRecord;\n        }\n        return shouldRecord;\n    };\n    SessionReplay.prototype.getBlockSelectors = function () {\n        var _a, _b, _c;\n        // For some reason, this defaults to empty array ([]) if undefined in the compiled script.\n        // Empty arrays cause errors when being evaluated in Safari.\n        // Force the selector to be undefined if it's an empty array.\n        var blockSelector = (_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.privacyConfig) === null || _b === void 0 ? void 0 : _b.blockSelector) !== null && _c !== void 0 ? _c : [];\n        if (blockSelector.length === 0) {\n            return undefined;\n        }\n        return blockSelector;\n    };\n    SessionReplay.prototype.getMaskTextSelectors = function () {\n        var _a, _b, _c, _d;\n        if (((_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.privacyConfig) === null || _b === void 0 ? void 0 : _b.defaultMaskLevel) === 'conservative') {\n            return '*';\n        }\n        var maskSelector = (_d = (_c = this.config) === null || _c === void 0 ? void 0 : _c.privacyConfig) === null || _d === void 0 ? void 0 : _d.maskSelector;\n        if (!maskSelector) {\n            return;\n        }\n        return maskSelector;\n    };\n    SessionReplay.prototype.getRecordingPlugins = function (loggingConfig) {\n        var _a, _b, _c, _d, _e, _f;\n        return __awaiter(this, void 0, void 0, function () {\n            var plugins, urlTrackingPlugin, getRecordConsolePlugin, error_3;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        plugins = [];\n                        // Add URL tracking plugin\n                        try {\n                            urlTrackingPlugin = createUrlTrackingPlugin({\n                                ugcFilterRules: ((_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.interactionConfig) === null || _b === void 0 ? void 0 : _b.ugcFilterRules) || [],\n                                enablePolling: ((_c = this.config) === null || _c === void 0 ? void 0 : _c.enableUrlChangePolling) || false,\n                                pollingInterval: (_d = this.config) === null || _d === void 0 ? void 0 : _d.urlChangePollingInterval,\n                                captureDocumentTitle: (_e = this.config) === null || _e === void 0 ? void 0 : _e.captureDocumentTitle,\n                            });\n                            plugins.push(urlTrackingPlugin);\n                        }\n                        catch (error) {\n                            this.loggerProvider.warn('Failed to create URL tracking plugin:', error);\n                        }\n                        if (!((_f = loggingConfig === null || loggingConfig === void 0 ? void 0 : loggingConfig.console) === null || _f === void 0 ? void 0 : _f.enabled)) return [3 /*break*/, 4];\n                        _g.label = 1;\n                    case 1:\n                        _g.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, import('@amplitude/rrweb-plugin-console-record')];\n                    case 2:\n                        getRecordConsolePlugin = (_g.sent()).getRecordConsolePlugin;\n                        plugins.push(getRecordConsolePlugin({ level: loggingConfig.console.levels }));\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_3 = _g.sent();\n                        this.loggerProvider.warn('Failed to load console plugin:', error_3);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/, plugins.length > 0 ? plugins : undefined];\n                }\n            });\n        });\n    };\n    SessionReplay.prototype.getRecordFunction = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var record, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.recordFunction) {\n                            return [2 /*return*/, this.recordFunction];\n                        }\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, import('@amplitude/rrweb-record')];\n                    case 2:\n                        record = (_a.sent()).record;\n                        this.recordFunction = record;\n                        return [2 /*return*/, record];\n                    case 3:\n                        error_4 = _a.sent();\n                        this.loggerProvider.warn('Failed to load rrweb-record module:', error_4);\n                        return [2 /*return*/, null];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplay.prototype.recordEvents = function (shouldLogMetadata) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (shouldLogMetadata === void 0) { shouldLogMetadata = true; }\n        return __awaiter(this, void 0, void 0, function () {\n            var config, shouldRecord, sessionId, recordFunction, privacyConfig, interactionConfig, loggingConfig, hooks, ugcFilterRules, _h, _j, error_5;\n            var _k;\n            var _this = this;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0:\n                        config = this.config;\n                        shouldRecord = this.getShouldRecord();\n                        sessionId = (_a = this.identifiers) === null || _a === void 0 ? void 0 : _a.sessionId;\n                        if (!shouldRecord || !sessionId || !config) {\n                            return [2 /*return*/];\n                        }\n                        this.stopRecordingEvents();\n                        return [4 /*yield*/, this.getRecordFunction()];\n                    case 1:\n                        recordFunction = _l.sent();\n                        // May be undefined if cannot import rrweb-record\n                        if (!recordFunction) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.initializeNetworkObservers()];\n                    case 2:\n                        _l.sent();\n                        (_b = this.networkObservers) === null || _b === void 0 ? void 0 : _b.start(function (event) {\n                            void _this.addCustomRRWebEvent(CustomRRwebEvent.FETCH_REQUEST, event);\n                        });\n                        privacyConfig = config.privacyConfig, interactionConfig = config.interactionConfig, loggingConfig = config.loggingConfig;\n                        hooks = (interactionConfig === null || interactionConfig === void 0 ? void 0 : interactionConfig.enabled)\n                            ? {\n                                mouseInteraction: this.eventsManager &&\n                                    ((_c = this.clickHandler) === null || _c === void 0 ? void 0 : _c.createHook({\n                                        eventsManager: this.eventsManager,\n                                        sessionId: sessionId,\n                                        deviceIdFn: this.getDeviceId.bind(this),\n                                        mirror: recordFunction.mirror,\n                                        ugcFilterRules: (_d = interactionConfig.ugcFilterRules) !== null && _d !== void 0 ? _d : [],\n                                        performanceOptions: (_e = config.performanceConfig) === null || _e === void 0 ? void 0 : _e.interaction,\n                                    })),\n                                scroll: this.scrollHook,\n                            }\n                            : {};\n                        ugcFilterRules = (interactionConfig === null || interactionConfig === void 0 ? void 0 : interactionConfig.enabled) && interactionConfig.ugcFilterRules ? interactionConfig.ugcFilterRules : [];\n                        this.loggerProvider.log(\"Session Replay capture beginning for \".concat(sessionId, \".\"));\n                        _l.label = 3;\n                    case 3:\n                        _l.trys.push([3, 5, , 6]);\n                        _h = this;\n                        _j = recordFunction;\n                        _k = {\n                            emit: function (event) {\n                                if (_this.shouldOptOut()) {\n                                    _this.loggerProvider.log(\"Opting session \".concat(sessionId, \" out of recording due to optOut config.\"));\n                                    _this.stopRecordingEvents();\n                                    _this.sendEvents();\n                                    return;\n                                }\n                                if (event.type === RRWebEventType.Meta) {\n                                    event.data.href = getPageUrl(event.data.href, ugcFilterRules);\n                                }\n                                if (_this.eventCompressor) {\n                                    // Schedule processing during idle time if the browser supports requestIdleCallback\n                                    _this.eventCompressor.enqueueEvent(event, sessionId);\n                                }\n                            },\n                            inlineStylesheet: config.shouldInlineStylesheet,\n                            hooks: hooks,\n                            maskAllInputs: true,\n                            maskTextClass: MASK_TEXT_CLASS,\n                            blockClass: BLOCK_CLASS,\n                            blockSelector: this.getBlockSelectors(),\n                            applyBackgroundColorToBlockedElements: config.applyBackgroundColorToBlockedElements,\n                            maskInputFn: maskFn('input', privacyConfig),\n                            maskTextFn: maskFn('text', privacyConfig),\n                            maskTextSelector: this.getMaskTextSelectors(),\n                            recordCanvas: false,\n                            slimDOMOptions: {\n                                script: (_f = config.omitElementTags) === null || _f === void 0 ? void 0 : _f.script,\n                                comment: (_g = config.omitElementTags) === null || _g === void 0 ? void 0 : _g.comment,\n                            },\n                            errorHandler: function (error) {\n                                var typedError = error;\n                                // styled-components relies on this error being thrown and bubbled up, rrweb is otherwise suppressing it\n                                if (typedError.message.includes('insertRule') && typedError.message.includes('CSSStyleSheet')) {\n                                    throw typedError;\n                                }\n                                // rrweb does monkey patching on certain window functions such as CSSStyleSheet.proptype.insertRule,\n                                // and errors from external clients calling these functions can get suppressed. Styled components depend\n                                // on these errors being re-thrown.\n                                if (typedError._external_) {\n                                    throw typedError;\n                                }\n                                _this.loggerProvider.warn('Error while capturing replay: ', typedError.toString());\n                                // Return true so that we don't clutter user's consoles with internal rrweb errors\n                                return true;\n                            }\n                        };\n                        return [4 /*yield*/, this.getRecordingPlugins(loggingConfig)];\n                    case 4:\n                        _h.recordCancelCallback = _j.apply(void 0, [(_k.plugins = _l.sent(),\n                                _k)]);\n                        void this.addCustomRRWebEvent(CustomRRwebEvent.DEBUG_INFO);\n                        if (shouldLogMetadata) {\n                            void this.addCustomRRWebEvent(CustomRRwebEvent.METADATA, this.metadata);\n                        }\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_5 = _l.sent();\n                        this.loggerProvider.warn('Failed to initialize session replay:', error_5);\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SessionReplay.prototype.getDeviceId = function () {\n        var _a;\n        return (_a = this.identifiers) === null || _a === void 0 ? void 0 : _a.deviceId;\n    };\n    SessionReplay.prototype.getSessionId = function () {\n        var _a;\n        return (_a = this.identifiers) === null || _a === void 0 ? void 0 : _a.sessionId;\n    };\n    SessionReplay.prototype.flush = function (useRetry) {\n        var _a;\n        if (useRetry === void 0) { useRetry = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [2 /*return*/, (_a = this.eventsManager) === null || _a === void 0 ? void 0 : _a.flush(useRetry)];\n            });\n        });\n    };\n    SessionReplay.prototype.shutdown = function () {\n        this.teardownEventListeners(true);\n        this.stopRecordingEvents();\n        this.sendEvents();\n    };\n    SessionReplay.prototype.mapSDKType = function (sdkType) {\n        if (sdkType === 'plugin') {\n            return '@amplitude/plugin-session-replay-browser';\n        }\n        if (sdkType === 'segment') {\n            return '@amplitude/segment-session-replay-plugin';\n        }\n        return null;\n    };\n    SessionReplay.prototype.setMetadata = function (sessionId, joinedConfig, localConfig, remoteConfig, replaySDKVersion, standaloneSDKVersion, sdkType) {\n        var hashValue = (sessionId === null || sessionId === void 0 ? void 0 : sessionId.toString()) ? generateHashCode(sessionId.toString()) : undefined;\n        this.metadata = {\n            joinedConfig: joinedConfig,\n            localConfig: localConfig,\n            remoteConfig: remoteConfig,\n            sessionId: sessionId,\n            hashValue: hashValue,\n            sampleRate: joinedConfig.sampleRate,\n            replaySDKType: this.mapSDKType(sdkType),\n            replaySDKVersion: replaySDKVersion,\n            standaloneSDKType: '@amplitude/session-replay-browser',\n            standaloneSDKVersion: standaloneSDKVersion,\n        };\n    };\n    SessionReplay.prototype.initializeNetworkObservers = function () {\n        var _a, _b, _c;\n        return __awaiter(this, void 0, void 0, function () {\n            var NetworkObserversClass, error_6;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        if (!(((_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.loggingConfig) === null || _b === void 0 ? void 0 : _b.network) === null || _c === void 0 ? void 0 : _c.enabled) && !this.networkObservers)) return [3 /*break*/, 4];\n                        _d.label = 1;\n                    case 1:\n                        _d.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, import('./observers')];\n                    case 2:\n                        NetworkObserversClass = (_d.sent()).NetworkObservers;\n                        this.networkObservers = new NetworkObserversClass();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_6 = _d.sent();\n                        this.loggerProvider.warn('Failed to import or instantiate NetworkObservers:', error_6);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return SessionReplay;\n}());\nexport { SessionReplay };\n//# sourceMappingURL=session-replay.js.map","export var IdentifyOperation;\n(function (IdentifyOperation) {\n    // Base Operations to set values\n    IdentifyOperation[\"SET\"] = \"$set\";\n    IdentifyOperation[\"SET_ONCE\"] = \"$setOnce\";\n    // Operations around modifying existing values\n    IdentifyOperation[\"ADD\"] = \"$add\";\n    IdentifyOperation[\"APPEND\"] = \"$append\";\n    IdentifyOperation[\"PREPEND\"] = \"$prepend\";\n    IdentifyOperation[\"REMOVE\"] = \"$remove\";\n    // Operations around appending values *if* they aren't present\n    IdentifyOperation[\"PREINSERT\"] = \"$preInsert\";\n    IdentifyOperation[\"POSTINSERT\"] = \"$postInsert\";\n    // Operations around removing properties/values\n    IdentifyOperation[\"UNSET\"] = \"$unset\";\n    IdentifyOperation[\"CLEAR_ALL\"] = \"$clearAll\";\n})(IdentifyOperation || (IdentifyOperation = {}));\nexport var RevenueProperty;\n(function (RevenueProperty) {\n    RevenueProperty[\"REVENUE_PRODUCT_ID\"] = \"$productId\";\n    RevenueProperty[\"REVENUE_QUANTITY\"] = \"$quantity\";\n    RevenueProperty[\"REVENUE_PRICE\"] = \"$price\";\n    RevenueProperty[\"REVENUE_TYPE\"] = \"$revenueType\";\n    RevenueProperty[\"REVENUE_CURRENCY\"] = \"$currency\";\n    RevenueProperty[\"REVENUE\"] = \"$revenue\";\n})(RevenueProperty || (RevenueProperty = {}));\n/**\n * Strings that have special meaning when used as an event's type\n * and have different specifications.\n */\nexport var SpecialEventType;\n(function (SpecialEventType) {\n    SpecialEventType[\"IDENTIFY\"] = \"$identify\";\n    SpecialEventType[\"GROUP_IDENTIFY\"] = \"$groupidentify\";\n    SpecialEventType[\"REVENUE\"] = \"revenue_amount\";\n})(SpecialEventType || (SpecialEventType = {}));\n//# sourceMappingURL=event.js.map","import { AnalyticsConnector } from '@amplitude/analytics-connector';\nimport { DEFAULT_INSTANCE_NAME } from './types/constants';\nexport var getAnalyticsConnector = function (instanceName) {\n    if (instanceName === void 0) { instanceName = DEFAULT_INSTANCE_NAME; }\n    return AnalyticsConnector.getInstance(instanceName);\n};\nexport var setConnectorUserId = function (userId, instanceName) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setUserId(userId).commit();\n};\nexport var setConnectorDeviceId = function (deviceId, instanceName) {\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setDeviceId(deviceId).commit();\n};\n//# sourceMappingURL=analytics-connector.js.map","import { debugWrapper } from '@amplitude/analytics-core';\nimport { getDefaultConfig } from './config/local-config';\nimport { SessionReplay } from './session-replay';\nexport var getLogConfig = function (sessionReplay) { return function () {\n    var config = sessionReplay.config;\n    var _a = config || getDefaultConfig(), logger = _a.loggerProvider, logLevel = _a.logLevel;\n    return {\n        logger: logger,\n        logLevel: logLevel,\n    };\n}; };\nvar createInstance = function () {\n    var sessionReplay = new SessionReplay();\n    return {\n        init: debugWrapper(sessionReplay.init.bind(sessionReplay), 'init', getLogConfig(sessionReplay)),\n        evaluateTargetingAndCapture: debugWrapper(sessionReplay.evaluateTargetingAndCapture.bind(sessionReplay), 'evaluateTargetingAndRecord', getLogConfig(sessionReplay)),\n        setSessionId: debugWrapper(sessionReplay.setSessionId.bind(sessionReplay), 'setSessionId', getLogConfig(sessionReplay)),\n        getSessionId: debugWrapper(sessionReplay.getSessionId.bind(sessionReplay), 'getSessionId', getLogConfig(sessionReplay)),\n        getSessionReplayProperties: debugWrapper(sessionReplay.getSessionReplayProperties.bind(sessionReplay), 'getSessionReplayProperties', getLogConfig(sessionReplay)),\n        flush: debugWrapper(sessionReplay.flush.bind(sessionReplay), 'flush', getLogConfig(sessionReplay)),\n        shutdown: debugWrapper(sessionReplay.shutdown.bind(sessionReplay), 'shutdown', getLogConfig(sessionReplay)),\n    };\n};\nexport default createInstance();\n//# sourceMappingURL=session-replay-factory.js.map","import sessionReplay from './session-replay-factory';\nexport var init = sessionReplay.init, setSessionId = sessionReplay.setSessionId, getSessionId = sessionReplay.getSessionId, getSessionReplayProperties = sessionReplay.getSessionReplayProperties, flush = sessionReplay.flush, shutdown = sessionReplay.shutdown, evaluateTargetingAndCapture = sessionReplay.evaluateTargetingAndCapture;\nexport { SafeLoggerProvider } from './logger';\n//# sourceMappingURL=index.js.map","import { IdentifyOperation } from '@amplitude/analytics-types';\n\nexport const PROPERTY_ADD_OPERATIONS = [\n  IdentifyOperation.SET,\n  IdentifyOperation.SET_ONCE,\n  IdentifyOperation.ADD,\n  IdentifyOperation.APPEND,\n  IdentifyOperation.PREPEND,\n  IdentifyOperation.POSTINSERT,\n];\n","// Autogenerated by `yarn version-file`. DO NOT EDIT\nexport const VERSION = '1.25.5';\n","import { BrowserClient, BrowserConfig, EnrichmentPlugin, Event, SpecialEventType } from '@amplitude/analytics-core';\nimport {\n  init,\n  setSessionId,\n  getSessionId,\n  getSessionReplayProperties,\n  flush,\n  shutdown,\n  evaluateTargetingAndCapture,\n  AmplitudeSessionReplay,\n  SessionReplayOptions as SessionReplayBrowserOptions,\n} from '@amplitude/session-replay-browser';\nimport { getAnalyticsConnector } from '@amplitude/analytics-client-common';\nimport { parseUserProperties } from './helpers';\nimport { SessionReplayOptions } from './typings/session-replay';\nimport { VERSION } from './version';\n\nexport const DEFAULT_EVENT_PROPERTY_PREFIX = '[Amplitude]';\nexport const DEFAULT_SESSION_REPLAY_PROPERTY = `${DEFAULT_EVENT_PROPERTY_PREFIX} Session Replay ID`;\nexport class SessionReplayPlugin implements EnrichmentPlugin<BrowserClient, BrowserConfig> {\n  static pluginName = '@amplitude/plugin-session-replay-browser';\n  name = SessionReplayPlugin.pluginName;\n  type = 'enrichment' as const;\n  // this.config is defined in setup() which will always be called first\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  config: BrowserConfig | null = null;\n  options: SessionReplayOptions;\n  srInitOptions: SessionReplayBrowserOptions;\n  sessionReplay: AmplitudeSessionReplay = {\n    flush: flush,\n    getSessionId: getSessionId,\n    getSessionReplayProperties: getSessionReplayProperties,\n    init: init,\n    setSessionId: setSessionId,\n    shutdown: shutdown,\n    evaluateTargetingAndCapture: evaluateTargetingAndCapture,\n  };\n\n  constructor(options?: SessionReplayOptions) {\n    this.options = { forceSessionTracking: false, ...options };\n    this.srInitOptions = this.options;\n  }\n\n  async setup(config: BrowserConfig, _client: BrowserClient) {\n    try {\n      /* istanbul ignore next */\n      config?.loggerProvider.log(`Installing @amplitude/plugin-session-replay, version ${VERSION}.`);\n\n      this.config = config;\n\n      if (this.options.forceSessionTracking) {\n        if (typeof config.defaultTracking === 'boolean') {\n          if (config.defaultTracking === false) {\n            config.defaultTracking = {\n              pageViews: false,\n              formInteractions: false,\n              fileDownloads: false,\n              sessions: true,\n            };\n          }\n        } else {\n          config.defaultTracking = {\n            ...config.defaultTracking,\n            sessions: true,\n          };\n        }\n      }\n      const identityStore = getAnalyticsConnector(this.config.instanceName).identityStore;\n      const userProperties = identityStore.getIdentity().userProperties;\n\n      this.srInitOptions = {\n        instanceName: this.config.instanceName,\n        deviceId: this.options.deviceId ?? this.config.deviceId,\n        optOut: this.config.optOut,\n        sessionId: this.options.customSessionId ? undefined : this.config.sessionId,\n        loggerProvider: this.config.loggerProvider,\n        logLevel: this.config.logLevel,\n        flushMaxRetries: this.config.flushMaxRetries,\n        serverZone: this.config.serverZone,\n        configServerUrl: this.options.configServerUrl || this.config.remoteConfig?.serverUrl,\n        trackServerUrl: this.options.trackServerUrl,\n        sampleRate: this.options.sampleRate,\n        privacyConfig: {\n          blockSelector: this.options.privacyConfig?.blockSelector,\n          maskSelector: this.options.privacyConfig?.maskSelector,\n          unmaskSelector: this.options.privacyConfig?.unmaskSelector,\n          defaultMaskLevel: this.options.privacyConfig?.defaultMaskLevel,\n        },\n        debugMode: this.options.debugMode,\n        shouldInlineStylesheet: this.options.shouldInlineStylesheet,\n        version: { type: 'plugin', version: VERSION },\n        performanceConfig: this.options.performanceConfig,\n        storeType: this.options.storeType,\n        useWebWorker: this.options.useWebWorker ?? this.options.experimental?.useWebWorker,\n        userProperties: userProperties,\n        omitElementTags: this.options.omitElementTags,\n        applyBackgroundColorToBlockedElements: this.options.applyBackgroundColorToBlockedElements,\n        interactionConfig: this.options.interactionConfig,\n        captureDocumentTitle: this.options.captureDocumentTitle,\n        enableUrlChangePolling: this.options.enableUrlChangePolling,\n        urlChangePollingInterval: this.options.urlChangePollingInterval,\n      };\n\n      await this.sessionReplay.init(config.apiKey, this.srInitOptions).promise;\n    } catch (error) {\n      /* istanbul ignore next */\n      config?.loggerProvider.error(`Session Replay: Failed to initialize due to ${(error as Error).message}`);\n    }\n  }\n\n  async onSessionIdChanged(sessionId: number): Promise<void> {\n    this.config?.loggerProvider.debug(\n      `Analytics session id is changed to ${sessionId}, SR session id is ${String(this.sessionReplay.getSessionId())}.`,\n    );\n    await this.sessionReplay.setSessionId(sessionId).promise;\n  }\n\n  async onOptOutChanged(optOut: boolean): Promise<void> {\n    this.config?.loggerProvider.debug(\n      `optOut is changed to ${String(optOut)}, calling ${\n        optOut ? 'sessionReplay.shutdown()' : 'sessionReplay.init()'\n      }.`,\n    );\n    // TODO: compare optOut with this.sessionReplay.getOptOut().\n    // Need to add getOptOut() to the interface AmplitudeSessionReplay first.\n    if (optOut) {\n      this.sessionReplay.shutdown();\n    } else {\n      this.config != null && (await this.sessionReplay.init(this.config.apiKey, this.srInitOptions).promise);\n    }\n  }\n\n  async execute(event: Event) {\n    try {\n      if (this.options.customSessionId) {\n        const sessionId = this.options.customSessionId(event);\n        if (sessionId) {\n          // On event, synchronize the session id to the custom session id from the event. This may\n          // suffer from offline/delayed events messing up the state stored\n          if (sessionId !== this.sessionReplay.getSessionId()) {\n            await this.sessionReplay.setSessionId(sessionId).promise;\n          }\n\n          const sessionRecordingProperties = this.sessionReplay.getSessionReplayProperties();\n          event.event_properties = {\n            ...event.event_properties,\n            ...sessionRecordingProperties,\n          };\n        }\n      } else {\n        // On event, synchronize the session id to the what's on the browserConfig (source of truth)\n        // Choosing not to read from event object here, concerned about offline/delayed events messing up the state stored\n        // in SR.\n        const sessionId: string | number | undefined = this.config?.sessionId;\n        if (sessionId && sessionId !== this.sessionReplay.getSessionId()) {\n          await this.sessionReplay.setSessionId(sessionId).promise;\n        }\n\n        // Treating config.sessionId as source of truth, if the event's session id doesn't match, the\n        // event is not of the current session (offline/late events). In that case, don't tag the events\n        if (sessionId && sessionId === event.session_id) {\n          let userProperties;\n          if (event.event_type === SpecialEventType.IDENTIFY) {\n            userProperties = parseUserProperties(event);\n          }\n          await this.sessionReplay.evaluateTargetingAndCapture({ event, userProperties });\n          const sessionRecordingProperties = this.sessionReplay.getSessionReplayProperties();\n          event.event_properties = {\n            ...event.event_properties,\n            ...sessionRecordingProperties,\n          };\n        }\n      }\n\n      if (event.event_type === SpecialEventType.IDENTIFY && event.event_properties) {\n        delete event.event_properties[DEFAULT_SESSION_REPLAY_PROPERTY];\n      }\n\n      return Promise.resolve(event);\n    } catch (error) {\n      /* istanbul ignore next */\n      this.config?.loggerProvider.error(`Session Replay: Failed to enrich event due to ${(error as Error).message}`);\n      return Promise.resolve(event);\n    }\n  }\n\n  async teardown(): Promise<void> {\n    try {\n      this.sessionReplay.shutdown();\n      // the following are initialized in setup() which will always be called first\n      // here we reset them to null to prevent memory leaks\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      this.config = null;\n    } catch (error) {\n      /* istanbul ignore next */\n      this.config?.loggerProvider.error(`Session Replay: teardown failed due to ${(error as Error).message}`);\n    }\n  }\n\n  getSessionReplayProperties() {\n    return this.sessionReplay.getSessionReplayProperties();\n  }\n}\n\nexport const sessionReplayPlugin: (options?: SessionReplayOptions) => EnrichmentPlugin = (\n  options?: SessionReplayOptions,\n) => {\n  return new SessionReplayPlugin(options);\n};\n","import { AnalyticsConnector } from '@amplitude/analytics-connector';\nexport var getAnalyticsConnector = function (instanceName) {\n    if (instanceName === void 0) { instanceName = '$default_instance'; }\n    return AnalyticsConnector.getInstance(instanceName);\n};\nexport var setConnectorUserId = function (userId, instanceName) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setUserId(userId).commit();\n};\nexport var setConnectorDeviceId = function (deviceId, instanceName) {\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setDeviceId(deviceId).commit();\n};\n//# sourceMappingURL=analytics-connector.js.map","import { Event, IdentifyOperation } from '@amplitude/analytics-types';\nimport { PROPERTY_ADD_OPERATIONS } from './constants';\n\nexport const parseUserProperties = (event: Event) => {\n  if (!event.user_properties) {\n    return;\n  }\n  let userPropertiesObj = {};\n  const userPropertyKeys = Object.keys(event.user_properties);\n\n  userPropertyKeys.forEach((identifyKey) => {\n    if (PROPERTY_ADD_OPERATIONS.includes(identifyKey as IdentifyOperation)) {\n      const typedUserPropertiesOperation =\n        event.user_properties && (event.user_properties[identifyKey as IdentifyOperation] as Record<string, any>);\n      userPropertiesObj = {\n        ...userPropertiesObj,\n        ...typedUserPropertiesOperation,\n      };\n    }\n  });\n  return userPropertiesObj;\n};\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nfunction __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nfunction __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nvar EvaluationOperator = {\n    IS: 'is',\n    IS_NOT: 'is not',\n    CONTAINS: 'contains',\n    DOES_NOT_CONTAIN: 'does not contain',\n    LESS_THAN: 'less',\n    LESS_THAN_EQUALS: 'less or equal',\n    GREATER_THAN: 'greater',\n    GREATER_THAN_EQUALS: 'greater or equal',\n    VERSION_LESS_THAN: 'version less',\n    VERSION_LESS_THAN_EQUALS: 'version less or equal',\n    VERSION_GREATER_THAN: 'version greater',\n    VERSION_GREATER_THAN_EQUALS: 'version greater or equal',\n    SET_IS: 'set is',\n    SET_IS_NOT: 'set is not',\n    SET_CONTAINS: 'set contains',\n    SET_DOES_NOT_CONTAIN: 'set does not contain',\n    SET_CONTAINS_ANY: 'set contains any',\n    SET_DOES_NOT_CONTAIN_ANY: 'set does not contain any',\n    REGEX_MATCH: 'regex match',\n    REGEX_DOES_NOT_MATCH: 'regex does not match',\n};\n\nvar stringToUtf8ByteArray = function (str) {\n    var out = [];\n    var p = 0;\n    for (var i = 0; i < str.length; i++) {\n        var c = str.charCodeAt(i);\n        if (c < 128) {\n            out[p++] = c;\n        }\n        else if (c < 2048) {\n            out[p++] = (c >> 6) | 192;\n            out[p++] = (c & 63) | 128;\n        }\n        else if ((c & 0xfc00) == 0xd800 &&\n            i + 1 < str.length &&\n            (str.charCodeAt(i + 1) & 0xfc00) == 0xdc00) {\n            // Surrogate Pair\n            c = 0x10000 + ((c & 0x03ff) << 10) + (str.charCodeAt(++i) & 0x03ff);\n            out[p++] = (c >> 18) | 240;\n            out[p++] = ((c >> 12) & 63) | 128;\n            out[p++] = ((c >> 6) & 63) | 128;\n            out[p++] = (c & 63) | 128;\n        }\n        else {\n            out[p++] = (c >> 12) | 224;\n            out[p++] = ((c >> 6) & 63) | 128;\n            out[p++] = (c & 63) | 128;\n        }\n    }\n    return Uint8Array.from(out);\n};\n\nvar C1_32 = -0x3361d2af;\nvar C2_32 = 0x1b873593;\nvar R1_32 = 15;\nvar R2_32 = 13;\nvar M_32 = 5;\nvar N_32 = -0x19ab949c;\nvar hash32x86 = function (input, seed) {\n    if (seed === void 0) { seed = 0; }\n    var data = stringToUtf8ByteArray(input);\n    var length = data.length;\n    var nBlocks = length >> 2;\n    var hash = seed;\n    // body\n    for (var i = 0; i < nBlocks; i++) {\n        var index_1 = i << 2;\n        var k = readIntLe(data, index_1);\n        hash = mix32(k, hash);\n    }\n    // tail\n    var index = nBlocks << 2;\n    var k1 = 0;\n    switch (length - index) {\n        case 3:\n            k1 ^= data[index + 2] << 16;\n            k1 ^= data[index + 1] << 8;\n            k1 ^= data[index];\n            k1 = Math.imul(k1, C1_32);\n            k1 = rotateLeft(k1, R1_32);\n            k1 = Math.imul(k1, C2_32);\n            hash ^= k1;\n            break;\n        case 2:\n            k1 ^= data[index + 1] << 8;\n            k1 ^= data[index];\n            k1 = Math.imul(k1, C1_32);\n            k1 = rotateLeft(k1, R1_32);\n            k1 = Math.imul(k1, C2_32);\n            hash ^= k1;\n            break;\n        case 1:\n            k1 ^= data[index];\n            k1 = Math.imul(k1, C1_32);\n            k1 = rotateLeft(k1, R1_32);\n            k1 = Math.imul(k1, C2_32);\n            hash ^= k1;\n            break;\n    }\n    hash ^= length;\n    return fmix32(hash) >>> 0;\n};\nvar mix32 = function (k, hash) {\n    var kResult = k;\n    var hashResult = hash;\n    kResult = Math.imul(kResult, C1_32);\n    kResult = rotateLeft(kResult, R1_32);\n    kResult = Math.imul(kResult, C2_32);\n    hashResult ^= kResult;\n    hashResult = rotateLeft(hashResult, R2_32);\n    hashResult = Math.imul(hashResult, M_32);\n    return (hashResult + N_32) | 0;\n};\nvar fmix32 = function (hash) {\n    var hashResult = hash;\n    hashResult ^= hashResult >>> 16;\n    hashResult = Math.imul(hashResult, -0x7a143595);\n    hashResult ^= hashResult >>> 13;\n    hashResult = Math.imul(hashResult, -0x3d4d51cb);\n    hashResult ^= hashResult >>> 16;\n    return hashResult;\n};\nvar rotateLeft = function (x, n, width) {\n    if (width === void 0) { width = 32; }\n    if (n > width)\n        n = n % width;\n    var mask = (0xffffffff << (width - n)) >>> 0;\n    var r = (((x & mask) >>> 0) >>> (width - n)) >>> 0;\n    return ((x << n) | r) >>> 0;\n};\nvar readIntLe = function (data, index) {\n    if (index === void 0) { index = 0; }\n    var n = (data[index] << 24) |\n        (data[index + 1] << 16) |\n        (data[index + 2] << 8) |\n        data[index + 3];\n    return reverseBytes(n);\n};\nvar reverseBytes = function (n) {\n    return (((n & -0x1000000) >>> 24) |\n        ((n & 0x00ff0000) >>> 8) |\n        ((n & 0x0000ff00) << 8) |\n        ((n & 0x000000ff) << 24));\n};\n\nvar select = function (selectable, selector) {\n    var e_1, _a;\n    if (!selector || selector.length === 0) {\n        return undefined;\n    }\n    try {\n        for (var selector_1 = __values(selector), selector_1_1 = selector_1.next(); !selector_1_1.done; selector_1_1 = selector_1.next()) {\n            var selectorElement = selector_1_1.value;\n            if (!selectorElement || !selectable || typeof selectable !== 'object') {\n                return undefined;\n            }\n            selectable = selectable[selectorElement];\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (selector_1_1 && !selector_1_1.done && (_a = selector_1.return)) _a.call(selector_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    if (!selectable) {\n        return undefined;\n    }\n    else {\n        return selectable;\n    }\n};\n\n// major and minor should be non-negative numbers separated by a dot\nvar MAJOR_MINOR_REGEX = '(\\\\d+)\\\\.(\\\\d+)';\n// patch should be a non-negative number\nvar PATCH_REGEX = '(\\\\d+)';\n// prerelease is optional. If provided, it should be a hyphen followed by a\n// series of dot separated identifiers where an identifer can contain anything in [-0-9a-zA-Z]\nvar PRERELEASE_REGEX = '(-(([-\\\\w]+\\\\.?)*))?';\n// version pattern should be major.minor(.patchAndPreRelease) where .patchAndPreRelease is optional\nvar VERSION_PATTERN = \"^\".concat(MAJOR_MINOR_REGEX, \"(\\\\.\").concat(PATCH_REGEX).concat(PRERELEASE_REGEX, \")?$\");\nvar SemanticVersion = /** @class */ (function () {\n    function SemanticVersion(major, minor, patch, preRelease) {\n        if (preRelease === void 0) { preRelease = undefined; }\n        this.major = major;\n        this.minor = minor;\n        this.patch = patch;\n        this.preRelease = preRelease;\n    }\n    SemanticVersion.parse = function (version) {\n        if (!version) {\n            return undefined;\n        }\n        var matchGroup = new RegExp(VERSION_PATTERN).exec(version);\n        if (!matchGroup) {\n            return undefined;\n        }\n        var major = Number(matchGroup[1]);\n        var minor = Number(matchGroup[2]);\n        if (isNaN(major) || isNaN(minor)) {\n            return undefined;\n        }\n        var patch = Number(matchGroup[4]) || 0;\n        var preRelease = matchGroup[5] || undefined;\n        return new SemanticVersion(major, minor, patch, preRelease);\n    };\n    SemanticVersion.prototype.compareTo = function (other) {\n        if (this.major > other.major)\n            return 1;\n        if (this.major < other.major)\n            return -1;\n        if (this.minor > other.minor)\n            return 1;\n        if (this.minor < other.minor)\n            return -1;\n        if (this.patch > other.patch)\n            return 1;\n        if (this.patch < other.patch)\n            return -1;\n        if (this.preRelease && !other.preRelease)\n            return -1;\n        if (!this.preRelease && other.preRelease)\n            return 1;\n        if (this.preRelease && other.preRelease) {\n            if (this.preRelease > other.preRelease)\n                return 1;\n            if (this.preRelease < other.preRelease)\n                return -1;\n            return 0;\n        }\n        return 0;\n    };\n    return SemanticVersion;\n}());\n\nvar EvaluationEngine = /** @class */ (function () {\n    function EvaluationEngine() {\n    }\n    EvaluationEngine.prototype.evaluate = function (context, flags) {\n        var e_1, _a;\n        var results = {};\n        var target = {\n            context: context,\n            result: results,\n        };\n        try {\n            for (var flags_1 = __values(flags), flags_1_1 = flags_1.next(); !flags_1_1.done; flags_1_1 = flags_1.next()) {\n                var flag = flags_1_1.value;\n                // Evaluate flag and update results.\n                var variant = this.evaluateFlag(target, flag);\n                if (variant) {\n                    results[flag.key] = variant;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (flags_1_1 && !flags_1_1.done && (_a = flags_1.return)) _a.call(flags_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return results;\n    };\n    EvaluationEngine.prototype.evaluateFlag = function (target, flag) {\n        var e_2, _a;\n        var result;\n        try {\n            for (var _b = __values(flag.segments), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var segment = _c.value;\n                result = this.evaluateSegment(target, flag, segment);\n                if (result) {\n                    // Merge all metadata into the result\n                    var metadata = __assign(__assign(__assign({}, flag.metadata), segment.metadata), result.metadata);\n                    result = __assign(__assign({}, result), { metadata: metadata });\n                    break;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return result;\n    };\n    EvaluationEngine.prototype.evaluateSegment = function (target, flag, segment) {\n        var e_3, _a, e_4, _b;\n        if (!segment.conditions) {\n            // Null conditions always match\n            var variantKey = this.bucket(target, segment);\n            if (variantKey !== undefined) {\n                return flag.variants[variantKey];\n            }\n            else {\n                return undefined;\n            }\n        }\n        try {\n            // Outer list logic is \"or\" (||)\n            for (var _c = __values(segment.conditions), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var conditions = _d.value;\n                var match = true;\n                try {\n                    for (var conditions_1 = (e_4 = void 0, __values(conditions)), conditions_1_1 = conditions_1.next(); !conditions_1_1.done; conditions_1_1 = conditions_1.next()) {\n                        var condition = conditions_1_1.value;\n                        match = this.matchCondition(target, condition);\n                        if (!match) {\n                            break;\n                        }\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (conditions_1_1 && !conditions_1_1.done && (_b = conditions_1.return)) _b.call(conditions_1);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n                // On match, bucket the user.\n                if (match) {\n                    var variantKey = this.bucket(target, segment);\n                    if (variantKey !== undefined) {\n                        return flag.variants[variantKey];\n                    }\n                    else {\n                        return undefined;\n                    }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return undefined;\n    };\n    EvaluationEngine.prototype.matchCondition = function (target, condition) {\n        var propValue = select(target, condition.selector);\n        // We need special matching for null properties and set type prop values\n        // and operators. All other values are matched as strings, since the\n        // filter values are always strings.\n        if (!propValue) {\n            return this.matchNull(condition.op, condition.values);\n        }\n        else if (this.isSetOperator(condition.op)) {\n            var propValueStringList = this.coerceStringArray(propValue);\n            if (!propValueStringList) {\n                return false;\n            }\n            return this.matchSet(propValueStringList, condition.op, condition.values);\n        }\n        else {\n            var propValueString = this.coerceString(propValue);\n            if (propValueString !== undefined) {\n                return this.matchString(propValueString, condition.op, condition.values);\n            }\n            else {\n                return false;\n            }\n        }\n    };\n    EvaluationEngine.prototype.getHash = function (key) {\n        return hash32x86(key);\n    };\n    EvaluationEngine.prototype.bucket = function (target, segment) {\n        var e_5, _a, e_6, _b;\n        if (!segment.bucket) {\n            // A null bucket means the segment is fully rolled out. Select the\n            // default variant.\n            return segment.variant;\n        }\n        // Select the bucketing value.\n        var bucketingValue = this.coerceString(select(target, segment.bucket.selector));\n        if (!bucketingValue || bucketingValue.length === 0) {\n            // A null or empty bucketing value cannot be bucketed. Select the\n            // default variant.\n            return segment.variant;\n        }\n        // Salt and has the value, and compute the allocation and distribution\n        // values.\n        var keyToHash = \"\".concat(segment.bucket.salt, \"/\").concat(bucketingValue);\n        var hash = this.getHash(keyToHash);\n        var allocationValue = hash % 100;\n        var distributionValue = Math.floor(hash / 100);\n        try {\n            for (var _c = __values(segment.bucket.allocations), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var allocation = _d.value;\n                var allocationStart = allocation.range[0];\n                var allocationEnd = allocation.range[1];\n                if (allocationValue >= allocationStart &&\n                    allocationValue < allocationEnd) {\n                    try {\n                        for (var _e = (e_6 = void 0, __values(allocation.distributions)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                            var distribution = _f.value;\n                            var distributionStart = distribution.range[0];\n                            var distributionEnd = distribution.range[1];\n                            if (distributionValue >= distributionStart &&\n                                distributionValue < distributionEnd) {\n                                return distribution.variant;\n                            }\n                        }\n                    }\n                    catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                    finally {\n                        try {\n                            if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                        }\n                        finally { if (e_6) throw e_6.error; }\n                    }\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        return segment.variant;\n    };\n    EvaluationEngine.prototype.matchNull = function (op, filterValues) {\n        var containsNone = this.containsNone(filterValues);\n        switch (op) {\n            case EvaluationOperator.IS:\n            case EvaluationOperator.CONTAINS:\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n            case EvaluationOperator.VERSION_LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n            case EvaluationOperator.SET_IS:\n            case EvaluationOperator.SET_CONTAINS:\n            case EvaluationOperator.SET_CONTAINS_ANY:\n                return containsNone;\n            case EvaluationOperator.IS_NOT:\n            case EvaluationOperator.DOES_NOT_CONTAIN:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN_ANY:\n                return !containsNone;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchSet = function (propValues, op, filterValues) {\n        switch (op) {\n            case EvaluationOperator.SET_IS:\n                return this.setEquals(propValues, filterValues);\n            case EvaluationOperator.SET_IS_NOT:\n                return !this.setEquals(propValues, filterValues);\n            case EvaluationOperator.SET_CONTAINS:\n                return this.matchesSetContainsAll(propValues, filterValues);\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN:\n                return !this.matchesSetContainsAll(propValues, filterValues);\n            case EvaluationOperator.SET_CONTAINS_ANY:\n                return this.matchesSetContainsAny(propValues, filterValues);\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN_ANY:\n                return !this.matchesSetContainsAny(propValues, filterValues);\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchString = function (propValue, op, filterValues) {\n        var _this = this;\n        switch (op) {\n            case EvaluationOperator.IS:\n                return this.matchesIs(propValue, filterValues);\n            case EvaluationOperator.IS_NOT:\n                return !this.matchesIs(propValue, filterValues);\n            case EvaluationOperator.CONTAINS:\n                return this.matchesContains(propValue, filterValues);\n            case EvaluationOperator.DOES_NOT_CONTAIN:\n                return !this.matchesContains(propValue, filterValues);\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n                return this.matchesComparable(propValue, op, filterValues, function (value) { return _this.parseNumber(value); }, this.comparator);\n            case EvaluationOperator.VERSION_LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n                return this.matchesComparable(propValue, op, filterValues, function (value) { return SemanticVersion.parse(value); }, this.versionComparator);\n            case EvaluationOperator.REGEX_MATCH:\n                return this.matchesRegex(propValue, filterValues);\n            case EvaluationOperator.REGEX_DOES_NOT_MATCH:\n                return !this.matchesRegex(propValue, filterValues);\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchesIs = function (propValue, filterValues) {\n        if (this.containsBooleans(filterValues)) {\n            var lower_1 = propValue.toLowerCase();\n            if (lower_1 === 'true' || lower_1 === 'false') {\n                return filterValues.some(function (value) { return value.toLowerCase() === lower_1; });\n            }\n        }\n        return filterValues.some(function (value) { return propValue === value; });\n    };\n    EvaluationEngine.prototype.matchesContains = function (propValue, filterValues) {\n        var e_7, _a;\n        try {\n            for (var filterValues_1 = __values(filterValues), filterValues_1_1 = filterValues_1.next(); !filterValues_1_1.done; filterValues_1_1 = filterValues_1.next()) {\n                var filterValue = filterValues_1_1.value;\n                if (propValue.toLowerCase().includes(filterValue.toLowerCase())) {\n                    return true;\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (filterValues_1_1 && !filterValues_1_1.done && (_a = filterValues_1.return)) _a.call(filterValues_1);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        return false;\n    };\n    EvaluationEngine.prototype.matchesComparable = function (propValue, op, filterValues, typeTransformer, typeComparator) {\n        var _this = this;\n        var propValueTransformed = typeTransformer(propValue);\n        var filterValuesTransformed = filterValues\n            .map(function (filterValue) {\n            return typeTransformer(filterValue);\n        })\n            .filter(function (filterValue) {\n            return filterValue !== undefined;\n        });\n        if (propValueTransformed === undefined ||\n            filterValuesTransformed.length === 0) {\n            return filterValues.some(function (filterValue) {\n                return _this.comparator(propValue, op, filterValue);\n            });\n        }\n        else {\n            return filterValuesTransformed.some(function (filterValueTransformed) {\n                return typeComparator(propValueTransformed, op, filterValueTransformed);\n            });\n        }\n    };\n    EvaluationEngine.prototype.comparator = function (propValue, op, filterValue) {\n        switch (op) {\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN:\n                return propValue < filterValue;\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n                return propValue <= filterValue;\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n                return propValue > filterValue;\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n                return propValue >= filterValue;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.versionComparator = function (propValue, op, filterValue) {\n        var compareTo = propValue.compareTo(filterValue);\n        switch (op) {\n            case EvaluationOperator.LESS_THAN:\n            case EvaluationOperator.VERSION_LESS_THAN:\n                return compareTo < 0;\n            case EvaluationOperator.LESS_THAN_EQUALS:\n            case EvaluationOperator.VERSION_LESS_THAN_EQUALS:\n                return compareTo <= 0;\n            case EvaluationOperator.GREATER_THAN:\n            case EvaluationOperator.VERSION_GREATER_THAN:\n                return compareTo > 0;\n            case EvaluationOperator.GREATER_THAN_EQUALS:\n            case EvaluationOperator.VERSION_GREATER_THAN_EQUALS:\n                return compareTo >= 0;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.matchesRegex = function (propValue, filterValues) {\n        return filterValues.some(function (filterValue) {\n            return Boolean(new RegExp(filterValue).exec(propValue));\n        });\n    };\n    EvaluationEngine.prototype.containsNone = function (filterValues) {\n        return filterValues.some(function (filterValue) {\n            return filterValue === '(none)';\n        });\n    };\n    EvaluationEngine.prototype.containsBooleans = function (filterValues) {\n        return filterValues.some(function (filterValue) {\n            switch (filterValue.toLowerCase()) {\n                case 'true':\n                case 'false':\n                    return true;\n                default:\n                    return false;\n            }\n        });\n    };\n    EvaluationEngine.prototype.parseNumber = function (value) {\n        var _a;\n        return (_a = Number(value)) !== null && _a !== void 0 ? _a : undefined;\n    };\n    EvaluationEngine.prototype.coerceString = function (value) {\n        if (!value) {\n            return undefined;\n        }\n        if (typeof value === 'object') {\n            return JSON.stringify(value);\n        }\n        return String(value);\n    };\n    EvaluationEngine.prototype.coerceStringArray = function (value) {\n        var _this = this;\n        if (Array.isArray(value)) {\n            var anyArray = value;\n            return anyArray\n                .map(function (e) { return _this.coerceString(e); })\n                .filter(Boolean);\n        }\n        var stringValue = String(value);\n        try {\n            var parsedValue = JSON.parse(stringValue);\n            if (Array.isArray(parsedValue)) {\n                var anyArray = value;\n                return anyArray\n                    .map(function (e) { return _this.coerceString(e); })\n                    .filter(Boolean);\n            }\n            else {\n                return undefined;\n            }\n        }\n        catch (_a) {\n            return undefined;\n        }\n    };\n    EvaluationEngine.prototype.isSetOperator = function (op) {\n        switch (op) {\n            case EvaluationOperator.SET_IS:\n            case EvaluationOperator.SET_IS_NOT:\n            case EvaluationOperator.SET_CONTAINS:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN:\n            case EvaluationOperator.SET_CONTAINS_ANY:\n            case EvaluationOperator.SET_DOES_NOT_CONTAIN_ANY:\n                return true;\n            default:\n                return false;\n        }\n    };\n    EvaluationEngine.prototype.setEquals = function (xa, ya) {\n        var xs = new Set(xa);\n        var ys = new Set(ya);\n        return xs.size === ys.size && __spreadArray([], __read(ys), false).every(function (y) { return xs.has(y); });\n    };\n    EvaluationEngine.prototype.matchesSetContainsAll = function (propValues, filterValues) {\n        var e_8, _a;\n        if (propValues.length < filterValues.length) {\n            return false;\n        }\n        try {\n            for (var filterValues_2 = __values(filterValues), filterValues_2_1 = filterValues_2.next(); !filterValues_2_1.done; filterValues_2_1 = filterValues_2.next()) {\n                var filterValue = filterValues_2_1.value;\n                if (!this.matchesIs(filterValue, propValues)) {\n                    return false;\n                }\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (filterValues_2_1 && !filterValues_2_1.done && (_a = filterValues_2.return)) _a.call(filterValues_2);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        return true;\n    };\n    EvaluationEngine.prototype.matchesSetContainsAny = function (propValues, filterValues) {\n        var e_9, _a;\n        try {\n            for (var filterValues_3 = __values(filterValues), filterValues_3_1 = filterValues_3.next(); !filterValues_3_1.done; filterValues_3_1 = filterValues_3.next()) {\n                var filterValue = filterValues_3_1.value;\n                if (this.matchesIs(filterValue, propValues)) {\n                    return true;\n                }\n            }\n        }\n        catch (e_9_1) { e_9 = { error: e_9_1 }; }\n        finally {\n            try {\n                if (filterValues_3_1 && !filterValues_3_1.done && (_a = filterValues_3.return)) _a.call(filterValues_3);\n            }\n            finally { if (e_9) throw e_9.error; }\n        }\n        return false;\n    };\n    return EvaluationEngine;\n}());\n\nvar topologicalSort = function (flags, flagKeys) {\n    var e_1, _a;\n    var available = __assign({}, flags);\n    var result = [];\n    var startingKeys = flagKeys || Object.keys(available);\n    try {\n        for (var startingKeys_1 = __values(startingKeys), startingKeys_1_1 = startingKeys_1.next(); !startingKeys_1_1.done; startingKeys_1_1 = startingKeys_1.next()) {\n            var flagKey = startingKeys_1_1.value;\n            var traversal = parentTraversal(flagKey, available);\n            if (traversal) {\n                result.push.apply(result, __spreadArray([], __read(traversal), false));\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (startingKeys_1_1 && !startingKeys_1_1.done && (_a = startingKeys_1.return)) _a.call(startingKeys_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return result;\n};\nvar parentTraversal = function (flagKey, available, path) {\n    var e_2, _a;\n    if (path === void 0) { path = []; }\n    var flag = available[flagKey];\n    if (!flag) {\n        return undefined;\n    }\n    else if (!flag.dependencies || flag.dependencies.length === 0) {\n        delete available[flag.key];\n        return [flag];\n    }\n    path.push(flag.key);\n    var result = [];\n    var _loop_1 = function (parentKey) {\n        if (path.some(function (p) { return p === parentKey; })) {\n            throw Error(\"Detected a cycle between flags \".concat(path));\n        }\n        var traversal = parentTraversal(parentKey, available, path);\n        if (traversal) {\n            result.push.apply(result, __spreadArray([], __read(traversal), false));\n        }\n    };\n    try {\n        for (var _b = __values(flag.dependencies), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var parentKey = _c.value;\n            _loop_1(parentKey);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    result.push(flag);\n    path.pop();\n    delete available[flag.key];\n    return result;\n};\n\n/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.5';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasatob = typeof atob === 'function';\nconst _hasbtoa = typeof btoa === 'function';\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = (a => {\n  let tab = {};\n  a.forEach((c, i) => tab[c] = i);\n  return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function' ? Uint8Array.from.bind(Uint8Array) : it => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = src => src.replace(/=/g, '').replace(/[+\\/]/g, m0 => m0 == '+' ? '-' : '_');\nconst _tidyB64 = s => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = bin => {\n  // console.log('polyfilled');\n  let u32,\n    c0,\n    c1,\n    c2,\n    asc = '';\n  const pad = bin.length % 3;\n  for (let i = 0; i < bin.length;) {\n    if ((c0 = bin.charCodeAt(i++)) > 255 || (c1 = bin.charCodeAt(i++)) > 255 || (c2 = bin.charCodeAt(i++)) > 255) throw new TypeError('invalid character found');\n    u32 = c0 << 16 | c1 << 8 | c2;\n    asc += b64chs[u32 >> 18 & 63] + b64chs[u32 >> 12 & 63] + b64chs[u32 >> 6 & 63] + b64chs[u32 & 63];\n  }\n  return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = _hasbtoa ? bin => btoa(bin) : _hasBuffer ? bin => Buffer.from(bin, 'binary').toString('base64') : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer ? u8a => Buffer.from(u8a).toString('base64') : u8a => {\n  // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n  const maxargs = 0x1000;\n  let strs = [];\n  for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n    strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n  }\n  return _btoa(strs.join(''));\n};\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 5\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = c => {\n  if (c.length < 2) {\n    var cc = c.charCodeAt(0);\n    return cc < 0x80 ? c : cc < 0x800 ? _fromCC(0xc0 | cc >>> 6) + _fromCC(0x80 | cc & 0x3f) : _fromCC(0xe0 | cc >>> 12 & 0x0f) + _fromCC(0x80 | cc >>> 6 & 0x3f) + _fromCC(0x80 | cc & 0x3f);\n  } else {\n    var cc = 0x10000 + (c.charCodeAt(0) - 0xD800) * 0x400 + (c.charCodeAt(1) - 0xDC00);\n    return _fromCC(0xf0 | cc >>> 18 & 0x07) + _fromCC(0x80 | cc >>> 12 & 0x3f) + _fromCC(0x80 | cc >>> 6 & 0x3f) + _fromCC(0x80 | cc & 0x3f);\n  }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = u => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer ? s => Buffer.from(s, 'utf8').toString('base64') : _TE ? s => _fromUint8Array(_TE.encode(s)) : s => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe ? _mkUriSafe(_encode(src)) : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 5.\n * @returns {string} Base64 string\n */\nconst encodeURI = src => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = cccc => {\n  switch (cccc.length) {\n    case 4:\n      var cp = (0x07 & cccc.charCodeAt(0)) << 18 | (0x3f & cccc.charCodeAt(1)) << 12 | (0x3f & cccc.charCodeAt(2)) << 6 | 0x3f & cccc.charCodeAt(3),\n        offset = cp - 0x10000;\n      return _fromCC((offset >>> 10) + 0xD800) + _fromCC((offset & 0x3FF) + 0xDC00);\n    case 3:\n      return _fromCC((0x0f & cccc.charCodeAt(0)) << 12 | (0x3f & cccc.charCodeAt(1)) << 6 | 0x3f & cccc.charCodeAt(2));\n    default:\n      return _fromCC((0x1f & cccc.charCodeAt(0)) << 6 | 0x3f & cccc.charCodeAt(1));\n  }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = b => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = asc => {\n  // console.log('polyfilled');\n  asc = asc.replace(/\\s+/g, '');\n  if (!b64re.test(asc)) throw new TypeError('malformed base64.');\n  asc += '=='.slice(2 - (asc.length & 3));\n  let u24,\n    bin = '',\n    r1,\n    r2;\n  for (let i = 0; i < asc.length;) {\n    u24 = b64tab[asc.charAt(i++)] << 18 | b64tab[asc.charAt(i++)] << 12 | (r1 = b64tab[asc.charAt(i++)]) << 6 | (r2 = b64tab[asc.charAt(i++)]);\n    bin += r1 === 64 ? _fromCC(u24 >> 16 & 255) : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255) : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);\n  }\n  return bin;\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = _hasatob ? asc => atob(_tidyB64(asc)) : _hasBuffer ? asc => Buffer.from(asc, 'base64').toString('binary') : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer ? a => _U8Afrom(Buffer.from(a, 'base64')) : a => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = a => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer ? a => Buffer.from(a, 'base64').toString('utf8') : _TD ? a => _TD.decode(_toUint8Array(a)) : a => btou(_atob(a));\nconst _unURI = a => _tidyB64(a.replace(/[-_]/g, m0 => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = src => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = src => {\n  if (typeof src !== 'string') return false;\n  const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n  return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = v => {\n  return {\n    value: v,\n    enumerable: false,\n    writable: true,\n    configurable: true\n  };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n  const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n  _add('fromBase64', function () {\n    return decode(this);\n  });\n  _add('toBase64', function (urlsafe) {\n    return encode(this, urlsafe);\n  });\n  _add('toBase64URI', function () {\n    return encode(this, true);\n  });\n  _add('toBase64URL', function () {\n    return encode(this, true);\n  });\n  _add('toUint8Array', function () {\n    return toUint8Array(this);\n  });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n  const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n  _add('toBase64', function (urlsafe) {\n    return fromUint8Array(this, urlsafe);\n  });\n  _add('toBase64URI', function () {\n    return fromUint8Array(this, true);\n  });\n  _add('toBase64URL', function () {\n    return fromUint8Array(this, true);\n  });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n  extendString();\n  extendUint8Array();\n};\nconst gBase64 = {\n  version: version,\n  VERSION: VERSION,\n  atob: _atob,\n  atobPolyfill: atobPolyfill,\n  btoa: _btoa,\n  btoaPolyfill: btoaPolyfill,\n  fromBase64: decode,\n  toBase64: encode,\n  encode: encode,\n  encodeURI: encodeURI,\n  encodeURL: encodeURI,\n  utob: utob,\n  btou: btou,\n  decode: decode,\n  isValid: isValid,\n  fromUint8Array: fromUint8Array,\n  toUint8Array: toUint8Array,\n  extendString: extendString,\n  extendUint8Array: extendUint8Array,\n  extendBuiltins: extendBuiltins\n};\n\nvar FetchError = /** @class */ (function (_super) {\n    __extends(FetchError, _super);\n    function FetchError(statusCode, message) {\n        var _this = _super.call(this, message) || this;\n        _this.statusCode = statusCode;\n        Object.setPrototypeOf(_this, FetchError.prototype);\n        return _this;\n    }\n    return FetchError;\n}(Error));\n\nvar SdkEvaluationApi = /** @class */ (function () {\n    function SdkEvaluationApi(deploymentKey, serverUrl, httpClient) {\n        this.deploymentKey = deploymentKey;\n        this.serverUrl = serverUrl;\n        this.httpClient = httpClient;\n    }\n    SdkEvaluationApi.prototype.getVariants = function (user, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userJsonBase64, headers, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        userJsonBase64 = gBase64.encodeURL(JSON.stringify(user));\n                        headers = {\n                            Authorization: \"Api-Key \".concat(this.deploymentKey),\n                            'X-Amp-Exp-User': userJsonBase64,\n                        };\n                        if (options === null || options === void 0 ? void 0 : options.flagKeys) {\n                            headers['X-Amp-Exp-Flag-Keys'] = gBase64.encodeURL(JSON.stringify(options.flagKeys));\n                        }\n                        if (options === null || options === void 0 ? void 0 : options.trackingOption) {\n                            headers['X-Amp-Exp-Track'] = options.trackingOption;\n                        }\n                        return [4 /*yield*/, this.httpClient.request({\n                                requestUrl: \"\".concat(this.serverUrl, \"/sdk/v2/vardata?v=0\"),\n                                method: 'GET',\n                                headers: headers,\n                                timeoutMillis: options === null || options === void 0 ? void 0 : options.timeoutMillis,\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status != 200) {\n                            throw new FetchError(response.status, \"Fetch error response: status=\".concat(response.status));\n                        }\n                        return [2 /*return*/, JSON.parse(response.body)];\n                }\n            });\n        });\n    };\n    return SdkEvaluationApi;\n}());\n\nvar SdkFlagApi = /** @class */ (function () {\n    function SdkFlagApi(deploymentKey, serverUrl, httpClient) {\n        this.deploymentKey = deploymentKey;\n        this.serverUrl = serverUrl;\n        this.httpClient = httpClient;\n    }\n    SdkFlagApi.prototype.getFlags = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var headers, response, flagsArray;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        headers = {\n                            Authorization: \"Api-Key \".concat(this.deploymentKey),\n                        };\n                        if ((options === null || options === void 0 ? void 0 : options.libraryName) && (options === null || options === void 0 ? void 0 : options.libraryVersion)) {\n                            headers['X-Amp-Exp-Library'] = \"\".concat(options.libraryName, \"/\").concat(options.libraryVersion);\n                        }\n                        return [4 /*yield*/, this.httpClient.request({\n                                requestUrl: \"\".concat(this.serverUrl, \"/sdk/v2/flags\"),\n                                method: 'GET',\n                                headers: headers,\n                                timeoutMillis: options === null || options === void 0 ? void 0 : options.timeoutMillis,\n                            })];\n                    case 1:\n                        response = _a.sent();\n                        if (response.status != 200) {\n                            throw Error(\"Flags error response: status=\".concat(response.status));\n                        }\n                        flagsArray = JSON.parse(response.body);\n                        return [2 /*return*/, flagsArray.reduce(function (map, flag) {\n                                map[flag.key] = flag;\n                                return map;\n                            }, {})];\n                }\n            });\n        });\n    };\n    return SdkFlagApi;\n}());\n\nvar safeGlobal = typeof globalThis !== 'undefined' ? globalThis : global || self;\n\nvar Poller = /** @class */ (function () {\n    function Poller(action, ms) {\n        this.poller = undefined;\n        this.action = action;\n        this.ms = ms;\n    }\n    Poller.prototype.start = function () {\n        if (this.poller) {\n            return;\n        }\n        this.poller = safeGlobal.setInterval(this.action, this.ms);\n        void this.action();\n    };\n    Poller.prototype.stop = function () {\n        if (!this.poller) {\n            return;\n        }\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        safeGlobal.clearInterval(this.poller);\n        this.poller = undefined;\n    };\n    return Poller;\n}());\n\nexport { EvaluationEngine, EvaluationOperator, FetchError, Poller, SdkEvaluationApi, SdkFlagApi, safeGlobal, topologicalSort };\n","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { openDB } from 'idb';\nexport var MAX_IDB_STORAGE_LENGTH = 1000 * 60 * 60 * 24 * 2; // 2 days\nvar TargetingIDBStore = /** @class */ (function () {\n    function TargetingIDBStore() {\n        var _this = this;\n        this.dbs = {};\n        this.createStore = function (dbName) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, openDB(dbName, 1, {\n                            upgrade: function (db) {\n                                if (!db.objectStoreNames.contains('eventTypesForSession')) {\n                                    db.createObjectStore('eventTypesForSession', {\n                                        keyPath: 'sessionId',\n                                    });\n                                }\n                            },\n                        })];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        }); };\n        this.openOrCreateDB = function (apiKey) { return __awaiter(_this, void 0, void 0, function () {\n            var dbName, db;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.dbs && this.dbs[apiKey]) {\n                            return [2 /*return*/, this.dbs[apiKey]];\n                        }\n                        dbName = \"\".concat(apiKey.substring(0, 10), \"_amp_targeting\");\n                        return [4 /*yield*/, this.createStore(dbName)];\n                    case 1:\n                        db = _a.sent();\n                        this.dbs[apiKey] = db;\n                        return [2 /*return*/, db];\n                }\n            });\n        }); };\n        this.updateEventListForSession = function (_a) {\n            var sessionId = _a.sessionId, eventType = _a.eventType, eventTime = _a.eventTime, loggerProvider = _a.loggerProvider, tx = _a.tx;\n            return __awaiter(_this, void 0, void 0, function () {\n                var sessionIdStr, sessionData, eventTypes, eventTypeStore, updatedEventTypes, updatedSessionData, e_1;\n                var _b, _c;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            _d.trys.push([0, 3, , 4]);\n                            sessionIdStr = String(sessionId);\n                            return [4 /*yield*/, tx.store.get(sessionIdStr)];\n                        case 1:\n                            sessionData = _d.sent();\n                            eventTypes = sessionData ? sessionData.eventTypes : {};\n                            eventTypeStore = eventTypes[eventType] || {};\n                            updatedEventTypes = __assign(__assign({}, eventTypes), (_b = {}, _b[eventType] = __assign(__assign({}, eventTypeStore), (_c = {}, _c[eventTime] = { event_type: eventType }, _c)), _b));\n                            updatedSessionData = {\n                                sessionId: sessionIdStr,\n                                eventTypes: updatedEventTypes,\n                                lastUpdated: Date.now(),\n                            };\n                            return [4 /*yield*/, tx.store.put(updatedSessionData)];\n                        case 2:\n                            _d.sent();\n                            return [2 /*return*/, updatedEventTypes];\n                        case 3:\n                            e_1 = _d.sent();\n                            loggerProvider.warn(\"Failed to store events for targeting \".concat(sessionId, \": \").concat(e_1));\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/, undefined];\n                    }\n                });\n            });\n        };\n        this.deleteOldSessionEventTypes = function (_a) {\n            var currentSessionId = _a.currentSessionId, loggerProvider = _a.loggerProvider, tx = _a.tx;\n            return __awaiter(_this, void 0, void 0, function () {\n                var currentSessionIdStr, allSessions, i, session, amountOfTimeSinceSession, e_2;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 6, , 7]);\n                            currentSessionIdStr = String(currentSessionId);\n                            return [4 /*yield*/, tx.store.getAll()];\n                        case 1:\n                            allSessions = _b.sent();\n                            i = 0;\n                            _b.label = 2;\n                        case 2:\n                            if (!(i < allSessions.length)) return [3 /*break*/, 5];\n                            session = allSessions[i];\n                            amountOfTimeSinceSession = Date.now() - session.lastUpdated;\n                            if (!(session.sessionId !== currentSessionIdStr && amountOfTimeSinceSession > MAX_IDB_STORAGE_LENGTH)) return [3 /*break*/, 4];\n                            return [4 /*yield*/, tx.store.delete(session.sessionId)];\n                        case 3:\n                            _b.sent();\n                            _b.label = 4;\n                        case 4:\n                            i++;\n                            return [3 /*break*/, 2];\n                        case 5: return [3 /*break*/, 7];\n                        case 6:\n                            e_2 = _b.sent();\n                            loggerProvider.warn(\"Failed to clear old session event types for targeting: \".concat(e_2));\n                            return [3 /*break*/, 7];\n                        case 7: return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        this.storeEventTypeForSession = function (_a) {\n            var loggerProvider = _a.loggerProvider, sessionId = _a.sessionId, eventType = _a.eventType, eventTime = _a.eventTime, apiKey = _a.apiKey;\n            return __awaiter(_this, void 0, void 0, function () {\n                var db, tx, updatedEventTypes, e_3;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            _b.trys.push([0, 5, , 6]);\n                            return [4 /*yield*/, this.openOrCreateDB(apiKey)];\n                        case 1:\n                            db = _b.sent();\n                            tx = db.transaction('eventTypesForSession', 'readwrite');\n                            if (!tx) {\n                                return [2 /*return*/];\n                            }\n                            return [4 /*yield*/, this.updateEventListForSession({\n                                    sessionId: sessionId,\n                                    tx: tx,\n                                    loggerProvider: loggerProvider,\n                                    eventType: eventType,\n                                    eventTime: eventTime,\n                                })];\n                        case 2:\n                            updatedEventTypes = _b.sent();\n                            // Clear out sessions older than 2 days\n                            return [4 /*yield*/, this.deleteOldSessionEventTypes({ currentSessionId: sessionId, tx: tx, loggerProvider: loggerProvider })];\n                        case 3:\n                            // Clear out sessions older than 2 days\n                            _b.sent();\n                            return [4 /*yield*/, tx.done];\n                        case 4:\n                            _b.sent();\n                            return [2 /*return*/, updatedEventTypes];\n                        case 5:\n                            e_3 = _b.sent();\n                            loggerProvider.warn(\"Failed to store events for targeting \".concat(sessionId, \": \").concat(e_3));\n                            return [3 /*break*/, 6];\n                        case 6: return [2 /*return*/, undefined];\n                    }\n                });\n            });\n        };\n    }\n    return TargetingIDBStore;\n}());\nexport { TargetingIDBStore };\nexport var targetingIDBStore = new TargetingIDBStore();\n//# sourceMappingURL=targeting-idb-store.js.map","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar __defProp2 = Object.defineProperty;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField2 = (obj, key, value) => __defNormalProp2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nconst testableAccessors$1 = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nfunction angularZoneUnpatchedAlternative$1(key) {\n  var _a2, _b;\n  const angularUnpatchedVersionSymbol = (_b = (_a2 = globalThis == null ? void 0 : globalThis.Zone) == null ? void 0 : _a2.__symbol__) == null ? void 0 : _b.call(_a2, key);\n  if (angularUnpatchedVersionSymbol && globalThis[angularUnpatchedVersionSymbol]) {\n    return globalThis[angularUnpatchedVersionSymbol];\n  } else {\n    return void 0;\n  }\n}\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const candidate = angularZoneUnpatchedAlternative$1(key) || globalThis[key];\n  const defaultPrototype = candidate.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype$1[key] = candidate.prototype;\n    return candidate.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return candidate.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nconst index$1 = {\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1\n};\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nconst IGNORED_NODE = -2;\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction getDefaultExportFromCjs$1(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser$1 = { exports: {} };\nvar hasRequiredPicocolors_browser$1;\nfunction requirePicocolors_browser$1() {\n  if (hasRequiredPicocolors_browser$1) return picocolors_browser$1.exports;\n  hasRequiredPicocolors_browser$1 = 1;\n  var x = String;\n  var create = function() {\n    return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x };\n  };\n  picocolors_browser$1.exports = create();\n  picocolors_browser$1.exports.createColors = create;\n  return picocolors_browser$1.exports;\n}\nconst __viteBrowserExternal$2 = {};\nconst __viteBrowserExternal$1$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal$2\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2$1 = /* @__PURE__ */ getAugmentedNamespace$1(__viteBrowserExternal$1$1);\nvar cssSyntaxError$1;\nvar hasRequiredCssSyntaxError$1;\nfunction requireCssSyntaxError$1() {\n  if (hasRequiredCssSyntaxError$1) return cssSyntaxError$1;\n  hasRequiredCssSyntaxError$1 = 1;\n  let pico = /* @__PURE__ */ requirePicocolors_browser$1();\n  let terminalHighlight = require$$2$1;\n  class CssSyntaxError extends Error {\n    constructor(message, line, column, source, file, plugin) {\n      super(message);\n      this.name = \"CssSyntaxError\";\n      this.reason = message;\n      if (file) {\n        this.file = file;\n      }\n      if (source) {\n        this.source = source;\n      }\n      if (plugin) {\n        this.plugin = plugin;\n      }\n      if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n        if (typeof line === \"number\") {\n          this.line = line;\n          this.column = column;\n        } else {\n          this.line = line.line;\n          this.column = line.column;\n          this.endLine = column.line;\n          this.endColumn = column.column;\n        }\n      }\n      this.setMessage();\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, CssSyntaxError);\n      }\n    }\n    setMessage() {\n      this.message = this.plugin ? this.plugin + \": \" : \"\";\n      this.message += this.file ? this.file : \"<css input>\";\n      if (typeof this.line !== \"undefined\") {\n        this.message += \":\" + this.line + \":\" + this.column;\n      }\n      this.message += \": \" + this.reason;\n    }\n    showSourceCode(color) {\n      if (!this.source) return \"\";\n      let css = this.source;\n      if (color == null) color = pico.isColorSupported;\n      if (terminalHighlight) {\n        if (color) css = terminalHighlight(css);\n      }\n      let lines = css.split(/\\r?\\n/);\n      let start = Math.max(this.line - 3, 0);\n      let end = Math.min(this.line + 2, lines.length);\n      let maxWidth = String(end).length;\n      let mark, aside;\n      if (color) {\n        let { bold, gray, red } = pico.createColors(true);\n        mark = (text) => bold(red(text));\n        aside = (text) => gray(text);\n      } else {\n        mark = aside = (str) => str;\n      }\n      return lines.slice(start, end).map((line, index2) => {\n        let number = start + 1 + index2;\n        let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n        if (number === this.line) {\n          let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n          return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n        }\n        return \" \" + aside(gutter) + line;\n      }).join(\"\\n\");\n    }\n    toString() {\n      let code = this.showSourceCode();\n      if (code) {\n        code = \"\\n\\n\" + code + \"\\n\";\n      }\n      return this.name + \": \" + this.message + code;\n    }\n  }\n  cssSyntaxError$1 = CssSyntaxError;\n  CssSyntaxError.default = CssSyntaxError;\n  return cssSyntaxError$1;\n}\nvar symbols$1 = {};\nvar hasRequiredSymbols$1;\nfunction requireSymbols$1() {\n  if (hasRequiredSymbols$1) return symbols$1;\n  hasRequiredSymbols$1 = 1;\n  symbols$1.isClean = Symbol(\"isClean\");\n  symbols$1.my = Symbol(\"my\");\n  return symbols$1;\n}\nvar stringifier$1;\nvar hasRequiredStringifier$1;\nfunction requireStringifier$1() {\n  if (hasRequiredStringifier$1) return stringifier$1;\n  hasRequiredStringifier$1 = 1;\n  const DEFAULT_RAW = {\n    after: \"\\n\",\n    beforeClose: \"\\n\",\n    beforeComment: \"\\n\",\n    beforeDecl: \"\\n\",\n    beforeOpen: \" \",\n    beforeRule: \"\\n\",\n    colon: \": \",\n    commentLeft: \" \",\n    commentRight: \" \",\n    emptyBody: \"\",\n    indent: \"    \",\n    semicolon: false\n  };\n  function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }\n  class Stringifier {\n    constructor(builder) {\n      this.builder = builder;\n    }\n    atrule(node2, semicolon) {\n      let name = \"@\" + node2.name;\n      let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n      if (typeof node2.raws.afterName !== \"undefined\") {\n        name += node2.raws.afterName;\n      } else if (params) {\n        name += \" \";\n      }\n      if (node2.nodes) {\n        this.block(node2, name + params);\n      } else {\n        let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n        this.builder(name + params + end, node2);\n      }\n    }\n    beforeAfter(node2, detect) {\n      let value;\n      if (node2.type === \"decl\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (node2.type === \"comment\") {\n        value = this.raw(node2, null, \"beforeComment\");\n      } else if (detect === \"before\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else {\n        value = this.raw(node2, null, \"beforeClose\");\n      }\n      let buf = node2.parent;\n      let depth = 0;\n      while (buf && buf.type !== \"root\") {\n        depth += 1;\n        buf = buf.parent;\n      }\n      if (value.includes(\"\\n\")) {\n        let indent = this.raw(node2, null, \"indent\");\n        if (indent.length) {\n          for (let step = 0; step < depth; step++) value += indent;\n        }\n      }\n      return value;\n    }\n    block(node2, start) {\n      let between = this.raw(node2, \"between\", \"beforeOpen\");\n      this.builder(start + between + \"{\", node2, \"start\");\n      let after;\n      if (node2.nodes && node2.nodes.length) {\n        this.body(node2);\n        after = this.raw(node2, \"after\");\n      } else {\n        after = this.raw(node2, \"after\", \"emptyBody\");\n      }\n      if (after) this.builder(after);\n      this.builder(\"}\", node2, \"end\");\n    }\n    body(node2) {\n      let last = node2.nodes.length - 1;\n      while (last > 0) {\n        if (node2.nodes[last].type !== \"comment\") break;\n        last -= 1;\n      }\n      let semicolon = this.raw(node2, \"semicolon\");\n      for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n        let child = node2.nodes[i2];\n        let before = this.raw(child, \"before\");\n        if (before) this.builder(before);\n        this.stringify(child, last !== i2 || semicolon);\n      }\n    }\n    comment(node2) {\n      let left = this.raw(node2, \"left\", \"commentLeft\");\n      let right = this.raw(node2, \"right\", \"commentRight\");\n      this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n    }\n    decl(node2, semicolon) {\n      let between = this.raw(node2, \"between\", \"colon\");\n      let string = node2.prop + between + this.rawValue(node2, \"value\");\n      if (node2.important) {\n        string += node2.raws.important || \" !important\";\n      }\n      if (semicolon) string += \";\";\n      this.builder(string, node2);\n    }\n    document(node2) {\n      this.body(node2);\n    }\n    raw(node2, own, detect) {\n      let value;\n      if (!detect) detect = own;\n      if (own) {\n        value = node2.raws[own];\n        if (typeof value !== \"undefined\") return value;\n      }\n      let parent = node2.parent;\n      if (detect === \"before\") {\n        if (!parent || parent.type === \"root\" && parent.first === node2) {\n          return \"\";\n        }\n        if (parent && parent.type === \"document\") {\n          return \"\";\n        }\n      }\n      if (!parent) return DEFAULT_RAW[detect];\n      let root2 = node2.root();\n      if (!root2.rawCache) root2.rawCache = {};\n      if (typeof root2.rawCache[detect] !== \"undefined\") {\n        return root2.rawCache[detect];\n      }\n      if (detect === \"before\" || detect === \"after\") {\n        return this.beforeAfter(node2, detect);\n      } else {\n        let method = \"raw\" + capitalize(detect);\n        if (this[method]) {\n          value = this[method](root2, node2);\n        } else {\n          root2.walk((i2) => {\n            value = i2.raws[own];\n            if (typeof value !== \"undefined\") return false;\n          });\n        }\n      }\n      if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n      root2.rawCache[detect] = value;\n      return value;\n    }\n    rawBeforeClose(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length > 0) {\n          if (typeof i2.raws.after !== \"undefined\") {\n            value = i2.raws.after;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawBeforeComment(root2, node2) {\n      let value;\n      root2.walkComments((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeDecl(root2, node2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeOpen(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.type !== \"decl\") {\n          value = i2.raws.between;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawBeforeRule(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            value = i2.raws.before;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawColon(root2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.between !== \"undefined\") {\n          value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n          return false;\n        }\n      });\n      return value;\n    }\n    rawEmptyBody(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length === 0) {\n          value = i2.raws.after;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawIndent(root2) {\n      if (root2.raws.indent) return root2.raws.indent;\n      let value;\n      root2.walk((i2) => {\n        let p = i2.parent;\n        if (p && p !== root2 && p.parent && p.parent === root2) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            let parts = i2.raws.before.split(\"\\n\");\n            value = parts[parts.length - 1];\n            value = value.replace(/\\S/g, \"\");\n            return false;\n          }\n        }\n      });\n      return value;\n    }\n    rawSemicolon(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n          value = i2.raws.semicolon;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawValue(node2, prop) {\n      let value = node2[prop];\n      let raw = node2.raws[prop];\n      if (raw && raw.value === value) {\n        return raw.raw;\n      }\n      return value;\n    }\n    root(node2) {\n      this.body(node2);\n      if (node2.raws.after) this.builder(node2.raws.after);\n    }\n    rule(node2) {\n      this.block(node2, this.rawValue(node2, \"selector\"));\n      if (node2.raws.ownSemicolon) {\n        this.builder(node2.raws.ownSemicolon, node2, \"end\");\n      }\n    }\n    stringify(node2, semicolon) {\n      if (!this[node2.type]) {\n        throw new Error(\n          \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n        );\n      }\n      this[node2.type](node2, semicolon);\n    }\n  }\n  stringifier$1 = Stringifier;\n  Stringifier.default = Stringifier;\n  return stringifier$1;\n}\nvar stringify_1$1;\nvar hasRequiredStringify$1;\nfunction requireStringify$1() {\n  if (hasRequiredStringify$1) return stringify_1$1;\n  hasRequiredStringify$1 = 1;\n  let Stringifier = requireStringifier$1();\n  function stringify2(node2, builder) {\n    let str = new Stringifier(builder);\n    str.stringify(node2);\n  }\n  stringify_1$1 = stringify2;\n  stringify2.default = stringify2;\n  return stringify_1$1;\n}\nvar node$1;\nvar hasRequiredNode$1;\nfunction requireNode$1() {\n  if (hasRequiredNode$1) return node$1;\n  hasRequiredNode$1 = 1;\n  let { isClean, my } = requireSymbols$1();\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let Stringifier = requireStringifier$1();\n  let stringify2 = requireStringify$1();\n  function cloneNode(obj, parent) {\n    let cloned = new obj.constructor();\n    for (let i2 in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n        continue;\n      }\n      if (i2 === \"proxyCache\") continue;\n      let value = obj[i2];\n      let type = typeof value;\n      if (i2 === \"parent\" && type === \"object\") {\n        if (parent) cloned[i2] = parent;\n      } else if (i2 === \"source\") {\n        cloned[i2] = value;\n      } else if (Array.isArray(value)) {\n        cloned[i2] = value.map((j) => cloneNode(j, cloned));\n      } else {\n        if (type === \"object\" && value !== null) value = cloneNode(value);\n        cloned[i2] = value;\n      }\n    }\n    return cloned;\n  }\n  class Node2 {\n    constructor(defaults = {}) {\n      this.raws = {};\n      this[isClean] = false;\n      this[my] = true;\n      for (let name in defaults) {\n        if (name === \"nodes\") {\n          this.nodes = [];\n          for (let node2 of defaults[name]) {\n            if (typeof node2.clone === \"function\") {\n              this.append(node2.clone());\n            } else {\n              this.append(node2);\n            }\n          }\n        } else {\n          this[name] = defaults[name];\n        }\n      }\n    }\n    addToError(error) {\n      error.postcssNode = this;\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        let s2 = this.source;\n        error.stack = error.stack.replace(\n          /\\n\\s{4}at /,\n          `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n        );\n      }\n      return error;\n    }\n    after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n    assign(overrides = {}) {\n      for (let name in overrides) {\n        this[name] = overrides[name];\n      }\n      return this;\n    }\n    before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n    clone(overrides = {}) {\n      let cloned = cloneNode(this);\n      for (let name in overrides) {\n        cloned[name] = overrides[name];\n      }\n      return cloned;\n    }\n    cloneAfter(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n    cloneBefore(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n    error(message, opts = {}) {\n      if (this.source) {\n        let { end, start } = this.rangeBy(opts);\n        return this.source.input.error(\n          message,\n          { column: start.column, line: start.line },\n          { column: end.column, line: end.line },\n          opts\n        );\n      }\n      return new CssSyntaxError(message);\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n          prop === \"text\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        let next = this;\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n    next() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 + 1];\n    }\n    positionBy(opts, stringRepresentation) {\n      let pos = this.source.start;\n      if (opts.index) {\n        pos = this.positionInside(opts.index, stringRepresentation);\n      } else if (opts.word) {\n        stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n      }\n      return pos;\n    }\n    positionInside(index2, stringRepresentation) {\n      let string = stringRepresentation || this.toString();\n      let column = this.source.start.column;\n      let line = this.source.start.line;\n      for (let i2 = 0; i2 < index2; i2++) {\n        if (string[i2] === \"\\n\") {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n      return { column, line };\n    }\n    prev() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 - 1];\n    }\n    rangeBy(opts) {\n      let start = {\n        column: this.source.start.column,\n        line: this.source.start.line\n      };\n      let end = this.source.end ? {\n        column: this.source.end.column + 1,\n        line: this.source.end.line\n      } : {\n        column: start.column + 1,\n        line: start.line\n      };\n      if (opts.word) {\n        let stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) {\n          start = this.positionInside(index2, stringRepresentation);\n          end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            column: opts.start.column,\n            line: opts.start.line\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n        if (opts.end) {\n          end = {\n            column: opts.end.column,\n            line: opts.end.line\n          };\n        } else if (typeof opts.endIndex === \"number\") {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = { column: start.column + 1, line: start.line };\n      }\n      return { end, start };\n    }\n    raw(prop, defaultType) {\n      let str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n    remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n      this.parent = void 0;\n      return this;\n    }\n    replaceWith(...nodes) {\n      if (this.parent) {\n        let bookmark = this;\n        let foundSelf = false;\n        for (let node2 of nodes) {\n          if (node2 === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node2);\n            bookmark = node2;\n          } else {\n            this.parent.insertBefore(bookmark, node2);\n          }\n        }\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n      return this;\n    }\n    root() {\n      let result2 = this;\n      while (result2.parent && result2.parent.type !== \"document\") {\n        result2 = result2.parent;\n      }\n      return result2;\n    }\n    toJSON(_, inputs) {\n      let fixed = {};\n      let emitInputs = inputs == null;\n      inputs = inputs || /* @__PURE__ */ new Map();\n      let inputsNextIndex = 0;\n      for (let name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          continue;\n        }\n        if (name === \"parent\" || name === \"proxyCache\") continue;\n        let value = this[name];\n        if (Array.isArray(value)) {\n          fixed[name] = value.map((i2) => {\n            if (typeof i2 === \"object\" && i2.toJSON) {\n              return i2.toJSON(null, inputs);\n            } else {\n              return i2;\n            }\n          });\n        } else if (typeof value === \"object\" && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === \"source\") {\n          let inputId = inputs.get(value.input);\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n          fixed[name] = {\n            end: value.end,\n            inputId,\n            start: value.start\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n      if (emitInputs) {\n        fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n      }\n      return fixed;\n    }\n    toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n      return this.proxyCache;\n    }\n    toString(stringifier2 = stringify2) {\n      if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n      let result2 = \"\";\n      stringifier2(this, (i2) => {\n        result2 += i2;\n      });\n      return result2;\n    }\n    warn(result2, text, opts) {\n      let data = { node: this };\n      for (let i2 in opts) data[i2] = opts[i2];\n      return result2.warn(text, data);\n    }\n    get proxyOf() {\n      return this;\n    }\n  }\n  node$1 = Node2;\n  Node2.default = Node2;\n  return node$1;\n}\nvar declaration$1;\nvar hasRequiredDeclaration$1;\nfunction requireDeclaration$1() {\n  if (hasRequiredDeclaration$1) return declaration$1;\n  hasRequiredDeclaration$1 = 1;\n  let Node2 = requireNode$1();\n  class Declaration extends Node2 {\n    constructor(defaults) {\n      if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n        defaults = { ...defaults, value: String(defaults.value) };\n      }\n      super(defaults);\n      this.type = \"decl\";\n    }\n    get variable() {\n      return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n    }\n  }\n  declaration$1 = Declaration;\n  Declaration.default = Declaration;\n  return declaration$1;\n}\nvar nonSecure$1;\nvar hasRequiredNonSecure$1;\nfunction requireNonSecure$1() {\n  if (hasRequiredNonSecure$1) return nonSecure$1;\n  hasRequiredNonSecure$1 = 1;\n  let urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\n  let customAlphabet = (alphabet, defaultSize = 21) => {\n    return (size = defaultSize) => {\n      let id = \"\";\n      let i2 = size;\n      while (i2--) {\n        id += alphabet[Math.random() * alphabet.length | 0];\n      }\n      return id;\n    };\n  };\n  let nanoid = (size = 21) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += urlAlphabet[Math.random() * 64 | 0];\n    }\n    return id;\n  };\n  nonSecure$1 = { nanoid, customAlphabet };\n  return nonSecure$1;\n}\nvar previousMap$1;\nvar hasRequiredPreviousMap$1;\nfunction requirePreviousMap$1() {\n  if (hasRequiredPreviousMap$1) return previousMap$1;\n  hasRequiredPreviousMap$1 = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { existsSync, readFileSync } = require$$2$1;\n  let { dirname, join } = require$$2$1;\n  function fromBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str, \"base64\").toString();\n    } else {\n      return window.atob(str);\n    }\n  }\n  class PreviousMap {\n    constructor(css, opts) {\n      if (opts.map === false) return;\n      this.loadAnnotation(css);\n      this.inline = this.startWith(this.annotation, \"data:\");\n      let prev = opts.map ? opts.map.prev : void 0;\n      let text = this.loadMap(opts.from, prev);\n      if (!this.mapFile && opts.from) {\n        this.mapFile = opts.from;\n      }\n      if (this.mapFile) this.root = dirname(this.mapFile);\n      if (text) this.text = text;\n    }\n    consumer() {\n      if (!this.consumerCache) {\n        this.consumerCache = new SourceMapConsumer(this.text);\n      }\n      return this.consumerCache;\n    }\n    decodeInline(text) {\n      let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n      let baseUri = /^data:application\\/json;base64,/;\n      let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n      let uri = /^data:application\\/json,/;\n      if (charsetUri.test(text) || uri.test(text)) {\n        return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n      }\n      if (baseCharsetUri.test(text) || baseUri.test(text)) {\n        return fromBase64(text.substr(RegExp.lastMatch.length));\n      }\n      let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n      throw new Error(\"Unsupported source map encoding \" + encoding);\n    }\n    getAnnotationURL(sourceMapString) {\n      return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n    }\n    isMap(map) {\n      if (typeof map !== \"object\") return false;\n      return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n    }\n    loadAnnotation(css) {\n      let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n      if (!comments) return;\n      let start = css.lastIndexOf(comments.pop());\n      let end = css.indexOf(\"*/\", start);\n      if (start > -1 && end > -1) {\n        this.annotation = this.getAnnotationURL(css.substring(start, end));\n      }\n    }\n    loadFile(path) {\n      this.root = dirname(path);\n      if (existsSync(path)) {\n        this.mapFile = path;\n        return readFileSync(path, \"utf-8\").toString().trim();\n      }\n    }\n    loadMap(file, prev) {\n      if (prev === false) return false;\n      if (prev) {\n        if (typeof prev === \"string\") {\n          return prev;\n        } else if (typeof prev === \"function\") {\n          let prevPath = prev(file);\n          if (prevPath) {\n            let map = this.loadFile(prevPath);\n            if (!map) {\n              throw new Error(\n                \"Unable to load previous source map: \" + prevPath.toString()\n              );\n            }\n            return map;\n          }\n        } else if (prev instanceof SourceMapConsumer) {\n          return SourceMapGenerator.fromSourceMap(prev).toString();\n        } else if (prev instanceof SourceMapGenerator) {\n          return prev.toString();\n        } else if (this.isMap(prev)) {\n          return JSON.stringify(prev);\n        } else {\n          throw new Error(\n            \"Unsupported previous source map format: \" + prev.toString()\n          );\n        }\n      } else if (this.inline) {\n        return this.decodeInline(this.annotation);\n      } else if (this.annotation) {\n        let map = this.annotation;\n        if (file) map = join(dirname(file), map);\n        return this.loadFile(map);\n      }\n    }\n    startWith(string, start) {\n      if (!string) return false;\n      return string.substr(0, start.length) === start;\n    }\n    withContent() {\n      return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n    }\n  }\n  previousMap$1 = PreviousMap;\n  PreviousMap.default = PreviousMap;\n  return previousMap$1;\n}\nvar input$1;\nvar hasRequiredInput$1;\nfunction requireInput$1() {\n  if (hasRequiredInput$1) return input$1;\n  hasRequiredInput$1 = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { fileURLToPath, pathToFileURL } = require$$2$1;\n  let { isAbsolute, resolve } = require$$2$1;\n  let { nanoid } = /* @__PURE__ */ requireNonSecure$1();\n  let terminalHighlight = require$$2$1;\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let PreviousMap = requirePreviousMap$1();\n  let fromOffsetCache = Symbol(\"fromOffsetCache\");\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(resolve && isAbsolute);\n  class Input {\n    constructor(css, opts = {}) {\n      if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n        throw new Error(`PostCSS received ${css} instead of CSS string`);\n      }\n      this.css = css.toString();\n      if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n        this.hasBOM = true;\n        this.css = this.css.slice(1);\n      } else {\n        this.hasBOM = false;\n      }\n      if (opts.from) {\n        if (!pathAvailable || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n          this.file = opts.from;\n        } else {\n          this.file = resolve(opts.from);\n        }\n      }\n      if (pathAvailable && sourceMapAvailable) {\n        let map = new PreviousMap(this.css, opts);\n        if (map.text) {\n          this.map = map;\n          let file = map.consumer().file;\n          if (!this.file && file) this.file = this.mapResolve(file);\n        }\n      }\n      if (!this.file) {\n        this.id = \"<input css \" + nanoid(6) + \">\";\n      }\n      if (this.map) this.map.file = this.from;\n    }\n    error(message, line, column, opts = {}) {\n      let result2, endLine, endColumn;\n      if (line && typeof line === \"object\") {\n        let start = line;\n        let end = column;\n        if (typeof start.offset === \"number\") {\n          let pos = this.fromOffset(start.offset);\n          line = pos.line;\n          column = pos.col;\n        } else {\n          line = start.line;\n          column = start.column;\n        }\n        if (typeof end.offset === \"number\") {\n          let pos = this.fromOffset(end.offset);\n          endLine = pos.line;\n          endColumn = pos.col;\n        } else {\n          endLine = end.line;\n          endColumn = end.column;\n        }\n      } else if (!column) {\n        let pos = this.fromOffset(line);\n        line = pos.line;\n        column = pos.col;\n      }\n      let origin = this.origin(line, column, endLine, endColumn);\n      if (origin) {\n        result2 = new CssSyntaxError(\n          message,\n          origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n          origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n          origin.source,\n          origin.file,\n          opts.plugin\n        );\n      } else {\n        result2 = new CssSyntaxError(\n          message,\n          endLine === void 0 ? line : { column, line },\n          endLine === void 0 ? column : { column: endColumn, line: endLine },\n          this.css,\n          this.file,\n          opts.plugin\n        );\n      }\n      result2.input = { column, endColumn, endLine, line, source: this.css };\n      if (this.file) {\n        if (pathToFileURL) {\n          result2.input.url = pathToFileURL(this.file).toString();\n        }\n        result2.input.file = this.file;\n      }\n      return result2;\n    }\n    fromOffset(offset) {\n      let lastLine, lineToIndex;\n      if (!this[fromOffsetCache]) {\n        let lines = this.css.split(\"\\n\");\n        lineToIndex = new Array(lines.length);\n        let prevIndex = 0;\n        for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n          lineToIndex[i2] = prevIndex;\n          prevIndex += lines[i2].length + 1;\n        }\n        this[fromOffsetCache] = lineToIndex;\n      } else {\n        lineToIndex = this[fromOffsetCache];\n      }\n      lastLine = lineToIndex[lineToIndex.length - 1];\n      let min = 0;\n      if (offset >= lastLine) {\n        min = lineToIndex.length - 1;\n      } else {\n        let max = lineToIndex.length - 2;\n        let mid;\n        while (min < max) {\n          mid = min + (max - min >> 1);\n          if (offset < lineToIndex[mid]) {\n            max = mid - 1;\n          } else if (offset >= lineToIndex[mid + 1]) {\n            min = mid + 1;\n          } else {\n            min = mid;\n            break;\n          }\n        }\n      }\n      return {\n        col: offset - lineToIndex[min] + 1,\n        line: min + 1\n      };\n    }\n    mapResolve(file) {\n      if (/^\\w+:\\/\\//.test(file)) {\n        return file;\n      }\n      return resolve(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n    }\n    origin(line, column, endLine, endColumn) {\n      if (!this.map) return false;\n      let consumer = this.map.consumer();\n      let from = consumer.originalPositionFor({ column, line });\n      if (!from.source) return false;\n      let to;\n      if (typeof endLine === \"number\") {\n        to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n      }\n      let fromUrl;\n      if (isAbsolute(from.source)) {\n        fromUrl = pathToFileURL(from.source);\n      } else {\n        fromUrl = new URL(\n          from.source,\n          this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n        );\n      }\n      let result2 = {\n        column: from.column,\n        endColumn: to && to.column,\n        endLine: to && to.line,\n        line: from.line,\n        url: fromUrl.toString()\n      };\n      if (fromUrl.protocol === \"file:\") {\n        if (fileURLToPath) {\n          result2.file = fileURLToPath(fromUrl);\n        } else {\n          throw new Error(`file: protocol is not available in this PostCSS build`);\n        }\n      }\n      let source = consumer.sourceContentFor(from.source);\n      if (source) result2.source = source;\n      return result2;\n    }\n    toJSON() {\n      let json = {};\n      for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n        if (this[name] != null) {\n          json[name] = this[name];\n        }\n      }\n      if (this.map) {\n        json.map = { ...this.map };\n        if (json.map.consumerCache) {\n          json.map.consumerCache = void 0;\n        }\n      }\n      return json;\n    }\n    get from() {\n      return this.file || this.id;\n    }\n  }\n  input$1 = Input;\n  Input.default = Input;\n  if (terminalHighlight && terminalHighlight.registerInput) {\n    terminalHighlight.registerInput(Input);\n  }\n  return input$1;\n}\nvar mapGenerator$1;\nvar hasRequiredMapGenerator$1;\nfunction requireMapGenerator$1() {\n  if (hasRequiredMapGenerator$1) return mapGenerator$1;\n  hasRequiredMapGenerator$1 = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { dirname, relative, resolve, sep } = require$$2$1;\n  let { pathToFileURL } = require$$2$1;\n  let Input = requireInput$1();\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(dirname && resolve && relative && sep);\n  class MapGenerator {\n    constructor(stringify2, root2, opts, cssString) {\n      this.stringify = stringify2;\n      this.mapOpts = opts.map || {};\n      this.root = root2;\n      this.opts = opts;\n      this.css = cssString;\n      this.originalCSS = cssString;\n      this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n      this.memoizedFileURLs = /* @__PURE__ */ new Map();\n      this.memoizedPaths = /* @__PURE__ */ new Map();\n      this.memoizedURLs = /* @__PURE__ */ new Map();\n    }\n    addAnnotation() {\n      let content;\n      if (this.isInline()) {\n        content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n      } else if (typeof this.mapOpts.annotation === \"string\") {\n        content = this.mapOpts.annotation;\n      } else if (typeof this.mapOpts.annotation === \"function\") {\n        content = this.mapOpts.annotation(this.opts.to, this.root);\n      } else {\n        content = this.outputFile() + \".map\";\n      }\n      let eol = \"\\n\";\n      if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n      this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n    }\n    applyPrevMaps() {\n      for (let prev of this.previous()) {\n        let from = this.toUrl(this.path(prev.file));\n        let root2 = prev.root || dirname(prev.file);\n        let map;\n        if (this.mapOpts.sourcesContent === false) {\n          map = new SourceMapConsumer(prev.text);\n          if (map.sourcesContent) {\n            map.sourcesContent = null;\n          }\n        } else {\n          map = prev.consumer();\n        }\n        this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n      }\n    }\n    clearAnnotation() {\n      if (this.mapOpts.annotation === false) return;\n      if (this.root) {\n        let node2;\n        for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n          node2 = this.root.nodes[i2];\n          if (node2.type !== \"comment\") continue;\n          if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n            this.root.removeChild(i2);\n          }\n        }\n      } else if (this.css) {\n        this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n      }\n    }\n    generate() {\n      this.clearAnnotation();\n      if (pathAvailable && sourceMapAvailable && this.isMap()) {\n        return this.generateMap();\n      } else {\n        let result2 = \"\";\n        this.stringify(this.root, (i2) => {\n          result2 += i2;\n        });\n        return [result2];\n      }\n    }\n    generateMap() {\n      if (this.root) {\n        this.generateString();\n      } else if (this.previous().length === 1) {\n        let prev = this.previous()[0].consumer();\n        prev.file = this.outputFile();\n        this.map = SourceMapGenerator.fromSourceMap(prev, {\n          ignoreInvalidMapping: true\n        });\n      } else {\n        this.map = new SourceMapGenerator({\n          file: this.outputFile(),\n          ignoreInvalidMapping: true\n        });\n        this.map.addMapping({\n          generated: { column: 0, line: 1 },\n          original: { column: 0, line: 1 },\n          source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n        });\n      }\n      if (this.isSourcesContent()) this.setSourcesContent();\n      if (this.root && this.previous().length > 0) this.applyPrevMaps();\n      if (this.isAnnotation()) this.addAnnotation();\n      if (this.isInline()) {\n        return [this.css];\n      } else {\n        return [this.css, this.map];\n      }\n    }\n    generateString() {\n      this.css = \"\";\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      let line = 1;\n      let column = 1;\n      let noSource = \"<no source>\";\n      let mapping = {\n        generated: { column: 0, line: 0 },\n        original: { column: 0, line: 0 },\n        source: \"\"\n      };\n      let lines, last;\n      this.stringify(this.root, (str, node2, type) => {\n        this.css += str;\n        if (node2 && type !== \"end\") {\n          mapping.generated.line = line;\n          mapping.generated.column = column - 1;\n          if (node2.source && node2.source.start) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.start.line;\n            mapping.original.column = node2.source.start.column - 1;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            this.map.addMapping(mapping);\n          }\n        }\n        lines = str.match(/\\n/g);\n        if (lines) {\n          line += lines.length;\n          last = str.lastIndexOf(\"\\n\");\n          column = str.length - last;\n        } else {\n          column += str.length;\n        }\n        if (node2 && type !== \"start\") {\n          let p = node2.parent || { raws: {} };\n          let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n          if (!childless || node2 !== p.last || p.raws.semicolon) {\n            if (node2.source && node2.source.end) {\n              mapping.source = this.sourcePath(node2);\n              mapping.original.line = node2.source.end.line;\n              mapping.original.column = node2.source.end.column - 1;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 2;\n              this.map.addMapping(mapping);\n            } else {\n              mapping.source = noSource;\n              mapping.original.line = 1;\n              mapping.original.column = 0;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 1;\n              this.map.addMapping(mapping);\n            }\n          }\n        }\n      });\n    }\n    isAnnotation() {\n      if (this.isInline()) {\n        return true;\n      }\n      if (typeof this.mapOpts.annotation !== \"undefined\") {\n        return this.mapOpts.annotation;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.annotation);\n      }\n      return true;\n    }\n    isInline() {\n      if (typeof this.mapOpts.inline !== \"undefined\") {\n        return this.mapOpts.inline;\n      }\n      let annotation = this.mapOpts.annotation;\n      if (typeof annotation !== \"undefined\" && annotation !== true) {\n        return false;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.inline);\n      }\n      return true;\n    }\n    isMap() {\n      if (typeof this.opts.map !== \"undefined\") {\n        return !!this.opts.map;\n      }\n      return this.previous().length > 0;\n    }\n    isSourcesContent() {\n      if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n        return this.mapOpts.sourcesContent;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.withContent());\n      }\n      return true;\n    }\n    outputFile() {\n      if (this.opts.to) {\n        return this.path(this.opts.to);\n      } else if (this.opts.from) {\n        return this.path(this.opts.from);\n      } else {\n        return \"to.css\";\n      }\n    }\n    path(file) {\n      if (this.mapOpts.absolute) return file;\n      if (file.charCodeAt(0) === 60) return file;\n      if (/^\\w+:\\/\\//.test(file)) return file;\n      let cached = this.memoizedPaths.get(file);\n      if (cached) return cached;\n      let from = this.opts.to ? dirname(this.opts.to) : \".\";\n      if (typeof this.mapOpts.annotation === \"string\") {\n        from = dirname(resolve(from, this.mapOpts.annotation));\n      }\n      let path = relative(from, file);\n      this.memoizedPaths.set(file, path);\n      return path;\n    }\n    previous() {\n      if (!this.previousMaps) {\n        this.previousMaps = [];\n        if (this.root) {\n          this.root.walk((node2) => {\n            if (node2.source && node2.source.input.map) {\n              let map = node2.source.input.map;\n              if (!this.previousMaps.includes(map)) {\n                this.previousMaps.push(map);\n              }\n            }\n          });\n        } else {\n          let input2 = new Input(this.originalCSS, this.opts);\n          if (input2.map) this.previousMaps.push(input2.map);\n        }\n      }\n      return this.previousMaps;\n    }\n    setSourcesContent() {\n      let already = {};\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source) {\n            let from = node2.source.input.from;\n            if (from && !already[from]) {\n              already[from] = true;\n              let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n              this.map.setSourceContent(fromUrl, node2.source.input.css);\n            }\n          }\n        });\n      } else if (this.css) {\n        let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n        this.map.setSourceContent(from, this.css);\n      }\n    }\n    sourcePath(node2) {\n      if (this.mapOpts.from) {\n        return this.toUrl(this.mapOpts.from);\n      } else if (this.usesFileUrls) {\n        return this.toFileUrl(node2.source.input.from);\n      } else {\n        return this.toUrl(this.path(node2.source.input.from));\n      }\n    }\n    toBase64(str) {\n      if (Buffer) {\n        return Buffer.from(str).toString(\"base64\");\n      } else {\n        return window.btoa(unescape(encodeURIComponent(str)));\n      }\n    }\n    toFileUrl(path) {\n      let cached = this.memoizedFileURLs.get(path);\n      if (cached) return cached;\n      if (pathToFileURL) {\n        let fileURL = pathToFileURL(path).toString();\n        this.memoizedFileURLs.set(path, fileURL);\n        return fileURL;\n      } else {\n        throw new Error(\n          \"`map.absolute` option is not available in this PostCSS build\"\n        );\n      }\n    }\n    toUrl(path) {\n      let cached = this.memoizedURLs.get(path);\n      if (cached) return cached;\n      if (sep === \"\\\\\") {\n        path = path.replace(/\\\\/g, \"/\");\n      }\n      let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n      this.memoizedURLs.set(path, url);\n      return url;\n    }\n  }\n  mapGenerator$1 = MapGenerator;\n  return mapGenerator$1;\n}\nvar comment$1;\nvar hasRequiredComment$1;\nfunction requireComment$1() {\n  if (hasRequiredComment$1) return comment$1;\n  hasRequiredComment$1 = 1;\n  let Node2 = requireNode$1();\n  class Comment extends Node2 {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"comment\";\n    }\n  }\n  comment$1 = Comment;\n  Comment.default = Comment;\n  return comment$1;\n}\nvar container$1;\nvar hasRequiredContainer$1;\nfunction requireContainer$1() {\n  if (hasRequiredContainer$1) return container$1;\n  hasRequiredContainer$1 = 1;\n  let { isClean, my } = requireSymbols$1();\n  let Declaration = requireDeclaration$1();\n  let Comment = requireComment$1();\n  let Node2 = requireNode$1();\n  let parse, Rule, AtRule, Root;\n  function cleanSource(nodes) {\n    return nodes.map((i2) => {\n      if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n      delete i2.source;\n      return i2;\n    });\n  }\n  function markDirtyUp(node2) {\n    node2[isClean] = false;\n    if (node2.proxyOf.nodes) {\n      for (let i2 of node2.proxyOf.nodes) {\n        markDirtyUp(i2);\n      }\n    }\n  }\n  class Container extends Node2 {\n    append(...children) {\n      for (let child of children) {\n        let nodes = this.normalize(child, this.last);\n        for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n      }\n      this.markDirty();\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      super.cleanRaws(keepBetween);\n      if (this.nodes) {\n        for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n      }\n    }\n    each(callback) {\n      if (!this.proxyOf.nodes) return void 0;\n      let iterator = this.getIterator();\n      let index2, result2;\n      while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n        index2 = this.indexes[iterator];\n        result2 = callback(this.proxyOf.nodes[index2], index2);\n        if (result2 === false) break;\n        this.indexes[iterator] += 1;\n      }\n      delete this.indexes[iterator];\n      return result2;\n    }\n    every(condition) {\n      return this.nodes.every(condition);\n    }\n    getIterator() {\n      if (!this.lastEach) this.lastEach = 0;\n      if (!this.indexes) this.indexes = {};\n      this.lastEach += 1;\n      let iterator = this.lastEach;\n      this.indexes[iterator] = 0;\n      return iterator;\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (!node2[prop]) {\n            return node2[prop];\n          } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n            return (...args) => {\n              return node2[prop](\n                ...args.map((i2) => {\n                  if (typeof i2 === \"function\") {\n                    return (child, index2) => i2(child.toProxy(), index2);\n                  } else {\n                    return i2;\n                  }\n                })\n              );\n            };\n          } else if (prop === \"every\" || prop === \"some\") {\n            return (cb) => {\n              return node2[prop](\n                (child, ...other) => cb(child.toProxy(), ...other)\n              );\n            };\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else if (prop === \"nodes\") {\n            return node2.nodes.map((i2) => i2.toProxy());\n          } else if (prop === \"first\" || prop === \"last\") {\n            return node2[prop].toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    index(child) {\n      if (typeof child === \"number\") return child;\n      if (child.proxyOf) child = child.proxyOf;\n      return this.proxyOf.nodes.indexOf(child);\n    }\n    insertAfter(exist, add) {\n      let existIndex = this.index(exist);\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex < index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    insertBefore(exist, add) {\n      let existIndex = this.index(exist);\n      let type = existIndex === 0 ? \"prepend\" : false;\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex <= index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    normalize(nodes, sample) {\n      if (typeof nodes === \"string\") {\n        nodes = cleanSource(parse(nodes).nodes);\n      } else if (typeof nodes === \"undefined\") {\n        nodes = [];\n      } else if (Array.isArray(nodes)) {\n        nodes = nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type === \"root\" && this.type !== \"document\") {\n        nodes = nodes.nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type) {\n        nodes = [nodes];\n      } else if (nodes.prop) {\n        if (typeof nodes.value === \"undefined\") {\n          throw new Error(\"Value field is missed in node creation\");\n        } else if (typeof nodes.value !== \"string\") {\n          nodes.value = String(nodes.value);\n        }\n        nodes = [new Declaration(nodes)];\n      } else if (nodes.selector) {\n        nodes = [new Rule(nodes)];\n      } else if (nodes.name) {\n        nodes = [new AtRule(nodes)];\n      } else if (nodes.text) {\n        nodes = [new Comment(nodes)];\n      } else {\n        throw new Error(\"Unknown node type in node creation\");\n      }\n      let processed = nodes.map((i2) => {\n        if (!i2[my]) Container.rebuild(i2);\n        i2 = i2.proxyOf;\n        if (i2.parent) i2.parent.removeChild(i2);\n        if (i2[isClean]) markDirtyUp(i2);\n        if (typeof i2.raws.before === \"undefined\") {\n          if (sample && typeof sample.raws.before !== \"undefined\") {\n            i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n          }\n        }\n        i2.parent = this.proxyOf;\n        return i2;\n      });\n      return processed;\n    }\n    prepend(...children) {\n      children = children.reverse();\n      for (let child of children) {\n        let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n        for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n        for (let id in this.indexes) {\n          this.indexes[id] = this.indexes[id] + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    push(child) {\n      child.parent = this;\n      this.proxyOf.nodes.push(child);\n      return this;\n    }\n    removeAll() {\n      for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n      this.proxyOf.nodes = [];\n      this.markDirty();\n      return this;\n    }\n    removeChild(child) {\n      child = this.index(child);\n      this.proxyOf.nodes[child].parent = void 0;\n      this.proxyOf.nodes.splice(child, 1);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (index2 >= child) {\n          this.indexes[id] = index2 - 1;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    replaceValues(pattern, opts, callback) {\n      if (!callback) {\n        callback = opts;\n        opts = {};\n      }\n      this.walkDecls((decl) => {\n        if (opts.props && !opts.props.includes(decl.prop)) return;\n        if (opts.fast && !decl.value.includes(opts.fast)) return;\n        decl.value = decl.value.replace(pattern, callback);\n      });\n      this.markDirty();\n      return this;\n    }\n    some(condition) {\n      return this.nodes.some(condition);\n    }\n    walk(callback) {\n      return this.each((child, i2) => {\n        let result2;\n        try {\n          result2 = callback(child, i2);\n        } catch (e2) {\n          throw child.addToError(e2);\n        }\n        if (result2 !== false && child.walk) {\n          result2 = child.walk(callback);\n        }\n        return result2;\n      });\n    }\n    walkAtRules(name, callback) {\n      if (!callback) {\n        callback = name;\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (name instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\" && name.test(child.name)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && child.name === name) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkComments(callback) {\n      return this.walk((child, i2) => {\n        if (child.type === \"comment\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkDecls(prop, callback) {\n      if (!callback) {\n        callback = prop;\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (prop instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\" && prop.test(child.prop)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && child.prop === prop) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkRules(selector, callback) {\n      if (!callback) {\n        callback = selector;\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (selector instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\" && selector.test(child.selector)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && child.selector === selector) {\n          return callback(child, i2);\n        }\n      });\n    }\n    get first() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[0];\n    }\n    get last() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n    }\n  }\n  Container.registerParse = (dependant) => {\n    parse = dependant;\n  };\n  Container.registerRule = (dependant) => {\n    Rule = dependant;\n  };\n  Container.registerAtRule = (dependant) => {\n    AtRule = dependant;\n  };\n  Container.registerRoot = (dependant) => {\n    Root = dependant;\n  };\n  container$1 = Container;\n  Container.default = Container;\n  Container.rebuild = (node2) => {\n    if (node2.type === \"atrule\") {\n      Object.setPrototypeOf(node2, AtRule.prototype);\n    } else if (node2.type === \"rule\") {\n      Object.setPrototypeOf(node2, Rule.prototype);\n    } else if (node2.type === \"decl\") {\n      Object.setPrototypeOf(node2, Declaration.prototype);\n    } else if (node2.type === \"comment\") {\n      Object.setPrototypeOf(node2, Comment.prototype);\n    } else if (node2.type === \"root\") {\n      Object.setPrototypeOf(node2, Root.prototype);\n    }\n    node2[my] = true;\n    if (node2.nodes) {\n      node2.nodes.forEach((child) => {\n        Container.rebuild(child);\n      });\n    }\n  };\n  return container$1;\n}\nvar document$1$1;\nvar hasRequiredDocument$1;\nfunction requireDocument$1() {\n  if (hasRequiredDocument$1) return document$1$1;\n  hasRequiredDocument$1 = 1;\n  let Container = requireContainer$1();\n  let LazyResult, Processor;\n  class Document2 extends Container {\n    constructor(defaults) {\n      super({ type: \"document\", ...defaults });\n      if (!this.nodes) {\n        this.nodes = [];\n      }\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Document2.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Document2.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  document$1$1 = Document2;\n  Document2.default = Document2;\n  return document$1$1;\n}\nvar warnOnce$1;\nvar hasRequiredWarnOnce$1;\nfunction requireWarnOnce$1() {\n  if (hasRequiredWarnOnce$1) return warnOnce$1;\n  hasRequiredWarnOnce$1 = 1;\n  let printed = {};\n  warnOnce$1 = function warnOnce2(message) {\n    if (printed[message]) return;\n    printed[message] = true;\n    if (typeof console !== \"undefined\" && console.warn) {\n      console.warn(message);\n    }\n  };\n  return warnOnce$1;\n}\nvar warning$1;\nvar hasRequiredWarning$1;\nfunction requireWarning$1() {\n  if (hasRequiredWarning$1) return warning$1;\n  hasRequiredWarning$1 = 1;\n  class Warning {\n    constructor(text, opts = {}) {\n      this.type = \"warning\";\n      this.text = text;\n      if (opts.node && opts.node.source) {\n        let range = opts.node.rangeBy(opts);\n        this.line = range.start.line;\n        this.column = range.start.column;\n        this.endLine = range.end.line;\n        this.endColumn = range.end.column;\n      }\n      for (let opt in opts) this[opt] = opts[opt];\n    }\n    toString() {\n      if (this.node) {\n        return this.node.error(this.text, {\n          index: this.index,\n          plugin: this.plugin,\n          word: this.word\n        }).message;\n      }\n      if (this.plugin) {\n        return this.plugin + \": \" + this.text;\n      }\n      return this.text;\n    }\n  }\n  warning$1 = Warning;\n  Warning.default = Warning;\n  return warning$1;\n}\nvar result$1;\nvar hasRequiredResult$1;\nfunction requireResult$1() {\n  if (hasRequiredResult$1) return result$1;\n  hasRequiredResult$1 = 1;\n  let Warning = requireWarning$1();\n  class Result {\n    constructor(processor2, root2, opts) {\n      this.processor = processor2;\n      this.messages = [];\n      this.root = root2;\n      this.opts = opts;\n      this.css = void 0;\n      this.map = void 0;\n    }\n    toString() {\n      return this.css;\n    }\n    warn(text, opts = {}) {\n      if (!opts.plugin) {\n        if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n          opts.plugin = this.lastPlugin.postcssPlugin;\n        }\n      }\n      let warning2 = new Warning(text, opts);\n      this.messages.push(warning2);\n      return warning2;\n    }\n    warnings() {\n      return this.messages.filter((i2) => i2.type === \"warning\");\n    }\n    get content() {\n      return this.css;\n    }\n  }\n  result$1 = Result;\n  Result.default = Result;\n  return result$1;\n}\nvar tokenize$1;\nvar hasRequiredTokenize$1;\nfunction requireTokenize$1() {\n  if (hasRequiredTokenize$1) return tokenize$1;\n  hasRequiredTokenize$1 = 1;\n  const SINGLE_QUOTE = \"'\".charCodeAt(0);\n  const DOUBLE_QUOTE = '\"'.charCodeAt(0);\n  const BACKSLASH = \"\\\\\".charCodeAt(0);\n  const SLASH = \"/\".charCodeAt(0);\n  const NEWLINE = \"\\n\".charCodeAt(0);\n  const SPACE = \" \".charCodeAt(0);\n  const FEED = \"\\f\".charCodeAt(0);\n  const TAB = \"\t\".charCodeAt(0);\n  const CR = \"\\r\".charCodeAt(0);\n  const OPEN_SQUARE = \"[\".charCodeAt(0);\n  const CLOSE_SQUARE = \"]\".charCodeAt(0);\n  const OPEN_PARENTHESES = \"(\".charCodeAt(0);\n  const CLOSE_PARENTHESES = \")\".charCodeAt(0);\n  const OPEN_CURLY = \"{\".charCodeAt(0);\n  const CLOSE_CURLY = \"}\".charCodeAt(0);\n  const SEMICOLON = \";\".charCodeAt(0);\n  const ASTERISK = \"*\".charCodeAt(0);\n  const COLON = \":\".charCodeAt(0);\n  const AT = \"@\".charCodeAt(0);\n  const RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\n  const RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\n  const RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\n  const RE_HEX_ESCAPE = /[\\da-f]/i;\n  tokenize$1 = function tokenizer(input2, options = {}) {\n    let css = input2.css.valueOf();\n    let ignore = options.ignoreErrors;\n    let code, next, quote, content, escape;\n    let escaped, escapePos, prev, n2, currentToken;\n    let length = css.length;\n    let pos = 0;\n    let buffer = [];\n    let returned = [];\n    function position() {\n      return pos;\n    }\n    function unclosed(what) {\n      throw input2.error(\"Unclosed \" + what, pos);\n    }\n    function endOfFile() {\n      return returned.length === 0 && pos >= length;\n    }\n    function nextToken(opts) {\n      if (returned.length) return returned.pop();\n      if (pos >= length) return;\n      let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n      code = css.charCodeAt(pos);\n      switch (code) {\n        case NEWLINE:\n        case SPACE:\n        case TAB:\n        case CR:\n        case FEED: {\n          next = pos;\n          do {\n            next += 1;\n            code = css.charCodeAt(next);\n          } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n          currentToken = [\"space\", css.slice(pos, next)];\n          pos = next - 1;\n          break;\n        }\n        case OPEN_SQUARE:\n        case CLOSE_SQUARE:\n        case OPEN_CURLY:\n        case CLOSE_CURLY:\n        case COLON:\n        case SEMICOLON:\n        case CLOSE_PARENTHESES: {\n          let controlChar = String.fromCharCode(code);\n          currentToken = [controlChar, controlChar, pos];\n          break;\n        }\n        case OPEN_PARENTHESES: {\n          prev = buffer.length ? buffer.pop()[1] : \"\";\n          n2 = css.charCodeAt(pos + 1);\n          if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n            next = pos;\n            do {\n              escaped = false;\n              next = css.indexOf(\")\", next + 1);\n              if (next === -1) {\n                if (ignore || ignoreUnclosed) {\n                  next = pos;\n                  break;\n                } else {\n                  unclosed(\"bracket\");\n                }\n              }\n              escapePos = next;\n              while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n                escapePos -= 1;\n                escaped = !escaped;\n              }\n            } while (escaped);\n            currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            next = css.indexOf(\")\", pos + 1);\n            content = css.slice(pos, next + 1);\n            if (next === -1 || RE_BAD_BRACKET.test(content)) {\n              currentToken = [\"(\", \"(\", pos];\n            } else {\n              currentToken = [\"brackets\", content, pos, next];\n              pos = next;\n            }\n          }\n          break;\n        }\n        case SINGLE_QUOTE:\n        case DOUBLE_QUOTE: {\n          quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(quote, next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos + 1;\n                break;\n              } else {\n                unclosed(\"string\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case AT: {\n          RE_AT_END.lastIndex = pos + 1;\n          RE_AT_END.test(css);\n          if (RE_AT_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_AT_END.lastIndex - 2;\n          }\n          currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case BACKSLASH: {\n          next = pos;\n          escape = true;\n          while (css.charCodeAt(next + 1) === BACKSLASH) {\n            next += 1;\n            escape = !escape;\n          }\n          code = css.charCodeAt(next + 1);\n          if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n            next += 1;\n            if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n              while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n                next += 1;\n              }\n              if (css.charCodeAt(next + 1) === SPACE) {\n                next += 1;\n              }\n            }\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        default: {\n          if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n            next = css.indexOf(\"*/\", pos + 2) + 1;\n            if (next === 0) {\n              if (ignore || ignoreUnclosed) {\n                next = css.length;\n              } else {\n                unclosed(\"comment\");\n              }\n            }\n            currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            RE_WORD_END.lastIndex = pos + 1;\n            RE_WORD_END.test(css);\n            if (RE_WORD_END.lastIndex === 0) {\n              next = css.length - 1;\n            } else {\n              next = RE_WORD_END.lastIndex - 2;\n            }\n            currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n            buffer.push(currentToken);\n            pos = next;\n          }\n          break;\n        }\n      }\n      pos++;\n      return currentToken;\n    }\n    function back(token) {\n      returned.push(token);\n    }\n    return {\n      back,\n      endOfFile,\n      nextToken,\n      position\n    };\n  };\n  return tokenize$1;\n}\nvar atRule$1;\nvar hasRequiredAtRule$1;\nfunction requireAtRule$1() {\n  if (hasRequiredAtRule$1) return atRule$1;\n  hasRequiredAtRule$1 = 1;\n  let Container = requireContainer$1();\n  class AtRule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"atrule\";\n    }\n    append(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.append(...children);\n    }\n    prepend(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.prepend(...children);\n    }\n  }\n  atRule$1 = AtRule;\n  AtRule.default = AtRule;\n  Container.registerAtRule(AtRule);\n  return atRule$1;\n}\nvar root$1;\nvar hasRequiredRoot$1;\nfunction requireRoot$1() {\n  if (hasRequiredRoot$1) return root$1;\n  hasRequiredRoot$1 = 1;\n  let Container = requireContainer$1();\n  let LazyResult, Processor;\n  class Root extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"root\";\n      if (!this.nodes) this.nodes = [];\n    }\n    normalize(child, sample, type) {\n      let nodes = super.normalize(child);\n      if (sample) {\n        if (type === \"prepend\") {\n          if (this.nodes.length > 1) {\n            sample.raws.before = this.nodes[1].raws.before;\n          } else {\n            delete sample.raws.before;\n          }\n        } else if (this.first !== sample) {\n          for (let node2 of nodes) {\n            node2.raws.before = sample.raws.before;\n          }\n        }\n      }\n      return nodes;\n    }\n    removeChild(child, ignore) {\n      let index2 = this.index(child);\n      if (!ignore && index2 === 0 && this.nodes.length > 1) {\n        this.nodes[1].raws.before = this.nodes[index2].raws.before;\n      }\n      return super.removeChild(child);\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Root.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Root.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  root$1 = Root;\n  Root.default = Root;\n  Container.registerRoot(Root);\n  return root$1;\n}\nvar list_1$1;\nvar hasRequiredList$1;\nfunction requireList$1() {\n  if (hasRequiredList$1) return list_1$1;\n  hasRequiredList$1 = 1;\n  let list = {\n    comma(string) {\n      return list.split(string, [\",\"], true);\n    },\n    space(string) {\n      let spaces = [\" \", \"\\n\", \"\t\"];\n      return list.split(string, spaces);\n    },\n    split(string, separators, last) {\n      let array = [];\n      let current = \"\";\n      let split = false;\n      let func = 0;\n      let inQuote = false;\n      let prevQuote = \"\";\n      let escape = false;\n      for (let letter of string) {\n        if (escape) {\n          escape = false;\n        } else if (letter === \"\\\\\") {\n          escape = true;\n        } else if (inQuote) {\n          if (letter === prevQuote) {\n            inQuote = false;\n          }\n        } else if (letter === '\"' || letter === \"'\") {\n          inQuote = true;\n          prevQuote = letter;\n        } else if (letter === \"(\") {\n          func += 1;\n        } else if (letter === \")\") {\n          if (func > 0) func -= 1;\n        } else if (func === 0) {\n          if (separators.includes(letter)) split = true;\n        }\n        if (split) {\n          if (current !== \"\") array.push(current.trim());\n          current = \"\";\n          split = false;\n        } else {\n          current += letter;\n        }\n      }\n      if (last || current !== \"\") array.push(current.trim());\n      return array;\n    }\n  };\n  list_1$1 = list;\n  list.default = list;\n  return list_1$1;\n}\nvar rule$1;\nvar hasRequiredRule$1;\nfunction requireRule$1() {\n  if (hasRequiredRule$1) return rule$1;\n  hasRequiredRule$1 = 1;\n  let Container = requireContainer$1();\n  let list = requireList$1();\n  class Rule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"rule\";\n      if (!this.nodes) this.nodes = [];\n    }\n    get selectors() {\n      return list.comma(this.selector);\n    }\n    set selectors(values) {\n      let match = this.selector ? this.selector.match(/,\\s*/) : null;\n      let sep = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n      this.selector = values.join(sep);\n    }\n  }\n  rule$1 = Rule;\n  Rule.default = Rule;\n  Container.registerRule(Rule);\n  return rule$1;\n}\nvar parser$1;\nvar hasRequiredParser$1;\nfunction requireParser$1() {\n  if (hasRequiredParser$1) return parser$1;\n  hasRequiredParser$1 = 1;\n  let Declaration = requireDeclaration$1();\n  let tokenizer = requireTokenize$1();\n  let Comment = requireComment$1();\n  let AtRule = requireAtRule$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  const SAFE_COMMENT_NEIGHBOR = {\n    empty: true,\n    space: true\n  };\n  function findLastWithPosition(tokens) {\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      let token = tokens[i2];\n      let pos = token[3] || token[2];\n      if (pos) return pos;\n    }\n  }\n  class Parser {\n    constructor(input2) {\n      this.input = input2;\n      this.root = new Root();\n      this.current = this.root;\n      this.spaces = \"\";\n      this.semicolon = false;\n      this.createTokenizer();\n      this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n    }\n    atrule(token) {\n      let node2 = new AtRule();\n      node2.name = token[1].slice(1);\n      if (node2.name === \"\") {\n        this.unnamedAtrule(node2, token);\n      }\n      this.init(node2, token[2]);\n      let type;\n      let prev;\n      let shift;\n      let last = false;\n      let open = false;\n      let params = [];\n      let brackets = [];\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        type = token[0];\n        if (type === \"(\" || type === \"[\") {\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (type === \"{\" && brackets.length > 0) {\n          brackets.push(\"}\");\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n        }\n        if (brackets.length === 0) {\n          if (type === \";\") {\n            node2.source.end = this.getPosition(token[2]);\n            node2.source.end.offset++;\n            this.semicolon = true;\n            break;\n          } else if (type === \"{\") {\n            open = true;\n            break;\n          } else if (type === \"}\") {\n            if (params.length > 0) {\n              shift = params.length - 1;\n              prev = params[shift];\n              while (prev && prev[0] === \"space\") {\n                prev = params[--shift];\n              }\n              if (prev) {\n                node2.source.end = this.getPosition(prev[3] || prev[2]);\n                node2.source.end.offset++;\n              }\n            }\n            this.end(token);\n            break;\n          } else {\n            params.push(token);\n          }\n        } else {\n          params.push(token);\n        }\n        if (this.tokenizer.endOfFile()) {\n          last = true;\n          break;\n        }\n      }\n      node2.raws.between = this.spacesAndCommentsFromEnd(params);\n      if (params.length) {\n        node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n        this.raw(node2, \"params\", params);\n        if (last) {\n          token = params[params.length - 1];\n          node2.source.end = this.getPosition(token[3] || token[2]);\n          node2.source.end.offset++;\n          this.spaces = node2.raws.between;\n          node2.raws.between = \"\";\n        }\n      } else {\n        node2.raws.afterName = \"\";\n        node2.params = \"\";\n      }\n      if (open) {\n        node2.nodes = [];\n        this.current = node2;\n      }\n    }\n    checkMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let founded = 0;\n      let token;\n      for (let j = colon - 1; j >= 0; j--) {\n        token = tokens[j];\n        if (token[0] !== \"space\") {\n          founded += 1;\n          if (founded === 2) break;\n        }\n      }\n      throw this.input.error(\n        \"Missed semicolon\",\n        token[0] === \"word\" ? token[3] + 1 : token[2]\n      );\n    }\n    colon(tokens) {\n      let brackets = 0;\n      let token, type, prev;\n      for (let [i2, element] of tokens.entries()) {\n        token = element;\n        type = token[0];\n        if (type === \"(\") {\n          brackets += 1;\n        }\n        if (type === \")\") {\n          brackets -= 1;\n        }\n        if (brackets === 0 && type === \":\") {\n          if (!prev) {\n            this.doubleColon(token);\n          } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n            continue;\n          } else {\n            return i2;\n          }\n        }\n        prev = token;\n      }\n      return false;\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      node2.source.end = this.getPosition(token[3] || token[2]);\n      node2.source.end.offset++;\n      let text = token[1].slice(2, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input);\n    }\n    decl(tokens, customProperty) {\n      let node2 = new Declaration();\n      this.init(node2, tokens[0][2]);\n      let last = tokens[tokens.length - 1];\n      if (last[0] === \";\") {\n        this.semicolon = true;\n        tokens.pop();\n      }\n      node2.source.end = this.getPosition(\n        last[3] || last[2] || findLastWithPosition(tokens)\n      );\n      node2.source.end.offset++;\n      while (tokens[0][0] !== \"word\") {\n        if (tokens.length === 1) this.unknownWord(tokens);\n        node2.raws.before += tokens.shift()[1];\n      }\n      node2.source.start = this.getPosition(tokens[0][2]);\n      node2.prop = \"\";\n      while (tokens.length) {\n        let type = tokens[0][0];\n        if (type === \":\" || type === \"space\" || type === \"comment\") {\n          break;\n        }\n        node2.prop += tokens.shift()[1];\n      }\n      node2.raws.between = \"\";\n      let token;\n      while (tokens.length) {\n        token = tokens.shift();\n        if (token[0] === \":\") {\n          node2.raws.between += token[1];\n          break;\n        } else {\n          if (token[0] === \"word\" && /\\w/.test(token[1])) {\n            this.unknownWord([token]);\n          }\n          node2.raws.between += token[1];\n        }\n      }\n      if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n        node2.raws.before += node2.prop[0];\n        node2.prop = node2.prop.slice(1);\n      }\n      let firstSpaces = [];\n      let next;\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        firstSpaces.push(tokens.shift());\n      }\n      this.precheckMissedSemicolon(tokens);\n      for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n        token = tokens[i2];\n        if (token[1].toLowerCase() === \"!important\") {\n          node2.important = true;\n          let string = this.stringFrom(tokens, i2);\n          string = this.spacesFromEnd(tokens) + string;\n          if (string !== \" !important\") node2.raws.important = string;\n          break;\n        } else if (token[1].toLowerCase() === \"important\") {\n          let cache = tokens.slice(0);\n          let str = \"\";\n          for (let j = i2; j > 0; j--) {\n            let type = cache[j][0];\n            if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n              break;\n            }\n            str = cache.pop()[1] + str;\n          }\n          if (str.trim().indexOf(\"!\") === 0) {\n            node2.important = true;\n            node2.raws.important = str;\n            tokens = cache;\n          }\n        }\n        if (token[0] !== \"space\" && token[0] !== \"comment\") {\n          break;\n        }\n      }\n      let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n      if (hasWord) {\n        node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n        firstSpaces = [];\n      }\n      this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n      if (node2.value.includes(\":\") && !customProperty) {\n        this.checkMissedSemicolon(tokens);\n      }\n    }\n    doubleColon(token) {\n      throw this.input.error(\n        \"Double colon\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n    emptyRule(token) {\n      let node2 = new Rule();\n      this.init(node2, token[2]);\n      node2.selector = \"\";\n      node2.raws.between = \"\";\n      this.current = node2;\n    }\n    end(token) {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.semicolon = false;\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.spaces = \"\";\n      if (this.current.parent) {\n        this.current.source.end = this.getPosition(token[2]);\n        this.current.source.end.offset++;\n        this.current = this.current.parent;\n      } else {\n        this.unexpectedClose(token);\n      }\n    }\n    endFile() {\n      if (this.current.parent) this.unclosedBlock();\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    freeSemicolon(token) {\n      this.spaces += token[1];\n      if (this.current.nodes) {\n        let prev = this.current.nodes[this.current.nodes.length - 1];\n        if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n          prev.raws.ownSemicolon = this.spaces;\n          this.spaces = \"\";\n        }\n      }\n    }\n    // Helpers\n    getPosition(offset) {\n      let pos = this.input.fromOffset(offset);\n      return {\n        column: pos.col,\n        line: pos.line,\n        offset\n      };\n    }\n    init(node2, offset) {\n      this.current.push(node2);\n      node2.source = {\n        input: this.input,\n        start: this.getPosition(offset)\n      };\n      node2.raws.before = this.spaces;\n      this.spaces = \"\";\n      if (node2.type !== \"comment\") this.semicolon = false;\n    }\n    other(start) {\n      let end = false;\n      let type = null;\n      let colon = false;\n      let bracket = null;\n      let brackets = [];\n      let customProperty = start[1].startsWith(\"--\");\n      let tokens = [];\n      let token = start;\n      while (token) {\n        type = token[0];\n        tokens.push(token);\n        if (type === \"(\" || type === \"[\") {\n          if (!bracket) bracket = token;\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (customProperty && colon && type === \"{\") {\n          if (!bracket) bracket = token;\n          brackets.push(\"}\");\n        } else if (brackets.length === 0) {\n          if (type === \";\") {\n            if (colon) {\n              this.decl(tokens, customProperty);\n              return;\n            } else {\n              break;\n            }\n          } else if (type === \"{\") {\n            this.rule(tokens);\n            return;\n          } else if (type === \"}\") {\n            this.tokenizer.back(tokens.pop());\n            end = true;\n            break;\n          } else if (type === \":\") {\n            colon = true;\n          }\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n          if (brackets.length === 0) bracket = null;\n        }\n        token = this.tokenizer.nextToken();\n      }\n      if (this.tokenizer.endOfFile()) end = true;\n      if (brackets.length > 0) this.unclosedBracket(bracket);\n      if (end && colon) {\n        if (!customProperty) {\n          while (tokens.length) {\n            token = tokens[tokens.length - 1][0];\n            if (token !== \"space\" && token !== \"comment\") break;\n            this.tokenizer.back(tokens.pop());\n          }\n        }\n        this.decl(tokens, customProperty);\n      } else {\n        this.unknownWord(tokens);\n      }\n    }\n    parse() {\n      let token;\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        switch (token[0]) {\n          case \"space\":\n            this.spaces += token[1];\n            break;\n          case \";\":\n            this.freeSemicolon(token);\n            break;\n          case \"}\":\n            this.end(token);\n            break;\n          case \"comment\":\n            this.comment(token);\n            break;\n          case \"at-word\":\n            this.atrule(token);\n            break;\n          case \"{\":\n            this.emptyRule(token);\n            break;\n          default:\n            this.other(token);\n            break;\n        }\n      }\n      this.endFile();\n    }\n    precheckMissedSemicolon() {\n    }\n    raw(node2, prop, tokens, customProperty) {\n      let token, type;\n      let length = tokens.length;\n      let value = \"\";\n      let clean = true;\n      let next, prev;\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        token = tokens[i2];\n        type = token[0];\n        if (type === \"space\" && i2 === length - 1 && !customProperty) {\n          clean = false;\n        } else if (type === \"comment\") {\n          prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n          next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n          if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n            if (value.slice(-1) === \",\") {\n              clean = false;\n            } else {\n              value += token[1];\n            }\n          } else {\n            clean = false;\n          }\n        } else {\n          value += token[1];\n        }\n      }\n      if (!clean) {\n        let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n        node2.raws[prop] = { raw, value };\n      }\n      node2[prop] = value;\n    }\n    rule(tokens) {\n      tokens.pop();\n      let node2 = new Rule();\n      this.init(node2, tokens[0][2]);\n      node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n      this.raw(node2, \"selector\", tokens);\n      this.current = node2;\n    }\n    spacesAndCommentsFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    // Errors\n    spacesAndCommentsFromStart(tokens) {\n      let next;\n      let spaces = \"\";\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        spaces += tokens.shift()[1];\n      }\n      return spaces;\n    }\n    spacesFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    stringFrom(tokens, from) {\n      let result2 = \"\";\n      for (let i2 = from; i2 < tokens.length; i2++) {\n        result2 += tokens[i2][1];\n      }\n      tokens.splice(from, tokens.length - from);\n      return result2;\n    }\n    unclosedBlock() {\n      let pos = this.current.source.start;\n      throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n    }\n    unclosedBracket(bracket) {\n      throw this.input.error(\n        \"Unclosed bracket\",\n        { offset: bracket[2] },\n        { offset: bracket[2] + 1 }\n      );\n    }\n    unexpectedClose(token) {\n      throw this.input.error(\n        \"Unexpected }\",\n        { offset: token[2] },\n        { offset: token[2] + 1 }\n      );\n    }\n    unknownWord(tokens) {\n      throw this.input.error(\n        \"Unknown word\",\n        { offset: tokens[0][2] },\n        { offset: tokens[0][2] + tokens[0][1].length }\n      );\n    }\n    unnamedAtrule(node2, token) {\n      throw this.input.error(\n        \"At-rule without name\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n  }\n  parser$1 = Parser;\n  return parser$1;\n}\nvar parse_1$1;\nvar hasRequiredParse$1;\nfunction requireParse$1() {\n  if (hasRequiredParse$1) return parse_1$1;\n  hasRequiredParse$1 = 1;\n  let Container = requireContainer$1();\n  let Parser = requireParser$1();\n  let Input = requireInput$1();\n  function parse(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new Parser(input2);\n    try {\n      parser2.parse();\n    } catch (e2) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n          if (/\\.scss$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n          } else if (/\\.sass/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n          } else if (/\\.less$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n          }\n        }\n      }\n      throw e2;\n    }\n    return parser2.root;\n  }\n  parse_1$1 = parse;\n  parse.default = parse;\n  Container.registerParse(parse);\n  return parse_1$1;\n}\nvar lazyResult$1;\nvar hasRequiredLazyResult$1;\nfunction requireLazyResult$1() {\n  if (hasRequiredLazyResult$1) return lazyResult$1;\n  hasRequiredLazyResult$1 = 1;\n  let { isClean, my } = requireSymbols$1();\n  let MapGenerator = requireMapGenerator$1();\n  let stringify2 = requireStringify$1();\n  let Container = requireContainer$1();\n  let Document2 = requireDocument$1();\n  let warnOnce2 = requireWarnOnce$1();\n  let Result = requireResult$1();\n  let parse = requireParse$1();\n  let Root = requireRoot$1();\n  const TYPE_TO_CLASS_NAME = {\n    atrule: \"AtRule\",\n    comment: \"Comment\",\n    decl: \"Declaration\",\n    document: \"Document\",\n    root: \"Root\",\n    rule: \"Rule\"\n  };\n  const PLUGIN_PROPS = {\n    AtRule: true,\n    AtRuleExit: true,\n    Comment: true,\n    CommentExit: true,\n    Declaration: true,\n    DeclarationExit: true,\n    Document: true,\n    DocumentExit: true,\n    Once: true,\n    OnceExit: true,\n    postcssPlugin: true,\n    prepare: true,\n    Root: true,\n    RootExit: true,\n    Rule: true,\n    RuleExit: true\n  };\n  const NOT_VISITORS = {\n    Once: true,\n    postcssPlugin: true,\n    prepare: true\n  };\n  const CHILDREN = 0;\n  function isPromise(obj) {\n    return typeof obj === \"object\" && typeof obj.then === \"function\";\n  }\n  function getEvents(node2) {\n    let key = false;\n    let type = TYPE_TO_CLASS_NAME[node2.type];\n    if (node2.type === \"decl\") {\n      key = node2.prop.toLowerCase();\n    } else if (node2.type === \"atrule\") {\n      key = node2.name.toLowerCase();\n    }\n    if (key && node2.append) {\n      return [\n        type,\n        type + \"-\" + key,\n        CHILDREN,\n        type + \"Exit\",\n        type + \"Exit-\" + key\n      ];\n    } else if (key) {\n      return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n    } else if (node2.append) {\n      return [type, CHILDREN, type + \"Exit\"];\n    } else {\n      return [type, type + \"Exit\"];\n    }\n  }\n  function toStack(node2) {\n    let events;\n    if (node2.type === \"document\") {\n      events = [\"Document\", CHILDREN, \"DocumentExit\"];\n    } else if (node2.type === \"root\") {\n      events = [\"Root\", CHILDREN, \"RootExit\"];\n    } else {\n      events = getEvents(node2);\n    }\n    return {\n      eventIndex: 0,\n      events,\n      iterator: 0,\n      node: node2,\n      visitorIndex: 0,\n      visitors: []\n    };\n  }\n  function cleanMarks(node2) {\n    node2[isClean] = false;\n    if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n    return node2;\n  }\n  let postcss2 = {};\n  class LazyResult {\n    constructor(processor2, css, opts) {\n      this.stringified = false;\n      this.processed = false;\n      let root2;\n      if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n        root2 = cleanMarks(css);\n      } else if (css instanceof LazyResult || css instanceof Result) {\n        root2 = cleanMarks(css.root);\n        if (css.map) {\n          if (typeof opts.map === \"undefined\") opts.map = {};\n          if (!opts.map.inline) opts.map.inline = false;\n          opts.map.prev = css.map;\n        }\n      } else {\n        let parser2 = parse;\n        if (opts.syntax) parser2 = opts.syntax.parse;\n        if (opts.parser) parser2 = opts.parser;\n        if (parser2.parse) parser2 = parser2.parse;\n        try {\n          root2 = parser2(css, opts);\n        } catch (error) {\n          this.processed = true;\n          this.error = error;\n        }\n        if (root2 && !root2[my]) {\n          Container.rebuild(root2);\n        }\n      }\n      this.result = new Result(processor2, root2, opts);\n      this.helpers = { ...postcss2, postcss: postcss2, result: this.result };\n      this.plugins = this.processor.plugins.map((plugin) => {\n        if (typeof plugin === \"object\" && plugin.prepare) {\n          return { ...plugin, ...plugin.prepare(this.result) };\n        } else {\n          return plugin;\n        }\n      });\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n      return this.processing;\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    getAsyncError() {\n      throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n    }\n    handleError(error, node2) {\n      let plugin = this.result.lastPlugin;\n      try {\n        if (node2) node2.addToError(error);\n        this.error = error;\n        if (error.name === \"CssSyntaxError\" && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== \"production\") {\n            let pluginName = plugin.postcssPlugin;\n            let pluginVer = plugin.postcssVersion;\n            let runtimeVer = this.result.processor.version;\n            let a2 = pluginVer.split(\".\");\n            let b = runtimeVer.split(\".\");\n            if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n              console.error(\n                \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (console && console.error) console.error(err);\n      }\n      return error;\n    }\n    prepareVisitors() {\n      this.listeners = {};\n      let add = (plugin, type, cb) => {\n        if (!this.listeners[type]) this.listeners[type] = [];\n        this.listeners[type].push([plugin, cb]);\n      };\n      for (let plugin of this.plugins) {\n        if (typeof plugin === \"object\") {\n          for (let event in plugin) {\n            if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n              throw new Error(\n                `Unknown event ${event} in ${plugin.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n              );\n            }\n            if (!NOT_VISITORS[event]) {\n              if (typeof plugin[event] === \"object\") {\n                for (let filter in plugin[event]) {\n                  if (filter === \"*\") {\n                    add(plugin, event, plugin[event][filter]);\n                  } else {\n                    add(\n                      plugin,\n                      event + \"-\" + filter.toLowerCase(),\n                      plugin[event][filter]\n                    );\n                  }\n                }\n              } else if (typeof plugin[event] === \"function\") {\n                add(plugin, event, plugin[event]);\n              }\n            }\n          }\n        }\n      }\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n    async runAsync() {\n      this.plugin = 0;\n      for (let i2 = 0; i2 < this.plugins.length; i2++) {\n        let plugin = this.plugins[i2];\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          try {\n            await promise;\n          } catch (error) {\n            throw this.handleError(error);\n          }\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          let stack = [toStack(root2)];\n          while (stack.length > 0) {\n            let promise = this.visitTick(stack);\n            if (isPromise(promise)) {\n              try {\n                await promise;\n              } catch (e2) {\n                let node2 = stack[stack.length - 1].node;\n                throw this.handleError(e2, node2);\n              }\n            }\n          }\n        }\n        if (this.listeners.OnceExit) {\n          for (let [plugin, visitor] of this.listeners.OnceExit) {\n            this.result.lastPlugin = plugin;\n            try {\n              if (root2.type === \"document\") {\n                let roots = root2.nodes.map(\n                  (subRoot) => visitor(subRoot, this.helpers)\n                );\n                await Promise.all(roots);\n              } else {\n                await visitor(root2, this.helpers);\n              }\n            } catch (e2) {\n              throw this.handleError(e2);\n            }\n          }\n        }\n      }\n      this.processed = true;\n      return this.stringify();\n    }\n    runOnRoot(plugin) {\n      this.result.lastPlugin = plugin;\n      try {\n        if (typeof plugin === \"object\" && plugin.Once) {\n          if (this.result.root.type === \"document\") {\n            let roots = this.result.root.nodes.map(\n              (root2) => plugin.Once(root2, this.helpers)\n            );\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n            return roots;\n          }\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === \"function\") {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n    stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      let opts = this.result.opts;\n      let str = stringify2;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      let map = new MapGenerator(str, this.result.root, this.result.opts);\n      let data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n    sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n      for (let plugin of this.plugins) {\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          this.walkSync(root2);\n        }\n        if (this.listeners.OnceExit) {\n          if (root2.type === \"document\") {\n            for (let subRoot of root2.nodes) {\n              this.visitSync(this.listeners.OnceExit, subRoot);\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root2);\n          }\n        }\n      }\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this.opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this.css;\n    }\n    visitSync(visitors, node2) {\n      for (let [plugin, visitor] of visitors) {\n        this.result.lastPlugin = plugin;\n        let promise;\n        try {\n          promise = visitor(node2, this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2.proxyOf);\n        }\n        if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n          return true;\n        }\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n    }\n    visitTick(stack) {\n      let visit2 = stack[stack.length - 1];\n      let { node: node2, visitors } = visit2;\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        stack.pop();\n        return;\n      }\n      if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n        let [plugin, visitor] = visitors[visit2.visitorIndex];\n        visit2.visitorIndex += 1;\n        if (visit2.visitorIndex === visitors.length) {\n          visit2.visitors = [];\n          visit2.visitorIndex = 0;\n        }\n        this.result.lastPlugin = plugin;\n        try {\n          return visitor(node2.toProxy(), this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2);\n        }\n      }\n      if (visit2.iterator !== 0) {\n        let iterator = visit2.iterator;\n        let child;\n        while (child = node2.nodes[node2.indexes[iterator]]) {\n          node2.indexes[iterator] += 1;\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n        visit2.iterator = 0;\n        delete node2.indexes[iterator];\n      }\n      let events = visit2.events;\n      while (visit2.eventIndex < events.length) {\n        let event = events[visit2.eventIndex];\n        visit2.eventIndex += 1;\n        if (event === CHILDREN) {\n          if (node2.nodes && node2.nodes.length) {\n            node2[isClean] = true;\n            visit2.iterator = node2.getIterator();\n          }\n          return;\n        } else if (this.listeners[event]) {\n          visit2.visitors = this.listeners[event];\n          return;\n        }\n      }\n      stack.pop();\n    }\n    walkSync(node2) {\n      node2[isClean] = true;\n      let events = getEvents(node2);\n      for (let event of events) {\n        if (event === CHILDREN) {\n          if (node2.nodes) {\n            node2.each((child) => {\n              if (!child[isClean]) this.walkSync(child);\n            });\n          }\n        } else {\n          let visitors = this.listeners[event];\n          if (visitors) {\n            if (this.visitSync(visitors, node2.toProxy())) return;\n          }\n        }\n      }\n    }\n    warnings() {\n      return this.sync().warnings();\n    }\n    get content() {\n      return this.stringify().content;\n    }\n    get css() {\n      return this.stringify().css;\n    }\n    get map() {\n      return this.stringify().map;\n    }\n    get messages() {\n      return this.sync().messages;\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      return this.sync().root;\n    }\n    get [Symbol.toStringTag]() {\n      return \"LazyResult\";\n    }\n  }\n  LazyResult.registerPostcss = (dependant) => {\n    postcss2 = dependant;\n  };\n  lazyResult$1 = LazyResult;\n  LazyResult.default = LazyResult;\n  Root.registerLazyResult(LazyResult);\n  Document2.registerLazyResult(LazyResult);\n  return lazyResult$1;\n}\nvar noWorkResult$1;\nvar hasRequiredNoWorkResult$1;\nfunction requireNoWorkResult$1() {\n  if (hasRequiredNoWorkResult$1) return noWorkResult$1;\n  hasRequiredNoWorkResult$1 = 1;\n  let MapGenerator = requireMapGenerator$1();\n  let stringify2 = requireStringify$1();\n  let warnOnce2 = requireWarnOnce$1();\n  let parse = requireParse$1();\n  const Result = requireResult$1();\n  class NoWorkResult {\n    constructor(processor2, css, opts) {\n      css = css.toString();\n      this.stringified = false;\n      this._processor = processor2;\n      this._css = css;\n      this._opts = opts;\n      this._map = void 0;\n      let root2;\n      let str = stringify2;\n      this.result = new Result(this._processor, root2, this._opts);\n      this.result.css = css;\n      let self2 = this;\n      Object.defineProperty(this.result, \"root\", {\n        get() {\n          return self2.root;\n        }\n      });\n      let map = new MapGenerator(str, root2, this._opts, css);\n      if (map.isMap()) {\n        let [generatedCSS, generatedMap] = map.generate();\n        if (generatedCSS) {\n          this.result.css = generatedCSS;\n        }\n        if (generatedMap) {\n          this.result.map = generatedMap;\n        }\n      } else {\n        map.clearAnnotation();\n        this.result.css = map.css;\n      }\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      return Promise.resolve(this.result);\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    sync() {\n      if (this.error) throw this.error;\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this._opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this._css;\n    }\n    warnings() {\n      return [];\n    }\n    get content() {\n      return this.result.css;\n    }\n    get css() {\n      return this.result.css;\n    }\n    get map() {\n      return this.result.map;\n    }\n    get messages() {\n      return [];\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      if (this._root) {\n        return this._root;\n      }\n      let root2;\n      let parser2 = parse;\n      try {\n        root2 = parser2(this._css, this._opts);\n      } catch (error) {\n        this.error = error;\n      }\n      if (this.error) {\n        throw this.error;\n      } else {\n        this._root = root2;\n        return root2;\n      }\n    }\n    get [Symbol.toStringTag]() {\n      return \"NoWorkResult\";\n    }\n  }\n  noWorkResult$1 = NoWorkResult;\n  NoWorkResult.default = NoWorkResult;\n  return noWorkResult$1;\n}\nvar processor$1;\nvar hasRequiredProcessor$1;\nfunction requireProcessor$1() {\n  if (hasRequiredProcessor$1) return processor$1;\n  hasRequiredProcessor$1 = 1;\n  let NoWorkResult = requireNoWorkResult$1();\n  let LazyResult = requireLazyResult$1();\n  let Document2 = requireDocument$1();\n  let Root = requireRoot$1();\n  class Processor {\n    constructor(plugins = []) {\n      this.version = \"8.4.38\";\n      this.plugins = this.normalize(plugins);\n    }\n    normalize(plugins) {\n      let normalized = [];\n      for (let i2 of plugins) {\n        if (i2.postcss === true) {\n          i2 = i2();\n        } else if (i2.postcss) {\n          i2 = i2.postcss;\n        }\n        if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n          normalized = normalized.concat(i2.plugins);\n        } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n          normalized.push(i2);\n        } else if (typeof i2 === \"function\") {\n          normalized.push(i2);\n        } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(\n              \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n            );\n          }\n        } else {\n          throw new Error(i2 + \" is not a PostCSS plugin\");\n        }\n      }\n      return normalized;\n    }\n    process(css, opts = {}) {\n      if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n        return new NoWorkResult(this, css, opts);\n      } else {\n        return new LazyResult(this, css, opts);\n      }\n    }\n    use(plugin) {\n      this.plugins = this.plugins.concat(this.normalize([plugin]));\n      return this;\n    }\n  }\n  processor$1 = Processor;\n  Processor.default = Processor;\n  Root.registerProcessor(Processor);\n  Document2.registerProcessor(Processor);\n  return processor$1;\n}\nvar fromJSON_1$1;\nvar hasRequiredFromJSON$1;\nfunction requireFromJSON$1() {\n  if (hasRequiredFromJSON$1) return fromJSON_1$1;\n  hasRequiredFromJSON$1 = 1;\n  let Declaration = requireDeclaration$1();\n  let PreviousMap = requirePreviousMap$1();\n  let Comment = requireComment$1();\n  let AtRule = requireAtRule$1();\n  let Input = requireInput$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  function fromJSON(json, inputs) {\n    if (Array.isArray(json)) return json.map((n2) => fromJSON(n2));\n    let { inputs: ownInputs, ...defaults } = json;\n    if (ownInputs) {\n      inputs = [];\n      for (let input2 of ownInputs) {\n        let inputHydrated = { ...input2, __proto__: Input.prototype };\n        if (inputHydrated.map) {\n          inputHydrated.map = {\n            ...inputHydrated.map,\n            __proto__: PreviousMap.prototype\n          };\n        }\n        inputs.push(inputHydrated);\n      }\n    }\n    if (defaults.nodes) {\n      defaults.nodes = json.nodes.map((n2) => fromJSON(n2, inputs));\n    }\n    if (defaults.source) {\n      let { inputId, ...source } = defaults.source;\n      defaults.source = source;\n      if (inputId != null) {\n        defaults.source.input = inputs[inputId];\n      }\n    }\n    if (defaults.type === \"root\") {\n      return new Root(defaults);\n    } else if (defaults.type === \"decl\") {\n      return new Declaration(defaults);\n    } else if (defaults.type === \"rule\") {\n      return new Rule(defaults);\n    } else if (defaults.type === \"comment\") {\n      return new Comment(defaults);\n    } else if (defaults.type === \"atrule\") {\n      return new AtRule(defaults);\n    } else {\n      throw new Error(\"Unknown node type: \" + json.type);\n    }\n  }\n  fromJSON_1$1 = fromJSON;\n  fromJSON.default = fromJSON;\n  return fromJSON_1$1;\n}\nvar postcss_1$1;\nvar hasRequiredPostcss$1;\nfunction requirePostcss$1() {\n  if (hasRequiredPostcss$1) return postcss_1$1;\n  hasRequiredPostcss$1 = 1;\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let Declaration = requireDeclaration$1();\n  let LazyResult = requireLazyResult$1();\n  let Container = requireContainer$1();\n  let Processor = requireProcessor$1();\n  let stringify2 = requireStringify$1();\n  let fromJSON = requireFromJSON$1();\n  let Document2 = requireDocument$1();\n  let Warning = requireWarning$1();\n  let Comment = requireComment$1();\n  let AtRule = requireAtRule$1();\n  let Result = requireResult$1();\n  let Input = requireInput$1();\n  let parse = requireParse$1();\n  let list = requireList$1();\n  let Rule = requireRule$1();\n  let Root = requireRoot$1();\n  let Node2 = requireNode$1();\n  function postcss2(...plugins) {\n    if (plugins.length === 1 && Array.isArray(plugins[0])) {\n      plugins = plugins[0];\n    }\n    return new Processor(plugins);\n  }\n  postcss2.plugin = function plugin(name, initializer) {\n    let warningPrinted = false;\n    function creator(...args) {\n      if (console && console.warn && !warningPrinted) {\n        warningPrinted = true;\n        console.warn(\n          name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n        );\n        if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n          console.warn(\n            name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n          );\n        }\n      }\n      let transformer = initializer(...args);\n      transformer.postcssPlugin = name;\n      transformer.postcssVersion = new Processor().version;\n      return transformer;\n    }\n    let cache;\n    Object.defineProperty(creator, \"postcss\", {\n      get() {\n        if (!cache) cache = creator();\n        return cache;\n      }\n    });\n    creator.process = function(css, processOpts, pluginOpts) {\n      return postcss2([creator(pluginOpts)]).process(css, processOpts);\n    };\n    return creator;\n  };\n  postcss2.stringify = stringify2;\n  postcss2.parse = parse;\n  postcss2.fromJSON = fromJSON;\n  postcss2.list = list;\n  postcss2.comment = (defaults) => new Comment(defaults);\n  postcss2.atRule = (defaults) => new AtRule(defaults);\n  postcss2.decl = (defaults) => new Declaration(defaults);\n  postcss2.rule = (defaults) => new Rule(defaults);\n  postcss2.root = (defaults) => new Root(defaults);\n  postcss2.document = (defaults) => new Document2(defaults);\n  postcss2.CssSyntaxError = CssSyntaxError;\n  postcss2.Declaration = Declaration;\n  postcss2.Container = Container;\n  postcss2.Processor = Processor;\n  postcss2.Document = Document2;\n  postcss2.Comment = Comment;\n  postcss2.Warning = Warning;\n  postcss2.AtRule = AtRule;\n  postcss2.Result = Result;\n  postcss2.Input = Input;\n  postcss2.Rule = Rule;\n  postcss2.Root = Root;\n  postcss2.Node = Node2;\n  LazyResult.registerPostcss(postcss2);\n  postcss_1$1 = postcss2;\n  postcss2.default = postcss2;\n  return postcss_1$1;\n}\nvar postcssExports$1 = requirePostcss$1();\nconst postcss$1 = /* @__PURE__ */ getDefaultExportFromCjs$1(postcssExports$1);\npostcss$1.stringify;\npostcss$1.fromJSON;\npostcss$1.plugin;\npostcss$1.parse;\npostcss$1.list;\npostcss$1.document;\npostcss$1.comment;\npostcss$1.atRule;\npostcss$1.rule;\npostcss$1.decl;\npostcss$1.root;\npostcss$1.CssSyntaxError;\npostcss$1.Declaration;\npostcss$1.Container;\npostcss$1.Processor;\npostcss$1.Document;\npostcss$1.Comment;\npostcss$1.Warning;\npostcss$1.AtRule;\npostcss$1.Result;\npostcss$1.Input;\npostcss$1.Rule;\npostcss$1.Root;\npostcss$1.Node;\nvar __defProp22 = Object.defineProperty;\nvar __defNormalProp22 = (obj, key, value) => key in obj ? __defProp22(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField22 = (obj, key, value) => __defNormalProp22(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nfunction getAugmentedNamespace(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser = { exports: {} };\nvar hasRequiredPicocolors_browser;\nfunction requirePicocolors_browser() {\n  if (hasRequiredPicocolors_browser) return picocolors_browser.exports;\n  hasRequiredPicocolors_browser = 1;\n  var x = String;\n  var create = function() {\n    return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x };\n  };\n  picocolors_browser.exports = create();\n  picocolors_browser.exports.createColors = create;\n  return picocolors_browser.exports;\n}\nconst __viteBrowserExternal = {};\nconst __viteBrowserExternal$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2 = /* @__PURE__ */ getAugmentedNamespace(__viteBrowserExternal$1);\nvar cssSyntaxError;\nvar hasRequiredCssSyntaxError;\nfunction requireCssSyntaxError() {\n  if (hasRequiredCssSyntaxError) return cssSyntaxError;\n  hasRequiredCssSyntaxError = 1;\n  let pico = /* @__PURE__ */ requirePicocolors_browser();\n  let terminalHighlight = require$$2;\n  class CssSyntaxError extends Error {\n    constructor(message, line, column, source, file, plugin) {\n      super(message);\n      this.name = \"CssSyntaxError\";\n      this.reason = message;\n      if (file) {\n        this.file = file;\n      }\n      if (source) {\n        this.source = source;\n      }\n      if (plugin) {\n        this.plugin = plugin;\n      }\n      if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n        if (typeof line === \"number\") {\n          this.line = line;\n          this.column = column;\n        } else {\n          this.line = line.line;\n          this.column = line.column;\n          this.endLine = column.line;\n          this.endColumn = column.column;\n        }\n      }\n      this.setMessage();\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, CssSyntaxError);\n      }\n    }\n    setMessage() {\n      this.message = this.plugin ? this.plugin + \": \" : \"\";\n      this.message += this.file ? this.file : \"<css input>\";\n      if (typeof this.line !== \"undefined\") {\n        this.message += \":\" + this.line + \":\" + this.column;\n      }\n      this.message += \": \" + this.reason;\n    }\n    showSourceCode(color) {\n      if (!this.source) return \"\";\n      let css = this.source;\n      if (color == null) color = pico.isColorSupported;\n      if (terminalHighlight) {\n        if (color) css = terminalHighlight(css);\n      }\n      let lines = css.split(/\\r?\\n/);\n      let start = Math.max(this.line - 3, 0);\n      let end = Math.min(this.line + 2, lines.length);\n      let maxWidth = String(end).length;\n      let mark, aside;\n      if (color) {\n        let { bold, gray, red } = pico.createColors(true);\n        mark = (text) => bold(red(text));\n        aside = (text) => gray(text);\n      } else {\n        mark = aside = (str) => str;\n      }\n      return lines.slice(start, end).map((line, index2) => {\n        let number = start + 1 + index2;\n        let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n        if (number === this.line) {\n          let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n          return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n        }\n        return \" \" + aside(gutter) + line;\n      }).join(\"\\n\");\n    }\n    toString() {\n      let code = this.showSourceCode();\n      if (code) {\n        code = \"\\n\\n\" + code + \"\\n\";\n      }\n      return this.name + \": \" + this.message + code;\n    }\n  }\n  cssSyntaxError = CssSyntaxError;\n  CssSyntaxError.default = CssSyntaxError;\n  return cssSyntaxError;\n}\nvar symbols = {};\nvar hasRequiredSymbols;\nfunction requireSymbols() {\n  if (hasRequiredSymbols) return symbols;\n  hasRequiredSymbols = 1;\n  symbols.isClean = Symbol(\"isClean\");\n  symbols.my = Symbol(\"my\");\n  return symbols;\n}\nvar stringifier;\nvar hasRequiredStringifier;\nfunction requireStringifier() {\n  if (hasRequiredStringifier) return stringifier;\n  hasRequiredStringifier = 1;\n  const DEFAULT_RAW = {\n    after: \"\\n\",\n    beforeClose: \"\\n\",\n    beforeComment: \"\\n\",\n    beforeDecl: \"\\n\",\n    beforeOpen: \" \",\n    beforeRule: \"\\n\",\n    colon: \": \",\n    commentLeft: \" \",\n    commentRight: \" \",\n    emptyBody: \"\",\n    indent: \"    \",\n    semicolon: false\n  };\n  function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }\n  class Stringifier {\n    constructor(builder) {\n      this.builder = builder;\n    }\n    atrule(node2, semicolon) {\n      let name = \"@\" + node2.name;\n      let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n      if (typeof node2.raws.afterName !== \"undefined\") {\n        name += node2.raws.afterName;\n      } else if (params) {\n        name += \" \";\n      }\n      if (node2.nodes) {\n        this.block(node2, name + params);\n      } else {\n        let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n        this.builder(name + params + end, node2);\n      }\n    }\n    beforeAfter(node2, detect) {\n      let value;\n      if (node2.type === \"decl\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (node2.type === \"comment\") {\n        value = this.raw(node2, null, \"beforeComment\");\n      } else if (detect === \"before\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else {\n        value = this.raw(node2, null, \"beforeClose\");\n      }\n      let buf = node2.parent;\n      let depth = 0;\n      while (buf && buf.type !== \"root\") {\n        depth += 1;\n        buf = buf.parent;\n      }\n      if (value.includes(\"\\n\")) {\n        let indent = this.raw(node2, null, \"indent\");\n        if (indent.length) {\n          for (let step = 0; step < depth; step++) value += indent;\n        }\n      }\n      return value;\n    }\n    block(node2, start) {\n      let between = this.raw(node2, \"between\", \"beforeOpen\");\n      this.builder(start + between + \"{\", node2, \"start\");\n      let after;\n      if (node2.nodes && node2.nodes.length) {\n        this.body(node2);\n        after = this.raw(node2, \"after\");\n      } else {\n        after = this.raw(node2, \"after\", \"emptyBody\");\n      }\n      if (after) this.builder(after);\n      this.builder(\"}\", node2, \"end\");\n    }\n    body(node2) {\n      let last = node2.nodes.length - 1;\n      while (last > 0) {\n        if (node2.nodes[last].type !== \"comment\") break;\n        last -= 1;\n      }\n      let semicolon = this.raw(node2, \"semicolon\");\n      for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n        let child = node2.nodes[i2];\n        let before = this.raw(child, \"before\");\n        if (before) this.builder(before);\n        this.stringify(child, last !== i2 || semicolon);\n      }\n    }\n    comment(node2) {\n      let left = this.raw(node2, \"left\", \"commentLeft\");\n      let right = this.raw(node2, \"right\", \"commentRight\");\n      this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n    }\n    decl(node2, semicolon) {\n      let between = this.raw(node2, \"between\", \"colon\");\n      let string = node2.prop + between + this.rawValue(node2, \"value\");\n      if (node2.important) {\n        string += node2.raws.important || \" !important\";\n      }\n      if (semicolon) string += \";\";\n      this.builder(string, node2);\n    }\n    document(node2) {\n      this.body(node2);\n    }\n    raw(node2, own, detect) {\n      let value;\n      if (!detect) detect = own;\n      if (own) {\n        value = node2.raws[own];\n        if (typeof value !== \"undefined\") return value;\n      }\n      let parent = node2.parent;\n      if (detect === \"before\") {\n        if (!parent || parent.type === \"root\" && parent.first === node2) {\n          return \"\";\n        }\n        if (parent && parent.type === \"document\") {\n          return \"\";\n        }\n      }\n      if (!parent) return DEFAULT_RAW[detect];\n      let root2 = node2.root();\n      if (!root2.rawCache) root2.rawCache = {};\n      if (typeof root2.rawCache[detect] !== \"undefined\") {\n        return root2.rawCache[detect];\n      }\n      if (detect === \"before\" || detect === \"after\") {\n        return this.beforeAfter(node2, detect);\n      } else {\n        let method = \"raw\" + capitalize(detect);\n        if (this[method]) {\n          value = this[method](root2, node2);\n        } else {\n          root2.walk((i2) => {\n            value = i2.raws[own];\n            if (typeof value !== \"undefined\") return false;\n          });\n        }\n      }\n      if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n      root2.rawCache[detect] = value;\n      return value;\n    }\n    rawBeforeClose(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length > 0) {\n          if (typeof i2.raws.after !== \"undefined\") {\n            value = i2.raws.after;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawBeforeComment(root2, node2) {\n      let value;\n      root2.walkComments((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeDecl(root2, node2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeOpen(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.type !== \"decl\") {\n          value = i2.raws.between;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawBeforeRule(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            value = i2.raws.before;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawColon(root2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.between !== \"undefined\") {\n          value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n          return false;\n        }\n      });\n      return value;\n    }\n    rawEmptyBody(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length === 0) {\n          value = i2.raws.after;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawIndent(root2) {\n      if (root2.raws.indent) return root2.raws.indent;\n      let value;\n      root2.walk((i2) => {\n        let p = i2.parent;\n        if (p && p !== root2 && p.parent && p.parent === root2) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            let parts = i2.raws.before.split(\"\\n\");\n            value = parts[parts.length - 1];\n            value = value.replace(/\\S/g, \"\");\n            return false;\n          }\n        }\n      });\n      return value;\n    }\n    rawSemicolon(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n          value = i2.raws.semicolon;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawValue(node2, prop) {\n      let value = node2[prop];\n      let raw = node2.raws[prop];\n      if (raw && raw.value === value) {\n        return raw.raw;\n      }\n      return value;\n    }\n    root(node2) {\n      this.body(node2);\n      if (node2.raws.after) this.builder(node2.raws.after);\n    }\n    rule(node2) {\n      this.block(node2, this.rawValue(node2, \"selector\"));\n      if (node2.raws.ownSemicolon) {\n        this.builder(node2.raws.ownSemicolon, node2, \"end\");\n      }\n    }\n    stringify(node2, semicolon) {\n      if (!this[node2.type]) {\n        throw new Error(\n          \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n        );\n      }\n      this[node2.type](node2, semicolon);\n    }\n  }\n  stringifier = Stringifier;\n  Stringifier.default = Stringifier;\n  return stringifier;\n}\nvar stringify_1;\nvar hasRequiredStringify;\nfunction requireStringify() {\n  if (hasRequiredStringify) return stringify_1;\n  hasRequiredStringify = 1;\n  let Stringifier = requireStringifier();\n  function stringify2(node2, builder) {\n    let str = new Stringifier(builder);\n    str.stringify(node2);\n  }\n  stringify_1 = stringify2;\n  stringify2.default = stringify2;\n  return stringify_1;\n}\nvar node;\nvar hasRequiredNode;\nfunction requireNode() {\n  if (hasRequiredNode) return node;\n  hasRequiredNode = 1;\n  let { isClean, my } = requireSymbols();\n  let CssSyntaxError = requireCssSyntaxError();\n  let Stringifier = requireStringifier();\n  let stringify2 = requireStringify();\n  function cloneNode(obj, parent) {\n    let cloned = new obj.constructor();\n    for (let i2 in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n        continue;\n      }\n      if (i2 === \"proxyCache\") continue;\n      let value = obj[i2];\n      let type = typeof value;\n      if (i2 === \"parent\" && type === \"object\") {\n        if (parent) cloned[i2] = parent;\n      } else if (i2 === \"source\") {\n        cloned[i2] = value;\n      } else if (Array.isArray(value)) {\n        cloned[i2] = value.map((j) => cloneNode(j, cloned));\n      } else {\n        if (type === \"object\" && value !== null) value = cloneNode(value);\n        cloned[i2] = value;\n      }\n    }\n    return cloned;\n  }\n  class Node2 {\n    constructor(defaults = {}) {\n      this.raws = {};\n      this[isClean] = false;\n      this[my] = true;\n      for (let name in defaults) {\n        if (name === \"nodes\") {\n          this.nodes = [];\n          for (let node2 of defaults[name]) {\n            if (typeof node2.clone === \"function\") {\n              this.append(node2.clone());\n            } else {\n              this.append(node2);\n            }\n          }\n        } else {\n          this[name] = defaults[name];\n        }\n      }\n    }\n    addToError(error) {\n      error.postcssNode = this;\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        let s2 = this.source;\n        error.stack = error.stack.replace(\n          /\\n\\s{4}at /,\n          `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n        );\n      }\n      return error;\n    }\n    after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n    assign(overrides = {}) {\n      for (let name in overrides) {\n        this[name] = overrides[name];\n      }\n      return this;\n    }\n    before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n    clone(overrides = {}) {\n      let cloned = cloneNode(this);\n      for (let name in overrides) {\n        cloned[name] = overrides[name];\n      }\n      return cloned;\n    }\n    cloneAfter(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n    cloneBefore(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n    error(message, opts = {}) {\n      if (this.source) {\n        let { end, start } = this.rangeBy(opts);\n        return this.source.input.error(\n          message,\n          { column: start.column, line: start.line },\n          { column: end.column, line: end.line },\n          opts\n        );\n      }\n      return new CssSyntaxError(message);\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n          prop === \"text\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        let next = this;\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n    next() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 + 1];\n    }\n    positionBy(opts, stringRepresentation) {\n      let pos = this.source.start;\n      if (opts.index) {\n        pos = this.positionInside(opts.index, stringRepresentation);\n      } else if (opts.word) {\n        stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n      }\n      return pos;\n    }\n    positionInside(index2, stringRepresentation) {\n      let string = stringRepresentation || this.toString();\n      let column = this.source.start.column;\n      let line = this.source.start.line;\n      for (let i2 = 0; i2 < index2; i2++) {\n        if (string[i2] === \"\\n\") {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n      return { column, line };\n    }\n    prev() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 - 1];\n    }\n    rangeBy(opts) {\n      let start = {\n        column: this.source.start.column,\n        line: this.source.start.line\n      };\n      let end = this.source.end ? {\n        column: this.source.end.column + 1,\n        line: this.source.end.line\n      } : {\n        column: start.column + 1,\n        line: start.line\n      };\n      if (opts.word) {\n        let stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) {\n          start = this.positionInside(index2, stringRepresentation);\n          end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            column: opts.start.column,\n            line: opts.start.line\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n        if (opts.end) {\n          end = {\n            column: opts.end.column,\n            line: opts.end.line\n          };\n        } else if (typeof opts.endIndex === \"number\") {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = { column: start.column + 1, line: start.line };\n      }\n      return { end, start };\n    }\n    raw(prop, defaultType) {\n      let str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n    remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n      this.parent = void 0;\n      return this;\n    }\n    replaceWith(...nodes) {\n      if (this.parent) {\n        let bookmark = this;\n        let foundSelf = false;\n        for (let node2 of nodes) {\n          if (node2 === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node2);\n            bookmark = node2;\n          } else {\n            this.parent.insertBefore(bookmark, node2);\n          }\n        }\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n      return this;\n    }\n    root() {\n      let result2 = this;\n      while (result2.parent && result2.parent.type !== \"document\") {\n        result2 = result2.parent;\n      }\n      return result2;\n    }\n    toJSON(_, inputs) {\n      let fixed = {};\n      let emitInputs = inputs == null;\n      inputs = inputs || /* @__PURE__ */ new Map();\n      let inputsNextIndex = 0;\n      for (let name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          continue;\n        }\n        if (name === \"parent\" || name === \"proxyCache\") continue;\n        let value = this[name];\n        if (Array.isArray(value)) {\n          fixed[name] = value.map((i2) => {\n            if (typeof i2 === \"object\" && i2.toJSON) {\n              return i2.toJSON(null, inputs);\n            } else {\n              return i2;\n            }\n          });\n        } else if (typeof value === \"object\" && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === \"source\") {\n          let inputId = inputs.get(value.input);\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n          fixed[name] = {\n            end: value.end,\n            inputId,\n            start: value.start\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n      if (emitInputs) {\n        fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n      }\n      return fixed;\n    }\n    toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n      return this.proxyCache;\n    }\n    toString(stringifier2 = stringify2) {\n      if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n      let result2 = \"\";\n      stringifier2(this, (i2) => {\n        result2 += i2;\n      });\n      return result2;\n    }\n    warn(result2, text, opts) {\n      let data = { node: this };\n      for (let i2 in opts) data[i2] = opts[i2];\n      return result2.warn(text, data);\n    }\n    get proxyOf() {\n      return this;\n    }\n  }\n  node = Node2;\n  Node2.default = Node2;\n  return node;\n}\nvar declaration;\nvar hasRequiredDeclaration;\nfunction requireDeclaration() {\n  if (hasRequiredDeclaration) return declaration;\n  hasRequiredDeclaration = 1;\n  let Node2 = requireNode();\n  class Declaration extends Node2 {\n    constructor(defaults) {\n      if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n        defaults = { ...defaults, value: String(defaults.value) };\n      }\n      super(defaults);\n      this.type = \"decl\";\n    }\n    get variable() {\n      return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n    }\n  }\n  declaration = Declaration;\n  Declaration.default = Declaration;\n  return declaration;\n}\nvar nonSecure;\nvar hasRequiredNonSecure;\nfunction requireNonSecure() {\n  if (hasRequiredNonSecure) return nonSecure;\n  hasRequiredNonSecure = 1;\n  let urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\n  let customAlphabet = (alphabet, defaultSize = 21) => {\n    return (size = defaultSize) => {\n      let id = \"\";\n      let i2 = size;\n      while (i2--) {\n        id += alphabet[Math.random() * alphabet.length | 0];\n      }\n      return id;\n    };\n  };\n  let nanoid = (size = 21) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += urlAlphabet[Math.random() * 64 | 0];\n    }\n    return id;\n  };\n  nonSecure = { nanoid, customAlphabet };\n  return nonSecure;\n}\nvar previousMap;\nvar hasRequiredPreviousMap;\nfunction requirePreviousMap() {\n  if (hasRequiredPreviousMap) return previousMap;\n  hasRequiredPreviousMap = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { existsSync, readFileSync } = require$$2;\n  let { dirname, join } = require$$2;\n  function fromBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str, \"base64\").toString();\n    } else {\n      return window.atob(str);\n    }\n  }\n  class PreviousMap {\n    constructor(css, opts) {\n      if (opts.map === false) return;\n      this.loadAnnotation(css);\n      this.inline = this.startWith(this.annotation, \"data:\");\n      let prev = opts.map ? opts.map.prev : void 0;\n      let text = this.loadMap(opts.from, prev);\n      if (!this.mapFile && opts.from) {\n        this.mapFile = opts.from;\n      }\n      if (this.mapFile) this.root = dirname(this.mapFile);\n      if (text) this.text = text;\n    }\n    consumer() {\n      if (!this.consumerCache) {\n        this.consumerCache = new SourceMapConsumer(this.text);\n      }\n      return this.consumerCache;\n    }\n    decodeInline(text) {\n      let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n      let baseUri = /^data:application\\/json;base64,/;\n      let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n      let uri = /^data:application\\/json,/;\n      if (charsetUri.test(text) || uri.test(text)) {\n        return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n      }\n      if (baseCharsetUri.test(text) || baseUri.test(text)) {\n        return fromBase64(text.substr(RegExp.lastMatch.length));\n      }\n      let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n      throw new Error(\"Unsupported source map encoding \" + encoding);\n    }\n    getAnnotationURL(sourceMapString) {\n      return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n    }\n    isMap(map) {\n      if (typeof map !== \"object\") return false;\n      return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n    }\n    loadAnnotation(css) {\n      let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n      if (!comments) return;\n      let start = css.lastIndexOf(comments.pop());\n      let end = css.indexOf(\"*/\", start);\n      if (start > -1 && end > -1) {\n        this.annotation = this.getAnnotationURL(css.substring(start, end));\n      }\n    }\n    loadFile(path) {\n      this.root = dirname(path);\n      if (existsSync(path)) {\n        this.mapFile = path;\n        return readFileSync(path, \"utf-8\").toString().trim();\n      }\n    }\n    loadMap(file, prev) {\n      if (prev === false) return false;\n      if (prev) {\n        if (typeof prev === \"string\") {\n          return prev;\n        } else if (typeof prev === \"function\") {\n          let prevPath = prev(file);\n          if (prevPath) {\n            let map = this.loadFile(prevPath);\n            if (!map) {\n              throw new Error(\n                \"Unable to load previous source map: \" + prevPath.toString()\n              );\n            }\n            return map;\n          }\n        } else if (prev instanceof SourceMapConsumer) {\n          return SourceMapGenerator.fromSourceMap(prev).toString();\n        } else if (prev instanceof SourceMapGenerator) {\n          return prev.toString();\n        } else if (this.isMap(prev)) {\n          return JSON.stringify(prev);\n        } else {\n          throw new Error(\n            \"Unsupported previous source map format: \" + prev.toString()\n          );\n        }\n      } else if (this.inline) {\n        return this.decodeInline(this.annotation);\n      } else if (this.annotation) {\n        let map = this.annotation;\n        if (file) map = join(dirname(file), map);\n        return this.loadFile(map);\n      }\n    }\n    startWith(string, start) {\n      if (!string) return false;\n      return string.substr(0, start.length) === start;\n    }\n    withContent() {\n      return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n    }\n  }\n  previousMap = PreviousMap;\n  PreviousMap.default = PreviousMap;\n  return previousMap;\n}\nvar input;\nvar hasRequiredInput;\nfunction requireInput() {\n  if (hasRequiredInput) return input;\n  hasRequiredInput = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { fileURLToPath, pathToFileURL } = require$$2;\n  let { isAbsolute, resolve } = require$$2;\n  let { nanoid } = /* @__PURE__ */ requireNonSecure();\n  let terminalHighlight = require$$2;\n  let CssSyntaxError = requireCssSyntaxError();\n  let PreviousMap = requirePreviousMap();\n  let fromOffsetCache = Symbol(\"fromOffsetCache\");\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(resolve && isAbsolute);\n  class Input {\n    constructor(css, opts = {}) {\n      if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n        throw new Error(`PostCSS received ${css} instead of CSS string`);\n      }\n      this.css = css.toString();\n      if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n        this.hasBOM = true;\n        this.css = this.css.slice(1);\n      } else {\n        this.hasBOM = false;\n      }\n      if (opts.from) {\n        if (!pathAvailable || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n          this.file = opts.from;\n        } else {\n          this.file = resolve(opts.from);\n        }\n      }\n      if (pathAvailable && sourceMapAvailable) {\n        let map = new PreviousMap(this.css, opts);\n        if (map.text) {\n          this.map = map;\n          let file = map.consumer().file;\n          if (!this.file && file) this.file = this.mapResolve(file);\n        }\n      }\n      if (!this.file) {\n        this.id = \"<input css \" + nanoid(6) + \">\";\n      }\n      if (this.map) this.map.file = this.from;\n    }\n    error(message, line, column, opts = {}) {\n      let result2, endLine, endColumn;\n      if (line && typeof line === \"object\") {\n        let start = line;\n        let end = column;\n        if (typeof start.offset === \"number\") {\n          let pos = this.fromOffset(start.offset);\n          line = pos.line;\n          column = pos.col;\n        } else {\n          line = start.line;\n          column = start.column;\n        }\n        if (typeof end.offset === \"number\") {\n          let pos = this.fromOffset(end.offset);\n          endLine = pos.line;\n          endColumn = pos.col;\n        } else {\n          endLine = end.line;\n          endColumn = end.column;\n        }\n      } else if (!column) {\n        let pos = this.fromOffset(line);\n        line = pos.line;\n        column = pos.col;\n      }\n      let origin = this.origin(line, column, endLine, endColumn);\n      if (origin) {\n        result2 = new CssSyntaxError(\n          message,\n          origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n          origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n          origin.source,\n          origin.file,\n          opts.plugin\n        );\n      } else {\n        result2 = new CssSyntaxError(\n          message,\n          endLine === void 0 ? line : { column, line },\n          endLine === void 0 ? column : { column: endColumn, line: endLine },\n          this.css,\n          this.file,\n          opts.plugin\n        );\n      }\n      result2.input = { column, endColumn, endLine, line, source: this.css };\n      if (this.file) {\n        if (pathToFileURL) {\n          result2.input.url = pathToFileURL(this.file).toString();\n        }\n        result2.input.file = this.file;\n      }\n      return result2;\n    }\n    fromOffset(offset) {\n      let lastLine, lineToIndex;\n      if (!this[fromOffsetCache]) {\n        let lines = this.css.split(\"\\n\");\n        lineToIndex = new Array(lines.length);\n        let prevIndex = 0;\n        for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n          lineToIndex[i2] = prevIndex;\n          prevIndex += lines[i2].length + 1;\n        }\n        this[fromOffsetCache] = lineToIndex;\n      } else {\n        lineToIndex = this[fromOffsetCache];\n      }\n      lastLine = lineToIndex[lineToIndex.length - 1];\n      let min = 0;\n      if (offset >= lastLine) {\n        min = lineToIndex.length - 1;\n      } else {\n        let max = lineToIndex.length - 2;\n        let mid;\n        while (min < max) {\n          mid = min + (max - min >> 1);\n          if (offset < lineToIndex[mid]) {\n            max = mid - 1;\n          } else if (offset >= lineToIndex[mid + 1]) {\n            min = mid + 1;\n          } else {\n            min = mid;\n            break;\n          }\n        }\n      }\n      return {\n        col: offset - lineToIndex[min] + 1,\n        line: min + 1\n      };\n    }\n    mapResolve(file) {\n      if (/^\\w+:\\/\\//.test(file)) {\n        return file;\n      }\n      return resolve(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n    }\n    origin(line, column, endLine, endColumn) {\n      if (!this.map) return false;\n      let consumer = this.map.consumer();\n      let from = consumer.originalPositionFor({ column, line });\n      if (!from.source) return false;\n      let to;\n      if (typeof endLine === \"number\") {\n        to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n      }\n      let fromUrl;\n      if (isAbsolute(from.source)) {\n        fromUrl = pathToFileURL(from.source);\n      } else {\n        fromUrl = new URL(\n          from.source,\n          this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n        );\n      }\n      let result2 = {\n        column: from.column,\n        endColumn: to && to.column,\n        endLine: to && to.line,\n        line: from.line,\n        url: fromUrl.toString()\n      };\n      if (fromUrl.protocol === \"file:\") {\n        if (fileURLToPath) {\n          result2.file = fileURLToPath(fromUrl);\n        } else {\n          throw new Error(`file: protocol is not available in this PostCSS build`);\n        }\n      }\n      let source = consumer.sourceContentFor(from.source);\n      if (source) result2.source = source;\n      return result2;\n    }\n    toJSON() {\n      let json = {};\n      for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n        if (this[name] != null) {\n          json[name] = this[name];\n        }\n      }\n      if (this.map) {\n        json.map = { ...this.map };\n        if (json.map.consumerCache) {\n          json.map.consumerCache = void 0;\n        }\n      }\n      return json;\n    }\n    get from() {\n      return this.file || this.id;\n    }\n  }\n  input = Input;\n  Input.default = Input;\n  if (terminalHighlight && terminalHighlight.registerInput) {\n    terminalHighlight.registerInput(Input);\n  }\n  return input;\n}\nvar mapGenerator;\nvar hasRequiredMapGenerator;\nfunction requireMapGenerator() {\n  if (hasRequiredMapGenerator) return mapGenerator;\n  hasRequiredMapGenerator = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { dirname, relative, resolve, sep } = require$$2;\n  let { pathToFileURL } = require$$2;\n  let Input = requireInput();\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(dirname && resolve && relative && sep);\n  class MapGenerator {\n    constructor(stringify2, root2, opts, cssString) {\n      this.stringify = stringify2;\n      this.mapOpts = opts.map || {};\n      this.root = root2;\n      this.opts = opts;\n      this.css = cssString;\n      this.originalCSS = cssString;\n      this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n      this.memoizedFileURLs = /* @__PURE__ */ new Map();\n      this.memoizedPaths = /* @__PURE__ */ new Map();\n      this.memoizedURLs = /* @__PURE__ */ new Map();\n    }\n    addAnnotation() {\n      let content;\n      if (this.isInline()) {\n        content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n      } else if (typeof this.mapOpts.annotation === \"string\") {\n        content = this.mapOpts.annotation;\n      } else if (typeof this.mapOpts.annotation === \"function\") {\n        content = this.mapOpts.annotation(this.opts.to, this.root);\n      } else {\n        content = this.outputFile() + \".map\";\n      }\n      let eol = \"\\n\";\n      if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n      this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n    }\n    applyPrevMaps() {\n      for (let prev of this.previous()) {\n        let from = this.toUrl(this.path(prev.file));\n        let root2 = prev.root || dirname(prev.file);\n        let map;\n        if (this.mapOpts.sourcesContent === false) {\n          map = new SourceMapConsumer(prev.text);\n          if (map.sourcesContent) {\n            map.sourcesContent = null;\n          }\n        } else {\n          map = prev.consumer();\n        }\n        this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n      }\n    }\n    clearAnnotation() {\n      if (this.mapOpts.annotation === false) return;\n      if (this.root) {\n        let node2;\n        for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n          node2 = this.root.nodes[i2];\n          if (node2.type !== \"comment\") continue;\n          if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n            this.root.removeChild(i2);\n          }\n        }\n      } else if (this.css) {\n        this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n      }\n    }\n    generate() {\n      this.clearAnnotation();\n      if (pathAvailable && sourceMapAvailable && this.isMap()) {\n        return this.generateMap();\n      } else {\n        let result2 = \"\";\n        this.stringify(this.root, (i2) => {\n          result2 += i2;\n        });\n        return [result2];\n      }\n    }\n    generateMap() {\n      if (this.root) {\n        this.generateString();\n      } else if (this.previous().length === 1) {\n        let prev = this.previous()[0].consumer();\n        prev.file = this.outputFile();\n        this.map = SourceMapGenerator.fromSourceMap(prev, {\n          ignoreInvalidMapping: true\n        });\n      } else {\n        this.map = new SourceMapGenerator({\n          file: this.outputFile(),\n          ignoreInvalidMapping: true\n        });\n        this.map.addMapping({\n          generated: { column: 0, line: 1 },\n          original: { column: 0, line: 1 },\n          source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n        });\n      }\n      if (this.isSourcesContent()) this.setSourcesContent();\n      if (this.root && this.previous().length > 0) this.applyPrevMaps();\n      if (this.isAnnotation()) this.addAnnotation();\n      if (this.isInline()) {\n        return [this.css];\n      } else {\n        return [this.css, this.map];\n      }\n    }\n    generateString() {\n      this.css = \"\";\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      let line = 1;\n      let column = 1;\n      let noSource = \"<no source>\";\n      let mapping = {\n        generated: { column: 0, line: 0 },\n        original: { column: 0, line: 0 },\n        source: \"\"\n      };\n      let lines, last;\n      this.stringify(this.root, (str, node2, type) => {\n        this.css += str;\n        if (node2 && type !== \"end\") {\n          mapping.generated.line = line;\n          mapping.generated.column = column - 1;\n          if (node2.source && node2.source.start) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.start.line;\n            mapping.original.column = node2.source.start.column - 1;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            this.map.addMapping(mapping);\n          }\n        }\n        lines = str.match(/\\n/g);\n        if (lines) {\n          line += lines.length;\n          last = str.lastIndexOf(\"\\n\");\n          column = str.length - last;\n        } else {\n          column += str.length;\n        }\n        if (node2 && type !== \"start\") {\n          let p = node2.parent || { raws: {} };\n          let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n          if (!childless || node2 !== p.last || p.raws.semicolon) {\n            if (node2.source && node2.source.end) {\n              mapping.source = this.sourcePath(node2);\n              mapping.original.line = node2.source.end.line;\n              mapping.original.column = node2.source.end.column - 1;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 2;\n              this.map.addMapping(mapping);\n            } else {\n              mapping.source = noSource;\n              mapping.original.line = 1;\n              mapping.original.column = 0;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 1;\n              this.map.addMapping(mapping);\n            }\n          }\n        }\n      });\n    }\n    isAnnotation() {\n      if (this.isInline()) {\n        return true;\n      }\n      if (typeof this.mapOpts.annotation !== \"undefined\") {\n        return this.mapOpts.annotation;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.annotation);\n      }\n      return true;\n    }\n    isInline() {\n      if (typeof this.mapOpts.inline !== \"undefined\") {\n        return this.mapOpts.inline;\n      }\n      let annotation = this.mapOpts.annotation;\n      if (typeof annotation !== \"undefined\" && annotation !== true) {\n        return false;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.inline);\n      }\n      return true;\n    }\n    isMap() {\n      if (typeof this.opts.map !== \"undefined\") {\n        return !!this.opts.map;\n      }\n      return this.previous().length > 0;\n    }\n    isSourcesContent() {\n      if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n        return this.mapOpts.sourcesContent;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.withContent());\n      }\n      return true;\n    }\n    outputFile() {\n      if (this.opts.to) {\n        return this.path(this.opts.to);\n      } else if (this.opts.from) {\n        return this.path(this.opts.from);\n      } else {\n        return \"to.css\";\n      }\n    }\n    path(file) {\n      if (this.mapOpts.absolute) return file;\n      if (file.charCodeAt(0) === 60) return file;\n      if (/^\\w+:\\/\\//.test(file)) return file;\n      let cached = this.memoizedPaths.get(file);\n      if (cached) return cached;\n      let from = this.opts.to ? dirname(this.opts.to) : \".\";\n      if (typeof this.mapOpts.annotation === \"string\") {\n        from = dirname(resolve(from, this.mapOpts.annotation));\n      }\n      let path = relative(from, file);\n      this.memoizedPaths.set(file, path);\n      return path;\n    }\n    previous() {\n      if (!this.previousMaps) {\n        this.previousMaps = [];\n        if (this.root) {\n          this.root.walk((node2) => {\n            if (node2.source && node2.source.input.map) {\n              let map = node2.source.input.map;\n              if (!this.previousMaps.includes(map)) {\n                this.previousMaps.push(map);\n              }\n            }\n          });\n        } else {\n          let input2 = new Input(this.originalCSS, this.opts);\n          if (input2.map) this.previousMaps.push(input2.map);\n        }\n      }\n      return this.previousMaps;\n    }\n    setSourcesContent() {\n      let already = {};\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source) {\n            let from = node2.source.input.from;\n            if (from && !already[from]) {\n              already[from] = true;\n              let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n              this.map.setSourceContent(fromUrl, node2.source.input.css);\n            }\n          }\n        });\n      } else if (this.css) {\n        let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n        this.map.setSourceContent(from, this.css);\n      }\n    }\n    sourcePath(node2) {\n      if (this.mapOpts.from) {\n        return this.toUrl(this.mapOpts.from);\n      } else if (this.usesFileUrls) {\n        return this.toFileUrl(node2.source.input.from);\n      } else {\n        return this.toUrl(this.path(node2.source.input.from));\n      }\n    }\n    toBase64(str) {\n      if (Buffer) {\n        return Buffer.from(str).toString(\"base64\");\n      } else {\n        return window.btoa(unescape(encodeURIComponent(str)));\n      }\n    }\n    toFileUrl(path) {\n      let cached = this.memoizedFileURLs.get(path);\n      if (cached) return cached;\n      if (pathToFileURL) {\n        let fileURL = pathToFileURL(path).toString();\n        this.memoizedFileURLs.set(path, fileURL);\n        return fileURL;\n      } else {\n        throw new Error(\n          \"`map.absolute` option is not available in this PostCSS build\"\n        );\n      }\n    }\n    toUrl(path) {\n      let cached = this.memoizedURLs.get(path);\n      if (cached) return cached;\n      if (sep === \"\\\\\") {\n        path = path.replace(/\\\\/g, \"/\");\n      }\n      let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n      this.memoizedURLs.set(path, url);\n      return url;\n    }\n  }\n  mapGenerator = MapGenerator;\n  return mapGenerator;\n}\nvar comment;\nvar hasRequiredComment;\nfunction requireComment() {\n  if (hasRequiredComment) return comment;\n  hasRequiredComment = 1;\n  let Node2 = requireNode();\n  class Comment extends Node2 {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"comment\";\n    }\n  }\n  comment = Comment;\n  Comment.default = Comment;\n  return comment;\n}\nvar container;\nvar hasRequiredContainer;\nfunction requireContainer() {\n  if (hasRequiredContainer) return container;\n  hasRequiredContainer = 1;\n  let { isClean, my } = requireSymbols();\n  let Declaration = requireDeclaration();\n  let Comment = requireComment();\n  let Node2 = requireNode();\n  let parse, Rule, AtRule, Root;\n  function cleanSource(nodes) {\n    return nodes.map((i2) => {\n      if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n      delete i2.source;\n      return i2;\n    });\n  }\n  function markDirtyUp(node2) {\n    node2[isClean] = false;\n    if (node2.proxyOf.nodes) {\n      for (let i2 of node2.proxyOf.nodes) {\n        markDirtyUp(i2);\n      }\n    }\n  }\n  class Container extends Node2 {\n    append(...children) {\n      for (let child of children) {\n        let nodes = this.normalize(child, this.last);\n        for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n      }\n      this.markDirty();\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      super.cleanRaws(keepBetween);\n      if (this.nodes) {\n        for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n      }\n    }\n    each(callback) {\n      if (!this.proxyOf.nodes) return void 0;\n      let iterator = this.getIterator();\n      let index2, result2;\n      while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n        index2 = this.indexes[iterator];\n        result2 = callback(this.proxyOf.nodes[index2], index2);\n        if (result2 === false) break;\n        this.indexes[iterator] += 1;\n      }\n      delete this.indexes[iterator];\n      return result2;\n    }\n    every(condition) {\n      return this.nodes.every(condition);\n    }\n    getIterator() {\n      if (!this.lastEach) this.lastEach = 0;\n      if (!this.indexes) this.indexes = {};\n      this.lastEach += 1;\n      let iterator = this.lastEach;\n      this.indexes[iterator] = 0;\n      return iterator;\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (!node2[prop]) {\n            return node2[prop];\n          } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n            return (...args) => {\n              return node2[prop](\n                ...args.map((i2) => {\n                  if (typeof i2 === \"function\") {\n                    return (child, index2) => i2(child.toProxy(), index2);\n                  } else {\n                    return i2;\n                  }\n                })\n              );\n            };\n          } else if (prop === \"every\" || prop === \"some\") {\n            return (cb) => {\n              return node2[prop](\n                (child, ...other) => cb(child.toProxy(), ...other)\n              );\n            };\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else if (prop === \"nodes\") {\n            return node2.nodes.map((i2) => i2.toProxy());\n          } else if (prop === \"first\" || prop === \"last\") {\n            return node2[prop].toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    index(child) {\n      if (typeof child === \"number\") return child;\n      if (child.proxyOf) child = child.proxyOf;\n      return this.proxyOf.nodes.indexOf(child);\n    }\n    insertAfter(exist, add) {\n      let existIndex = this.index(exist);\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex < index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    insertBefore(exist, add) {\n      let existIndex = this.index(exist);\n      let type = existIndex === 0 ? \"prepend\" : false;\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex <= index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    normalize(nodes, sample) {\n      if (typeof nodes === \"string\") {\n        nodes = cleanSource(parse(nodes).nodes);\n      } else if (typeof nodes === \"undefined\") {\n        nodes = [];\n      } else if (Array.isArray(nodes)) {\n        nodes = nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type === \"root\" && this.type !== \"document\") {\n        nodes = nodes.nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type) {\n        nodes = [nodes];\n      } else if (nodes.prop) {\n        if (typeof nodes.value === \"undefined\") {\n          throw new Error(\"Value field is missed in node creation\");\n        } else if (typeof nodes.value !== \"string\") {\n          nodes.value = String(nodes.value);\n        }\n        nodes = [new Declaration(nodes)];\n      } else if (nodes.selector) {\n        nodes = [new Rule(nodes)];\n      } else if (nodes.name) {\n        nodes = [new AtRule(nodes)];\n      } else if (nodes.text) {\n        nodes = [new Comment(nodes)];\n      } else {\n        throw new Error(\"Unknown node type in node creation\");\n      }\n      let processed = nodes.map((i2) => {\n        if (!i2[my]) Container.rebuild(i2);\n        i2 = i2.proxyOf;\n        if (i2.parent) i2.parent.removeChild(i2);\n        if (i2[isClean]) markDirtyUp(i2);\n        if (typeof i2.raws.before === \"undefined\") {\n          if (sample && typeof sample.raws.before !== \"undefined\") {\n            i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n          }\n        }\n        i2.parent = this.proxyOf;\n        return i2;\n      });\n      return processed;\n    }\n    prepend(...children) {\n      children = children.reverse();\n      for (let child of children) {\n        let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n        for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n        for (let id in this.indexes) {\n          this.indexes[id] = this.indexes[id] + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    push(child) {\n      child.parent = this;\n      this.proxyOf.nodes.push(child);\n      return this;\n    }\n    removeAll() {\n      for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n      this.proxyOf.nodes = [];\n      this.markDirty();\n      return this;\n    }\n    removeChild(child) {\n      child = this.index(child);\n      this.proxyOf.nodes[child].parent = void 0;\n      this.proxyOf.nodes.splice(child, 1);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (index2 >= child) {\n          this.indexes[id] = index2 - 1;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    replaceValues(pattern, opts, callback) {\n      if (!callback) {\n        callback = opts;\n        opts = {};\n      }\n      this.walkDecls((decl) => {\n        if (opts.props && !opts.props.includes(decl.prop)) return;\n        if (opts.fast && !decl.value.includes(opts.fast)) return;\n        decl.value = decl.value.replace(pattern, callback);\n      });\n      this.markDirty();\n      return this;\n    }\n    some(condition) {\n      return this.nodes.some(condition);\n    }\n    walk(callback) {\n      return this.each((child, i2) => {\n        let result2;\n        try {\n          result2 = callback(child, i2);\n        } catch (e2) {\n          throw child.addToError(e2);\n        }\n        if (result2 !== false && child.walk) {\n          result2 = child.walk(callback);\n        }\n        return result2;\n      });\n    }\n    walkAtRules(name, callback) {\n      if (!callback) {\n        callback = name;\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (name instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\" && name.test(child.name)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && child.name === name) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkComments(callback) {\n      return this.walk((child, i2) => {\n        if (child.type === \"comment\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkDecls(prop, callback) {\n      if (!callback) {\n        callback = prop;\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (prop instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\" && prop.test(child.prop)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && child.prop === prop) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkRules(selector, callback) {\n      if (!callback) {\n        callback = selector;\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (selector instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\" && selector.test(child.selector)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && child.selector === selector) {\n          return callback(child, i2);\n        }\n      });\n    }\n    get first() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[0];\n    }\n    get last() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n    }\n  }\n  Container.registerParse = (dependant) => {\n    parse = dependant;\n  };\n  Container.registerRule = (dependant) => {\n    Rule = dependant;\n  };\n  Container.registerAtRule = (dependant) => {\n    AtRule = dependant;\n  };\n  Container.registerRoot = (dependant) => {\n    Root = dependant;\n  };\n  container = Container;\n  Container.default = Container;\n  Container.rebuild = (node2) => {\n    if (node2.type === \"atrule\") {\n      Object.setPrototypeOf(node2, AtRule.prototype);\n    } else if (node2.type === \"rule\") {\n      Object.setPrototypeOf(node2, Rule.prototype);\n    } else if (node2.type === \"decl\") {\n      Object.setPrototypeOf(node2, Declaration.prototype);\n    } else if (node2.type === \"comment\") {\n      Object.setPrototypeOf(node2, Comment.prototype);\n    } else if (node2.type === \"root\") {\n      Object.setPrototypeOf(node2, Root.prototype);\n    }\n    node2[my] = true;\n    if (node2.nodes) {\n      node2.nodes.forEach((child) => {\n        Container.rebuild(child);\n      });\n    }\n  };\n  return container;\n}\nvar document$1;\nvar hasRequiredDocument;\nfunction requireDocument() {\n  if (hasRequiredDocument) return document$1;\n  hasRequiredDocument = 1;\n  let Container = requireContainer();\n  let LazyResult, Processor;\n  class Document2 extends Container {\n    constructor(defaults) {\n      super({ type: \"document\", ...defaults });\n      if (!this.nodes) {\n        this.nodes = [];\n      }\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Document2.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Document2.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  document$1 = Document2;\n  Document2.default = Document2;\n  return document$1;\n}\nvar warnOnce;\nvar hasRequiredWarnOnce;\nfunction requireWarnOnce() {\n  if (hasRequiredWarnOnce) return warnOnce;\n  hasRequiredWarnOnce = 1;\n  let printed = {};\n  warnOnce = function warnOnce2(message) {\n    if (printed[message]) return;\n    printed[message] = true;\n    if (typeof console !== \"undefined\" && console.warn) {\n      console.warn(message);\n    }\n  };\n  return warnOnce;\n}\nvar warning;\nvar hasRequiredWarning;\nfunction requireWarning() {\n  if (hasRequiredWarning) return warning;\n  hasRequiredWarning = 1;\n  class Warning {\n    constructor(text, opts = {}) {\n      this.type = \"warning\";\n      this.text = text;\n      if (opts.node && opts.node.source) {\n        let range = opts.node.rangeBy(opts);\n        this.line = range.start.line;\n        this.column = range.start.column;\n        this.endLine = range.end.line;\n        this.endColumn = range.end.column;\n      }\n      for (let opt in opts) this[opt] = opts[opt];\n    }\n    toString() {\n      if (this.node) {\n        return this.node.error(this.text, {\n          index: this.index,\n          plugin: this.plugin,\n          word: this.word\n        }).message;\n      }\n      if (this.plugin) {\n        return this.plugin + \": \" + this.text;\n      }\n      return this.text;\n    }\n  }\n  warning = Warning;\n  Warning.default = Warning;\n  return warning;\n}\nvar result;\nvar hasRequiredResult;\nfunction requireResult() {\n  if (hasRequiredResult) return result;\n  hasRequiredResult = 1;\n  let Warning = requireWarning();\n  class Result {\n    constructor(processor2, root2, opts) {\n      this.processor = processor2;\n      this.messages = [];\n      this.root = root2;\n      this.opts = opts;\n      this.css = void 0;\n      this.map = void 0;\n    }\n    toString() {\n      return this.css;\n    }\n    warn(text, opts = {}) {\n      if (!opts.plugin) {\n        if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n          opts.plugin = this.lastPlugin.postcssPlugin;\n        }\n      }\n      let warning2 = new Warning(text, opts);\n      this.messages.push(warning2);\n      return warning2;\n    }\n    warnings() {\n      return this.messages.filter((i2) => i2.type === \"warning\");\n    }\n    get content() {\n      return this.css;\n    }\n  }\n  result = Result;\n  Result.default = Result;\n  return result;\n}\nvar tokenize;\nvar hasRequiredTokenize;\nfunction requireTokenize() {\n  if (hasRequiredTokenize) return tokenize;\n  hasRequiredTokenize = 1;\n  const SINGLE_QUOTE = \"'\".charCodeAt(0);\n  const DOUBLE_QUOTE = '\"'.charCodeAt(0);\n  const BACKSLASH = \"\\\\\".charCodeAt(0);\n  const SLASH = \"/\".charCodeAt(0);\n  const NEWLINE = \"\\n\".charCodeAt(0);\n  const SPACE = \" \".charCodeAt(0);\n  const FEED = \"\\f\".charCodeAt(0);\n  const TAB = \"\t\".charCodeAt(0);\n  const CR = \"\\r\".charCodeAt(0);\n  const OPEN_SQUARE = \"[\".charCodeAt(0);\n  const CLOSE_SQUARE = \"]\".charCodeAt(0);\n  const OPEN_PARENTHESES = \"(\".charCodeAt(0);\n  const CLOSE_PARENTHESES = \")\".charCodeAt(0);\n  const OPEN_CURLY = \"{\".charCodeAt(0);\n  const CLOSE_CURLY = \"}\".charCodeAt(0);\n  const SEMICOLON = \";\".charCodeAt(0);\n  const ASTERISK = \"*\".charCodeAt(0);\n  const COLON = \":\".charCodeAt(0);\n  const AT = \"@\".charCodeAt(0);\n  const RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\n  const RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\n  const RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\n  const RE_HEX_ESCAPE = /[\\da-f]/i;\n  tokenize = function tokenizer(input2, options = {}) {\n    let css = input2.css.valueOf();\n    let ignore = options.ignoreErrors;\n    let code, next, quote, content, escape;\n    let escaped, escapePos, prev, n2, currentToken;\n    let length = css.length;\n    let pos = 0;\n    let buffer = [];\n    let returned = [];\n    function position() {\n      return pos;\n    }\n    function unclosed(what) {\n      throw input2.error(\"Unclosed \" + what, pos);\n    }\n    function endOfFile() {\n      return returned.length === 0 && pos >= length;\n    }\n    function nextToken(opts) {\n      if (returned.length) return returned.pop();\n      if (pos >= length) return;\n      let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n      code = css.charCodeAt(pos);\n      switch (code) {\n        case NEWLINE:\n        case SPACE:\n        case TAB:\n        case CR:\n        case FEED: {\n          next = pos;\n          do {\n            next += 1;\n            code = css.charCodeAt(next);\n          } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n          currentToken = [\"space\", css.slice(pos, next)];\n          pos = next - 1;\n          break;\n        }\n        case OPEN_SQUARE:\n        case CLOSE_SQUARE:\n        case OPEN_CURLY:\n        case CLOSE_CURLY:\n        case COLON:\n        case SEMICOLON:\n        case CLOSE_PARENTHESES: {\n          let controlChar = String.fromCharCode(code);\n          currentToken = [controlChar, controlChar, pos];\n          break;\n        }\n        case OPEN_PARENTHESES: {\n          prev = buffer.length ? buffer.pop()[1] : \"\";\n          n2 = css.charCodeAt(pos + 1);\n          if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n            next = pos;\n            do {\n              escaped = false;\n              next = css.indexOf(\")\", next + 1);\n              if (next === -1) {\n                if (ignore || ignoreUnclosed) {\n                  next = pos;\n                  break;\n                } else {\n                  unclosed(\"bracket\");\n                }\n              }\n              escapePos = next;\n              while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n                escapePos -= 1;\n                escaped = !escaped;\n              }\n            } while (escaped);\n            currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            next = css.indexOf(\")\", pos + 1);\n            content = css.slice(pos, next + 1);\n            if (next === -1 || RE_BAD_BRACKET.test(content)) {\n              currentToken = [\"(\", \"(\", pos];\n            } else {\n              currentToken = [\"brackets\", content, pos, next];\n              pos = next;\n            }\n          }\n          break;\n        }\n        case SINGLE_QUOTE:\n        case DOUBLE_QUOTE: {\n          quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(quote, next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos + 1;\n                break;\n              } else {\n                unclosed(\"string\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case AT: {\n          RE_AT_END.lastIndex = pos + 1;\n          RE_AT_END.test(css);\n          if (RE_AT_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_AT_END.lastIndex - 2;\n          }\n          currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case BACKSLASH: {\n          next = pos;\n          escape = true;\n          while (css.charCodeAt(next + 1) === BACKSLASH) {\n            next += 1;\n            escape = !escape;\n          }\n          code = css.charCodeAt(next + 1);\n          if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n            next += 1;\n            if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n              while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n                next += 1;\n              }\n              if (css.charCodeAt(next + 1) === SPACE) {\n                next += 1;\n              }\n            }\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        default: {\n          if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n            next = css.indexOf(\"*/\", pos + 2) + 1;\n            if (next === 0) {\n              if (ignore || ignoreUnclosed) {\n                next = css.length;\n              } else {\n                unclosed(\"comment\");\n              }\n            }\n            currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            RE_WORD_END.lastIndex = pos + 1;\n            RE_WORD_END.test(css);\n            if (RE_WORD_END.lastIndex === 0) {\n              next = css.length - 1;\n            } else {\n              next = RE_WORD_END.lastIndex - 2;\n            }\n            currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n            buffer.push(currentToken);\n            pos = next;\n          }\n          break;\n        }\n      }\n      pos++;\n      return currentToken;\n    }\n    function back(token) {\n      returned.push(token);\n    }\n    return {\n      back,\n      endOfFile,\n      nextToken,\n      position\n    };\n  };\n  return tokenize;\n}\nvar atRule;\nvar hasRequiredAtRule;\nfunction requireAtRule() {\n  if (hasRequiredAtRule) return atRule;\n  hasRequiredAtRule = 1;\n  let Container = requireContainer();\n  class AtRule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"atrule\";\n    }\n    append(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.append(...children);\n    }\n    prepend(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.prepend(...children);\n    }\n  }\n  atRule = AtRule;\n  AtRule.default = AtRule;\n  Container.registerAtRule(AtRule);\n  return atRule;\n}\nvar root;\nvar hasRequiredRoot;\nfunction requireRoot() {\n  if (hasRequiredRoot) return root;\n  hasRequiredRoot = 1;\n  let Container = requireContainer();\n  let LazyResult, Processor;\n  class Root extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"root\";\n      if (!this.nodes) this.nodes = [];\n    }\n    normalize(child, sample, type) {\n      let nodes = super.normalize(child);\n      if (sample) {\n        if (type === \"prepend\") {\n          if (this.nodes.length > 1) {\n            sample.raws.before = this.nodes[1].raws.before;\n          } else {\n            delete sample.raws.before;\n          }\n        } else if (this.first !== sample) {\n          for (let node2 of nodes) {\n            node2.raws.before = sample.raws.before;\n          }\n        }\n      }\n      return nodes;\n    }\n    removeChild(child, ignore) {\n      let index2 = this.index(child);\n      if (!ignore && index2 === 0 && this.nodes.length > 1) {\n        this.nodes[1].raws.before = this.nodes[index2].raws.before;\n      }\n      return super.removeChild(child);\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Root.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Root.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  root = Root;\n  Root.default = Root;\n  Container.registerRoot(Root);\n  return root;\n}\nvar list_1;\nvar hasRequiredList;\nfunction requireList() {\n  if (hasRequiredList) return list_1;\n  hasRequiredList = 1;\n  let list = {\n    comma(string) {\n      return list.split(string, [\",\"], true);\n    },\n    space(string) {\n      let spaces = [\" \", \"\\n\", \"\t\"];\n      return list.split(string, spaces);\n    },\n    split(string, separators, last) {\n      let array = [];\n      let current = \"\";\n      let split = false;\n      let func = 0;\n      let inQuote = false;\n      let prevQuote = \"\";\n      let escape = false;\n      for (let letter of string) {\n        if (escape) {\n          escape = false;\n        } else if (letter === \"\\\\\") {\n          escape = true;\n        } else if (inQuote) {\n          if (letter === prevQuote) {\n            inQuote = false;\n          }\n        } else if (letter === '\"' || letter === \"'\") {\n          inQuote = true;\n          prevQuote = letter;\n        } else if (letter === \"(\") {\n          func += 1;\n        } else if (letter === \")\") {\n          if (func > 0) func -= 1;\n        } else if (func === 0) {\n          if (separators.includes(letter)) split = true;\n        }\n        if (split) {\n          if (current !== \"\") array.push(current.trim());\n          current = \"\";\n          split = false;\n        } else {\n          current += letter;\n        }\n      }\n      if (last || current !== \"\") array.push(current.trim());\n      return array;\n    }\n  };\n  list_1 = list;\n  list.default = list;\n  return list_1;\n}\nvar rule;\nvar hasRequiredRule;\nfunction requireRule() {\n  if (hasRequiredRule) return rule;\n  hasRequiredRule = 1;\n  let Container = requireContainer();\n  let list = requireList();\n  class Rule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"rule\";\n      if (!this.nodes) this.nodes = [];\n    }\n    get selectors() {\n      return list.comma(this.selector);\n    }\n    set selectors(values) {\n      let match = this.selector ? this.selector.match(/,\\s*/) : null;\n      let sep = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n      this.selector = values.join(sep);\n    }\n  }\n  rule = Rule;\n  Rule.default = Rule;\n  Container.registerRule(Rule);\n  return rule;\n}\nvar parser;\nvar hasRequiredParser;\nfunction requireParser() {\n  if (hasRequiredParser) return parser;\n  hasRequiredParser = 1;\n  let Declaration = requireDeclaration();\n  let tokenizer = requireTokenize();\n  let Comment = requireComment();\n  let AtRule = requireAtRule();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  const SAFE_COMMENT_NEIGHBOR = {\n    empty: true,\n    space: true\n  };\n  function findLastWithPosition(tokens) {\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      let token = tokens[i2];\n      let pos = token[3] || token[2];\n      if (pos) return pos;\n    }\n  }\n  class Parser {\n    constructor(input2) {\n      this.input = input2;\n      this.root = new Root();\n      this.current = this.root;\n      this.spaces = \"\";\n      this.semicolon = false;\n      this.createTokenizer();\n      this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n    }\n    atrule(token) {\n      let node2 = new AtRule();\n      node2.name = token[1].slice(1);\n      if (node2.name === \"\") {\n        this.unnamedAtrule(node2, token);\n      }\n      this.init(node2, token[2]);\n      let type;\n      let prev;\n      let shift;\n      let last = false;\n      let open = false;\n      let params = [];\n      let brackets = [];\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        type = token[0];\n        if (type === \"(\" || type === \"[\") {\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (type === \"{\" && brackets.length > 0) {\n          brackets.push(\"}\");\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n        }\n        if (brackets.length === 0) {\n          if (type === \";\") {\n            node2.source.end = this.getPosition(token[2]);\n            node2.source.end.offset++;\n            this.semicolon = true;\n            break;\n          } else if (type === \"{\") {\n            open = true;\n            break;\n          } else if (type === \"}\") {\n            if (params.length > 0) {\n              shift = params.length - 1;\n              prev = params[shift];\n              while (prev && prev[0] === \"space\") {\n                prev = params[--shift];\n              }\n              if (prev) {\n                node2.source.end = this.getPosition(prev[3] || prev[2]);\n                node2.source.end.offset++;\n              }\n            }\n            this.end(token);\n            break;\n          } else {\n            params.push(token);\n          }\n        } else {\n          params.push(token);\n        }\n        if (this.tokenizer.endOfFile()) {\n          last = true;\n          break;\n        }\n      }\n      node2.raws.between = this.spacesAndCommentsFromEnd(params);\n      if (params.length) {\n        node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n        this.raw(node2, \"params\", params);\n        if (last) {\n          token = params[params.length - 1];\n          node2.source.end = this.getPosition(token[3] || token[2]);\n          node2.source.end.offset++;\n          this.spaces = node2.raws.between;\n          node2.raws.between = \"\";\n        }\n      } else {\n        node2.raws.afterName = \"\";\n        node2.params = \"\";\n      }\n      if (open) {\n        node2.nodes = [];\n        this.current = node2;\n      }\n    }\n    checkMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let founded = 0;\n      let token;\n      for (let j = colon - 1; j >= 0; j--) {\n        token = tokens[j];\n        if (token[0] !== \"space\") {\n          founded += 1;\n          if (founded === 2) break;\n        }\n      }\n      throw this.input.error(\n        \"Missed semicolon\",\n        token[0] === \"word\" ? token[3] + 1 : token[2]\n      );\n    }\n    colon(tokens) {\n      let brackets = 0;\n      let token, type, prev;\n      for (let [i2, element] of tokens.entries()) {\n        token = element;\n        type = token[0];\n        if (type === \"(\") {\n          brackets += 1;\n        }\n        if (type === \")\") {\n          brackets -= 1;\n        }\n        if (brackets === 0 && type === \":\") {\n          if (!prev) {\n            this.doubleColon(token);\n          } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n            continue;\n          } else {\n            return i2;\n          }\n        }\n        prev = token;\n      }\n      return false;\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      node2.source.end = this.getPosition(token[3] || token[2]);\n      node2.source.end.offset++;\n      let text = token[1].slice(2, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input);\n    }\n    decl(tokens, customProperty) {\n      let node2 = new Declaration();\n      this.init(node2, tokens[0][2]);\n      let last = tokens[tokens.length - 1];\n      if (last[0] === \";\") {\n        this.semicolon = true;\n        tokens.pop();\n      }\n      node2.source.end = this.getPosition(\n        last[3] || last[2] || findLastWithPosition(tokens)\n      );\n      node2.source.end.offset++;\n      while (tokens[0][0] !== \"word\") {\n        if (tokens.length === 1) this.unknownWord(tokens);\n        node2.raws.before += tokens.shift()[1];\n      }\n      node2.source.start = this.getPosition(tokens[0][2]);\n      node2.prop = \"\";\n      while (tokens.length) {\n        let type = tokens[0][0];\n        if (type === \":\" || type === \"space\" || type === \"comment\") {\n          break;\n        }\n        node2.prop += tokens.shift()[1];\n      }\n      node2.raws.between = \"\";\n      let token;\n      while (tokens.length) {\n        token = tokens.shift();\n        if (token[0] === \":\") {\n          node2.raws.between += token[1];\n          break;\n        } else {\n          if (token[0] === \"word\" && /\\w/.test(token[1])) {\n            this.unknownWord([token]);\n          }\n          node2.raws.between += token[1];\n        }\n      }\n      if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n        node2.raws.before += node2.prop[0];\n        node2.prop = node2.prop.slice(1);\n      }\n      let firstSpaces = [];\n      let next;\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        firstSpaces.push(tokens.shift());\n      }\n      this.precheckMissedSemicolon(tokens);\n      for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n        token = tokens[i2];\n        if (token[1].toLowerCase() === \"!important\") {\n          node2.important = true;\n          let string = this.stringFrom(tokens, i2);\n          string = this.spacesFromEnd(tokens) + string;\n          if (string !== \" !important\") node2.raws.important = string;\n          break;\n        } else if (token[1].toLowerCase() === \"important\") {\n          let cache = tokens.slice(0);\n          let str = \"\";\n          for (let j = i2; j > 0; j--) {\n            let type = cache[j][0];\n            if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n              break;\n            }\n            str = cache.pop()[1] + str;\n          }\n          if (str.trim().indexOf(\"!\") === 0) {\n            node2.important = true;\n            node2.raws.important = str;\n            tokens = cache;\n          }\n        }\n        if (token[0] !== \"space\" && token[0] !== \"comment\") {\n          break;\n        }\n      }\n      let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n      if (hasWord) {\n        node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n        firstSpaces = [];\n      }\n      this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n      if (node2.value.includes(\":\") && !customProperty) {\n        this.checkMissedSemicolon(tokens);\n      }\n    }\n    doubleColon(token) {\n      throw this.input.error(\n        \"Double colon\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n    emptyRule(token) {\n      let node2 = new Rule();\n      this.init(node2, token[2]);\n      node2.selector = \"\";\n      node2.raws.between = \"\";\n      this.current = node2;\n    }\n    end(token) {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.semicolon = false;\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.spaces = \"\";\n      if (this.current.parent) {\n        this.current.source.end = this.getPosition(token[2]);\n        this.current.source.end.offset++;\n        this.current = this.current.parent;\n      } else {\n        this.unexpectedClose(token);\n      }\n    }\n    endFile() {\n      if (this.current.parent) this.unclosedBlock();\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    freeSemicolon(token) {\n      this.spaces += token[1];\n      if (this.current.nodes) {\n        let prev = this.current.nodes[this.current.nodes.length - 1];\n        if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n          prev.raws.ownSemicolon = this.spaces;\n          this.spaces = \"\";\n        }\n      }\n    }\n    // Helpers\n    getPosition(offset) {\n      let pos = this.input.fromOffset(offset);\n      return {\n        column: pos.col,\n        line: pos.line,\n        offset\n      };\n    }\n    init(node2, offset) {\n      this.current.push(node2);\n      node2.source = {\n        input: this.input,\n        start: this.getPosition(offset)\n      };\n      node2.raws.before = this.spaces;\n      this.spaces = \"\";\n      if (node2.type !== \"comment\") this.semicolon = false;\n    }\n    other(start) {\n      let end = false;\n      let type = null;\n      let colon = false;\n      let bracket = null;\n      let brackets = [];\n      let customProperty = start[1].startsWith(\"--\");\n      let tokens = [];\n      let token = start;\n      while (token) {\n        type = token[0];\n        tokens.push(token);\n        if (type === \"(\" || type === \"[\") {\n          if (!bracket) bracket = token;\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (customProperty && colon && type === \"{\") {\n          if (!bracket) bracket = token;\n          brackets.push(\"}\");\n        } else if (brackets.length === 0) {\n          if (type === \";\") {\n            if (colon) {\n              this.decl(tokens, customProperty);\n              return;\n            } else {\n              break;\n            }\n          } else if (type === \"{\") {\n            this.rule(tokens);\n            return;\n          } else if (type === \"}\") {\n            this.tokenizer.back(tokens.pop());\n            end = true;\n            break;\n          } else if (type === \":\") {\n            colon = true;\n          }\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n          if (brackets.length === 0) bracket = null;\n        }\n        token = this.tokenizer.nextToken();\n      }\n      if (this.tokenizer.endOfFile()) end = true;\n      if (brackets.length > 0) this.unclosedBracket(bracket);\n      if (end && colon) {\n        if (!customProperty) {\n          while (tokens.length) {\n            token = tokens[tokens.length - 1][0];\n            if (token !== \"space\" && token !== \"comment\") break;\n            this.tokenizer.back(tokens.pop());\n          }\n        }\n        this.decl(tokens, customProperty);\n      } else {\n        this.unknownWord(tokens);\n      }\n    }\n    parse() {\n      let token;\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        switch (token[0]) {\n          case \"space\":\n            this.spaces += token[1];\n            break;\n          case \";\":\n            this.freeSemicolon(token);\n            break;\n          case \"}\":\n            this.end(token);\n            break;\n          case \"comment\":\n            this.comment(token);\n            break;\n          case \"at-word\":\n            this.atrule(token);\n            break;\n          case \"{\":\n            this.emptyRule(token);\n            break;\n          default:\n            this.other(token);\n            break;\n        }\n      }\n      this.endFile();\n    }\n    precheckMissedSemicolon() {\n    }\n    raw(node2, prop, tokens, customProperty) {\n      let token, type;\n      let length = tokens.length;\n      let value = \"\";\n      let clean = true;\n      let next, prev;\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        token = tokens[i2];\n        type = token[0];\n        if (type === \"space\" && i2 === length - 1 && !customProperty) {\n          clean = false;\n        } else if (type === \"comment\") {\n          prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n          next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n          if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n            if (value.slice(-1) === \",\") {\n              clean = false;\n            } else {\n              value += token[1];\n            }\n          } else {\n            clean = false;\n          }\n        } else {\n          value += token[1];\n        }\n      }\n      if (!clean) {\n        let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n        node2.raws[prop] = { raw, value };\n      }\n      node2[prop] = value;\n    }\n    rule(tokens) {\n      tokens.pop();\n      let node2 = new Rule();\n      this.init(node2, tokens[0][2]);\n      node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n      this.raw(node2, \"selector\", tokens);\n      this.current = node2;\n    }\n    spacesAndCommentsFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    // Errors\n    spacesAndCommentsFromStart(tokens) {\n      let next;\n      let spaces = \"\";\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        spaces += tokens.shift()[1];\n      }\n      return spaces;\n    }\n    spacesFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    stringFrom(tokens, from) {\n      let result2 = \"\";\n      for (let i2 = from; i2 < tokens.length; i2++) {\n        result2 += tokens[i2][1];\n      }\n      tokens.splice(from, tokens.length - from);\n      return result2;\n    }\n    unclosedBlock() {\n      let pos = this.current.source.start;\n      throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n    }\n    unclosedBracket(bracket) {\n      throw this.input.error(\n        \"Unclosed bracket\",\n        { offset: bracket[2] },\n        { offset: bracket[2] + 1 }\n      );\n    }\n    unexpectedClose(token) {\n      throw this.input.error(\n        \"Unexpected }\",\n        { offset: token[2] },\n        { offset: token[2] + 1 }\n      );\n    }\n    unknownWord(tokens) {\n      throw this.input.error(\n        \"Unknown word\",\n        { offset: tokens[0][2] },\n        { offset: tokens[0][2] + tokens[0][1].length }\n      );\n    }\n    unnamedAtrule(node2, token) {\n      throw this.input.error(\n        \"At-rule without name\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n  }\n  parser = Parser;\n  return parser;\n}\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  let Container = requireContainer();\n  let Parser = requireParser();\n  let Input = requireInput();\n  function parse(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new Parser(input2);\n    try {\n      parser2.parse();\n    } catch (e2) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n          if (/\\.scss$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n          } else if (/\\.sass/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n          } else if (/\\.less$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n          }\n        }\n      }\n      throw e2;\n    }\n    return parser2.root;\n  }\n  parse_1 = parse;\n  parse.default = parse;\n  Container.registerParse(parse);\n  return parse_1;\n}\nvar lazyResult;\nvar hasRequiredLazyResult;\nfunction requireLazyResult() {\n  if (hasRequiredLazyResult) return lazyResult;\n  hasRequiredLazyResult = 1;\n  let { isClean, my } = requireSymbols();\n  let MapGenerator = requireMapGenerator();\n  let stringify2 = requireStringify();\n  let Container = requireContainer();\n  let Document2 = requireDocument();\n  let warnOnce2 = requireWarnOnce();\n  let Result = requireResult();\n  let parse = requireParse();\n  let Root = requireRoot();\n  const TYPE_TO_CLASS_NAME = {\n    atrule: \"AtRule\",\n    comment: \"Comment\",\n    decl: \"Declaration\",\n    document: \"Document\",\n    root: \"Root\",\n    rule: \"Rule\"\n  };\n  const PLUGIN_PROPS = {\n    AtRule: true,\n    AtRuleExit: true,\n    Comment: true,\n    CommentExit: true,\n    Declaration: true,\n    DeclarationExit: true,\n    Document: true,\n    DocumentExit: true,\n    Once: true,\n    OnceExit: true,\n    postcssPlugin: true,\n    prepare: true,\n    Root: true,\n    RootExit: true,\n    Rule: true,\n    RuleExit: true\n  };\n  const NOT_VISITORS = {\n    Once: true,\n    postcssPlugin: true,\n    prepare: true\n  };\n  const CHILDREN = 0;\n  function isPromise(obj) {\n    return typeof obj === \"object\" && typeof obj.then === \"function\";\n  }\n  function getEvents(node2) {\n    let key = false;\n    let type = TYPE_TO_CLASS_NAME[node2.type];\n    if (node2.type === \"decl\") {\n      key = node2.prop.toLowerCase();\n    } else if (node2.type === \"atrule\") {\n      key = node2.name.toLowerCase();\n    }\n    if (key && node2.append) {\n      return [\n        type,\n        type + \"-\" + key,\n        CHILDREN,\n        type + \"Exit\",\n        type + \"Exit-\" + key\n      ];\n    } else if (key) {\n      return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n    } else if (node2.append) {\n      return [type, CHILDREN, type + \"Exit\"];\n    } else {\n      return [type, type + \"Exit\"];\n    }\n  }\n  function toStack(node2) {\n    let events;\n    if (node2.type === \"document\") {\n      events = [\"Document\", CHILDREN, \"DocumentExit\"];\n    } else if (node2.type === \"root\") {\n      events = [\"Root\", CHILDREN, \"RootExit\"];\n    } else {\n      events = getEvents(node2);\n    }\n    return {\n      eventIndex: 0,\n      events,\n      iterator: 0,\n      node: node2,\n      visitorIndex: 0,\n      visitors: []\n    };\n  }\n  function cleanMarks(node2) {\n    node2[isClean] = false;\n    if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n    return node2;\n  }\n  let postcss2 = {};\n  class LazyResult {\n    constructor(processor2, css, opts) {\n      this.stringified = false;\n      this.processed = false;\n      let root2;\n      if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n        root2 = cleanMarks(css);\n      } else if (css instanceof LazyResult || css instanceof Result) {\n        root2 = cleanMarks(css.root);\n        if (css.map) {\n          if (typeof opts.map === \"undefined\") opts.map = {};\n          if (!opts.map.inline) opts.map.inline = false;\n          opts.map.prev = css.map;\n        }\n      } else {\n        let parser2 = parse;\n        if (opts.syntax) parser2 = opts.syntax.parse;\n        if (opts.parser) parser2 = opts.parser;\n        if (parser2.parse) parser2 = parser2.parse;\n        try {\n          root2 = parser2(css, opts);\n        } catch (error) {\n          this.processed = true;\n          this.error = error;\n        }\n        if (root2 && !root2[my]) {\n          Container.rebuild(root2);\n        }\n      }\n      this.result = new Result(processor2, root2, opts);\n      this.helpers = { ...postcss2, postcss: postcss2, result: this.result };\n      this.plugins = this.processor.plugins.map((plugin) => {\n        if (typeof plugin === \"object\" && plugin.prepare) {\n          return { ...plugin, ...plugin.prepare(this.result) };\n        } else {\n          return plugin;\n        }\n      });\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n      return this.processing;\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    getAsyncError() {\n      throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n    }\n    handleError(error, node2) {\n      let plugin = this.result.lastPlugin;\n      try {\n        if (node2) node2.addToError(error);\n        this.error = error;\n        if (error.name === \"CssSyntaxError\" && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== \"production\") {\n            let pluginName = plugin.postcssPlugin;\n            let pluginVer = plugin.postcssVersion;\n            let runtimeVer = this.result.processor.version;\n            let a2 = pluginVer.split(\".\");\n            let b = runtimeVer.split(\".\");\n            if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n              console.error(\n                \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (console && console.error) console.error(err);\n      }\n      return error;\n    }\n    prepareVisitors() {\n      this.listeners = {};\n      let add = (plugin, type, cb) => {\n        if (!this.listeners[type]) this.listeners[type] = [];\n        this.listeners[type].push([plugin, cb]);\n      };\n      for (let plugin of this.plugins) {\n        if (typeof plugin === \"object\") {\n          for (let event in plugin) {\n            if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n              throw new Error(\n                `Unknown event ${event} in ${plugin.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n              );\n            }\n            if (!NOT_VISITORS[event]) {\n              if (typeof plugin[event] === \"object\") {\n                for (let filter in plugin[event]) {\n                  if (filter === \"*\") {\n                    add(plugin, event, plugin[event][filter]);\n                  } else {\n                    add(\n                      plugin,\n                      event + \"-\" + filter.toLowerCase(),\n                      plugin[event][filter]\n                    );\n                  }\n                }\n              } else if (typeof plugin[event] === \"function\") {\n                add(plugin, event, plugin[event]);\n              }\n            }\n          }\n        }\n      }\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n    async runAsync() {\n      this.plugin = 0;\n      for (let i2 = 0; i2 < this.plugins.length; i2++) {\n        let plugin = this.plugins[i2];\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          try {\n            await promise;\n          } catch (error) {\n            throw this.handleError(error);\n          }\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          let stack = [toStack(root2)];\n          while (stack.length > 0) {\n            let promise = this.visitTick(stack);\n            if (isPromise(promise)) {\n              try {\n                await promise;\n              } catch (e2) {\n                let node2 = stack[stack.length - 1].node;\n                throw this.handleError(e2, node2);\n              }\n            }\n          }\n        }\n        if (this.listeners.OnceExit) {\n          for (let [plugin, visitor] of this.listeners.OnceExit) {\n            this.result.lastPlugin = plugin;\n            try {\n              if (root2.type === \"document\") {\n                let roots = root2.nodes.map(\n                  (subRoot) => visitor(subRoot, this.helpers)\n                );\n                await Promise.all(roots);\n              } else {\n                await visitor(root2, this.helpers);\n              }\n            } catch (e2) {\n              throw this.handleError(e2);\n            }\n          }\n        }\n      }\n      this.processed = true;\n      return this.stringify();\n    }\n    runOnRoot(plugin) {\n      this.result.lastPlugin = plugin;\n      try {\n        if (typeof plugin === \"object\" && plugin.Once) {\n          if (this.result.root.type === \"document\") {\n            let roots = this.result.root.nodes.map(\n              (root2) => plugin.Once(root2, this.helpers)\n            );\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n            return roots;\n          }\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === \"function\") {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n    stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      let opts = this.result.opts;\n      let str = stringify2;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      let map = new MapGenerator(str, this.result.root, this.result.opts);\n      let data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n    sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n      for (let plugin of this.plugins) {\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          this.walkSync(root2);\n        }\n        if (this.listeners.OnceExit) {\n          if (root2.type === \"document\") {\n            for (let subRoot of root2.nodes) {\n              this.visitSync(this.listeners.OnceExit, subRoot);\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root2);\n          }\n        }\n      }\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this.opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this.css;\n    }\n    visitSync(visitors, node2) {\n      for (let [plugin, visitor] of visitors) {\n        this.result.lastPlugin = plugin;\n        let promise;\n        try {\n          promise = visitor(node2, this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2.proxyOf);\n        }\n        if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n          return true;\n        }\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n    }\n    visitTick(stack) {\n      let visit2 = stack[stack.length - 1];\n      let { node: node2, visitors } = visit2;\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        stack.pop();\n        return;\n      }\n      if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n        let [plugin, visitor] = visitors[visit2.visitorIndex];\n        visit2.visitorIndex += 1;\n        if (visit2.visitorIndex === visitors.length) {\n          visit2.visitors = [];\n          visit2.visitorIndex = 0;\n        }\n        this.result.lastPlugin = plugin;\n        try {\n          return visitor(node2.toProxy(), this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2);\n        }\n      }\n      if (visit2.iterator !== 0) {\n        let iterator = visit2.iterator;\n        let child;\n        while (child = node2.nodes[node2.indexes[iterator]]) {\n          node2.indexes[iterator] += 1;\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n        visit2.iterator = 0;\n        delete node2.indexes[iterator];\n      }\n      let events = visit2.events;\n      while (visit2.eventIndex < events.length) {\n        let event = events[visit2.eventIndex];\n        visit2.eventIndex += 1;\n        if (event === CHILDREN) {\n          if (node2.nodes && node2.nodes.length) {\n            node2[isClean] = true;\n            visit2.iterator = node2.getIterator();\n          }\n          return;\n        } else if (this.listeners[event]) {\n          visit2.visitors = this.listeners[event];\n          return;\n        }\n      }\n      stack.pop();\n    }\n    walkSync(node2) {\n      node2[isClean] = true;\n      let events = getEvents(node2);\n      for (let event of events) {\n        if (event === CHILDREN) {\n          if (node2.nodes) {\n            node2.each((child) => {\n              if (!child[isClean]) this.walkSync(child);\n            });\n          }\n        } else {\n          let visitors = this.listeners[event];\n          if (visitors) {\n            if (this.visitSync(visitors, node2.toProxy())) return;\n          }\n        }\n      }\n    }\n    warnings() {\n      return this.sync().warnings();\n    }\n    get content() {\n      return this.stringify().content;\n    }\n    get css() {\n      return this.stringify().css;\n    }\n    get map() {\n      return this.stringify().map;\n    }\n    get messages() {\n      return this.sync().messages;\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      return this.sync().root;\n    }\n    get [Symbol.toStringTag]() {\n      return \"LazyResult\";\n    }\n  }\n  LazyResult.registerPostcss = (dependant) => {\n    postcss2 = dependant;\n  };\n  lazyResult = LazyResult;\n  LazyResult.default = LazyResult;\n  Root.registerLazyResult(LazyResult);\n  Document2.registerLazyResult(LazyResult);\n  return lazyResult;\n}\nvar noWorkResult;\nvar hasRequiredNoWorkResult;\nfunction requireNoWorkResult() {\n  if (hasRequiredNoWorkResult) return noWorkResult;\n  hasRequiredNoWorkResult = 1;\n  let MapGenerator = requireMapGenerator();\n  let stringify2 = requireStringify();\n  let warnOnce2 = requireWarnOnce();\n  let parse = requireParse();\n  const Result = requireResult();\n  class NoWorkResult {\n    constructor(processor2, css, opts) {\n      css = css.toString();\n      this.stringified = false;\n      this._processor = processor2;\n      this._css = css;\n      this._opts = opts;\n      this._map = void 0;\n      let root2;\n      let str = stringify2;\n      this.result = new Result(this._processor, root2, this._opts);\n      this.result.css = css;\n      let self2 = this;\n      Object.defineProperty(this.result, \"root\", {\n        get() {\n          return self2.root;\n        }\n      });\n      let map = new MapGenerator(str, root2, this._opts, css);\n      if (map.isMap()) {\n        let [generatedCSS, generatedMap] = map.generate();\n        if (generatedCSS) {\n          this.result.css = generatedCSS;\n        }\n        if (generatedMap) {\n          this.result.map = generatedMap;\n        }\n      } else {\n        map.clearAnnotation();\n        this.result.css = map.css;\n      }\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      return Promise.resolve(this.result);\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    sync() {\n      if (this.error) throw this.error;\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this._opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this._css;\n    }\n    warnings() {\n      return [];\n    }\n    get content() {\n      return this.result.css;\n    }\n    get css() {\n      return this.result.css;\n    }\n    get map() {\n      return this.result.map;\n    }\n    get messages() {\n      return [];\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      if (this._root) {\n        return this._root;\n      }\n      let root2;\n      let parser2 = parse;\n      try {\n        root2 = parser2(this._css, this._opts);\n      } catch (error) {\n        this.error = error;\n      }\n      if (this.error) {\n        throw this.error;\n      } else {\n        this._root = root2;\n        return root2;\n      }\n    }\n    get [Symbol.toStringTag]() {\n      return \"NoWorkResult\";\n    }\n  }\n  noWorkResult = NoWorkResult;\n  NoWorkResult.default = NoWorkResult;\n  return noWorkResult;\n}\nvar processor;\nvar hasRequiredProcessor;\nfunction requireProcessor() {\n  if (hasRequiredProcessor) return processor;\n  hasRequiredProcessor = 1;\n  let NoWorkResult = requireNoWorkResult();\n  let LazyResult = requireLazyResult();\n  let Document2 = requireDocument();\n  let Root = requireRoot();\n  class Processor {\n    constructor(plugins = []) {\n      this.version = \"8.4.38\";\n      this.plugins = this.normalize(plugins);\n    }\n    normalize(plugins) {\n      let normalized = [];\n      for (let i2 of plugins) {\n        if (i2.postcss === true) {\n          i2 = i2();\n        } else if (i2.postcss) {\n          i2 = i2.postcss;\n        }\n        if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n          normalized = normalized.concat(i2.plugins);\n        } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n          normalized.push(i2);\n        } else if (typeof i2 === \"function\") {\n          normalized.push(i2);\n        } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(\n              \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n            );\n          }\n        } else {\n          throw new Error(i2 + \" is not a PostCSS plugin\");\n        }\n      }\n      return normalized;\n    }\n    process(css, opts = {}) {\n      if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n        return new NoWorkResult(this, css, opts);\n      } else {\n        return new LazyResult(this, css, opts);\n      }\n    }\n    use(plugin) {\n      this.plugins = this.plugins.concat(this.normalize([plugin]));\n      return this;\n    }\n  }\n  processor = Processor;\n  Processor.default = Processor;\n  Root.registerProcessor(Processor);\n  Document2.registerProcessor(Processor);\n  return processor;\n}\nvar fromJSON_1;\nvar hasRequiredFromJSON;\nfunction requireFromJSON() {\n  if (hasRequiredFromJSON) return fromJSON_1;\n  hasRequiredFromJSON = 1;\n  let Declaration = requireDeclaration();\n  let PreviousMap = requirePreviousMap();\n  let Comment = requireComment();\n  let AtRule = requireAtRule();\n  let Input = requireInput();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  function fromJSON(json, inputs) {\n    if (Array.isArray(json)) return json.map((n2) => fromJSON(n2));\n    let { inputs: ownInputs, ...defaults } = json;\n    if (ownInputs) {\n      inputs = [];\n      for (let input2 of ownInputs) {\n        let inputHydrated = { ...input2, __proto__: Input.prototype };\n        if (inputHydrated.map) {\n          inputHydrated.map = {\n            ...inputHydrated.map,\n            __proto__: PreviousMap.prototype\n          };\n        }\n        inputs.push(inputHydrated);\n      }\n    }\n    if (defaults.nodes) {\n      defaults.nodes = json.nodes.map((n2) => fromJSON(n2, inputs));\n    }\n    if (defaults.source) {\n      let { inputId, ...source } = defaults.source;\n      defaults.source = source;\n      if (inputId != null) {\n        defaults.source.input = inputs[inputId];\n      }\n    }\n    if (defaults.type === \"root\") {\n      return new Root(defaults);\n    } else if (defaults.type === \"decl\") {\n      return new Declaration(defaults);\n    } else if (defaults.type === \"rule\") {\n      return new Rule(defaults);\n    } else if (defaults.type === \"comment\") {\n      return new Comment(defaults);\n    } else if (defaults.type === \"atrule\") {\n      return new AtRule(defaults);\n    } else {\n      throw new Error(\"Unknown node type: \" + json.type);\n    }\n  }\n  fromJSON_1 = fromJSON;\n  fromJSON.default = fromJSON;\n  return fromJSON_1;\n}\nvar postcss_1;\nvar hasRequiredPostcss;\nfunction requirePostcss() {\n  if (hasRequiredPostcss) return postcss_1;\n  hasRequiredPostcss = 1;\n  let CssSyntaxError = requireCssSyntaxError();\n  let Declaration = requireDeclaration();\n  let LazyResult = requireLazyResult();\n  let Container = requireContainer();\n  let Processor = requireProcessor();\n  let stringify2 = requireStringify();\n  let fromJSON = requireFromJSON();\n  let Document2 = requireDocument();\n  let Warning = requireWarning();\n  let Comment = requireComment();\n  let AtRule = requireAtRule();\n  let Result = requireResult();\n  let Input = requireInput();\n  let parse = requireParse();\n  let list = requireList();\n  let Rule = requireRule();\n  let Root = requireRoot();\n  let Node2 = requireNode();\n  function postcss2(...plugins) {\n    if (plugins.length === 1 && Array.isArray(plugins[0])) {\n      plugins = plugins[0];\n    }\n    return new Processor(plugins);\n  }\n  postcss2.plugin = function plugin(name, initializer) {\n    let warningPrinted = false;\n    function creator(...args) {\n      if (console && console.warn && !warningPrinted) {\n        warningPrinted = true;\n        console.warn(\n          name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n        );\n        if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n          console.warn(\n            name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n          );\n        }\n      }\n      let transformer = initializer(...args);\n      transformer.postcssPlugin = name;\n      transformer.postcssVersion = new Processor().version;\n      return transformer;\n    }\n    let cache;\n    Object.defineProperty(creator, \"postcss\", {\n      get() {\n        if (!cache) cache = creator();\n        return cache;\n      }\n    });\n    creator.process = function(css, processOpts, pluginOpts) {\n      return postcss2([creator(pluginOpts)]).process(css, processOpts);\n    };\n    return creator;\n  };\n  postcss2.stringify = stringify2;\n  postcss2.parse = parse;\n  postcss2.fromJSON = fromJSON;\n  postcss2.list = list;\n  postcss2.comment = (defaults) => new Comment(defaults);\n  postcss2.atRule = (defaults) => new AtRule(defaults);\n  postcss2.decl = (defaults) => new Declaration(defaults);\n  postcss2.rule = (defaults) => new Rule(defaults);\n  postcss2.root = (defaults) => new Root(defaults);\n  postcss2.document = (defaults) => new Document2(defaults);\n  postcss2.CssSyntaxError = CssSyntaxError;\n  postcss2.Declaration = Declaration;\n  postcss2.Container = Container;\n  postcss2.Processor = Processor;\n  postcss2.Document = Document2;\n  postcss2.Comment = Comment;\n  postcss2.Warning = Warning;\n  postcss2.AtRule = AtRule;\n  postcss2.Result = Result;\n  postcss2.Input = Input;\n  postcss2.Rule = Rule;\n  postcss2.Root = Root;\n  postcss2.Node = Node2;\n  LazyResult.registerPostcss(postcss2);\n  postcss_1 = postcss2;\n  postcss2.default = postcss2;\n  return postcss_1;\n}\nvar postcssExports = requirePostcss();\nconst postcss = /* @__PURE__ */ getDefaultExportFromCjs(postcssExports);\npostcss.stringify;\npostcss.fromJSON;\npostcss.plugin;\npostcss.parse;\npostcss.list;\npostcss.document;\npostcss.comment;\npostcss.atRule;\npostcss.rule;\npostcss.decl;\npostcss.root;\npostcss.CssSyntaxError;\npostcss.Declaration;\npostcss.Container;\npostcss.Processor;\npostcss.Document;\npostcss.Comment;\npostcss.Warning;\npostcss.AtRule;\npostcss.Result;\npostcss.Input;\npostcss.Rule;\npostcss.Root;\npostcss.Node;\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField22(this, \"parentElement\", null);\n    __publicField22(this, \"parentNode\", null);\n    __publicField22(this, \"ownerDocument\");\n    __publicField22(this, \"firstChild\", null);\n    __publicField22(this, \"lastChild\", null);\n    __publicField22(this, \"previousSibling\", null);\n    __publicField22(this, \"nextSibling\", null);\n    __publicField22(this, \"ELEMENT_NODE\", 1);\n    __publicField22(this, \"TEXT_NODE\", 3);\n    __publicField22(this, \"nodeType\");\n    __publicField22(this, \"nodeName\");\n    __publicField22(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nfunction angularZoneUnpatchedAlternative(key) {\n  var _a2, _b;\n  const angularUnpatchedVersionSymbol = (_b = (_a2 = globalThis == null ? void 0 : globalThis.Zone) == null ? void 0 : _a2.__symbol__) == null ? void 0 : _b.call(_a2, key);\n  if (angularUnpatchedVersionSymbol && globalThis[angularUnpatchedVersionSymbol]) {\n    return globalThis[angularUnpatchedVersionSymbol];\n  } else {\n    return void 0;\n  }\n}\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const candidate = angularZoneUnpatchedAlternative(key) || globalThis[key];\n  const defaultPrototype = candidate.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype[key] = candidate.prototype;\n    return candidate.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return candidate.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nconst index = {\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction queueToResolveTrees(queue) {\n  const queueNodeMap = {};\n  const putIntoMap = (m, parent) => {\n    const nodeInTree = {\n      value: m,\n      parent,\n      children: []\n    };\n    queueNodeMap[m.node.id] = nodeInTree;\n    return nodeInTree;\n  };\n  const queueNodeTrees = [];\n  for (const mutation of queue) {\n    const { nextId, parentId } = mutation;\n    if (nextId && nextId in queueNodeMap) {\n      const nextInTree = queueNodeMap[nextId];\n      if (nextInTree.parent) {\n        const idx = nextInTree.parent.children.indexOf(nextInTree);\n        nextInTree.parent.children.splice(\n          idx,\n          0,\n          putIntoMap(mutation, nextInTree.parent)\n        );\n      } else {\n        const idx = queueNodeTrees.indexOf(nextInTree);\n        queueNodeTrees.splice(idx, 0, putIntoMap(mutation, null));\n      }\n      continue;\n    }\n    if (parentId in queueNodeMap) {\n      const parentInTree = queueNodeMap[parentId];\n      parentInTree.children.push(putIntoMap(mutation, parentInTree));\n      continue;\n    }\n    queueNodeTrees.push(putIntoMap(mutation, null));\n  }\n  return queueNodeTrees;\n}\nfunction iterateResolveTree(tree, cb) {\n  cb(tree.value);\n  for (let i2 = tree.children.length - 1; i2 >= 0; i2--) {\n    iterateResolveTree(tree.children[i2], cb);\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction getBaseDimension(node2, rootIframe) {\n  var _a2, _b;\n  const frameElement = (_b = (_a2 = node2.ownerDocument) == null ? void 0 : _a2.defaultView) == null ? void 0 : _b.frameElement;\n  if (!frameElement || frameElement === rootIframe) {\n    return {\n      x: 0,\n      y: 0,\n      relativeScale: 1,\n      absoluteScale: 1\n    };\n  }\n  const frameDimension = frameElement.getBoundingClientRect();\n  const frameBaseDimension = getBaseDimension(frameElement, rootIframe);\n  const relativeScale = frameDimension.height / frameElement.clientHeight;\n  return {\n    x: frameDimension.x * frameBaseDimension.relativeScale + frameBaseDimension.x,\n    y: frameDimension.y * frameBaseDimension.relativeScale + frameBaseDimension.y,\n    relativeScale,\n    absoluteScale: frameBaseDimension.absoluteScale * relativeScale\n  };\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nfunction getNestedRule(rules2, position) {\n  const rule2 = rules2[position[0]];\n  if (position.length === 1) {\n    return rule2;\n  } else {\n    return getNestedRule(\n      rule2.cssRules[position[1]].cssRules,\n      position.slice(2)\n    );\n  }\n}\nfunction getPositionsAndIndex(nestedIndex) {\n  const positions = [...nestedIndex];\n  const index2 = positions.pop();\n  return { positions, index: index2 };\n}\nfunction uniqueTextMutations(mutations) {\n  const idSet = /* @__PURE__ */ new Set();\n  const uniqueMutations = [];\n  for (let i2 = mutations.length; i2--; ) {\n    const mutation = mutations[i2];\n    if (!idSet.has(mutation.id)) {\n      uniqueMutations.push(mutation);\n      idSet.add(mutation.id);\n    }\n  }\n  return uniqueMutations;\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField2(this, \"id\", 1);\n    __publicField2(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField2(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nconst utils = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  StyleSheetMirror,\n  get _mirror() {\n    return _mirror;\n  },\n  closestElementOfNode,\n  getBaseDimension,\n  getNestedRule,\n  getPositionsAndIndex,\n  getRootShadowHost,\n  getShadowHost,\n  getWindowHeight,\n  getWindowScroll,\n  getWindowWidth,\n  hasShadowRoot,\n  hookSetter,\n  inDom,\n  isAncestorRemoved,\n  isBlocked,\n  isIgnored,\n  isSerialized,\n  isSerializedIframe,\n  isSerializedStylesheet,\n  iterateResolveTree,\n  legacy_isTouchEvent,\n  get nowTimestamp() {\n    return nowTimestamp;\n  },\n  on,\n  patch,\n  polyfill: polyfill$1,\n  queueToResolveTrees,\n  shadowHostInDom,\n  throttle,\n  uniqueTextMutations\n}, Symbol.toStringTag, { value: \"Module\" }));\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nconst jsContent = '(function() {\\n  \"use strict\";\\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\\n  var lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\\n  for (var i = 0; i < chars.length; i++) {\\n    lookup[chars.charCodeAt(i)] = i;\\n  }\\n  var encode = function(arraybuffer) {\\n    var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\\n    for (i2 = 0; i2 < len; i2 += 3) {\\n      base64 += chars[bytes[i2] >> 2];\\n      base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\\n      base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\\n      base64 += chars[bytes[i2 + 2] & 63];\\n    }\\n    if (len % 3 === 2) {\\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\\n    } else if (len % 3 === 1) {\\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\\n    }\\n    return base64;\\n  };\\n  const lastBlobMap = /* @__PURE__ */ new Map();\\n  const transparentBlobMap = /* @__PURE__ */ new Map();\\n  async function getTransparentBlobFor(width, height, dataURLOptions) {\\n    const id = `${width}-${height}`;\\n    if (\"OffscreenCanvas\" in globalThis) {\\n      if (transparentBlobMap.has(id)) return transparentBlobMap.get(id);\\n      const offscreen = new OffscreenCanvas(width, height);\\n      offscreen.getContext(\"2d\");\\n      const blob = await offscreen.convertToBlob(dataURLOptions);\\n      const arrayBuffer = await blob.arrayBuffer();\\n      const base64 = encode(arrayBuffer);\\n      transparentBlobMap.set(id, base64);\\n      return base64;\\n    } else {\\n      return \"\";\\n    }\\n  }\\n  const worker = self;\\n  worker.onmessage = async function(e) {\\n    if (\"OffscreenCanvas\" in globalThis) {\\n      const { id, bitmap, width, height, dataURLOptions } = e.data;\\n      const transparentBase64 = getTransparentBlobFor(\\n        width,\\n        height,\\n        dataURLOptions\\n      );\\n      const offscreen = new OffscreenCanvas(width, height);\\n      const ctx = offscreen.getContext(\"2d\");\\n      ctx.drawImage(bitmap, 0, 0);\\n      bitmap.close();\\n      const blob = await offscreen.convertToBlob(dataURLOptions);\\n      const type = blob.type;\\n      const arrayBuffer = await blob.arrayBuffer();\\n      const base64 = encode(arrayBuffer);\\n      if (!lastBlobMap.has(id) && await transparentBase64 === base64) {\\n        lastBlobMap.set(id, base64);\\n        return worker.postMessage({ id });\\n      }\\n      if (lastBlobMap.get(id) === base64) return worker.postMessage({ id });\\n      worker.postMessage({\\n        id,\\n        type,\\n        base64,\\n        width,\\n        height\\n      });\\n      lastBlobMap.set(id, base64);\\n    } else {\\n      return worker.postMessage({ id: e.data.id });\\n    }\\n  };\\n})();\\n//# sourceMappingURL=image-bitmap-data-url-worker-IJpC7g_b.js.map\\n';\ntypeof self !== \"undefined\" && self.Blob && new Blob([jsContent], { type: \"text/javascript;charset=utf-8\" });\ntry {\n  if (Array.from([1], (x) => x * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\ncreateMirror$2();\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nclass StackFrame {\n  constructor(obj) {\n    __publicField(this, \"fileName\");\n    __publicField(this, \"functionName\");\n    __publicField(this, \"lineNumber\");\n    __publicField(this, \"columnNumber\");\n    this.fileName = obj.fileName || \"\";\n    this.functionName = obj.functionName || \"\";\n    this.lineNumber = obj.lineNumber;\n    this.columnNumber = obj.columnNumber;\n  }\n  toString() {\n    const lineNumber = this.lineNumber || \"\";\n    const columnNumber = this.columnNumber || \"\";\n    if (this.functionName)\n      return `${this.functionName} (${this.fileName}:${lineNumber}:${columnNumber})`;\n    return `${this.fileName}:${lineNumber}:${columnNumber}`;\n  }\n}\nconst FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\nconst CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nconst SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\nconst ErrorStackParser = {\n  /**\n   * Given an Error object, extract the most information from it.\n   */\n  parse: function(error) {\n    if (!error) {\n      return [];\n    }\n    if (\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      typeof error.stacktrace !== \"undefined\" || // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      typeof error[\"opera#sourceloc\"] !== \"undefined\"\n    ) {\n      return this.parseOpera(\n        error\n      );\n    } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n      return this.parseV8OrIE(error);\n    } else if (error.stack) {\n      return this.parseFFOrSafari(error);\n    } else {\n      console.warn(\n        \"[console-record-plugin]: Failed to parse error object:\",\n        error\n      );\n      return [];\n    }\n  },\n  // Separate line and column numbers from a string of the form: (URI:Line:Column)\n  extractLocation: function(urlLike) {\n    if (urlLike.indexOf(\":\") === -1) {\n      return [urlLike];\n    }\n    const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n    const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n    if (!parts) throw new Error(`Cannot parse given url: ${urlLike}`);\n    return [parts[1], parts[2] || void 0, parts[3] || void 0];\n  },\n  parseV8OrIE: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !!line.match(CHROME_IE_STACK_REGEXP);\n    }, this);\n    return filtered.map(function(line) {\n      if (line.indexOf(\"(eval \") > -1) {\n        line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g, \"\");\n      }\n      let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\");\n      const location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n      sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n      const tokens = sanitizedLine.split(/\\s+/).slice(1);\n      const locationParts = this.extractLocation(\n        location ? location[1] : tokens.pop()\n      );\n      const functionName = tokens.join(\" \") || void 0;\n      const fileName = [\"eval\", \"<anonymous>\"].indexOf(locationParts[0]) > -1 ? void 0 : locationParts[0];\n      return new StackFrame({\n        functionName,\n        fileName,\n        lineNumber: locationParts[1],\n        columnNumber: locationParts[2]\n      });\n    }, this);\n  },\n  parseFFOrSafari: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n    }, this);\n    return filtered.map(function(line) {\n      if (line.indexOf(\" > eval\") > -1) {\n        line = line.replace(\n          / line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g,\n          \":$1\"\n        );\n      }\n      if (line.indexOf(\"@\") === -1 && line.indexOf(\":\") === -1) {\n        return new StackFrame({\n          functionName: line\n        });\n      } else {\n        const functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n        const matches = line.match(functionNameRegex);\n        const functionName = matches && matches[1] ? matches[1] : void 0;\n        const locationParts = this.extractLocation(\n          line.replace(functionNameRegex, \"\")\n        );\n        return new StackFrame({\n          functionName,\n          fileName: locationParts[0],\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2]\n        });\n      }\n    }, this);\n  },\n  parseOpera: function(e) {\n    if (!e.stacktrace || e.message.indexOf(\"\\n\") > -1 && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length) {\n      return this.parseOpera9(e);\n    } else if (!e.stack) {\n      return this.parseOpera10(e);\n    } else {\n      return this.parseOpera11(e);\n    }\n  },\n  parseOpera9: function(e) {\n    const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n    const lines = e.message.split(\"\\n\");\n    const result2 = [];\n    for (let i = 2, len = lines.length; i < len; i += 2) {\n      const match = lineRE.exec(lines[i]);\n      if (match) {\n        result2.push(\n          new StackFrame({\n            fileName: match[2],\n            lineNumber: parseFloat(match[1])\n          })\n        );\n      }\n    }\n    return result2;\n  },\n  parseOpera10: function(e) {\n    const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n    const lines = e.stacktrace.split(\"\\n\");\n    const result2 = [];\n    for (let i = 0, len = lines.length; i < len; i += 2) {\n      const match = lineRE.exec(lines[i]);\n      if (match) {\n        result2.push(\n          new StackFrame({\n            functionName: match[3] || void 0,\n            fileName: match[2],\n            lineNumber: parseFloat(match[1])\n          })\n        );\n      }\n    }\n    return result2;\n  },\n  // Opera 10.65+ Error.stack very similar to FF/Safari\n  parseOpera11: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n    }, this);\n    return filtered.map(function(line) {\n      const tokens = line.split(\"@\");\n      const locationParts = this.extractLocation(tokens.pop());\n      const functionCall = tokens.shift() || \"\";\n      const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || void 0;\n      return new StackFrame({\n        functionName,\n        fileName: locationParts[0],\n        lineNumber: locationParts[1],\n        columnNumber: locationParts[2]\n      });\n    }, this);\n  }\n};\nfunction pathToSelector(node2) {\n  if (!node2 || !node2.outerHTML) {\n    return \"\";\n  }\n  let path = \"\";\n  while (node2.parentElement) {\n    let name = node2.localName;\n    if (!name) {\n      break;\n    }\n    name = name.toLowerCase();\n    const parent = node2.parentElement;\n    const domSiblings = [];\n    if (parent.children && parent.children.length > 0) {\n      for (let i = 0; i < parent.children.length; i++) {\n        const sibling = parent.children[i];\n        if (sibling.localName && sibling.localName.toLowerCase) {\n          if (sibling.localName.toLowerCase() === name) {\n            domSiblings.push(sibling);\n          }\n        }\n      }\n    }\n    if (domSiblings.length > 1) {\n      name += `:eq(${domSiblings.indexOf(node2)})`;\n    }\n    path = name + (path ? \">\" + path : \"\");\n    node2 = parent;\n  }\n  return path;\n}\nfunction isObject(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nfunction isObjTooDeep(obj, limit) {\n  if (limit === 0) {\n    return true;\n  }\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    if (isObject(obj[key]) && isObjTooDeep(obj[key], limit - 1)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction stringify(obj, stringifyOptions) {\n  const options = {\n    numOfKeysLimit: 50,\n    depthOfLimit: 4\n  };\n  Object.assign(options, stringifyOptions);\n  const stack = [];\n  const keys = [];\n  return JSON.stringify(\n    obj,\n    function(key, value) {\n      if (stack.length > 0) {\n        const thisPos = stack.indexOf(this);\n        ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n        ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n        if (~stack.indexOf(value)) {\n          if (stack[0] === value) {\n            value = \"[Circular ~]\";\n          } else {\n            value = \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\n          }\n        }\n      } else {\n        stack.push(value);\n      }\n      if (value === null) return value;\n      if (value === void 0) return \"undefined\";\n      if (shouldIgnore(value)) {\n        return toString(value);\n      }\n      if (typeof value === \"bigint\") {\n        return value.toString() + \"n\";\n      }\n      if (value instanceof Event) {\n        const eventResult = {};\n        for (const eventKey in value) {\n          const eventValue = value[eventKey];\n          if (Array.isArray(eventValue)) {\n            eventResult[eventKey] = pathToSelector(\n              eventValue.length ? eventValue[0] : null\n            );\n          } else {\n            eventResult[eventKey] = eventValue;\n          }\n        }\n        return eventResult;\n      } else if (value instanceof Node) {\n        if (value instanceof HTMLElement) {\n          return value ? value.outerHTML : \"\";\n        }\n        return value.nodeName;\n      } else if (value instanceof Error) {\n        return value.stack ? value.stack + \"\\nEnd of stack for Error object\" : value.name + \": \" + value.message;\n      }\n      return value;\n    }\n  );\n  function shouldIgnore(_obj) {\n    if (isObject(_obj) && Object.keys(_obj).length > options.numOfKeysLimit) {\n      return true;\n    }\n    if (typeof _obj === \"function\") {\n      return true;\n    }\n    if (isObject(_obj) && isObjTooDeep(_obj, options.depthOfLimit)) {\n      return true;\n    }\n    return false;\n  }\n  function toString(_obj) {\n    let str = _obj.toString();\n    if (options.stringLengthLimit && str.length > options.stringLengthLimit) {\n      str = `${str.slice(0, options.stringLengthLimit)}...`;\n    }\n    return str;\n  }\n}\nconst defaultLogOptions = {\n  level: [\n    \"assert\",\n    \"clear\",\n    \"count\",\n    \"countReset\",\n    \"debug\",\n    \"dir\",\n    \"dirxml\",\n    \"error\",\n    \"group\",\n    \"groupCollapsed\",\n    \"groupEnd\",\n    \"info\",\n    \"log\",\n    \"table\",\n    \"time\",\n    \"timeEnd\",\n    \"timeLog\",\n    \"trace\",\n    \"warn\"\n  ],\n  lengthThreshold: 1e3,\n  logger: \"console\"\n};\nfunction initLogObserver(cb, win, options) {\n  const logOptions = options ? Object.assign({}, defaultLogOptions, options) : defaultLogOptions;\n  const loggerType = logOptions.logger;\n  if (!loggerType) {\n    return () => {\n    };\n  }\n  let logger;\n  if (typeof loggerType === \"string\") {\n    logger = win[loggerType];\n  } else {\n    logger = loggerType;\n  }\n  let logCount = 0;\n  let inStack = false;\n  const cancelHandlers = [];\n  if (logOptions.level.includes(\"error\")) {\n    const errorHandler = (event) => {\n      const message = event.message, error = event.error;\n      const trace = ErrorStackParser.parse(error).map(\n        (stackFrame) => stackFrame.toString()\n      );\n      const payload = [stringify(message, logOptions.stringifyOptions)];\n      cb({\n        level: \"error\",\n        trace,\n        payload\n      });\n    };\n    win.addEventListener(\"error\", errorHandler);\n    cancelHandlers.push(() => {\n      win.removeEventListener(\"error\", errorHandler);\n    });\n    const unhandledrejectionHandler = (event) => {\n      let error;\n      let payload;\n      if (event.reason instanceof Error) {\n        error = event.reason;\n        payload = [\n          stringify(\n            `Uncaught (in promise) ${error.name}: ${error.message}`,\n            logOptions.stringifyOptions\n          )\n        ];\n      } else {\n        error = new Error();\n        payload = [\n          stringify(\"Uncaught (in promise)\", logOptions.stringifyOptions),\n          stringify(event.reason, logOptions.stringifyOptions)\n        ];\n      }\n      const trace = ErrorStackParser.parse(error).map(\n        (stackFrame) => stackFrame.toString()\n      );\n      cb({\n        level: \"error\",\n        trace,\n        payload\n      });\n    };\n    win.addEventListener(\"unhandledrejection\", unhandledrejectionHandler);\n    cancelHandlers.push(() => {\n      win.removeEventListener(\"unhandledrejection\", unhandledrejectionHandler);\n    });\n  }\n  for (const levelType of logOptions.level) {\n    cancelHandlers.push(replace(logger, levelType));\n  }\n  return () => {\n    cancelHandlers.forEach((h) => h());\n  };\n  function replace(_logger, level) {\n    if (!_logger[level]) {\n      return () => {\n      };\n    }\n    return utils.patch(\n      _logger,\n      level,\n      (original) => {\n        return (...args) => {\n          original.apply(this, args);\n          if (level === \"assert\" && !!args[0]) {\n            return;\n          }\n          if (inStack) {\n            return;\n          }\n          inStack = true;\n          try {\n            const trace = ErrorStackParser.parse(new Error()).map((stackFrame) => stackFrame.toString()).splice(1);\n            const argsForPayload = level === \"assert\" ? args.slice(1) : args;\n            const payload = argsForPayload.map(\n              (s) => stringify(s, logOptions.stringifyOptions)\n            );\n            logCount++;\n            if (logCount < logOptions.lengthThreshold) {\n              cb({\n                level,\n                trace,\n                payload\n              });\n            } else if (logCount === logOptions.lengthThreshold) {\n              cb({\n                level: \"warn\",\n                trace: [],\n                payload: [\n                  stringify(\"The number of log records reached the threshold.\")\n                ]\n              });\n            }\n          } catch (error) {\n            original(\"rrweb logger error:\", error, ...args);\n          } finally {\n            inStack = false;\n          }\n        };\n      }\n    );\n  }\n}\nconst PLUGIN_NAME = \"rrweb/console@1\";\nconst getRecordConsolePlugin = (options) => ({\n  name: PLUGIN_NAME,\n  observer: initLogObserver,\n  options\n});\nexport {\n  PLUGIN_NAME,\n  getRecordConsolePlugin\n};\n//# sourceMappingURL=rrweb-plugin-console-record.js.map\n","import { __awaiter, __generator } from \"tslib\";\nimport { EvaluationEngine } from '@amplitude/experiment-core';\nimport { targetingIDBStore } from './targeting-idb-store';\nvar Targeting = /** @class */ (function () {\n    function Targeting() {\n        var _this = this;\n        this.evaluateTargeting = function (_a) {\n            var apiKey = _a.apiKey, loggerProvider = _a.loggerProvider, event = _a.event, sessionId = _a.sessionId, userProperties = _a.userProperties, deviceId = _a.deviceId, flag = _a.flag;\n            return __awaiter(_this, void 0, void 0, function () {\n                var eventTypes, _b, eventStrings, context, targetingBucket;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!(event && event.time)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, targetingIDBStore.storeEventTypeForSession({\n                                    loggerProvider: loggerProvider,\n                                    apiKey: apiKey,\n                                    sessionId: sessionId,\n                                    eventType: event.event_type,\n                                    eventTime: event.time,\n                                })];\n                        case 1:\n                            _b = _c.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _b = undefined;\n                            _c.label = 3;\n                        case 3:\n                            eventTypes = _b;\n                            eventStrings = eventTypes && new Set(Object.keys(eventTypes));\n                            context = {\n                                session_id: sessionId,\n                                event: event,\n                                event_types: eventStrings && Array.from(eventStrings),\n                                user: {\n                                    device_id: deviceId,\n                                    user_properties: userProperties,\n                                },\n                            };\n                            targetingBucket = this.evaluationEngine.evaluate(context, [flag]);\n                            return [2 /*return*/, targetingBucket];\n                    }\n                });\n            });\n        };\n        this.evaluationEngine = new EvaluationEngine();\n    }\n    return Targeting;\n}());\nexport { Targeting };\n//# sourceMappingURL=targeting.js.map","import targeting from './targeting-factory';\nexport var evaluateTargeting = targeting.evaluateTargeting;\n//# sourceMappingURL=index.js.map","import { Targeting } from './targeting';\nvar createInstance = function () {\n    var targeting = new Targeting();\n    return {\n        evaluateTargeting: targeting.evaluateTargeting.bind(targeting),\n    };\n};\nexport default createInstance();\n//# sourceMappingURL=targeting-factory.js.map","var compressionScript = \"var WebWorker=function(r){\\\"use strict\\\";var n=Uint8Array,e=Uint16Array,f=Uint32Array,t=new n([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new n([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new n([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i=function(r,n){for(var t=new e(31),a=0;a<31;++a)t[a]=n+=1<<r[a-1];var o=new f(t[30]);for(a=1;a<30;++a)for(var i=t[a];i<t[a+1];++i)o[i]=i-t[a]<<5|a;return[t,o]},v=i(t,2),u=v[0],s=v[1];u[28]=258,s[258]=28;for(var l=i(a,0)[1],c=new e(32768),h=0;h<32768;++h){var g=(43690&h)>>>1|(21845&h)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,c[h]=((65280&g)>>>8|(255&g)<<8)>>>1}var w=function(r,n,f){for(var t=r.length,a=0,o=new e(n);a<t;++a)++o[r[a]-1];var i,v=new e(n);for(a=0;a<n;++a)v[a]=v[a-1]+o[a-1]<<1;if(f){i=new e(1<<n);var u=15-n;for(a=0;a<t;++a)if(r[a])for(var s=a<<4|r[a],l=n-r[a],h=v[r[a]-1]++<<l,g=h|(1<<l)-1;h<=g;++h)i[c[h]>>>u]=s}else for(i=new e(t),a=0;a<t;++a)i[a]=c[v[r[a]-1]++]>>>15-r[a];return i},d=new n(288);for(h=0;h<144;++h)d[h]=8;for(h=144;h<256;++h)d[h]=9;for(h=256;h<280;++h)d[h]=7;for(h=280;h<288;++h)d[h]=8;var m=new n(32);for(h=0;h<32;++h)m[h]=5;var y=w(d,9,0),M=w(m,5,0),p=function(r){return(r/8|0)+(7&r&&1)},b=function(r,t,a){(null==a||a>r.length)&&(a=r.length);var o=new(r instanceof e?e:r instanceof f?f:n)(a-t);return o.set(r.subarray(t,a)),o},C=function(r,n,e){e<<=7&n;var f=n/8|0;r[f]|=e,r[f+1]|=e>>>8},S=function(r,n,e){e<<=7&n;var f=n/8|0;r[f]|=e,r[f+1]|=e>>>8,r[f+2]|=e>>>16},x=function(r,f){for(var t=[],a=0;a<r.length;++a)r[a]&&t.push({s:a,f:r[a]});var o=t.length,i=t.slice();if(!o)return[new n(0),0];if(1==o){var v=new n(t[0].s+1);return v[t[0].s]=1,[v,1]}t.sort(function(r,n){return r.f-n.f}),t.push({s:-1,f:25001});var u=t[0],s=t[1],l=0,c=1,h=2;for(t[0]={s:-1,f:u.f+s.f,l:u,r:s};c!=o-1;)u=t[t[l].f<t[h].f?l++:h++],s=t[l!=c&&t[l].f<t[h].f?l++:h++],t[c++]={s:-1,f:u.f+s.f,l:u,r:s};var g=i[0].s;for(a=1;a<o;++a)i[a].s>g&&(g=i[a].s);var w=new e(g+1),d=A(t[c-1],w,0);if(d>f){a=0;var m=0,y=d-f,M=1<<y;for(i.sort(function(r,n){return w[n.s]-w[r.s]||r.f-n.f});a<o;++a){var p=i[a].s;if(!(w[p]>f))break;m+=M-(1<<d-w[p]),w[p]=f}for(m>>>=y;m>0;){var b=i[a].s;w[b]<f?m-=1<<f-w[b]++-1:++a}for(;a>=0&&m;--a){var C=i[a].s;w[C]==f&&(--w[C],++m)}d=f}return[new n(w),d]},A=function(r,n,e){return-1==r.s?Math.max(A(r.l,n,e+1),A(r.r,n,e+1)):n[r.s]=e},O=function(r){for(var n=r.length;n&&!r[--n];);for(var f=new e(++n),t=0,a=r[0],o=1,i=function(r){f[t++]=r},v=1;v<=n;++v)if(r[v]==a&&v!=n)++o;else{if(!a&&o>2){for(;o>138;o-=138)i(32754);o>2&&(i(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(i(a),--o;o>6;o-=6)i(8304);o>2&&(i(o-3<<5|8208),o=0)}for(;o--;)i(a);o=1,a=r[v]}return[f.subarray(0,t),n]},T=function(r,n){for(var e=0,f=0;f<n.length;++f)e+=r[f]*n[f];return e},k=function(r,n,e){var f=e.length,t=p(n+2);r[t]=255&f,r[t+1]=f>>>8,r[t+2]=255^r[t],r[t+3]=255^r[t+1];for(var a=0;a<f;++a)r[t+a+4]=e[a];return 8*(t+4+f)},E=function(r,n,f,i,v,u,s,l,c,h,g){C(n,g++,f),++v[256];for(var p=x(v,15),b=p[0],A=p[1],E=x(u,15),J=E[0],N=E[1],U=O(b),D=U[0],I=U[1],W=O(J),_=W[0],j=W[1],P=new e(19),q=0;q<D.length;++q)P[31&D[q]]++;for(q=0;q<_.length;++q)P[31&_[q]]++;for(var z=x(P,7),B=z[0],F=z[1],G=19;G>4&&!B[o[G-1]];--G);var H,K,L,Q,R=h+5<<3,V=T(v,d)+T(u,m)+s,X=T(v,b)+T(u,J)+s+14+3*G+T(P,B)+(2*P[16]+3*P[17]+7*P[18]);if(R<=V&&R<=X)return k(n,g,r.subarray(c,c+h));if(C(n,g,1+(X<V)),g+=2,X<V){H=w(b,A,0),K=b,L=w(J,N,0),Q=J;var Y=w(B,F,0);C(n,g,I-257),C(n,g+5,j-1),C(n,g+10,G-4),g+=14;for(q=0;q<G;++q)C(n,g+3*q,B[o[q]]);g+=3*G;for(var Z=[D,_],$=0;$<2;++$){var rr=Z[$];for(q=0;q<rr.length;++q){var nr=31&rr[q];C(n,g,Y[nr]),g+=B[nr],nr>15&&(C(n,g,rr[q]>>>5&127),g+=rr[q]>>>12)}}}else H=y,K=d,L=M,Q=m;for(q=0;q<l;++q)if(i[q]>255){nr=i[q]>>>18&31;S(n,g,H[nr+257]),g+=K[nr+257],nr>7&&(C(n,g,i[q]>>>23&31),g+=t[nr]);var er=31&i[q];S(n,g,L[er]),g+=Q[er],er>3&&(S(n,g,i[q]>>>5&8191),g+=a[er])}else S(n,g,H[i[q]]),g+=K[i[q]];return S(n,g,H[256]),g+K[256]},J=new f([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N=function(r,o,i,v,u){return function(r,o,i,v,u,c){var h=r.length,g=new n(v+h+5*(1+Math.floor(h/7e3))+u),w=g.subarray(v,g.length-u),d=0;if(!o||h<8)for(var m=0;m<=h;m+=65535){var y=m+65535;y<h?d=k(w,d,r.subarray(m,y)):(w[m]=c,d=k(w,d,r.subarray(m,h)))}else{for(var M=J[o-1],C=M>>>13,S=8191&M,x=(1<<i)-1,A=new e(32768),O=new e(x+1),T=Math.ceil(i/3),N=2*T,U=function(n){return(r[n]^r[n+1]<<T^r[n+2]<<N)&x},D=new f(25e3),I=new e(288),W=new e(32),_=0,j=0,P=(m=0,0),q=0,z=0;m<h;++m){var B=U(m),F=32767&m,G=O[B];if(A[F]=G,O[B]=F,q<=m){var H=h-m;if((_>7e3||P>24576)&&H>423){d=E(r,w,0,D,I,W,j,P,z,m-z,d),P=_=j=0,z=m;for(var K=0;K<286;++K)I[K]=0;for(K=0;K<30;++K)W[K]=0}var L=2,Q=0,R=S,V=F-G&32767;if(H>2&&B==U(m-V))for(var X=Math.min(C,H)-1,Y=Math.min(32767,m),Z=Math.min(258,H);V<=Y&&--R&&F!=G;){if(r[m+L]==r[m+L-V]){for(var $=0;$<Z&&r[m+$]==r[m+$-V];++$);if($>L){if(L=$,Q=V,$>X)break;var rr=Math.min(V,$-2),nr=0;for(K=0;K<rr;++K){var er=m-V+K+32768&32767,fr=er-A[er]+32768&32767;fr>nr&&(nr=fr,G=er)}}}V+=(F=G)-(G=A[F])+32768&32767}if(Q){D[P++]=268435456|s[L]<<18|l[Q];var tr=31&s[L],ar=31&l[Q];j+=t[tr]+a[ar],++I[257+tr],++W[ar],q=m+L,++_}else D[P++]=r[m],++I[r[m]]}}d=E(r,w,c,D,I,W,j,P,z,m-z,d)}return b(g,0,v+p(d)+u)}(r,null==o.level?6:o.level,null==o.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+o.mem,i,v,!0)};function U(r,n){void 0===n&&(n={});var e=function(){var r=1,n=0;return{p:function(e){for(var f=r,t=n,a=e.length,o=0;o!=a;){for(var i=Math.min(o+5552,a);o<i;++o)t+=f+=e[o];f%=65521,t%=65521}r=f,n=t},d:function(){return(r>>>8<<16|(255&n)<<8|n>>>8)+2*((255&r)<<23)}}}();e.p(r);var f,t,a,o=N(r,n,2,4);return f=o,t=n.level,a=0==t?0:t<6?1:9==t?3:2,f[0]=120,f[1]=a<<6|(a?32-2*a:1),function(r,n,e){for(;e;++n)r[n]=e,e>>>=8}(o,o.length-4,e.d()),o}const D=r=>{const e={...r,v:\\\"v1\\\"};return function(r,n){var e=\\\"\\\";if(!n&&\\\"undefined\\\"!=typeof TextDecoder)return(new TextDecoder).decode(r);for(var f=0;f<r.length;){var t=r[f++];t<128||n?e+=String.fromCharCode(t):t<224?e+=String.fromCharCode((31&t)<<6|63&r[f++]):t<240?e+=String.fromCharCode((15&t)<<12|(63&r[f++])<<6|63&r[f++]):(t=((15&t)<<18|(63&r[f++])<<12|(63&r[f++])<<6|63&r[f++])-65536,e+=String.fromCharCode(55296|t>>10,56320|1023&t))}return e}(U(function(r,e){var f=r.length;if(!e&&\\\"undefined\\\"!=typeof TextEncoder)return(new TextEncoder).encode(r);for(var t=new n(r.length+(r.length>>>1)),a=0,o=function(r){t[a++]=r},i=0;i<f;++i){if(a+5>t.length){var v=new n(a+8+(f-i<<1));v.set(t),t=v}var u=r.charCodeAt(i);u<128||e?o(u):u<2048?(o(192|u>>>6),o(128|63&u)):u>55295&&u<57344?(o(240|(u=65536+(1047552&u)|1023&r.charCodeAt(++i))>>>18),o(128|u>>>12&63),o(128|u>>>6&63),o(128|63&u)):(o(224|u>>>12),o(128|u>>>6&63),o(128|63&u))}return b(t,0,a)}(JSON.stringify(e))),!0)};onmessage=r=>{const{event:n,sessionId:e}=\\\"string\\\"==typeof r.data?JSON.parse(r.data):r.data,f=JSON.stringify(D(n));postMessage({compressedEvent:f,sessionId:e})};const I=onmessage;return r.compressionOnMessage=I,Object.defineProperty(r,\\\"__esModule\\\",{value:!0}),r}({});\\n\";\n\nexport { compressionScript };\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar NodeType$3 = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType$3 || {});\nconst testableAccessors$1 = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nfunction angularZoneUnpatchedAlternative$1(key) {\n  var _a2, _b;\n  const angularUnpatchedVersionSymbol = (_b = (_a2 = globalThis == null ? void 0 : globalThis.Zone) == null ? void 0 : _a2.__symbol__) == null ? void 0 : _b.call(_a2, key);\n  if (angularUnpatchedVersionSymbol && globalThis[angularUnpatchedVersionSymbol]) {\n    return globalThis[angularUnpatchedVersionSymbol];\n  } else {\n    return void 0;\n  }\n}\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const candidate = angularZoneUnpatchedAlternative$1(key) || globalThis[key];\n  const defaultPrototype = candidate.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype$1[key] = candidate.prototype;\n    return candidate.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return candidate.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nconst index$1 = {\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1\n};\nfunction isElement(n2) {\n  return n2.nodeType === n2.ELEMENT_NODE;\n}\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nfunction isNativeShadowDom(shadowRoot2) {\n  return Object.prototype.toString.call(shadowRoot2) === \"[object ShadowRoot]\";\n}\nfunction fixBrowserCompatibilityIssuesInCSS(cssText) {\n  if (cssText.includes(\" background-clip: text;\") && !cssText.includes(\" -webkit-background-clip: text;\")) {\n    cssText = cssText.replace(\n      /\\sbackground-clip:\\s*text;/g,\n      \" -webkit-background-clip: text; background-clip: text;\"\n    );\n  }\n  return cssText;\n}\nfunction escapeImportStatement(rule2) {\n  const { cssText } = rule2;\n  if (cssText.split('\"').length < 3) return cssText;\n  const statement = [\"@import\", `url(${JSON.stringify(rule2.href)})`];\n  if (rule2.layerName === \"\") {\n    statement.push(`layer`);\n  } else if (rule2.layerName) {\n    statement.push(`layer(${rule2.layerName})`);\n  }\n  if (rule2.supportsText) {\n    statement.push(`supports(${rule2.supportsText})`);\n  }\n  if (rule2.media.length) {\n    statement.push(rule2.media.mediaText);\n  }\n  return statement.join(\" \") + \";\";\n}\nfunction stringifyStylesheet(s2) {\n  try {\n    const rules2 = s2.rules || s2.cssRules;\n    if (!rules2) {\n      return null;\n    }\n    let sheetHref = s2.href;\n    if (!sheetHref && s2.ownerNode && s2.ownerNode.ownerDocument) {\n      sheetHref = s2.ownerNode.ownerDocument.location.href;\n    }\n    const stringifiedRules = Array.from(\n      rules2,\n      (rule2) => stringifyRule(rule2, sheetHref)\n    ).join(\"\");\n    return fixBrowserCompatibilityIssuesInCSS(stringifiedRules);\n  } catch (error) {\n    return null;\n  }\n}\nfunction stringifyRule(rule2, sheetHref) {\n  if (isCSSImportRule(rule2)) {\n    let importStringified;\n    try {\n      importStringified = // for same-origin stylesheets,\n      // we can access the imported stylesheet rules directly\n      stringifyStylesheet(rule2.styleSheet) || // work around browser issues with the raw string `@import url(...)` statement\n      escapeImportStatement(rule2);\n    } catch (error) {\n      importStringified = rule2.cssText;\n    }\n    if (rule2.styleSheet.href) {\n      return absolutifyURLs(importStringified, rule2.styleSheet.href);\n    }\n    return importStringified;\n  } else {\n    let ruleStringified = rule2.cssText;\n    if (isCSSStyleRule(rule2) && rule2.selectorText.includes(\":\")) {\n      ruleStringified = fixSafariColons(ruleStringified);\n    }\n    if (sheetHref) {\n      return absolutifyURLs(ruleStringified, sheetHref);\n    }\n    return ruleStringified;\n  }\n}\nfunction fixSafariColons(cssStringified) {\n  const regex = /(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;\n  return cssStringified.replace(regex, \"$1\\\\$2\");\n}\nfunction isCSSImportRule(rule2) {\n  return \"styleSheet\" in rule2;\n}\nfunction isCSSStyleRule(rule2) {\n  return \"selectorText\" in rule2;\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nfunction maskInputValue({\n  element,\n  maskInputOptions,\n  tagName,\n  type,\n  value,\n  maskInputFn\n}) {\n  let text = value || \"\";\n  const actualType = type && toLowerCase(type);\n  if (maskInputOptions[tagName.toLowerCase()] || actualType && maskInputOptions[actualType]) {\n    if (maskInputFn) {\n      text = maskInputFn(text, element);\n    } else {\n      text = \"*\".repeat(text.length);\n    }\n  }\n  return text;\n}\nfunction toLowerCase(str) {\n  return str.toLowerCase();\n}\nconst ORIGINAL_ATTRIBUTE_NAME = \"__rrweb_original__\";\nfunction is2DCanvasBlank(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) return true;\n  const chunkSize = 50;\n  for (let x = 0; x < canvas.width; x += chunkSize) {\n    for (let y = 0; y < canvas.height; y += chunkSize) {\n      const getImageData = ctx.getImageData;\n      const originalGetImageData = ORIGINAL_ATTRIBUTE_NAME in getImageData ? getImageData[ORIGINAL_ATTRIBUTE_NAME] : getImageData;\n      const pixelBuffer = new Uint32Array(\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n        originalGetImageData.call(\n          ctx,\n          x,\n          y,\n          Math.min(chunkSize, canvas.width - x),\n          Math.min(chunkSize, canvas.height - y)\n        ).data.buffer\n      );\n      if (pixelBuffer.some((pixel) => pixel !== 0)) return false;\n    }\n  }\n  return true;\n}\nfunction getInputType(element) {\n  const type = element.type;\n  return element.hasAttribute(\"data-rr-is-password\") ? \"password\" : type ? (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    toLowerCase(type)\n  ) : null;\n}\nfunction extractFileExtension(path, baseURL) {\n  let url;\n  try {\n    url = new URL(path, baseURL ?? window.location.href);\n  } catch (err) {\n    return null;\n  }\n  const regex = /\\.([0-9a-z]+)(?:$)/i;\n  const match = url.pathname.match(regex);\n  return (match == null ? void 0 : match[1]) ?? null;\n}\nfunction extractOrigin(url) {\n  let origin = \"\";\n  if (url.indexOf(\"//\") > -1) {\n    origin = url.split(\"/\").slice(0, 3).join(\"/\");\n  } else {\n    origin = url.split(\"/\")[0];\n  }\n  origin = origin.split(\"?\")[0];\n  return origin;\n}\nconst URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\nconst URL_PROTOCOL_MATCH = /^(?:[a-z+]+:)?\\/\\//i;\nconst URL_WWW_MATCH = /^www\\..*/i;\nconst DATA_URI = /^(data:)([^,]*),(.*)/i;\nfunction absolutifyURLs(cssText, href) {\n  return (cssText || \"\").replace(\n    URL_IN_CSS_REF,\n    (origin, quote1, path1, quote2, path2, path3) => {\n      const filePath = path1 || path2 || path3;\n      const maybeQuote = quote1 || quote2 || \"\";\n      if (!filePath) {\n        return origin;\n      }\n      if (URL_PROTOCOL_MATCH.test(filePath) || URL_WWW_MATCH.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (DATA_URI.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (filePath[0] === \"/\") {\n        return `url(${maybeQuote}${extractOrigin(href) + filePath}${maybeQuote})`;\n      }\n      const stack = href.split(\"/\");\n      const parts = filePath.split(\"/\");\n      stack.pop();\n      for (const part of parts) {\n        if (part === \".\") {\n          continue;\n        } else if (part === \"..\") {\n          stack.pop();\n        } else {\n          stack.push(part);\n        }\n      }\n      return `url(${maybeQuote}${stack.join(\"/\")}${maybeQuote})`;\n    }\n  );\n}\nfunction normalizeCssString(cssText, _testNoPxNorm = false) {\n  if (_testNoPxNorm) {\n    return cssText.replace(/(\\/\\*[^*]*\\*\\/)|[\\s;]/g, \"\");\n  } else {\n    return cssText.replace(/(\\/\\*[^*]*\\*\\/)|[\\s;]/g, \"\").replace(/0px/g, \"0\");\n  }\n}\nfunction splitCssText(cssText, style, _testNoPxNorm = false) {\n  const childNodes2 = Array.from(style.childNodes);\n  const splits = [];\n  let iterCount = 0;\n  if (childNodes2.length > 1 && cssText && typeof cssText === \"string\") {\n    let cssTextNorm = normalizeCssString(cssText, _testNoPxNorm);\n    const normFactor = cssTextNorm.length / cssText.length;\n    for (let i2 = 1; i2 < childNodes2.length; i2++) {\n      if (childNodes2[i2].textContent && typeof childNodes2[i2].textContent === \"string\") {\n        const textContentNorm = normalizeCssString(\n          childNodes2[i2].textContent,\n          _testNoPxNorm\n        );\n        const jLimit = 100;\n        let j = 3;\n        for (; j < textContentNorm.length; j++) {\n          if (\n            // keep consuming css identifiers (to get a decent chunk more quickly)\n            textContentNorm[j].match(/[a-zA-Z0-9]/) || // substring needs to be unique to this section\n            textContentNorm.indexOf(textContentNorm.substring(0, j), 1) !== -1\n          ) {\n            continue;\n          }\n          break;\n        }\n        for (; j < textContentNorm.length; j++) {\n          let startSubstring = textContentNorm.substring(0, j);\n          let cssNormSplits = cssTextNorm.split(startSubstring);\n          let splitNorm = -1;\n          if (cssNormSplits.length === 2) {\n            splitNorm = cssNormSplits[0].length;\n          } else if (cssNormSplits.length > 2 && cssNormSplits[0] === \"\" && childNodes2[i2 - 1].textContent !== \"\") {\n            splitNorm = cssTextNorm.indexOf(startSubstring, 1);\n          } else if (cssNormSplits.length === 1) {\n            startSubstring = startSubstring.substring(\n              0,\n              startSubstring.length - 1\n            );\n            cssNormSplits = cssTextNorm.split(startSubstring);\n            if (cssNormSplits.length <= 1) {\n              splits.push(cssText);\n              return splits;\n            }\n            j = jLimit + 1;\n          } else if (j === textContentNorm.length - 1) {\n            splitNorm = cssTextNorm.indexOf(startSubstring);\n          }\n          if (cssNormSplits.length >= 2 && j > jLimit) {\n            const prevTextContent = childNodes2[i2 - 1].textContent;\n            if (prevTextContent && typeof prevTextContent === \"string\") {\n              const prevMinLength = normalizeCssString(prevTextContent).length;\n              splitNorm = cssTextNorm.indexOf(startSubstring, prevMinLength);\n            }\n            if (splitNorm === -1) {\n              splitNorm = cssNormSplits[0].length;\n            }\n          }\n          if (splitNorm !== -1) {\n            let k = Math.floor(splitNorm / normFactor);\n            for (; k > 0 && k < cssText.length; ) {\n              iterCount += 1;\n              if (iterCount > 50 * childNodes2.length) {\n                splits.push(cssText);\n                return splits;\n              }\n              const normPart = normalizeCssString(\n                cssText.substring(0, k),\n                _testNoPxNorm\n              );\n              if (normPart.length === splitNorm) {\n                splits.push(cssText.substring(0, k));\n                cssText = cssText.substring(k);\n                cssTextNorm = cssTextNorm.substring(splitNorm);\n                break;\n              } else if (normPart.length < splitNorm) {\n                k += Math.max(\n                  1,\n                  Math.floor((splitNorm - normPart.length) / normFactor)\n                );\n              } else {\n                k -= Math.max(\n                  1,\n                  Math.floor((normPart.length - splitNorm) * normFactor)\n                );\n              }\n            }\n            break;\n          }\n        }\n      }\n    }\n  }\n  splits.push(cssText);\n  return splits;\n}\nfunction markCssSplits(cssText, style) {\n  return splitCssText(cssText, style).join(\"/* rr_split */\");\n}\nconst _DEFAULT_BLOCKED_ELEMENT_BACKGROUND_COLOR = \"lightgrey\";\nlet _id = 1;\nconst tagNameRegex = new RegExp(\"[^a-z0-9-_:]\");\nconst IGNORED_NODE = -2;\nfunction genId() {\n  return _id++;\n}\nfunction getValidTagName$1(element) {\n  if (element instanceof HTMLFormElement) {\n    return \"form\";\n  }\n  const processedTagName = toLowerCase(element.tagName);\n  if (tagNameRegex.test(processedTagName)) {\n    return \"div\";\n  }\n  return processedTagName;\n}\nlet canvasService;\nlet canvasCtx;\nconst SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\nconst SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\n  if (attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  let pos = 0;\n  function collectCharacters(regEx) {\n    let chars2;\n    const match = regEx.exec(attributeValue.substring(pos));\n    if (match) {\n      chars2 = match[0];\n      pos += chars2.length;\n      return chars2;\n    }\n    return \"\";\n  }\n  const output = [];\n  while (true) {\n    collectCharacters(SRCSET_COMMAS_OR_SPACES);\n    if (pos >= attributeValue.length) {\n      break;\n    }\n    let url = collectCharacters(SRCSET_NOT_SPACES);\n    if (url.slice(-1) === \",\") {\n      url = absoluteToDoc(doc, url.substring(0, url.length - 1));\n      output.push(url);\n    } else {\n      let descriptorsStr = \"\";\n      url = absoluteToDoc(doc, url);\n      let inParens = false;\n      while (true) {\n        const c2 = attributeValue.charAt(pos);\n        if (c2 === \"\") {\n          output.push((url + descriptorsStr).trim());\n          break;\n        } else if (!inParens) {\n          if (c2 === \",\") {\n            pos += 1;\n            output.push((url + descriptorsStr).trim());\n            break;\n          } else if (c2 === \"(\") {\n            inParens = true;\n          }\n        } else {\n          if (c2 === \")\") {\n            inParens = false;\n          }\n        }\n        descriptorsStr += c2;\n        pos += 1;\n      }\n    }\n  }\n  return output.join(\", \");\n}\nconst cachedDocument = /* @__PURE__ */ new WeakMap();\nfunction absoluteToDoc(doc, attributeValue) {\n  if (!attributeValue || attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  return getHref(doc, attributeValue);\n}\nfunction isSVGElement(el) {\n  return Boolean(el.tagName === \"svg\" || el.ownerSVGElement);\n}\nfunction getHref(doc, customHref) {\n  let a2 = cachedDocument.get(doc);\n  if (!a2) {\n    a2 = doc.createElement(\"a\");\n    cachedDocument.set(doc, a2);\n  }\n  if (!customHref) {\n    customHref = \"\";\n  } else if (customHref.startsWith(\"blob:\") || customHref.startsWith(\"data:\")) {\n    return customHref;\n  }\n  a2.setAttribute(\"href\", customHref);\n  return a2.href;\n}\nfunction transformAttribute(doc, tagName, name, value) {\n  if (!value) {\n    return value;\n  }\n  if (name === \"src\" || name === \"href\" && !(tagName === \"use\" && value[0] === \"#\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"xlink:href\" && value[0] !== \"#\") {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"background\" && (tagName === \"table\" || tagName === \"td\" || tagName === \"th\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"srcset\") {\n    return getAbsoluteSrcsetString(doc, value);\n  } else if (name === \"style\") {\n    return absolutifyURLs(value, getHref(doc));\n  } else if (tagName === \"object\" && name === \"data\") {\n    return absoluteToDoc(doc, value);\n  }\n  return value;\n}\nfunction ignoreAttribute(tagName, name, _value) {\n  return (tagName === \"video\" || tagName === \"audio\") && name === \"autoplay\";\n}\nfunction _isBlockedElement(element, blockClass, blockSelector) {\n  try {\n    if (typeof blockClass === \"string\") {\n      if (element.classList.contains(blockClass)) {\n        return true;\n      }\n    } else {\n      for (let eIndex = element.classList.length; eIndex--; ) {\n        const className = element.classList[eIndex];\n        if (blockClass.test(className)) {\n          return true;\n        }\n      }\n    }\n    if (blockSelector) {\n      return element.matches(blockSelector);\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction needMaskingText(node2, maskTextClass, maskTextSelector, checkAncestors) {\n  let el;\n  if (isElement(node2)) {\n    el = node2;\n    if (!index$1.childNodes(el).length) {\n      return false;\n    }\n  } else if (index$1.parentElement(node2) === null) {\n    return false;\n  } else {\n    el = index$1.parentElement(node2);\n  }\n  try {\n    if (typeof maskTextClass === \"string\") {\n      if (checkAncestors) {\n        if (el.closest(`.${maskTextClass}`)) return true;\n      } else {\n        if (el.classList.contains(maskTextClass)) return true;\n      }\n    } else {\n      if (classMatchesRegex(el, maskTextClass, checkAncestors)) return true;\n    }\n    if (maskTextSelector) {\n      if (checkAncestors) {\n        if (el.closest(maskTextSelector)) return true;\n      } else {\n        if (el.matches(maskTextSelector)) return true;\n      }\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\n  const win = iframeEl.contentWindow;\n  if (!win) {\n    return;\n  }\n  let fired = false;\n  let readyState;\n  try {\n    readyState = win.document.readyState;\n  } catch (error) {\n    return;\n  }\n  if (readyState !== \"complete\") {\n    const timer = setTimeout(() => {\n      if (!fired) {\n        listener();\n        fired = true;\n      }\n    }, iframeLoadTimeout);\n    iframeEl.addEventListener(\"load\", () => {\n      clearTimeout(timer);\n      fired = true;\n      listener();\n    });\n    return;\n  }\n  const blankUrl = \"about:blank\";\n  if (win.location.href !== blankUrl || iframeEl.src === blankUrl || iframeEl.src === \"\") {\n    setTimeout(listener, 0);\n    return iframeEl.addEventListener(\"load\", listener);\n  }\n  iframeEl.addEventListener(\"load\", listener);\n}\nfunction onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\n  let fired = false;\n  let styleSheetLoaded;\n  try {\n    styleSheetLoaded = link.sheet;\n  } catch (error) {\n    return;\n  }\n  if (styleSheetLoaded) return;\n  const timer = setTimeout(() => {\n    if (!fired) {\n      listener();\n      fired = true;\n    }\n  }, styleSheetLoadTimeout);\n  link.addEventListener(\"load\", () => {\n    clearTimeout(timer);\n    fired = true;\n    listener();\n  });\n}\nfunction serializeNode(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    cssCaptured = false,\n    applyBackgroundColorToBlockedElements = false\n  } = options;\n  const rootId = getRootId(doc, mirror2);\n  switch (n2.nodeType) {\n    case n2.DOCUMENT_NODE:\n      if (n2.compatMode !== \"CSS1Compat\") {\n        return {\n          type: NodeType$3.Document,\n          childNodes: [],\n          compatMode: n2.compatMode\n          // probably \"BackCompat\"\n        };\n      } else {\n        return {\n          type: NodeType$3.Document,\n          childNodes: []\n        };\n      }\n    case n2.DOCUMENT_TYPE_NODE:\n      return {\n        type: NodeType$3.DocumentType,\n        name: n2.name,\n        publicId: n2.publicId,\n        systemId: n2.systemId,\n        rootId\n      };\n    case n2.ELEMENT_NODE:\n      return serializeElementNode(n2, {\n        doc,\n        blockClass,\n        blockSelector,\n        inlineStylesheet,\n        maskInputOptions,\n        maskInputFn,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        keepIframeSrcFn,\n        newlyAddedElement,\n        rootId,\n        applyBackgroundColorToBlockedElements\n      });\n    case n2.TEXT_NODE:\n      return serializeTextNode(n2, {\n        doc,\n        needsMask,\n        maskTextFn,\n        rootId,\n        cssCaptured\n      });\n    case n2.CDATA_SECTION_NODE:\n      return {\n        type: NodeType$3.CDATA,\n        textContent: \"\",\n        rootId\n      };\n    case n2.COMMENT_NODE:\n      return {\n        type: NodeType$3.Comment,\n        textContent: index$1.textContent(n2) || \"\",\n        rootId\n      };\n    default:\n      return false;\n  }\n}\nfunction getRootId(doc, mirror2) {\n  if (!mirror2.hasNode(doc)) return void 0;\n  const docId = mirror2.getId(doc);\n  return docId === 1 ? void 0 : docId;\n}\nfunction serializeTextNode(n2, options) {\n  const { needsMask, maskTextFn, rootId, cssCaptured } = options;\n  const parent = index$1.parentNode(n2);\n  const parentTagName = parent && parent.tagName;\n  let textContent2 = \"\";\n  const isStyle = parentTagName === \"STYLE\" ? true : void 0;\n  const isScript = parentTagName === \"SCRIPT\" ? true : void 0;\n  if (isScript) {\n    textContent2 = \"SCRIPT_PLACEHOLDER\";\n  } else if (!cssCaptured) {\n    textContent2 = index$1.textContent(n2);\n    if (isStyle && textContent2) {\n      textContent2 = absolutifyURLs(textContent2, getHref(options.doc));\n    }\n  }\n  if (!isStyle && !isScript && textContent2 && needsMask) {\n    textContent2 = maskTextFn ? maskTextFn(textContent2, index$1.parentElement(n2)) : textContent2.replace(/[\\S]/g, \"*\");\n  }\n  return {\n    type: NodeType$3.Text,\n    textContent: textContent2 || \"\",\n    rootId\n  };\n}\nfunction serializeElementNode(n2, options) {\n  const {\n    doc,\n    blockClass,\n    blockSelector,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    rootId,\n    applyBackgroundColorToBlockedElements = false\n  } = options;\n  const needBlock = _isBlockedElement(n2, blockClass, blockSelector);\n  const tagName = getValidTagName$1(n2);\n  let attributes = {};\n  const len = n2.attributes.length;\n  for (let i2 = 0; i2 < len; i2++) {\n    const attr = n2.attributes[i2];\n    if (!ignoreAttribute(tagName, attr.name, attr.value)) {\n      attributes[attr.name] = transformAttribute(\n        doc,\n        tagName,\n        toLowerCase(attr.name),\n        attr.value\n      );\n    }\n  }\n  if (tagName === \"link\" && inlineStylesheet) {\n    const stylesheet = Array.from(doc.styleSheets).find((s2) => {\n      return s2.href === n2.href;\n    });\n    let cssText = null;\n    if (stylesheet) {\n      cssText = stringifyStylesheet(stylesheet);\n    }\n    if (cssText) {\n      delete attributes.rel;\n      delete attributes.href;\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"style\" && n2.sheet) {\n    let cssText = stringifyStylesheet(\n      n2.sheet\n    );\n    if (cssText) {\n      if (n2.childNodes.length > 1) {\n        cssText = markCssSplits(cssText, n2);\n      }\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"input\" || tagName === \"textarea\" || tagName === \"select\") {\n    const value = n2.value;\n    const checked = n2.checked;\n    if (attributes.type !== \"radio\" && attributes.type !== \"checkbox\" && attributes.type !== \"submit\" && attributes.type !== \"button\" && value) {\n      attributes.value = maskInputValue({\n        element: n2,\n        type: getInputType(n2),\n        tagName,\n        value,\n        maskInputOptions,\n        maskInputFn\n      });\n    } else if (checked) {\n      attributes.checked = checked;\n    }\n  }\n  if (tagName === \"option\") {\n    if (n2.selected && !maskInputOptions[\"select\"]) {\n      attributes.selected = true;\n    } else {\n      delete attributes.selected;\n    }\n  }\n  if (tagName === \"dialog\" && n2.open) {\n    attributes.rr_open_mode = n2.matches(\"dialog:modal\") ? \"modal\" : \"non-modal\";\n  }\n  if (tagName === \"canvas\" && recordCanvas) {\n    if (n2.__context === \"2d\") {\n      if (!is2DCanvasBlank(n2)) {\n        attributes.rr_dataURL = n2.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      }\n    } else if (!(\"__context\" in n2)) {\n      const canvasDataURL = n2.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      const blankCanvas = doc.createElement(\"canvas\");\n      blankCanvas.width = n2.width;\n      blankCanvas.height = n2.height;\n      const blankCanvasDataURL = blankCanvas.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      if (canvasDataURL !== blankCanvasDataURL) {\n        attributes.rr_dataURL = canvasDataURL;\n      }\n    }\n  }\n  if (tagName === \"img\" && inlineImages) {\n    if (!canvasService) {\n      canvasService = doc.createElement(\"canvas\");\n      canvasCtx = canvasService.getContext(\"2d\");\n    }\n    const image = n2;\n    const imageSrc = image.currentSrc || image.getAttribute(\"src\") || \"<unknown-src>\";\n    const priorCrossOrigin = image.crossOrigin;\n    const recordInlineImage = () => {\n      image.removeEventListener(\"load\", recordInlineImage);\n      try {\n        canvasService.width = image.naturalWidth;\n        canvasService.height = image.naturalHeight;\n        canvasCtx.drawImage(image, 0, 0);\n        attributes.rr_dataURL = canvasService.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      } catch (err) {\n        if (image.crossOrigin !== \"anonymous\") {\n          image.crossOrigin = \"anonymous\";\n          if (image.complete && image.naturalWidth !== 0)\n            recordInlineImage();\n          else image.addEventListener(\"load\", recordInlineImage);\n          return;\n        } else {\n          console.warn(\n            `Cannot inline img src=${imageSrc}! Error: ${err}`\n          );\n        }\n      }\n      if (image.crossOrigin === \"anonymous\") {\n        priorCrossOrigin ? attributes.crossOrigin = priorCrossOrigin : image.removeAttribute(\"crossorigin\");\n      }\n    };\n    if (image.complete && image.naturalWidth !== 0) recordInlineImage();\n    else image.addEventListener(\"load\", recordInlineImage);\n  }\n  if (tagName === \"audio\" || tagName === \"video\") {\n    const mediaAttributes = attributes;\n    mediaAttributes.rr_mediaState = n2.paused ? \"paused\" : \"played\";\n    mediaAttributes.rr_mediaCurrentTime = n2.currentTime;\n    mediaAttributes.rr_mediaPlaybackRate = n2.playbackRate;\n    mediaAttributes.rr_mediaMuted = n2.muted;\n    mediaAttributes.rr_mediaLoop = n2.loop;\n    mediaAttributes.rr_mediaVolume = n2.volume;\n  }\n  if (!newlyAddedElement) {\n    if (n2.scrollLeft) {\n      attributes.rr_scrollLeft = n2.scrollLeft;\n    }\n    if (n2.scrollTop) {\n      attributes.rr_scrollTop = n2.scrollTop;\n    }\n  }\n  if (needBlock) {\n    const { width, height } = n2.getBoundingClientRect();\n    attributes = {\n      class: attributes.class,\n      rr_width: `${width}px`,\n      rr_height: `${height}px`,\n      ...applyBackgroundColorToBlockedElements ? { rr_background_color: _DEFAULT_BLOCKED_ELEMENT_BACKGROUND_COLOR } : {}\n    };\n  }\n  if (tagName === \"iframe\" && !keepIframeSrcFn(attributes.src)) {\n    if (!n2.contentDocument) {\n      attributes.rr_src = attributes.src;\n    }\n    delete attributes.src;\n  }\n  let isCustomElement;\n  try {\n    if (customElements.get(tagName)) isCustomElement = true;\n  } catch (e2) {\n  }\n  return {\n    type: NodeType$3.Element,\n    tagName,\n    attributes,\n    childNodes: [],\n    isSVG: isSVGElement(n2) || void 0,\n    needBlock,\n    rootId,\n    isCustom: isCustomElement\n  };\n}\nfunction lowerIfExists(maybeAttr) {\n  if (maybeAttr === void 0 || maybeAttr === null) {\n    return \"\";\n  } else {\n    return maybeAttr.toLowerCase();\n  }\n}\nfunction slimDOMExcluded(sn, slimDOMOptions) {\n  if (slimDOMOptions.comment && sn.type === NodeType$3.Comment) {\n    return true;\n  } else if (sn.type === NodeType$3.Element) {\n    if (slimDOMOptions.script && // script tag\n    (sn.tagName === \"script\" || // (module)preload link\n    sn.tagName === \"link\" && (sn.attributes.rel === \"preload\" || sn.attributes.rel === \"modulepreload\") && sn.attributes.as === \"script\" || // prefetch link\n    sn.tagName === \"link\" && sn.attributes.rel === \"prefetch\" && typeof sn.attributes.href === \"string\" && extractFileExtension(sn.attributes.href) === \"js\")) {\n      return true;\n    } else if (slimDOMOptions.headFavicon && (sn.tagName === \"link\" && sn.attributes.rel === \"shortcut icon\" || sn.tagName === \"meta\" && (lowerIfExists(sn.attributes.name).match(\n      /^msapplication-tile(image|color)$/\n    ) || lowerIfExists(sn.attributes.name) === \"application-name\" || lowerIfExists(sn.attributes.rel) === \"icon\" || lowerIfExists(sn.attributes.rel) === \"apple-touch-icon\" || lowerIfExists(sn.attributes.rel) === \"shortcut icon\"))) {\n      return true;\n    } else if (sn.tagName === \"meta\") {\n      if (slimDOMOptions.headMetaDescKeywords && lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n        return true;\n      } else if (slimDOMOptions.headMetaSocial && (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) || // og = opengraph (facebook)\n      lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) || lowerIfExists(sn.attributes.name) === \"pinterest\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaRobots && (lowerIfExists(sn.attributes.name) === \"robots\" || lowerIfExists(sn.attributes.name) === \"googlebot\" || lowerIfExists(sn.attributes.name) === \"bingbot\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaHttpEquiv && sn.attributes[\"http-equiv\"] !== void 0) {\n        return true;\n      } else if (slimDOMOptions.headMetaAuthorship && (lowerIfExists(sn.attributes.name) === \"author\" || lowerIfExists(sn.attributes.name) === \"generator\" || lowerIfExists(sn.attributes.name) === \"framework\" || lowerIfExists(sn.attributes.name) === \"publisher\" || lowerIfExists(sn.attributes.name) === \"progid\" || lowerIfExists(sn.attributes.property).match(/^article:/) || lowerIfExists(sn.attributes.property).match(/^product:/))) {\n        return true;\n      } else if (slimDOMOptions.headMetaVerification && (lowerIfExists(sn.attributes.name) === \"google-site-verification\" || lowerIfExists(sn.attributes.name) === \"yandex-verification\" || lowerIfExists(sn.attributes.name) === \"csrf-token\" || lowerIfExists(sn.attributes.name) === \"p:domain_verify\" || lowerIfExists(sn.attributes.name) === \"verify-v1\" || lowerIfExists(sn.attributes.name) === \"verification\" || lowerIfExists(sn.attributes.name) === \"shopify-checkout-api-token\")) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nfunction serializeNodeWithId(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild = false,\n    inlineStylesheet = true,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions = {},\n    inlineImages = false,\n    recordCanvas = false,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout = 5e3,\n    onStylesheetLoad,\n    stylesheetLoadTimeout = 5e3,\n    keepIframeSrcFn = () => false,\n    newlyAddedElement = false,\n    cssCaptured = false,\n    applyBackgroundColorToBlockedElements = false\n  } = options;\n  let { needsMask } = options;\n  let { preserveWhiteSpace = true } = options;\n  if (!needsMask) {\n    const checkAncestors = needsMask === void 0;\n    needsMask = needMaskingText(\n      n2,\n      maskTextClass,\n      maskTextSelector,\n      checkAncestors\n    );\n  }\n  const _serializedNode = serializeNode(n2, {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement,\n    cssCaptured,\n    applyBackgroundColorToBlockedElements\n  });\n  if (!_serializedNode) {\n    console.warn(n2, \"not serialized\");\n    return null;\n  }\n  let id;\n  if (mirror2.hasNode(n2)) {\n    id = mirror2.getId(n2);\n  } else if (slimDOMExcluded(_serializedNode, slimDOMOptions) || !preserveWhiteSpace && _serializedNode.type === NodeType$3.Text && !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) {\n    id = IGNORED_NODE;\n  } else {\n    id = genId();\n  }\n  const serializedNode = Object.assign(_serializedNode, { id });\n  mirror2.add(n2, serializedNode);\n  if (id === IGNORED_NODE) {\n    return null;\n  }\n  if (onSerialize) {\n    onSerialize(n2);\n  }\n  let recordChild = !skipChild;\n  if (serializedNode.type === NodeType$3.Element) {\n    recordChild = recordChild && !serializedNode.needBlock;\n    delete serializedNode.needBlock;\n    const shadowRootEl = index$1.shadowRoot(n2);\n    if (shadowRootEl && isNativeShadowDom(shadowRootEl))\n      serializedNode.isShadowHost = true;\n  }\n  if ((serializedNode.type === NodeType$3.Document || serializedNode.type === NodeType$3.Element) && recordChild) {\n    if (slimDOMOptions.headWhitespace && serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"head\") {\n      preserveWhiteSpace = false;\n    }\n    const bypassOptions = {\n      doc,\n      mirror: mirror2,\n      blockClass,\n      blockSelector,\n      needsMask,\n      maskTextClass,\n      maskTextSelector,\n      skipChild,\n      inlineStylesheet,\n      maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOMOptions,\n      dataURLOptions,\n      inlineImages,\n      recordCanvas,\n      preserveWhiteSpace,\n      onSerialize,\n      onIframeLoad,\n      iframeLoadTimeout,\n      onStylesheetLoad,\n      stylesheetLoadTimeout,\n      keepIframeSrcFn,\n      cssCaptured: false,\n      applyBackgroundColorToBlockedElements\n    };\n    if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"textarea\" && serializedNode.attributes.value !== void 0) ;\n    else {\n      if (serializedNode.type === NodeType$3.Element && serializedNode.attributes._cssText !== void 0 && typeof serializedNode.attributes._cssText === \"string\") {\n        bypassOptions.cssCaptured = true;\n      }\n      for (const childN of Array.from(index$1.childNodes(n2))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n    let shadowRootEl = null;\n    if (isElement(n2) && (shadowRootEl = index$1.shadowRoot(n2))) {\n      for (const childN of Array.from(index$1.childNodes(shadowRootEl))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          isNativeShadowDom(shadowRootEl) && (serializedChildNode.isShadow = true);\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n  }\n  const parent = index$1.parentNode(n2);\n  if (parent && isShadowRoot(parent) && isNativeShadowDom(parent)) {\n    serializedNode.isShadow = true;\n  }\n  if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"iframe\") {\n    onceIframeLoaded(\n      n2,\n      () => {\n        const iframeDoc = n2.contentDocument;\n        if (iframeDoc && onIframeLoad) {\n          const serializedIframeNode = serializeNodeWithId(iframeDoc, {\n            doc: iframeDoc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedIframeNode) {\n            onIframeLoad(\n              n2,\n              serializedIframeNode\n            );\n          }\n        }\n      },\n      iframeLoadTimeout\n    );\n  }\n  if (serializedNode.type === NodeType$3.Element && serializedNode.tagName === \"link\" && typeof serializedNode.attributes.rel === \"string\" && (serializedNode.attributes.rel === \"stylesheet\" || serializedNode.attributes.rel === \"preload\" && typeof serializedNode.attributes.href === \"string\" && extractFileExtension(serializedNode.attributes.href) === \"css\")) {\n    onceStylesheetLoaded(\n      n2,\n      () => {\n        if (onStylesheetLoad) {\n          const serializedLinkNode = serializeNodeWithId(n2, {\n            doc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedLinkNode) {\n            onStylesheetLoad(\n              n2,\n              serializedLinkNode\n            );\n          }\n        }\n      },\n      stylesheetLoadTimeout\n    );\n  }\n  return serializedNode;\n}\nfunction snapshot(n2, options) {\n  const {\n    mirror: mirror2 = new Mirror(),\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    inlineImages = false,\n    recordCanvas = false,\n    maskAllInputs = false,\n    maskTextFn,\n    maskInputFn,\n    slimDOM = false,\n    dataURLOptions,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn = () => false,\n    applyBackgroundColorToBlockedElements = false\n  } = options;\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : maskAllInputs === false ? {\n    password: true\n  } : maskAllInputs;\n  const slimDOMOptions = slimDOM === true || slimDOM === \"all\" ? (\n    // if true: set of sensible options that should not throw away any information\n    {\n      script: true,\n      comment: true,\n      headFavicon: true,\n      headWhitespace: true,\n      headMetaDescKeywords: slimDOM === \"all\",\n      // destructive\n      headMetaSocial: true,\n      headMetaRobots: true,\n      headMetaHttpEquiv: true,\n      headMetaAuthorship: true,\n      headMetaVerification: true\n    }\n  ) : slimDOM === false ? {} : slimDOM;\n  return serializeNodeWithId(n2, {\n    doc: n2,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild: false,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn,\n    newlyAddedElement: false,\n    applyBackgroundColorToBlockedElements\n  });\n}\nfunction getDefaultExportFromCjs$1(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser$1 = { exports: {} };\nvar hasRequiredPicocolors_browser$1;\nfunction requirePicocolors_browser$1() {\n  if (hasRequiredPicocolors_browser$1) return picocolors_browser$1.exports;\n  hasRequiredPicocolors_browser$1 = 1;\n  var x = String;\n  var create = function() {\n    return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x };\n  };\n  picocolors_browser$1.exports = create();\n  picocolors_browser$1.exports.createColors = create;\n  return picocolors_browser$1.exports;\n}\nconst __viteBrowserExternal$2 = {};\nconst __viteBrowserExternal$1$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal$2\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2$1 = /* @__PURE__ */ getAugmentedNamespace$1(__viteBrowserExternal$1$1);\nvar cssSyntaxError$1;\nvar hasRequiredCssSyntaxError$1;\nfunction requireCssSyntaxError$1() {\n  if (hasRequiredCssSyntaxError$1) return cssSyntaxError$1;\n  hasRequiredCssSyntaxError$1 = 1;\n  let pico = /* @__PURE__ */ requirePicocolors_browser$1();\n  let terminalHighlight = require$$2$1;\n  class CssSyntaxError extends Error {\n    constructor(message, line, column, source, file, plugin) {\n      super(message);\n      this.name = \"CssSyntaxError\";\n      this.reason = message;\n      if (file) {\n        this.file = file;\n      }\n      if (source) {\n        this.source = source;\n      }\n      if (plugin) {\n        this.plugin = plugin;\n      }\n      if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n        if (typeof line === \"number\") {\n          this.line = line;\n          this.column = column;\n        } else {\n          this.line = line.line;\n          this.column = line.column;\n          this.endLine = column.line;\n          this.endColumn = column.column;\n        }\n      }\n      this.setMessage();\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, CssSyntaxError);\n      }\n    }\n    setMessage() {\n      this.message = this.plugin ? this.plugin + \": \" : \"\";\n      this.message += this.file ? this.file : \"<css input>\";\n      if (typeof this.line !== \"undefined\") {\n        this.message += \":\" + this.line + \":\" + this.column;\n      }\n      this.message += \": \" + this.reason;\n    }\n    showSourceCode(color) {\n      if (!this.source) return \"\";\n      let css = this.source;\n      if (color == null) color = pico.isColorSupported;\n      if (terminalHighlight) {\n        if (color) css = terminalHighlight(css);\n      }\n      let lines = css.split(/\\r?\\n/);\n      let start = Math.max(this.line - 3, 0);\n      let end = Math.min(this.line + 2, lines.length);\n      let maxWidth = String(end).length;\n      let mark, aside;\n      if (color) {\n        let { bold, gray, red } = pico.createColors(true);\n        mark = (text) => bold(red(text));\n        aside = (text) => gray(text);\n      } else {\n        mark = aside = (str) => str;\n      }\n      return lines.slice(start, end).map((line, index2) => {\n        let number = start + 1 + index2;\n        let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n        if (number === this.line) {\n          let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n          return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n        }\n        return \" \" + aside(gutter) + line;\n      }).join(\"\\n\");\n    }\n    toString() {\n      let code = this.showSourceCode();\n      if (code) {\n        code = \"\\n\\n\" + code + \"\\n\";\n      }\n      return this.name + \": \" + this.message + code;\n    }\n  }\n  cssSyntaxError$1 = CssSyntaxError;\n  CssSyntaxError.default = CssSyntaxError;\n  return cssSyntaxError$1;\n}\nvar symbols$1 = {};\nvar hasRequiredSymbols$1;\nfunction requireSymbols$1() {\n  if (hasRequiredSymbols$1) return symbols$1;\n  hasRequiredSymbols$1 = 1;\n  symbols$1.isClean = Symbol(\"isClean\");\n  symbols$1.my = Symbol(\"my\");\n  return symbols$1;\n}\nvar stringifier$1;\nvar hasRequiredStringifier$1;\nfunction requireStringifier$1() {\n  if (hasRequiredStringifier$1) return stringifier$1;\n  hasRequiredStringifier$1 = 1;\n  const DEFAULT_RAW = {\n    after: \"\\n\",\n    beforeClose: \"\\n\",\n    beforeComment: \"\\n\",\n    beforeDecl: \"\\n\",\n    beforeOpen: \" \",\n    beforeRule: \"\\n\",\n    colon: \": \",\n    commentLeft: \" \",\n    commentRight: \" \",\n    emptyBody: \"\",\n    indent: \"    \",\n    semicolon: false\n  };\n  function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }\n  class Stringifier {\n    constructor(builder) {\n      this.builder = builder;\n    }\n    atrule(node2, semicolon) {\n      let name = \"@\" + node2.name;\n      let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n      if (typeof node2.raws.afterName !== \"undefined\") {\n        name += node2.raws.afterName;\n      } else if (params) {\n        name += \" \";\n      }\n      if (node2.nodes) {\n        this.block(node2, name + params);\n      } else {\n        let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n        this.builder(name + params + end, node2);\n      }\n    }\n    beforeAfter(node2, detect) {\n      let value;\n      if (node2.type === \"decl\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (node2.type === \"comment\") {\n        value = this.raw(node2, null, \"beforeComment\");\n      } else if (detect === \"before\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else {\n        value = this.raw(node2, null, \"beforeClose\");\n      }\n      let buf = node2.parent;\n      let depth = 0;\n      while (buf && buf.type !== \"root\") {\n        depth += 1;\n        buf = buf.parent;\n      }\n      if (value.includes(\"\\n\")) {\n        let indent = this.raw(node2, null, \"indent\");\n        if (indent.length) {\n          for (let step = 0; step < depth; step++) value += indent;\n        }\n      }\n      return value;\n    }\n    block(node2, start) {\n      let between = this.raw(node2, \"between\", \"beforeOpen\");\n      this.builder(start + between + \"{\", node2, \"start\");\n      let after;\n      if (node2.nodes && node2.nodes.length) {\n        this.body(node2);\n        after = this.raw(node2, \"after\");\n      } else {\n        after = this.raw(node2, \"after\", \"emptyBody\");\n      }\n      if (after) this.builder(after);\n      this.builder(\"}\", node2, \"end\");\n    }\n    body(node2) {\n      let last = node2.nodes.length - 1;\n      while (last > 0) {\n        if (node2.nodes[last].type !== \"comment\") break;\n        last -= 1;\n      }\n      let semicolon = this.raw(node2, \"semicolon\");\n      for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n        let child = node2.nodes[i2];\n        let before = this.raw(child, \"before\");\n        if (before) this.builder(before);\n        this.stringify(child, last !== i2 || semicolon);\n      }\n    }\n    comment(node2) {\n      let left = this.raw(node2, \"left\", \"commentLeft\");\n      let right = this.raw(node2, \"right\", \"commentRight\");\n      this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n    }\n    decl(node2, semicolon) {\n      let between = this.raw(node2, \"between\", \"colon\");\n      let string = node2.prop + between + this.rawValue(node2, \"value\");\n      if (node2.important) {\n        string += node2.raws.important || \" !important\";\n      }\n      if (semicolon) string += \";\";\n      this.builder(string, node2);\n    }\n    document(node2) {\n      this.body(node2);\n    }\n    raw(node2, own, detect) {\n      let value;\n      if (!detect) detect = own;\n      if (own) {\n        value = node2.raws[own];\n        if (typeof value !== \"undefined\") return value;\n      }\n      let parent = node2.parent;\n      if (detect === \"before\") {\n        if (!parent || parent.type === \"root\" && parent.first === node2) {\n          return \"\";\n        }\n        if (parent && parent.type === \"document\") {\n          return \"\";\n        }\n      }\n      if (!parent) return DEFAULT_RAW[detect];\n      let root2 = node2.root();\n      if (!root2.rawCache) root2.rawCache = {};\n      if (typeof root2.rawCache[detect] !== \"undefined\") {\n        return root2.rawCache[detect];\n      }\n      if (detect === \"before\" || detect === \"after\") {\n        return this.beforeAfter(node2, detect);\n      } else {\n        let method = \"raw\" + capitalize(detect);\n        if (this[method]) {\n          value = this[method](root2, node2);\n        } else {\n          root2.walk((i2) => {\n            value = i2.raws[own];\n            if (typeof value !== \"undefined\") return false;\n          });\n        }\n      }\n      if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n      root2.rawCache[detect] = value;\n      return value;\n    }\n    rawBeforeClose(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length > 0) {\n          if (typeof i2.raws.after !== \"undefined\") {\n            value = i2.raws.after;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawBeforeComment(root2, node2) {\n      let value;\n      root2.walkComments((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeDecl(root2, node2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeOpen(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.type !== \"decl\") {\n          value = i2.raws.between;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawBeforeRule(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            value = i2.raws.before;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawColon(root2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.between !== \"undefined\") {\n          value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n          return false;\n        }\n      });\n      return value;\n    }\n    rawEmptyBody(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length === 0) {\n          value = i2.raws.after;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawIndent(root2) {\n      if (root2.raws.indent) return root2.raws.indent;\n      let value;\n      root2.walk((i2) => {\n        let p = i2.parent;\n        if (p && p !== root2 && p.parent && p.parent === root2) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            let parts = i2.raws.before.split(\"\\n\");\n            value = parts[parts.length - 1];\n            value = value.replace(/\\S/g, \"\");\n            return false;\n          }\n        }\n      });\n      return value;\n    }\n    rawSemicolon(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n          value = i2.raws.semicolon;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawValue(node2, prop) {\n      let value = node2[prop];\n      let raw = node2.raws[prop];\n      if (raw && raw.value === value) {\n        return raw.raw;\n      }\n      return value;\n    }\n    root(node2) {\n      this.body(node2);\n      if (node2.raws.after) this.builder(node2.raws.after);\n    }\n    rule(node2) {\n      this.block(node2, this.rawValue(node2, \"selector\"));\n      if (node2.raws.ownSemicolon) {\n        this.builder(node2.raws.ownSemicolon, node2, \"end\");\n      }\n    }\n    stringify(node2, semicolon) {\n      if (!this[node2.type]) {\n        throw new Error(\n          \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n        );\n      }\n      this[node2.type](node2, semicolon);\n    }\n  }\n  stringifier$1 = Stringifier;\n  Stringifier.default = Stringifier;\n  return stringifier$1;\n}\nvar stringify_1$1;\nvar hasRequiredStringify$1;\nfunction requireStringify$1() {\n  if (hasRequiredStringify$1) return stringify_1$1;\n  hasRequiredStringify$1 = 1;\n  let Stringifier = requireStringifier$1();\n  function stringify(node2, builder) {\n    let str = new Stringifier(builder);\n    str.stringify(node2);\n  }\n  stringify_1$1 = stringify;\n  stringify.default = stringify;\n  return stringify_1$1;\n}\nvar node$1;\nvar hasRequiredNode$1;\nfunction requireNode$1() {\n  if (hasRequiredNode$1) return node$1;\n  hasRequiredNode$1 = 1;\n  let { isClean, my } = requireSymbols$1();\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let Stringifier = requireStringifier$1();\n  let stringify = requireStringify$1();\n  function cloneNode(obj, parent) {\n    let cloned = new obj.constructor();\n    for (let i2 in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n        continue;\n      }\n      if (i2 === \"proxyCache\") continue;\n      let value = obj[i2];\n      let type = typeof value;\n      if (i2 === \"parent\" && type === \"object\") {\n        if (parent) cloned[i2] = parent;\n      } else if (i2 === \"source\") {\n        cloned[i2] = value;\n      } else if (Array.isArray(value)) {\n        cloned[i2] = value.map((j) => cloneNode(j, cloned));\n      } else {\n        if (type === \"object\" && value !== null) value = cloneNode(value);\n        cloned[i2] = value;\n      }\n    }\n    return cloned;\n  }\n  class Node2 {\n    constructor(defaults = {}) {\n      this.raws = {};\n      this[isClean] = false;\n      this[my] = true;\n      for (let name in defaults) {\n        if (name === \"nodes\") {\n          this.nodes = [];\n          for (let node2 of defaults[name]) {\n            if (typeof node2.clone === \"function\") {\n              this.append(node2.clone());\n            } else {\n              this.append(node2);\n            }\n          }\n        } else {\n          this[name] = defaults[name];\n        }\n      }\n    }\n    addToError(error) {\n      error.postcssNode = this;\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        let s2 = this.source;\n        error.stack = error.stack.replace(\n          /\\n\\s{4}at /,\n          `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n        );\n      }\n      return error;\n    }\n    after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n    assign(overrides = {}) {\n      for (let name in overrides) {\n        this[name] = overrides[name];\n      }\n      return this;\n    }\n    before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n    clone(overrides = {}) {\n      let cloned = cloneNode(this);\n      for (let name in overrides) {\n        cloned[name] = overrides[name];\n      }\n      return cloned;\n    }\n    cloneAfter(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n    cloneBefore(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n    error(message, opts = {}) {\n      if (this.source) {\n        let { end, start } = this.rangeBy(opts);\n        return this.source.input.error(\n          message,\n          { column: start.column, line: start.line },\n          { column: end.column, line: end.line },\n          opts\n        );\n      }\n      return new CssSyntaxError(message);\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n          prop === \"text\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        let next = this;\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n    next() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 + 1];\n    }\n    positionBy(opts, stringRepresentation) {\n      let pos = this.source.start;\n      if (opts.index) {\n        pos = this.positionInside(opts.index, stringRepresentation);\n      } else if (opts.word) {\n        stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n      }\n      return pos;\n    }\n    positionInside(index2, stringRepresentation) {\n      let string = stringRepresentation || this.toString();\n      let column = this.source.start.column;\n      let line = this.source.start.line;\n      for (let i2 = 0; i2 < index2; i2++) {\n        if (string[i2] === \"\\n\") {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n      return { column, line };\n    }\n    prev() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 - 1];\n    }\n    rangeBy(opts) {\n      let start = {\n        column: this.source.start.column,\n        line: this.source.start.line\n      };\n      let end = this.source.end ? {\n        column: this.source.end.column + 1,\n        line: this.source.end.line\n      } : {\n        column: start.column + 1,\n        line: start.line\n      };\n      if (opts.word) {\n        let stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) {\n          start = this.positionInside(index2, stringRepresentation);\n          end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            column: opts.start.column,\n            line: opts.start.line\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n        if (opts.end) {\n          end = {\n            column: opts.end.column,\n            line: opts.end.line\n          };\n        } else if (typeof opts.endIndex === \"number\") {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = { column: start.column + 1, line: start.line };\n      }\n      return { end, start };\n    }\n    raw(prop, defaultType) {\n      let str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n    remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n      this.parent = void 0;\n      return this;\n    }\n    replaceWith(...nodes) {\n      if (this.parent) {\n        let bookmark = this;\n        let foundSelf = false;\n        for (let node2 of nodes) {\n          if (node2 === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node2);\n            bookmark = node2;\n          } else {\n            this.parent.insertBefore(bookmark, node2);\n          }\n        }\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n      return this;\n    }\n    root() {\n      let result2 = this;\n      while (result2.parent && result2.parent.type !== \"document\") {\n        result2 = result2.parent;\n      }\n      return result2;\n    }\n    toJSON(_, inputs) {\n      let fixed = {};\n      let emitInputs = inputs == null;\n      inputs = inputs || /* @__PURE__ */ new Map();\n      let inputsNextIndex = 0;\n      for (let name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          continue;\n        }\n        if (name === \"parent\" || name === \"proxyCache\") continue;\n        let value = this[name];\n        if (Array.isArray(value)) {\n          fixed[name] = value.map((i2) => {\n            if (typeof i2 === \"object\" && i2.toJSON) {\n              return i2.toJSON(null, inputs);\n            } else {\n              return i2;\n            }\n          });\n        } else if (typeof value === \"object\" && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === \"source\") {\n          let inputId = inputs.get(value.input);\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n          fixed[name] = {\n            end: value.end,\n            inputId,\n            start: value.start\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n      if (emitInputs) {\n        fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n      }\n      return fixed;\n    }\n    toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n      return this.proxyCache;\n    }\n    toString(stringifier2 = stringify) {\n      if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n      let result2 = \"\";\n      stringifier2(this, (i2) => {\n        result2 += i2;\n      });\n      return result2;\n    }\n    warn(result2, text, opts) {\n      let data = { node: this };\n      for (let i2 in opts) data[i2] = opts[i2];\n      return result2.warn(text, data);\n    }\n    get proxyOf() {\n      return this;\n    }\n  }\n  node$1 = Node2;\n  Node2.default = Node2;\n  return node$1;\n}\nvar declaration$1;\nvar hasRequiredDeclaration$1;\nfunction requireDeclaration$1() {\n  if (hasRequiredDeclaration$1) return declaration$1;\n  hasRequiredDeclaration$1 = 1;\n  let Node2 = requireNode$1();\n  class Declaration extends Node2 {\n    constructor(defaults) {\n      if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n        defaults = { ...defaults, value: String(defaults.value) };\n      }\n      super(defaults);\n      this.type = \"decl\";\n    }\n    get variable() {\n      return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n    }\n  }\n  declaration$1 = Declaration;\n  Declaration.default = Declaration;\n  return declaration$1;\n}\nvar nonSecure$1;\nvar hasRequiredNonSecure$1;\nfunction requireNonSecure$1() {\n  if (hasRequiredNonSecure$1) return nonSecure$1;\n  hasRequiredNonSecure$1 = 1;\n  let urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\n  let customAlphabet = (alphabet, defaultSize = 21) => {\n    return (size = defaultSize) => {\n      let id = \"\";\n      let i2 = size;\n      while (i2--) {\n        id += alphabet[Math.random() * alphabet.length | 0];\n      }\n      return id;\n    };\n  };\n  let nanoid = (size = 21) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += urlAlphabet[Math.random() * 64 | 0];\n    }\n    return id;\n  };\n  nonSecure$1 = { nanoid, customAlphabet };\n  return nonSecure$1;\n}\nvar previousMap$1;\nvar hasRequiredPreviousMap$1;\nfunction requirePreviousMap$1() {\n  if (hasRequiredPreviousMap$1) return previousMap$1;\n  hasRequiredPreviousMap$1 = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { existsSync, readFileSync } = require$$2$1;\n  let { dirname, join } = require$$2$1;\n  function fromBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str, \"base64\").toString();\n    } else {\n      return window.atob(str);\n    }\n  }\n  class PreviousMap {\n    constructor(css, opts) {\n      if (opts.map === false) return;\n      this.loadAnnotation(css);\n      this.inline = this.startWith(this.annotation, \"data:\");\n      let prev = opts.map ? opts.map.prev : void 0;\n      let text = this.loadMap(opts.from, prev);\n      if (!this.mapFile && opts.from) {\n        this.mapFile = opts.from;\n      }\n      if (this.mapFile) this.root = dirname(this.mapFile);\n      if (text) this.text = text;\n    }\n    consumer() {\n      if (!this.consumerCache) {\n        this.consumerCache = new SourceMapConsumer(this.text);\n      }\n      return this.consumerCache;\n    }\n    decodeInline(text) {\n      let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n      let baseUri = /^data:application\\/json;base64,/;\n      let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n      let uri = /^data:application\\/json,/;\n      if (charsetUri.test(text) || uri.test(text)) {\n        return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n      }\n      if (baseCharsetUri.test(text) || baseUri.test(text)) {\n        return fromBase64(text.substr(RegExp.lastMatch.length));\n      }\n      let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n      throw new Error(\"Unsupported source map encoding \" + encoding);\n    }\n    getAnnotationURL(sourceMapString) {\n      return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n    }\n    isMap(map) {\n      if (typeof map !== \"object\") return false;\n      return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n    }\n    loadAnnotation(css) {\n      let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n      if (!comments) return;\n      let start = css.lastIndexOf(comments.pop());\n      let end = css.indexOf(\"*/\", start);\n      if (start > -1 && end > -1) {\n        this.annotation = this.getAnnotationURL(css.substring(start, end));\n      }\n    }\n    loadFile(path) {\n      this.root = dirname(path);\n      if (existsSync(path)) {\n        this.mapFile = path;\n        return readFileSync(path, \"utf-8\").toString().trim();\n      }\n    }\n    loadMap(file, prev) {\n      if (prev === false) return false;\n      if (prev) {\n        if (typeof prev === \"string\") {\n          return prev;\n        } else if (typeof prev === \"function\") {\n          let prevPath = prev(file);\n          if (prevPath) {\n            let map = this.loadFile(prevPath);\n            if (!map) {\n              throw new Error(\n                \"Unable to load previous source map: \" + prevPath.toString()\n              );\n            }\n            return map;\n          }\n        } else if (prev instanceof SourceMapConsumer) {\n          return SourceMapGenerator.fromSourceMap(prev).toString();\n        } else if (prev instanceof SourceMapGenerator) {\n          return prev.toString();\n        } else if (this.isMap(prev)) {\n          return JSON.stringify(prev);\n        } else {\n          throw new Error(\n            \"Unsupported previous source map format: \" + prev.toString()\n          );\n        }\n      } else if (this.inline) {\n        return this.decodeInline(this.annotation);\n      } else if (this.annotation) {\n        let map = this.annotation;\n        if (file) map = join(dirname(file), map);\n        return this.loadFile(map);\n      }\n    }\n    startWith(string, start) {\n      if (!string) return false;\n      return string.substr(0, start.length) === start;\n    }\n    withContent() {\n      return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n    }\n  }\n  previousMap$1 = PreviousMap;\n  PreviousMap.default = PreviousMap;\n  return previousMap$1;\n}\nvar input$1;\nvar hasRequiredInput$1;\nfunction requireInput$1() {\n  if (hasRequiredInput$1) return input$1;\n  hasRequiredInput$1 = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { fileURLToPath, pathToFileURL } = require$$2$1;\n  let { isAbsolute, resolve } = require$$2$1;\n  let { nanoid } = /* @__PURE__ */ requireNonSecure$1();\n  let terminalHighlight = require$$2$1;\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let PreviousMap = requirePreviousMap$1();\n  let fromOffsetCache = Symbol(\"fromOffsetCache\");\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(resolve && isAbsolute);\n  class Input {\n    constructor(css, opts = {}) {\n      if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n        throw new Error(`PostCSS received ${css} instead of CSS string`);\n      }\n      this.css = css.toString();\n      if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n        this.hasBOM = true;\n        this.css = this.css.slice(1);\n      } else {\n        this.hasBOM = false;\n      }\n      if (opts.from) {\n        if (!pathAvailable || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n          this.file = opts.from;\n        } else {\n          this.file = resolve(opts.from);\n        }\n      }\n      if (pathAvailable && sourceMapAvailable) {\n        let map = new PreviousMap(this.css, opts);\n        if (map.text) {\n          this.map = map;\n          let file = map.consumer().file;\n          if (!this.file && file) this.file = this.mapResolve(file);\n        }\n      }\n      if (!this.file) {\n        this.id = \"<input css \" + nanoid(6) + \">\";\n      }\n      if (this.map) this.map.file = this.from;\n    }\n    error(message, line, column, opts = {}) {\n      let result2, endLine, endColumn;\n      if (line && typeof line === \"object\") {\n        let start = line;\n        let end = column;\n        if (typeof start.offset === \"number\") {\n          let pos = this.fromOffset(start.offset);\n          line = pos.line;\n          column = pos.col;\n        } else {\n          line = start.line;\n          column = start.column;\n        }\n        if (typeof end.offset === \"number\") {\n          let pos = this.fromOffset(end.offset);\n          endLine = pos.line;\n          endColumn = pos.col;\n        } else {\n          endLine = end.line;\n          endColumn = end.column;\n        }\n      } else if (!column) {\n        let pos = this.fromOffset(line);\n        line = pos.line;\n        column = pos.col;\n      }\n      let origin = this.origin(line, column, endLine, endColumn);\n      if (origin) {\n        result2 = new CssSyntaxError(\n          message,\n          origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n          origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n          origin.source,\n          origin.file,\n          opts.plugin\n        );\n      } else {\n        result2 = new CssSyntaxError(\n          message,\n          endLine === void 0 ? line : { column, line },\n          endLine === void 0 ? column : { column: endColumn, line: endLine },\n          this.css,\n          this.file,\n          opts.plugin\n        );\n      }\n      result2.input = { column, endColumn, endLine, line, source: this.css };\n      if (this.file) {\n        if (pathToFileURL) {\n          result2.input.url = pathToFileURL(this.file).toString();\n        }\n        result2.input.file = this.file;\n      }\n      return result2;\n    }\n    fromOffset(offset) {\n      let lastLine, lineToIndex;\n      if (!this[fromOffsetCache]) {\n        let lines = this.css.split(\"\\n\");\n        lineToIndex = new Array(lines.length);\n        let prevIndex = 0;\n        for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n          lineToIndex[i2] = prevIndex;\n          prevIndex += lines[i2].length + 1;\n        }\n        this[fromOffsetCache] = lineToIndex;\n      } else {\n        lineToIndex = this[fromOffsetCache];\n      }\n      lastLine = lineToIndex[lineToIndex.length - 1];\n      let min = 0;\n      if (offset >= lastLine) {\n        min = lineToIndex.length - 1;\n      } else {\n        let max = lineToIndex.length - 2;\n        let mid;\n        while (min < max) {\n          mid = min + (max - min >> 1);\n          if (offset < lineToIndex[mid]) {\n            max = mid - 1;\n          } else if (offset >= lineToIndex[mid + 1]) {\n            min = mid + 1;\n          } else {\n            min = mid;\n            break;\n          }\n        }\n      }\n      return {\n        col: offset - lineToIndex[min] + 1,\n        line: min + 1\n      };\n    }\n    mapResolve(file) {\n      if (/^\\w+:\\/\\//.test(file)) {\n        return file;\n      }\n      return resolve(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n    }\n    origin(line, column, endLine, endColumn) {\n      if (!this.map) return false;\n      let consumer = this.map.consumer();\n      let from = consumer.originalPositionFor({ column, line });\n      if (!from.source) return false;\n      let to;\n      if (typeof endLine === \"number\") {\n        to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n      }\n      let fromUrl;\n      if (isAbsolute(from.source)) {\n        fromUrl = pathToFileURL(from.source);\n      } else {\n        fromUrl = new URL(\n          from.source,\n          this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n        );\n      }\n      let result2 = {\n        column: from.column,\n        endColumn: to && to.column,\n        endLine: to && to.line,\n        line: from.line,\n        url: fromUrl.toString()\n      };\n      if (fromUrl.protocol === \"file:\") {\n        if (fileURLToPath) {\n          result2.file = fileURLToPath(fromUrl);\n        } else {\n          throw new Error(`file: protocol is not available in this PostCSS build`);\n        }\n      }\n      let source = consumer.sourceContentFor(from.source);\n      if (source) result2.source = source;\n      return result2;\n    }\n    toJSON() {\n      let json = {};\n      for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n        if (this[name] != null) {\n          json[name] = this[name];\n        }\n      }\n      if (this.map) {\n        json.map = { ...this.map };\n        if (json.map.consumerCache) {\n          json.map.consumerCache = void 0;\n        }\n      }\n      return json;\n    }\n    get from() {\n      return this.file || this.id;\n    }\n  }\n  input$1 = Input;\n  Input.default = Input;\n  if (terminalHighlight && terminalHighlight.registerInput) {\n    terminalHighlight.registerInput(Input);\n  }\n  return input$1;\n}\nvar mapGenerator$1;\nvar hasRequiredMapGenerator$1;\nfunction requireMapGenerator$1() {\n  if (hasRequiredMapGenerator$1) return mapGenerator$1;\n  hasRequiredMapGenerator$1 = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { dirname, relative, resolve, sep } = require$$2$1;\n  let { pathToFileURL } = require$$2$1;\n  let Input = requireInput$1();\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(dirname && resolve && relative && sep);\n  class MapGenerator {\n    constructor(stringify, root2, opts, cssString) {\n      this.stringify = stringify;\n      this.mapOpts = opts.map || {};\n      this.root = root2;\n      this.opts = opts;\n      this.css = cssString;\n      this.originalCSS = cssString;\n      this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n      this.memoizedFileURLs = /* @__PURE__ */ new Map();\n      this.memoizedPaths = /* @__PURE__ */ new Map();\n      this.memoizedURLs = /* @__PURE__ */ new Map();\n    }\n    addAnnotation() {\n      let content;\n      if (this.isInline()) {\n        content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n      } else if (typeof this.mapOpts.annotation === \"string\") {\n        content = this.mapOpts.annotation;\n      } else if (typeof this.mapOpts.annotation === \"function\") {\n        content = this.mapOpts.annotation(this.opts.to, this.root);\n      } else {\n        content = this.outputFile() + \".map\";\n      }\n      let eol = \"\\n\";\n      if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n      this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n    }\n    applyPrevMaps() {\n      for (let prev of this.previous()) {\n        let from = this.toUrl(this.path(prev.file));\n        let root2 = prev.root || dirname(prev.file);\n        let map;\n        if (this.mapOpts.sourcesContent === false) {\n          map = new SourceMapConsumer(prev.text);\n          if (map.sourcesContent) {\n            map.sourcesContent = null;\n          }\n        } else {\n          map = prev.consumer();\n        }\n        this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n      }\n    }\n    clearAnnotation() {\n      if (this.mapOpts.annotation === false) return;\n      if (this.root) {\n        let node2;\n        for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n          node2 = this.root.nodes[i2];\n          if (node2.type !== \"comment\") continue;\n          if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n            this.root.removeChild(i2);\n          }\n        }\n      } else if (this.css) {\n        this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n      }\n    }\n    generate() {\n      this.clearAnnotation();\n      if (pathAvailable && sourceMapAvailable && this.isMap()) {\n        return this.generateMap();\n      } else {\n        let result2 = \"\";\n        this.stringify(this.root, (i2) => {\n          result2 += i2;\n        });\n        return [result2];\n      }\n    }\n    generateMap() {\n      if (this.root) {\n        this.generateString();\n      } else if (this.previous().length === 1) {\n        let prev = this.previous()[0].consumer();\n        prev.file = this.outputFile();\n        this.map = SourceMapGenerator.fromSourceMap(prev, {\n          ignoreInvalidMapping: true\n        });\n      } else {\n        this.map = new SourceMapGenerator({\n          file: this.outputFile(),\n          ignoreInvalidMapping: true\n        });\n        this.map.addMapping({\n          generated: { column: 0, line: 1 },\n          original: { column: 0, line: 1 },\n          source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n        });\n      }\n      if (this.isSourcesContent()) this.setSourcesContent();\n      if (this.root && this.previous().length > 0) this.applyPrevMaps();\n      if (this.isAnnotation()) this.addAnnotation();\n      if (this.isInline()) {\n        return [this.css];\n      } else {\n        return [this.css, this.map];\n      }\n    }\n    generateString() {\n      this.css = \"\";\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      let line = 1;\n      let column = 1;\n      let noSource = \"<no source>\";\n      let mapping = {\n        generated: { column: 0, line: 0 },\n        original: { column: 0, line: 0 },\n        source: \"\"\n      };\n      let lines, last;\n      this.stringify(this.root, (str, node2, type) => {\n        this.css += str;\n        if (node2 && type !== \"end\") {\n          mapping.generated.line = line;\n          mapping.generated.column = column - 1;\n          if (node2.source && node2.source.start) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.start.line;\n            mapping.original.column = node2.source.start.column - 1;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            this.map.addMapping(mapping);\n          }\n        }\n        lines = str.match(/\\n/g);\n        if (lines) {\n          line += lines.length;\n          last = str.lastIndexOf(\"\\n\");\n          column = str.length - last;\n        } else {\n          column += str.length;\n        }\n        if (node2 && type !== \"start\") {\n          let p = node2.parent || { raws: {} };\n          let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n          if (!childless || node2 !== p.last || p.raws.semicolon) {\n            if (node2.source && node2.source.end) {\n              mapping.source = this.sourcePath(node2);\n              mapping.original.line = node2.source.end.line;\n              mapping.original.column = node2.source.end.column - 1;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 2;\n              this.map.addMapping(mapping);\n            } else {\n              mapping.source = noSource;\n              mapping.original.line = 1;\n              mapping.original.column = 0;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 1;\n              this.map.addMapping(mapping);\n            }\n          }\n        }\n      });\n    }\n    isAnnotation() {\n      if (this.isInline()) {\n        return true;\n      }\n      if (typeof this.mapOpts.annotation !== \"undefined\") {\n        return this.mapOpts.annotation;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.annotation);\n      }\n      return true;\n    }\n    isInline() {\n      if (typeof this.mapOpts.inline !== \"undefined\") {\n        return this.mapOpts.inline;\n      }\n      let annotation = this.mapOpts.annotation;\n      if (typeof annotation !== \"undefined\" && annotation !== true) {\n        return false;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.inline);\n      }\n      return true;\n    }\n    isMap() {\n      if (typeof this.opts.map !== \"undefined\") {\n        return !!this.opts.map;\n      }\n      return this.previous().length > 0;\n    }\n    isSourcesContent() {\n      if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n        return this.mapOpts.sourcesContent;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.withContent());\n      }\n      return true;\n    }\n    outputFile() {\n      if (this.opts.to) {\n        return this.path(this.opts.to);\n      } else if (this.opts.from) {\n        return this.path(this.opts.from);\n      } else {\n        return \"to.css\";\n      }\n    }\n    path(file) {\n      if (this.mapOpts.absolute) return file;\n      if (file.charCodeAt(0) === 60) return file;\n      if (/^\\w+:\\/\\//.test(file)) return file;\n      let cached = this.memoizedPaths.get(file);\n      if (cached) return cached;\n      let from = this.opts.to ? dirname(this.opts.to) : \".\";\n      if (typeof this.mapOpts.annotation === \"string\") {\n        from = dirname(resolve(from, this.mapOpts.annotation));\n      }\n      let path = relative(from, file);\n      this.memoizedPaths.set(file, path);\n      return path;\n    }\n    previous() {\n      if (!this.previousMaps) {\n        this.previousMaps = [];\n        if (this.root) {\n          this.root.walk((node2) => {\n            if (node2.source && node2.source.input.map) {\n              let map = node2.source.input.map;\n              if (!this.previousMaps.includes(map)) {\n                this.previousMaps.push(map);\n              }\n            }\n          });\n        } else {\n          let input2 = new Input(this.originalCSS, this.opts);\n          if (input2.map) this.previousMaps.push(input2.map);\n        }\n      }\n      return this.previousMaps;\n    }\n    setSourcesContent() {\n      let already = {};\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source) {\n            let from = node2.source.input.from;\n            if (from && !already[from]) {\n              already[from] = true;\n              let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n              this.map.setSourceContent(fromUrl, node2.source.input.css);\n            }\n          }\n        });\n      } else if (this.css) {\n        let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n        this.map.setSourceContent(from, this.css);\n      }\n    }\n    sourcePath(node2) {\n      if (this.mapOpts.from) {\n        return this.toUrl(this.mapOpts.from);\n      } else if (this.usesFileUrls) {\n        return this.toFileUrl(node2.source.input.from);\n      } else {\n        return this.toUrl(this.path(node2.source.input.from));\n      }\n    }\n    toBase64(str) {\n      if (Buffer) {\n        return Buffer.from(str).toString(\"base64\");\n      } else {\n        return window.btoa(unescape(encodeURIComponent(str)));\n      }\n    }\n    toFileUrl(path) {\n      let cached = this.memoizedFileURLs.get(path);\n      if (cached) return cached;\n      if (pathToFileURL) {\n        let fileURL = pathToFileURL(path).toString();\n        this.memoizedFileURLs.set(path, fileURL);\n        return fileURL;\n      } else {\n        throw new Error(\n          \"`map.absolute` option is not available in this PostCSS build\"\n        );\n      }\n    }\n    toUrl(path) {\n      let cached = this.memoizedURLs.get(path);\n      if (cached) return cached;\n      if (sep === \"\\\\\") {\n        path = path.replace(/\\\\/g, \"/\");\n      }\n      let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n      this.memoizedURLs.set(path, url);\n      return url;\n    }\n  }\n  mapGenerator$1 = MapGenerator;\n  return mapGenerator$1;\n}\nvar comment$1;\nvar hasRequiredComment$1;\nfunction requireComment$1() {\n  if (hasRequiredComment$1) return comment$1;\n  hasRequiredComment$1 = 1;\n  let Node2 = requireNode$1();\n  class Comment extends Node2 {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"comment\";\n    }\n  }\n  comment$1 = Comment;\n  Comment.default = Comment;\n  return comment$1;\n}\nvar container$1;\nvar hasRequiredContainer$1;\nfunction requireContainer$1() {\n  if (hasRequiredContainer$1) return container$1;\n  hasRequiredContainer$1 = 1;\n  let { isClean, my } = requireSymbols$1();\n  let Declaration = requireDeclaration$1();\n  let Comment = requireComment$1();\n  let Node2 = requireNode$1();\n  let parse, Rule, AtRule, Root;\n  function cleanSource(nodes) {\n    return nodes.map((i2) => {\n      if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n      delete i2.source;\n      return i2;\n    });\n  }\n  function markDirtyUp(node2) {\n    node2[isClean] = false;\n    if (node2.proxyOf.nodes) {\n      for (let i2 of node2.proxyOf.nodes) {\n        markDirtyUp(i2);\n      }\n    }\n  }\n  class Container extends Node2 {\n    append(...children) {\n      for (let child of children) {\n        let nodes = this.normalize(child, this.last);\n        for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n      }\n      this.markDirty();\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      super.cleanRaws(keepBetween);\n      if (this.nodes) {\n        for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n      }\n    }\n    each(callback) {\n      if (!this.proxyOf.nodes) return void 0;\n      let iterator = this.getIterator();\n      let index2, result2;\n      while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n        index2 = this.indexes[iterator];\n        result2 = callback(this.proxyOf.nodes[index2], index2);\n        if (result2 === false) break;\n        this.indexes[iterator] += 1;\n      }\n      delete this.indexes[iterator];\n      return result2;\n    }\n    every(condition) {\n      return this.nodes.every(condition);\n    }\n    getIterator() {\n      if (!this.lastEach) this.lastEach = 0;\n      if (!this.indexes) this.indexes = {};\n      this.lastEach += 1;\n      let iterator = this.lastEach;\n      this.indexes[iterator] = 0;\n      return iterator;\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (!node2[prop]) {\n            return node2[prop];\n          } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n            return (...args) => {\n              return node2[prop](\n                ...args.map((i2) => {\n                  if (typeof i2 === \"function\") {\n                    return (child, index2) => i2(child.toProxy(), index2);\n                  } else {\n                    return i2;\n                  }\n                })\n              );\n            };\n          } else if (prop === \"every\" || prop === \"some\") {\n            return (cb) => {\n              return node2[prop](\n                (child, ...other) => cb(child.toProxy(), ...other)\n              );\n            };\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else if (prop === \"nodes\") {\n            return node2.nodes.map((i2) => i2.toProxy());\n          } else if (prop === \"first\" || prop === \"last\") {\n            return node2[prop].toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    index(child) {\n      if (typeof child === \"number\") return child;\n      if (child.proxyOf) child = child.proxyOf;\n      return this.proxyOf.nodes.indexOf(child);\n    }\n    insertAfter(exist, add) {\n      let existIndex = this.index(exist);\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex < index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    insertBefore(exist, add) {\n      let existIndex = this.index(exist);\n      let type = existIndex === 0 ? \"prepend\" : false;\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex <= index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    normalize(nodes, sample) {\n      if (typeof nodes === \"string\") {\n        nodes = cleanSource(parse(nodes).nodes);\n      } else if (typeof nodes === \"undefined\") {\n        nodes = [];\n      } else if (Array.isArray(nodes)) {\n        nodes = nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type === \"root\" && this.type !== \"document\") {\n        nodes = nodes.nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type) {\n        nodes = [nodes];\n      } else if (nodes.prop) {\n        if (typeof nodes.value === \"undefined\") {\n          throw new Error(\"Value field is missed in node creation\");\n        } else if (typeof nodes.value !== \"string\") {\n          nodes.value = String(nodes.value);\n        }\n        nodes = [new Declaration(nodes)];\n      } else if (nodes.selector) {\n        nodes = [new Rule(nodes)];\n      } else if (nodes.name) {\n        nodes = [new AtRule(nodes)];\n      } else if (nodes.text) {\n        nodes = [new Comment(nodes)];\n      } else {\n        throw new Error(\"Unknown node type in node creation\");\n      }\n      let processed = nodes.map((i2) => {\n        if (!i2[my]) Container.rebuild(i2);\n        i2 = i2.proxyOf;\n        if (i2.parent) i2.parent.removeChild(i2);\n        if (i2[isClean]) markDirtyUp(i2);\n        if (typeof i2.raws.before === \"undefined\") {\n          if (sample && typeof sample.raws.before !== \"undefined\") {\n            i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n          }\n        }\n        i2.parent = this.proxyOf;\n        return i2;\n      });\n      return processed;\n    }\n    prepend(...children) {\n      children = children.reverse();\n      for (let child of children) {\n        let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n        for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n        for (let id in this.indexes) {\n          this.indexes[id] = this.indexes[id] + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    push(child) {\n      child.parent = this;\n      this.proxyOf.nodes.push(child);\n      return this;\n    }\n    removeAll() {\n      for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n      this.proxyOf.nodes = [];\n      this.markDirty();\n      return this;\n    }\n    removeChild(child) {\n      child = this.index(child);\n      this.proxyOf.nodes[child].parent = void 0;\n      this.proxyOf.nodes.splice(child, 1);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (index2 >= child) {\n          this.indexes[id] = index2 - 1;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    replaceValues(pattern, opts, callback) {\n      if (!callback) {\n        callback = opts;\n        opts = {};\n      }\n      this.walkDecls((decl) => {\n        if (opts.props && !opts.props.includes(decl.prop)) return;\n        if (opts.fast && !decl.value.includes(opts.fast)) return;\n        decl.value = decl.value.replace(pattern, callback);\n      });\n      this.markDirty();\n      return this;\n    }\n    some(condition) {\n      return this.nodes.some(condition);\n    }\n    walk(callback) {\n      return this.each((child, i2) => {\n        let result2;\n        try {\n          result2 = callback(child, i2);\n        } catch (e2) {\n          throw child.addToError(e2);\n        }\n        if (result2 !== false && child.walk) {\n          result2 = child.walk(callback);\n        }\n        return result2;\n      });\n    }\n    walkAtRules(name, callback) {\n      if (!callback) {\n        callback = name;\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (name instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\" && name.test(child.name)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && child.name === name) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkComments(callback) {\n      return this.walk((child, i2) => {\n        if (child.type === \"comment\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkDecls(prop, callback) {\n      if (!callback) {\n        callback = prop;\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (prop instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\" && prop.test(child.prop)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && child.prop === prop) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkRules(selector, callback) {\n      if (!callback) {\n        callback = selector;\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (selector instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\" && selector.test(child.selector)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && child.selector === selector) {\n          return callback(child, i2);\n        }\n      });\n    }\n    get first() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[0];\n    }\n    get last() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n    }\n  }\n  Container.registerParse = (dependant) => {\n    parse = dependant;\n  };\n  Container.registerRule = (dependant) => {\n    Rule = dependant;\n  };\n  Container.registerAtRule = (dependant) => {\n    AtRule = dependant;\n  };\n  Container.registerRoot = (dependant) => {\n    Root = dependant;\n  };\n  container$1 = Container;\n  Container.default = Container;\n  Container.rebuild = (node2) => {\n    if (node2.type === \"atrule\") {\n      Object.setPrototypeOf(node2, AtRule.prototype);\n    } else if (node2.type === \"rule\") {\n      Object.setPrototypeOf(node2, Rule.prototype);\n    } else if (node2.type === \"decl\") {\n      Object.setPrototypeOf(node2, Declaration.prototype);\n    } else if (node2.type === \"comment\") {\n      Object.setPrototypeOf(node2, Comment.prototype);\n    } else if (node2.type === \"root\") {\n      Object.setPrototypeOf(node2, Root.prototype);\n    }\n    node2[my] = true;\n    if (node2.nodes) {\n      node2.nodes.forEach((child) => {\n        Container.rebuild(child);\n      });\n    }\n  };\n  return container$1;\n}\nvar document$1$1;\nvar hasRequiredDocument$1;\nfunction requireDocument$1() {\n  if (hasRequiredDocument$1) return document$1$1;\n  hasRequiredDocument$1 = 1;\n  let Container = requireContainer$1();\n  let LazyResult, Processor;\n  class Document2 extends Container {\n    constructor(defaults) {\n      super({ type: \"document\", ...defaults });\n      if (!this.nodes) {\n        this.nodes = [];\n      }\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Document2.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Document2.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  document$1$1 = Document2;\n  Document2.default = Document2;\n  return document$1$1;\n}\nvar warnOnce$1;\nvar hasRequiredWarnOnce$1;\nfunction requireWarnOnce$1() {\n  if (hasRequiredWarnOnce$1) return warnOnce$1;\n  hasRequiredWarnOnce$1 = 1;\n  let printed = {};\n  warnOnce$1 = function warnOnce2(message) {\n    if (printed[message]) return;\n    printed[message] = true;\n    if (typeof console !== \"undefined\" && console.warn) {\n      console.warn(message);\n    }\n  };\n  return warnOnce$1;\n}\nvar warning$1;\nvar hasRequiredWarning$1;\nfunction requireWarning$1() {\n  if (hasRequiredWarning$1) return warning$1;\n  hasRequiredWarning$1 = 1;\n  class Warning {\n    constructor(text, opts = {}) {\n      this.type = \"warning\";\n      this.text = text;\n      if (opts.node && opts.node.source) {\n        let range = opts.node.rangeBy(opts);\n        this.line = range.start.line;\n        this.column = range.start.column;\n        this.endLine = range.end.line;\n        this.endColumn = range.end.column;\n      }\n      for (let opt in opts) this[opt] = opts[opt];\n    }\n    toString() {\n      if (this.node) {\n        return this.node.error(this.text, {\n          index: this.index,\n          plugin: this.plugin,\n          word: this.word\n        }).message;\n      }\n      if (this.plugin) {\n        return this.plugin + \": \" + this.text;\n      }\n      return this.text;\n    }\n  }\n  warning$1 = Warning;\n  Warning.default = Warning;\n  return warning$1;\n}\nvar result$1;\nvar hasRequiredResult$1;\nfunction requireResult$1() {\n  if (hasRequiredResult$1) return result$1;\n  hasRequiredResult$1 = 1;\n  let Warning = requireWarning$1();\n  class Result {\n    constructor(processor2, root2, opts) {\n      this.processor = processor2;\n      this.messages = [];\n      this.root = root2;\n      this.opts = opts;\n      this.css = void 0;\n      this.map = void 0;\n    }\n    toString() {\n      return this.css;\n    }\n    warn(text, opts = {}) {\n      if (!opts.plugin) {\n        if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n          opts.plugin = this.lastPlugin.postcssPlugin;\n        }\n      }\n      let warning2 = new Warning(text, opts);\n      this.messages.push(warning2);\n      return warning2;\n    }\n    warnings() {\n      return this.messages.filter((i2) => i2.type === \"warning\");\n    }\n    get content() {\n      return this.css;\n    }\n  }\n  result$1 = Result;\n  Result.default = Result;\n  return result$1;\n}\nvar tokenize$1;\nvar hasRequiredTokenize$1;\nfunction requireTokenize$1() {\n  if (hasRequiredTokenize$1) return tokenize$1;\n  hasRequiredTokenize$1 = 1;\n  const SINGLE_QUOTE = \"'\".charCodeAt(0);\n  const DOUBLE_QUOTE = '\"'.charCodeAt(0);\n  const BACKSLASH = \"\\\\\".charCodeAt(0);\n  const SLASH = \"/\".charCodeAt(0);\n  const NEWLINE = \"\\n\".charCodeAt(0);\n  const SPACE = \" \".charCodeAt(0);\n  const FEED = \"\\f\".charCodeAt(0);\n  const TAB = \"\t\".charCodeAt(0);\n  const CR = \"\\r\".charCodeAt(0);\n  const OPEN_SQUARE = \"[\".charCodeAt(0);\n  const CLOSE_SQUARE = \"]\".charCodeAt(0);\n  const OPEN_PARENTHESES = \"(\".charCodeAt(0);\n  const CLOSE_PARENTHESES = \")\".charCodeAt(0);\n  const OPEN_CURLY = \"{\".charCodeAt(0);\n  const CLOSE_CURLY = \"}\".charCodeAt(0);\n  const SEMICOLON = \";\".charCodeAt(0);\n  const ASTERISK = \"*\".charCodeAt(0);\n  const COLON = \":\".charCodeAt(0);\n  const AT = \"@\".charCodeAt(0);\n  const RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\n  const RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\n  const RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\n  const RE_HEX_ESCAPE = /[\\da-f]/i;\n  tokenize$1 = function tokenizer(input2, options = {}) {\n    let css = input2.css.valueOf();\n    let ignore = options.ignoreErrors;\n    let code, next, quote, content, escape;\n    let escaped, escapePos, prev, n2, currentToken;\n    let length = css.length;\n    let pos = 0;\n    let buffer = [];\n    let returned = [];\n    function position() {\n      return pos;\n    }\n    function unclosed(what) {\n      throw input2.error(\"Unclosed \" + what, pos);\n    }\n    function endOfFile() {\n      return returned.length === 0 && pos >= length;\n    }\n    function nextToken(opts) {\n      if (returned.length) return returned.pop();\n      if (pos >= length) return;\n      let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n      code = css.charCodeAt(pos);\n      switch (code) {\n        case NEWLINE:\n        case SPACE:\n        case TAB:\n        case CR:\n        case FEED: {\n          next = pos;\n          do {\n            next += 1;\n            code = css.charCodeAt(next);\n          } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n          currentToken = [\"space\", css.slice(pos, next)];\n          pos = next - 1;\n          break;\n        }\n        case OPEN_SQUARE:\n        case CLOSE_SQUARE:\n        case OPEN_CURLY:\n        case CLOSE_CURLY:\n        case COLON:\n        case SEMICOLON:\n        case CLOSE_PARENTHESES: {\n          let controlChar = String.fromCharCode(code);\n          currentToken = [controlChar, controlChar, pos];\n          break;\n        }\n        case OPEN_PARENTHESES: {\n          prev = buffer.length ? buffer.pop()[1] : \"\";\n          n2 = css.charCodeAt(pos + 1);\n          if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n            next = pos;\n            do {\n              escaped = false;\n              next = css.indexOf(\")\", next + 1);\n              if (next === -1) {\n                if (ignore || ignoreUnclosed) {\n                  next = pos;\n                  break;\n                } else {\n                  unclosed(\"bracket\");\n                }\n              }\n              escapePos = next;\n              while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n                escapePos -= 1;\n                escaped = !escaped;\n              }\n            } while (escaped);\n            currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            next = css.indexOf(\")\", pos + 1);\n            content = css.slice(pos, next + 1);\n            if (next === -1 || RE_BAD_BRACKET.test(content)) {\n              currentToken = [\"(\", \"(\", pos];\n            } else {\n              currentToken = [\"brackets\", content, pos, next];\n              pos = next;\n            }\n          }\n          break;\n        }\n        case SINGLE_QUOTE:\n        case DOUBLE_QUOTE: {\n          quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(quote, next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos + 1;\n                break;\n              } else {\n                unclosed(\"string\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case AT: {\n          RE_AT_END.lastIndex = pos + 1;\n          RE_AT_END.test(css);\n          if (RE_AT_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_AT_END.lastIndex - 2;\n          }\n          currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case BACKSLASH: {\n          next = pos;\n          escape = true;\n          while (css.charCodeAt(next + 1) === BACKSLASH) {\n            next += 1;\n            escape = !escape;\n          }\n          code = css.charCodeAt(next + 1);\n          if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n            next += 1;\n            if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n              while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n                next += 1;\n              }\n              if (css.charCodeAt(next + 1) === SPACE) {\n                next += 1;\n              }\n            }\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        default: {\n          if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n            next = css.indexOf(\"*/\", pos + 2) + 1;\n            if (next === 0) {\n              if (ignore || ignoreUnclosed) {\n                next = css.length;\n              } else {\n                unclosed(\"comment\");\n              }\n            }\n            currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            RE_WORD_END.lastIndex = pos + 1;\n            RE_WORD_END.test(css);\n            if (RE_WORD_END.lastIndex === 0) {\n              next = css.length - 1;\n            } else {\n              next = RE_WORD_END.lastIndex - 2;\n            }\n            currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n            buffer.push(currentToken);\n            pos = next;\n          }\n          break;\n        }\n      }\n      pos++;\n      return currentToken;\n    }\n    function back(token) {\n      returned.push(token);\n    }\n    return {\n      back,\n      endOfFile,\n      nextToken,\n      position\n    };\n  };\n  return tokenize$1;\n}\nvar atRule$1;\nvar hasRequiredAtRule$1;\nfunction requireAtRule$1() {\n  if (hasRequiredAtRule$1) return atRule$1;\n  hasRequiredAtRule$1 = 1;\n  let Container = requireContainer$1();\n  class AtRule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"atrule\";\n    }\n    append(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.append(...children);\n    }\n    prepend(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.prepend(...children);\n    }\n  }\n  atRule$1 = AtRule;\n  AtRule.default = AtRule;\n  Container.registerAtRule(AtRule);\n  return atRule$1;\n}\nvar root$1;\nvar hasRequiredRoot$1;\nfunction requireRoot$1() {\n  if (hasRequiredRoot$1) return root$1;\n  hasRequiredRoot$1 = 1;\n  let Container = requireContainer$1();\n  let LazyResult, Processor;\n  class Root extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"root\";\n      if (!this.nodes) this.nodes = [];\n    }\n    normalize(child, sample, type) {\n      let nodes = super.normalize(child);\n      if (sample) {\n        if (type === \"prepend\") {\n          if (this.nodes.length > 1) {\n            sample.raws.before = this.nodes[1].raws.before;\n          } else {\n            delete sample.raws.before;\n          }\n        } else if (this.first !== sample) {\n          for (let node2 of nodes) {\n            node2.raws.before = sample.raws.before;\n          }\n        }\n      }\n      return nodes;\n    }\n    removeChild(child, ignore) {\n      let index2 = this.index(child);\n      if (!ignore && index2 === 0 && this.nodes.length > 1) {\n        this.nodes[1].raws.before = this.nodes[index2].raws.before;\n      }\n      return super.removeChild(child);\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Root.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Root.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  root$1 = Root;\n  Root.default = Root;\n  Container.registerRoot(Root);\n  return root$1;\n}\nvar list_1$1;\nvar hasRequiredList$1;\nfunction requireList$1() {\n  if (hasRequiredList$1) return list_1$1;\n  hasRequiredList$1 = 1;\n  let list = {\n    comma(string) {\n      return list.split(string, [\",\"], true);\n    },\n    space(string) {\n      let spaces = [\" \", \"\\n\", \"\t\"];\n      return list.split(string, spaces);\n    },\n    split(string, separators, last) {\n      let array = [];\n      let current = \"\";\n      let split = false;\n      let func = 0;\n      let inQuote = false;\n      let prevQuote = \"\";\n      let escape = false;\n      for (let letter of string) {\n        if (escape) {\n          escape = false;\n        } else if (letter === \"\\\\\") {\n          escape = true;\n        } else if (inQuote) {\n          if (letter === prevQuote) {\n            inQuote = false;\n          }\n        } else if (letter === '\"' || letter === \"'\") {\n          inQuote = true;\n          prevQuote = letter;\n        } else if (letter === \"(\") {\n          func += 1;\n        } else if (letter === \")\") {\n          if (func > 0) func -= 1;\n        } else if (func === 0) {\n          if (separators.includes(letter)) split = true;\n        }\n        if (split) {\n          if (current !== \"\") array.push(current.trim());\n          current = \"\";\n          split = false;\n        } else {\n          current += letter;\n        }\n      }\n      if (last || current !== \"\") array.push(current.trim());\n      return array;\n    }\n  };\n  list_1$1 = list;\n  list.default = list;\n  return list_1$1;\n}\nvar rule$1;\nvar hasRequiredRule$1;\nfunction requireRule$1() {\n  if (hasRequiredRule$1) return rule$1;\n  hasRequiredRule$1 = 1;\n  let Container = requireContainer$1();\n  let list = requireList$1();\n  class Rule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"rule\";\n      if (!this.nodes) this.nodes = [];\n    }\n    get selectors() {\n      return list.comma(this.selector);\n    }\n    set selectors(values) {\n      let match = this.selector ? this.selector.match(/,\\s*/) : null;\n      let sep = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n      this.selector = values.join(sep);\n    }\n  }\n  rule$1 = Rule;\n  Rule.default = Rule;\n  Container.registerRule(Rule);\n  return rule$1;\n}\nvar parser$1;\nvar hasRequiredParser$1;\nfunction requireParser$1() {\n  if (hasRequiredParser$1) return parser$1;\n  hasRequiredParser$1 = 1;\n  let Declaration = requireDeclaration$1();\n  let tokenizer = requireTokenize$1();\n  let Comment = requireComment$1();\n  let AtRule = requireAtRule$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  const SAFE_COMMENT_NEIGHBOR = {\n    empty: true,\n    space: true\n  };\n  function findLastWithPosition(tokens) {\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      let token = tokens[i2];\n      let pos = token[3] || token[2];\n      if (pos) return pos;\n    }\n  }\n  class Parser {\n    constructor(input2) {\n      this.input = input2;\n      this.root = new Root();\n      this.current = this.root;\n      this.spaces = \"\";\n      this.semicolon = false;\n      this.createTokenizer();\n      this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n    }\n    atrule(token) {\n      let node2 = new AtRule();\n      node2.name = token[1].slice(1);\n      if (node2.name === \"\") {\n        this.unnamedAtrule(node2, token);\n      }\n      this.init(node2, token[2]);\n      let type;\n      let prev;\n      let shift;\n      let last = false;\n      let open = false;\n      let params = [];\n      let brackets = [];\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        type = token[0];\n        if (type === \"(\" || type === \"[\") {\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (type === \"{\" && brackets.length > 0) {\n          brackets.push(\"}\");\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n        }\n        if (brackets.length === 0) {\n          if (type === \";\") {\n            node2.source.end = this.getPosition(token[2]);\n            node2.source.end.offset++;\n            this.semicolon = true;\n            break;\n          } else if (type === \"{\") {\n            open = true;\n            break;\n          } else if (type === \"}\") {\n            if (params.length > 0) {\n              shift = params.length - 1;\n              prev = params[shift];\n              while (prev && prev[0] === \"space\") {\n                prev = params[--shift];\n              }\n              if (prev) {\n                node2.source.end = this.getPosition(prev[3] || prev[2]);\n                node2.source.end.offset++;\n              }\n            }\n            this.end(token);\n            break;\n          } else {\n            params.push(token);\n          }\n        } else {\n          params.push(token);\n        }\n        if (this.tokenizer.endOfFile()) {\n          last = true;\n          break;\n        }\n      }\n      node2.raws.between = this.spacesAndCommentsFromEnd(params);\n      if (params.length) {\n        node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n        this.raw(node2, \"params\", params);\n        if (last) {\n          token = params[params.length - 1];\n          node2.source.end = this.getPosition(token[3] || token[2]);\n          node2.source.end.offset++;\n          this.spaces = node2.raws.between;\n          node2.raws.between = \"\";\n        }\n      } else {\n        node2.raws.afterName = \"\";\n        node2.params = \"\";\n      }\n      if (open) {\n        node2.nodes = [];\n        this.current = node2;\n      }\n    }\n    checkMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let founded = 0;\n      let token;\n      for (let j = colon - 1; j >= 0; j--) {\n        token = tokens[j];\n        if (token[0] !== \"space\") {\n          founded += 1;\n          if (founded === 2) break;\n        }\n      }\n      throw this.input.error(\n        \"Missed semicolon\",\n        token[0] === \"word\" ? token[3] + 1 : token[2]\n      );\n    }\n    colon(tokens) {\n      let brackets = 0;\n      let token, type, prev;\n      for (let [i2, element] of tokens.entries()) {\n        token = element;\n        type = token[0];\n        if (type === \"(\") {\n          brackets += 1;\n        }\n        if (type === \")\") {\n          brackets -= 1;\n        }\n        if (brackets === 0 && type === \":\") {\n          if (!prev) {\n            this.doubleColon(token);\n          } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n            continue;\n          } else {\n            return i2;\n          }\n        }\n        prev = token;\n      }\n      return false;\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      node2.source.end = this.getPosition(token[3] || token[2]);\n      node2.source.end.offset++;\n      let text = token[1].slice(2, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input);\n    }\n    decl(tokens, customProperty) {\n      let node2 = new Declaration();\n      this.init(node2, tokens[0][2]);\n      let last = tokens[tokens.length - 1];\n      if (last[0] === \";\") {\n        this.semicolon = true;\n        tokens.pop();\n      }\n      node2.source.end = this.getPosition(\n        last[3] || last[2] || findLastWithPosition(tokens)\n      );\n      node2.source.end.offset++;\n      while (tokens[0][0] !== \"word\") {\n        if (tokens.length === 1) this.unknownWord(tokens);\n        node2.raws.before += tokens.shift()[1];\n      }\n      node2.source.start = this.getPosition(tokens[0][2]);\n      node2.prop = \"\";\n      while (tokens.length) {\n        let type = tokens[0][0];\n        if (type === \":\" || type === \"space\" || type === \"comment\") {\n          break;\n        }\n        node2.prop += tokens.shift()[1];\n      }\n      node2.raws.between = \"\";\n      let token;\n      while (tokens.length) {\n        token = tokens.shift();\n        if (token[0] === \":\") {\n          node2.raws.between += token[1];\n          break;\n        } else {\n          if (token[0] === \"word\" && /\\w/.test(token[1])) {\n            this.unknownWord([token]);\n          }\n          node2.raws.between += token[1];\n        }\n      }\n      if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n        node2.raws.before += node2.prop[0];\n        node2.prop = node2.prop.slice(1);\n      }\n      let firstSpaces = [];\n      let next;\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        firstSpaces.push(tokens.shift());\n      }\n      this.precheckMissedSemicolon(tokens);\n      for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n        token = tokens[i2];\n        if (token[1].toLowerCase() === \"!important\") {\n          node2.important = true;\n          let string = this.stringFrom(tokens, i2);\n          string = this.spacesFromEnd(tokens) + string;\n          if (string !== \" !important\") node2.raws.important = string;\n          break;\n        } else if (token[1].toLowerCase() === \"important\") {\n          let cache = tokens.slice(0);\n          let str = \"\";\n          for (let j = i2; j > 0; j--) {\n            let type = cache[j][0];\n            if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n              break;\n            }\n            str = cache.pop()[1] + str;\n          }\n          if (str.trim().indexOf(\"!\") === 0) {\n            node2.important = true;\n            node2.raws.important = str;\n            tokens = cache;\n          }\n        }\n        if (token[0] !== \"space\" && token[0] !== \"comment\") {\n          break;\n        }\n      }\n      let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n      if (hasWord) {\n        node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n        firstSpaces = [];\n      }\n      this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n      if (node2.value.includes(\":\") && !customProperty) {\n        this.checkMissedSemicolon(tokens);\n      }\n    }\n    doubleColon(token) {\n      throw this.input.error(\n        \"Double colon\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n    emptyRule(token) {\n      let node2 = new Rule();\n      this.init(node2, token[2]);\n      node2.selector = \"\";\n      node2.raws.between = \"\";\n      this.current = node2;\n    }\n    end(token) {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.semicolon = false;\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.spaces = \"\";\n      if (this.current.parent) {\n        this.current.source.end = this.getPosition(token[2]);\n        this.current.source.end.offset++;\n        this.current = this.current.parent;\n      } else {\n        this.unexpectedClose(token);\n      }\n    }\n    endFile() {\n      if (this.current.parent) this.unclosedBlock();\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    freeSemicolon(token) {\n      this.spaces += token[1];\n      if (this.current.nodes) {\n        let prev = this.current.nodes[this.current.nodes.length - 1];\n        if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n          prev.raws.ownSemicolon = this.spaces;\n          this.spaces = \"\";\n        }\n      }\n    }\n    // Helpers\n    getPosition(offset) {\n      let pos = this.input.fromOffset(offset);\n      return {\n        column: pos.col,\n        line: pos.line,\n        offset\n      };\n    }\n    init(node2, offset) {\n      this.current.push(node2);\n      node2.source = {\n        input: this.input,\n        start: this.getPosition(offset)\n      };\n      node2.raws.before = this.spaces;\n      this.spaces = \"\";\n      if (node2.type !== \"comment\") this.semicolon = false;\n    }\n    other(start) {\n      let end = false;\n      let type = null;\n      let colon = false;\n      let bracket = null;\n      let brackets = [];\n      let customProperty = start[1].startsWith(\"--\");\n      let tokens = [];\n      let token = start;\n      while (token) {\n        type = token[0];\n        tokens.push(token);\n        if (type === \"(\" || type === \"[\") {\n          if (!bracket) bracket = token;\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (customProperty && colon && type === \"{\") {\n          if (!bracket) bracket = token;\n          brackets.push(\"}\");\n        } else if (brackets.length === 0) {\n          if (type === \";\") {\n            if (colon) {\n              this.decl(tokens, customProperty);\n              return;\n            } else {\n              break;\n            }\n          } else if (type === \"{\") {\n            this.rule(tokens);\n            return;\n          } else if (type === \"}\") {\n            this.tokenizer.back(tokens.pop());\n            end = true;\n            break;\n          } else if (type === \":\") {\n            colon = true;\n          }\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n          if (brackets.length === 0) bracket = null;\n        }\n        token = this.tokenizer.nextToken();\n      }\n      if (this.tokenizer.endOfFile()) end = true;\n      if (brackets.length > 0) this.unclosedBracket(bracket);\n      if (end && colon) {\n        if (!customProperty) {\n          while (tokens.length) {\n            token = tokens[tokens.length - 1][0];\n            if (token !== \"space\" && token !== \"comment\") break;\n            this.tokenizer.back(tokens.pop());\n          }\n        }\n        this.decl(tokens, customProperty);\n      } else {\n        this.unknownWord(tokens);\n      }\n    }\n    parse() {\n      let token;\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        switch (token[0]) {\n          case \"space\":\n            this.spaces += token[1];\n            break;\n          case \";\":\n            this.freeSemicolon(token);\n            break;\n          case \"}\":\n            this.end(token);\n            break;\n          case \"comment\":\n            this.comment(token);\n            break;\n          case \"at-word\":\n            this.atrule(token);\n            break;\n          case \"{\":\n            this.emptyRule(token);\n            break;\n          default:\n            this.other(token);\n            break;\n        }\n      }\n      this.endFile();\n    }\n    precheckMissedSemicolon() {\n    }\n    raw(node2, prop, tokens, customProperty) {\n      let token, type;\n      let length = tokens.length;\n      let value = \"\";\n      let clean = true;\n      let next, prev;\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        token = tokens[i2];\n        type = token[0];\n        if (type === \"space\" && i2 === length - 1 && !customProperty) {\n          clean = false;\n        } else if (type === \"comment\") {\n          prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n          next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n          if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n            if (value.slice(-1) === \",\") {\n              clean = false;\n            } else {\n              value += token[1];\n            }\n          } else {\n            clean = false;\n          }\n        } else {\n          value += token[1];\n        }\n      }\n      if (!clean) {\n        let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n        node2.raws[prop] = { raw, value };\n      }\n      node2[prop] = value;\n    }\n    rule(tokens) {\n      tokens.pop();\n      let node2 = new Rule();\n      this.init(node2, tokens[0][2]);\n      node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n      this.raw(node2, \"selector\", tokens);\n      this.current = node2;\n    }\n    spacesAndCommentsFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    // Errors\n    spacesAndCommentsFromStart(tokens) {\n      let next;\n      let spaces = \"\";\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        spaces += tokens.shift()[1];\n      }\n      return spaces;\n    }\n    spacesFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    stringFrom(tokens, from) {\n      let result2 = \"\";\n      for (let i2 = from; i2 < tokens.length; i2++) {\n        result2 += tokens[i2][1];\n      }\n      tokens.splice(from, tokens.length - from);\n      return result2;\n    }\n    unclosedBlock() {\n      let pos = this.current.source.start;\n      throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n    }\n    unclosedBracket(bracket) {\n      throw this.input.error(\n        \"Unclosed bracket\",\n        { offset: bracket[2] },\n        { offset: bracket[2] + 1 }\n      );\n    }\n    unexpectedClose(token) {\n      throw this.input.error(\n        \"Unexpected }\",\n        { offset: token[2] },\n        { offset: token[2] + 1 }\n      );\n    }\n    unknownWord(tokens) {\n      throw this.input.error(\n        \"Unknown word\",\n        { offset: tokens[0][2] },\n        { offset: tokens[0][2] + tokens[0][1].length }\n      );\n    }\n    unnamedAtrule(node2, token) {\n      throw this.input.error(\n        \"At-rule without name\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n  }\n  parser$1 = Parser;\n  return parser$1;\n}\nvar parse_1$1;\nvar hasRequiredParse$1;\nfunction requireParse$1() {\n  if (hasRequiredParse$1) return parse_1$1;\n  hasRequiredParse$1 = 1;\n  let Container = requireContainer$1();\n  let Parser = requireParser$1();\n  let Input = requireInput$1();\n  function parse(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new Parser(input2);\n    try {\n      parser2.parse();\n    } catch (e2) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n          if (/\\.scss$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n          } else if (/\\.sass/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n          } else if (/\\.less$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n          }\n        }\n      }\n      throw e2;\n    }\n    return parser2.root;\n  }\n  parse_1$1 = parse;\n  parse.default = parse;\n  Container.registerParse(parse);\n  return parse_1$1;\n}\nvar lazyResult$1;\nvar hasRequiredLazyResult$1;\nfunction requireLazyResult$1() {\n  if (hasRequiredLazyResult$1) return lazyResult$1;\n  hasRequiredLazyResult$1 = 1;\n  let { isClean, my } = requireSymbols$1();\n  let MapGenerator = requireMapGenerator$1();\n  let stringify = requireStringify$1();\n  let Container = requireContainer$1();\n  let Document2 = requireDocument$1();\n  let warnOnce2 = requireWarnOnce$1();\n  let Result = requireResult$1();\n  let parse = requireParse$1();\n  let Root = requireRoot$1();\n  const TYPE_TO_CLASS_NAME = {\n    atrule: \"AtRule\",\n    comment: \"Comment\",\n    decl: \"Declaration\",\n    document: \"Document\",\n    root: \"Root\",\n    rule: \"Rule\"\n  };\n  const PLUGIN_PROPS = {\n    AtRule: true,\n    AtRuleExit: true,\n    Comment: true,\n    CommentExit: true,\n    Declaration: true,\n    DeclarationExit: true,\n    Document: true,\n    DocumentExit: true,\n    Once: true,\n    OnceExit: true,\n    postcssPlugin: true,\n    prepare: true,\n    Root: true,\n    RootExit: true,\n    Rule: true,\n    RuleExit: true\n  };\n  const NOT_VISITORS = {\n    Once: true,\n    postcssPlugin: true,\n    prepare: true\n  };\n  const CHILDREN = 0;\n  function isPromise(obj) {\n    return typeof obj === \"object\" && typeof obj.then === \"function\";\n  }\n  function getEvents(node2) {\n    let key = false;\n    let type = TYPE_TO_CLASS_NAME[node2.type];\n    if (node2.type === \"decl\") {\n      key = node2.prop.toLowerCase();\n    } else if (node2.type === \"atrule\") {\n      key = node2.name.toLowerCase();\n    }\n    if (key && node2.append) {\n      return [\n        type,\n        type + \"-\" + key,\n        CHILDREN,\n        type + \"Exit\",\n        type + \"Exit-\" + key\n      ];\n    } else if (key) {\n      return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n    } else if (node2.append) {\n      return [type, CHILDREN, type + \"Exit\"];\n    } else {\n      return [type, type + \"Exit\"];\n    }\n  }\n  function toStack(node2) {\n    let events;\n    if (node2.type === \"document\") {\n      events = [\"Document\", CHILDREN, \"DocumentExit\"];\n    } else if (node2.type === \"root\") {\n      events = [\"Root\", CHILDREN, \"RootExit\"];\n    } else {\n      events = getEvents(node2);\n    }\n    return {\n      eventIndex: 0,\n      events,\n      iterator: 0,\n      node: node2,\n      visitorIndex: 0,\n      visitors: []\n    };\n  }\n  function cleanMarks(node2) {\n    node2[isClean] = false;\n    if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n    return node2;\n  }\n  let postcss2 = {};\n  class LazyResult {\n    constructor(processor2, css, opts) {\n      this.stringified = false;\n      this.processed = false;\n      let root2;\n      if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n        root2 = cleanMarks(css);\n      } else if (css instanceof LazyResult || css instanceof Result) {\n        root2 = cleanMarks(css.root);\n        if (css.map) {\n          if (typeof opts.map === \"undefined\") opts.map = {};\n          if (!opts.map.inline) opts.map.inline = false;\n          opts.map.prev = css.map;\n        }\n      } else {\n        let parser2 = parse;\n        if (opts.syntax) parser2 = opts.syntax.parse;\n        if (opts.parser) parser2 = opts.parser;\n        if (parser2.parse) parser2 = parser2.parse;\n        try {\n          root2 = parser2(css, opts);\n        } catch (error) {\n          this.processed = true;\n          this.error = error;\n        }\n        if (root2 && !root2[my]) {\n          Container.rebuild(root2);\n        }\n      }\n      this.result = new Result(processor2, root2, opts);\n      this.helpers = { ...postcss2, postcss: postcss2, result: this.result };\n      this.plugins = this.processor.plugins.map((plugin) => {\n        if (typeof plugin === \"object\" && plugin.prepare) {\n          return { ...plugin, ...plugin.prepare(this.result) };\n        } else {\n          return plugin;\n        }\n      });\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n      return this.processing;\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    getAsyncError() {\n      throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n    }\n    handleError(error, node2) {\n      let plugin = this.result.lastPlugin;\n      try {\n        if (node2) node2.addToError(error);\n        this.error = error;\n        if (error.name === \"CssSyntaxError\" && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== \"production\") {\n            let pluginName = plugin.postcssPlugin;\n            let pluginVer = plugin.postcssVersion;\n            let runtimeVer = this.result.processor.version;\n            let a2 = pluginVer.split(\".\");\n            let b = runtimeVer.split(\".\");\n            if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n              console.error(\n                \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (console && console.error) console.error(err);\n      }\n      return error;\n    }\n    prepareVisitors() {\n      this.listeners = {};\n      let add = (plugin, type, cb) => {\n        if (!this.listeners[type]) this.listeners[type] = [];\n        this.listeners[type].push([plugin, cb]);\n      };\n      for (let plugin of this.plugins) {\n        if (typeof plugin === \"object\") {\n          for (let event in plugin) {\n            if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n              throw new Error(\n                `Unknown event ${event} in ${plugin.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n              );\n            }\n            if (!NOT_VISITORS[event]) {\n              if (typeof plugin[event] === \"object\") {\n                for (let filter in plugin[event]) {\n                  if (filter === \"*\") {\n                    add(plugin, event, plugin[event][filter]);\n                  } else {\n                    add(\n                      plugin,\n                      event + \"-\" + filter.toLowerCase(),\n                      plugin[event][filter]\n                    );\n                  }\n                }\n              } else if (typeof plugin[event] === \"function\") {\n                add(plugin, event, plugin[event]);\n              }\n            }\n          }\n        }\n      }\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n    async runAsync() {\n      this.plugin = 0;\n      for (let i2 = 0; i2 < this.plugins.length; i2++) {\n        let plugin = this.plugins[i2];\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          try {\n            await promise;\n          } catch (error) {\n            throw this.handleError(error);\n          }\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          let stack = [toStack(root2)];\n          while (stack.length > 0) {\n            let promise = this.visitTick(stack);\n            if (isPromise(promise)) {\n              try {\n                await promise;\n              } catch (e2) {\n                let node2 = stack[stack.length - 1].node;\n                throw this.handleError(e2, node2);\n              }\n            }\n          }\n        }\n        if (this.listeners.OnceExit) {\n          for (let [plugin, visitor] of this.listeners.OnceExit) {\n            this.result.lastPlugin = plugin;\n            try {\n              if (root2.type === \"document\") {\n                let roots = root2.nodes.map(\n                  (subRoot) => visitor(subRoot, this.helpers)\n                );\n                await Promise.all(roots);\n              } else {\n                await visitor(root2, this.helpers);\n              }\n            } catch (e2) {\n              throw this.handleError(e2);\n            }\n          }\n        }\n      }\n      this.processed = true;\n      return this.stringify();\n    }\n    runOnRoot(plugin) {\n      this.result.lastPlugin = plugin;\n      try {\n        if (typeof plugin === \"object\" && plugin.Once) {\n          if (this.result.root.type === \"document\") {\n            let roots = this.result.root.nodes.map(\n              (root2) => plugin.Once(root2, this.helpers)\n            );\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n            return roots;\n          }\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === \"function\") {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n    stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      let opts = this.result.opts;\n      let str = stringify;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      let map = new MapGenerator(str, this.result.root, this.result.opts);\n      let data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n    sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n      for (let plugin of this.plugins) {\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          this.walkSync(root2);\n        }\n        if (this.listeners.OnceExit) {\n          if (root2.type === \"document\") {\n            for (let subRoot of root2.nodes) {\n              this.visitSync(this.listeners.OnceExit, subRoot);\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root2);\n          }\n        }\n      }\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this.opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this.css;\n    }\n    visitSync(visitors, node2) {\n      for (let [plugin, visitor] of visitors) {\n        this.result.lastPlugin = plugin;\n        let promise;\n        try {\n          promise = visitor(node2, this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2.proxyOf);\n        }\n        if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n          return true;\n        }\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n    }\n    visitTick(stack) {\n      let visit2 = stack[stack.length - 1];\n      let { node: node2, visitors } = visit2;\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        stack.pop();\n        return;\n      }\n      if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n        let [plugin, visitor] = visitors[visit2.visitorIndex];\n        visit2.visitorIndex += 1;\n        if (visit2.visitorIndex === visitors.length) {\n          visit2.visitors = [];\n          visit2.visitorIndex = 0;\n        }\n        this.result.lastPlugin = plugin;\n        try {\n          return visitor(node2.toProxy(), this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2);\n        }\n      }\n      if (visit2.iterator !== 0) {\n        let iterator = visit2.iterator;\n        let child;\n        while (child = node2.nodes[node2.indexes[iterator]]) {\n          node2.indexes[iterator] += 1;\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n        visit2.iterator = 0;\n        delete node2.indexes[iterator];\n      }\n      let events = visit2.events;\n      while (visit2.eventIndex < events.length) {\n        let event = events[visit2.eventIndex];\n        visit2.eventIndex += 1;\n        if (event === CHILDREN) {\n          if (node2.nodes && node2.nodes.length) {\n            node2[isClean] = true;\n            visit2.iterator = node2.getIterator();\n          }\n          return;\n        } else if (this.listeners[event]) {\n          visit2.visitors = this.listeners[event];\n          return;\n        }\n      }\n      stack.pop();\n    }\n    walkSync(node2) {\n      node2[isClean] = true;\n      let events = getEvents(node2);\n      for (let event of events) {\n        if (event === CHILDREN) {\n          if (node2.nodes) {\n            node2.each((child) => {\n              if (!child[isClean]) this.walkSync(child);\n            });\n          }\n        } else {\n          let visitors = this.listeners[event];\n          if (visitors) {\n            if (this.visitSync(visitors, node2.toProxy())) return;\n          }\n        }\n      }\n    }\n    warnings() {\n      return this.sync().warnings();\n    }\n    get content() {\n      return this.stringify().content;\n    }\n    get css() {\n      return this.stringify().css;\n    }\n    get map() {\n      return this.stringify().map;\n    }\n    get messages() {\n      return this.sync().messages;\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      return this.sync().root;\n    }\n    get [Symbol.toStringTag]() {\n      return \"LazyResult\";\n    }\n  }\n  LazyResult.registerPostcss = (dependant) => {\n    postcss2 = dependant;\n  };\n  lazyResult$1 = LazyResult;\n  LazyResult.default = LazyResult;\n  Root.registerLazyResult(LazyResult);\n  Document2.registerLazyResult(LazyResult);\n  return lazyResult$1;\n}\nvar noWorkResult$1;\nvar hasRequiredNoWorkResult$1;\nfunction requireNoWorkResult$1() {\n  if (hasRequiredNoWorkResult$1) return noWorkResult$1;\n  hasRequiredNoWorkResult$1 = 1;\n  let MapGenerator = requireMapGenerator$1();\n  let stringify = requireStringify$1();\n  let warnOnce2 = requireWarnOnce$1();\n  let parse = requireParse$1();\n  const Result = requireResult$1();\n  class NoWorkResult {\n    constructor(processor2, css, opts) {\n      css = css.toString();\n      this.stringified = false;\n      this._processor = processor2;\n      this._css = css;\n      this._opts = opts;\n      this._map = void 0;\n      let root2;\n      let str = stringify;\n      this.result = new Result(this._processor, root2, this._opts);\n      this.result.css = css;\n      let self2 = this;\n      Object.defineProperty(this.result, \"root\", {\n        get() {\n          return self2.root;\n        }\n      });\n      let map = new MapGenerator(str, root2, this._opts, css);\n      if (map.isMap()) {\n        let [generatedCSS, generatedMap] = map.generate();\n        if (generatedCSS) {\n          this.result.css = generatedCSS;\n        }\n        if (generatedMap) {\n          this.result.map = generatedMap;\n        }\n      } else {\n        map.clearAnnotation();\n        this.result.css = map.css;\n      }\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      return Promise.resolve(this.result);\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    sync() {\n      if (this.error) throw this.error;\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this._opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this._css;\n    }\n    warnings() {\n      return [];\n    }\n    get content() {\n      return this.result.css;\n    }\n    get css() {\n      return this.result.css;\n    }\n    get map() {\n      return this.result.map;\n    }\n    get messages() {\n      return [];\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      if (this._root) {\n        return this._root;\n      }\n      let root2;\n      let parser2 = parse;\n      try {\n        root2 = parser2(this._css, this._opts);\n      } catch (error) {\n        this.error = error;\n      }\n      if (this.error) {\n        throw this.error;\n      } else {\n        this._root = root2;\n        return root2;\n      }\n    }\n    get [Symbol.toStringTag]() {\n      return \"NoWorkResult\";\n    }\n  }\n  noWorkResult$1 = NoWorkResult;\n  NoWorkResult.default = NoWorkResult;\n  return noWorkResult$1;\n}\nvar processor$1;\nvar hasRequiredProcessor$1;\nfunction requireProcessor$1() {\n  if (hasRequiredProcessor$1) return processor$1;\n  hasRequiredProcessor$1 = 1;\n  let NoWorkResult = requireNoWorkResult$1();\n  let LazyResult = requireLazyResult$1();\n  let Document2 = requireDocument$1();\n  let Root = requireRoot$1();\n  class Processor {\n    constructor(plugins = []) {\n      this.version = \"8.4.38\";\n      this.plugins = this.normalize(plugins);\n    }\n    normalize(plugins) {\n      let normalized = [];\n      for (let i2 of plugins) {\n        if (i2.postcss === true) {\n          i2 = i2();\n        } else if (i2.postcss) {\n          i2 = i2.postcss;\n        }\n        if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n          normalized = normalized.concat(i2.plugins);\n        } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n          normalized.push(i2);\n        } else if (typeof i2 === \"function\") {\n          normalized.push(i2);\n        } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(\n              \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n            );\n          }\n        } else {\n          throw new Error(i2 + \" is not a PostCSS plugin\");\n        }\n      }\n      return normalized;\n    }\n    process(css, opts = {}) {\n      if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n        return new NoWorkResult(this, css, opts);\n      } else {\n        return new LazyResult(this, css, opts);\n      }\n    }\n    use(plugin) {\n      this.plugins = this.plugins.concat(this.normalize([plugin]));\n      return this;\n    }\n  }\n  processor$1 = Processor;\n  Processor.default = Processor;\n  Root.registerProcessor(Processor);\n  Document2.registerProcessor(Processor);\n  return processor$1;\n}\nvar fromJSON_1$1;\nvar hasRequiredFromJSON$1;\nfunction requireFromJSON$1() {\n  if (hasRequiredFromJSON$1) return fromJSON_1$1;\n  hasRequiredFromJSON$1 = 1;\n  let Declaration = requireDeclaration$1();\n  let PreviousMap = requirePreviousMap$1();\n  let Comment = requireComment$1();\n  let AtRule = requireAtRule$1();\n  let Input = requireInput$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  function fromJSON(json, inputs) {\n    if (Array.isArray(json)) return json.map((n2) => fromJSON(n2));\n    let { inputs: ownInputs, ...defaults } = json;\n    if (ownInputs) {\n      inputs = [];\n      for (let input2 of ownInputs) {\n        let inputHydrated = { ...input2, __proto__: Input.prototype };\n        if (inputHydrated.map) {\n          inputHydrated.map = {\n            ...inputHydrated.map,\n            __proto__: PreviousMap.prototype\n          };\n        }\n        inputs.push(inputHydrated);\n      }\n    }\n    if (defaults.nodes) {\n      defaults.nodes = json.nodes.map((n2) => fromJSON(n2, inputs));\n    }\n    if (defaults.source) {\n      let { inputId, ...source } = defaults.source;\n      defaults.source = source;\n      if (inputId != null) {\n        defaults.source.input = inputs[inputId];\n      }\n    }\n    if (defaults.type === \"root\") {\n      return new Root(defaults);\n    } else if (defaults.type === \"decl\") {\n      return new Declaration(defaults);\n    } else if (defaults.type === \"rule\") {\n      return new Rule(defaults);\n    } else if (defaults.type === \"comment\") {\n      return new Comment(defaults);\n    } else if (defaults.type === \"atrule\") {\n      return new AtRule(defaults);\n    } else {\n      throw new Error(\"Unknown node type: \" + json.type);\n    }\n  }\n  fromJSON_1$1 = fromJSON;\n  fromJSON.default = fromJSON;\n  return fromJSON_1$1;\n}\nvar postcss_1$1;\nvar hasRequiredPostcss$1;\nfunction requirePostcss$1() {\n  if (hasRequiredPostcss$1) return postcss_1$1;\n  hasRequiredPostcss$1 = 1;\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let Declaration = requireDeclaration$1();\n  let LazyResult = requireLazyResult$1();\n  let Container = requireContainer$1();\n  let Processor = requireProcessor$1();\n  let stringify = requireStringify$1();\n  let fromJSON = requireFromJSON$1();\n  let Document2 = requireDocument$1();\n  let Warning = requireWarning$1();\n  let Comment = requireComment$1();\n  let AtRule = requireAtRule$1();\n  let Result = requireResult$1();\n  let Input = requireInput$1();\n  let parse = requireParse$1();\n  let list = requireList$1();\n  let Rule = requireRule$1();\n  let Root = requireRoot$1();\n  let Node2 = requireNode$1();\n  function postcss2(...plugins) {\n    if (plugins.length === 1 && Array.isArray(plugins[0])) {\n      plugins = plugins[0];\n    }\n    return new Processor(plugins);\n  }\n  postcss2.plugin = function plugin(name, initializer) {\n    let warningPrinted = false;\n    function creator(...args) {\n      if (console && console.warn && !warningPrinted) {\n        warningPrinted = true;\n        console.warn(\n          name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n        );\n        if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n          console.warn(\n            name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n          );\n        }\n      }\n      let transformer = initializer(...args);\n      transformer.postcssPlugin = name;\n      transformer.postcssVersion = new Processor().version;\n      return transformer;\n    }\n    let cache;\n    Object.defineProperty(creator, \"postcss\", {\n      get() {\n        if (!cache) cache = creator();\n        return cache;\n      }\n    });\n    creator.process = function(css, processOpts, pluginOpts) {\n      return postcss2([creator(pluginOpts)]).process(css, processOpts);\n    };\n    return creator;\n  };\n  postcss2.stringify = stringify;\n  postcss2.parse = parse;\n  postcss2.fromJSON = fromJSON;\n  postcss2.list = list;\n  postcss2.comment = (defaults) => new Comment(defaults);\n  postcss2.atRule = (defaults) => new AtRule(defaults);\n  postcss2.decl = (defaults) => new Declaration(defaults);\n  postcss2.rule = (defaults) => new Rule(defaults);\n  postcss2.root = (defaults) => new Root(defaults);\n  postcss2.document = (defaults) => new Document2(defaults);\n  postcss2.CssSyntaxError = CssSyntaxError;\n  postcss2.Declaration = Declaration;\n  postcss2.Container = Container;\n  postcss2.Processor = Processor;\n  postcss2.Document = Document2;\n  postcss2.Comment = Comment;\n  postcss2.Warning = Warning;\n  postcss2.AtRule = AtRule;\n  postcss2.Result = Result;\n  postcss2.Input = Input;\n  postcss2.Rule = Rule;\n  postcss2.Root = Root;\n  postcss2.Node = Node2;\n  LazyResult.registerPostcss(postcss2);\n  postcss_1$1 = postcss2;\n  postcss2.default = postcss2;\n  return postcss_1$1;\n}\nvar postcssExports$1 = requirePostcss$1();\nconst postcss$1 = /* @__PURE__ */ getDefaultExportFromCjs$1(postcssExports$1);\npostcss$1.stringify;\npostcss$1.fromJSON;\npostcss$1.plugin;\npostcss$1.parse;\npostcss$1.list;\npostcss$1.document;\npostcss$1.comment;\npostcss$1.atRule;\npostcss$1.rule;\npostcss$1.decl;\npostcss$1.root;\npostcss$1.CssSyntaxError;\npostcss$1.Declaration;\npostcss$1.Container;\npostcss$1.Processor;\npostcss$1.Document;\npostcss$1.Comment;\npostcss$1.Warning;\npostcss$1.AtRule;\npostcss$1.Result;\npostcss$1.Input;\npostcss$1.Rule;\npostcss$1.Root;\npostcss$1.Node;\nvar __defProp2 = Object.defineProperty;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField2 = (obj, key, value) => __defNormalProp2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nfunction getAugmentedNamespace(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser = { exports: {} };\nvar hasRequiredPicocolors_browser;\nfunction requirePicocolors_browser() {\n  if (hasRequiredPicocolors_browser) return picocolors_browser.exports;\n  hasRequiredPicocolors_browser = 1;\n  var x = String;\n  var create = function() {\n    return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x };\n  };\n  picocolors_browser.exports = create();\n  picocolors_browser.exports.createColors = create;\n  return picocolors_browser.exports;\n}\nconst __viteBrowserExternal = {};\nconst __viteBrowserExternal$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2 = /* @__PURE__ */ getAugmentedNamespace(__viteBrowserExternal$1);\nvar cssSyntaxError;\nvar hasRequiredCssSyntaxError;\nfunction requireCssSyntaxError() {\n  if (hasRequiredCssSyntaxError) return cssSyntaxError;\n  hasRequiredCssSyntaxError = 1;\n  let pico = /* @__PURE__ */ requirePicocolors_browser();\n  let terminalHighlight = require$$2;\n  class CssSyntaxError extends Error {\n    constructor(message, line, column, source, file, plugin) {\n      super(message);\n      this.name = \"CssSyntaxError\";\n      this.reason = message;\n      if (file) {\n        this.file = file;\n      }\n      if (source) {\n        this.source = source;\n      }\n      if (plugin) {\n        this.plugin = plugin;\n      }\n      if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n        if (typeof line === \"number\") {\n          this.line = line;\n          this.column = column;\n        } else {\n          this.line = line.line;\n          this.column = line.column;\n          this.endLine = column.line;\n          this.endColumn = column.column;\n        }\n      }\n      this.setMessage();\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, CssSyntaxError);\n      }\n    }\n    setMessage() {\n      this.message = this.plugin ? this.plugin + \": \" : \"\";\n      this.message += this.file ? this.file : \"<css input>\";\n      if (typeof this.line !== \"undefined\") {\n        this.message += \":\" + this.line + \":\" + this.column;\n      }\n      this.message += \": \" + this.reason;\n    }\n    showSourceCode(color) {\n      if (!this.source) return \"\";\n      let css = this.source;\n      if (color == null) color = pico.isColorSupported;\n      if (terminalHighlight) {\n        if (color) css = terminalHighlight(css);\n      }\n      let lines = css.split(/\\r?\\n/);\n      let start = Math.max(this.line - 3, 0);\n      let end = Math.min(this.line + 2, lines.length);\n      let maxWidth = String(end).length;\n      let mark, aside;\n      if (color) {\n        let { bold, gray, red } = pico.createColors(true);\n        mark = (text) => bold(red(text));\n        aside = (text) => gray(text);\n      } else {\n        mark = aside = (str) => str;\n      }\n      return lines.slice(start, end).map((line, index2) => {\n        let number = start + 1 + index2;\n        let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n        if (number === this.line) {\n          let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n          return mark(\">\") + aside(gutter) + line + \"\\n \" + spacing + mark(\"^\");\n        }\n        return \" \" + aside(gutter) + line;\n      }).join(\"\\n\");\n    }\n    toString() {\n      let code = this.showSourceCode();\n      if (code) {\n        code = \"\\n\\n\" + code + \"\\n\";\n      }\n      return this.name + \": \" + this.message + code;\n    }\n  }\n  cssSyntaxError = CssSyntaxError;\n  CssSyntaxError.default = CssSyntaxError;\n  return cssSyntaxError;\n}\nvar symbols = {};\nvar hasRequiredSymbols;\nfunction requireSymbols() {\n  if (hasRequiredSymbols) return symbols;\n  hasRequiredSymbols = 1;\n  symbols.isClean = Symbol(\"isClean\");\n  symbols.my = Symbol(\"my\");\n  return symbols;\n}\nvar stringifier;\nvar hasRequiredStringifier;\nfunction requireStringifier() {\n  if (hasRequiredStringifier) return stringifier;\n  hasRequiredStringifier = 1;\n  const DEFAULT_RAW = {\n    after: \"\\n\",\n    beforeClose: \"\\n\",\n    beforeComment: \"\\n\",\n    beforeDecl: \"\\n\",\n    beforeOpen: \" \",\n    beforeRule: \"\\n\",\n    colon: \": \",\n    commentLeft: \" \",\n    commentRight: \" \",\n    emptyBody: \"\",\n    indent: \"    \",\n    semicolon: false\n  };\n  function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }\n  class Stringifier {\n    constructor(builder) {\n      this.builder = builder;\n    }\n    atrule(node2, semicolon) {\n      let name = \"@\" + node2.name;\n      let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n      if (typeof node2.raws.afterName !== \"undefined\") {\n        name += node2.raws.afterName;\n      } else if (params) {\n        name += \" \";\n      }\n      if (node2.nodes) {\n        this.block(node2, name + params);\n      } else {\n        let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n        this.builder(name + params + end, node2);\n      }\n    }\n    beforeAfter(node2, detect) {\n      let value;\n      if (node2.type === \"decl\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (node2.type === \"comment\") {\n        value = this.raw(node2, null, \"beforeComment\");\n      } else if (detect === \"before\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else {\n        value = this.raw(node2, null, \"beforeClose\");\n      }\n      let buf = node2.parent;\n      let depth = 0;\n      while (buf && buf.type !== \"root\") {\n        depth += 1;\n        buf = buf.parent;\n      }\n      if (value.includes(\"\\n\")) {\n        let indent = this.raw(node2, null, \"indent\");\n        if (indent.length) {\n          for (let step = 0; step < depth; step++) value += indent;\n        }\n      }\n      return value;\n    }\n    block(node2, start) {\n      let between = this.raw(node2, \"between\", \"beforeOpen\");\n      this.builder(start + between + \"{\", node2, \"start\");\n      let after;\n      if (node2.nodes && node2.nodes.length) {\n        this.body(node2);\n        after = this.raw(node2, \"after\");\n      } else {\n        after = this.raw(node2, \"after\", \"emptyBody\");\n      }\n      if (after) this.builder(after);\n      this.builder(\"}\", node2, \"end\");\n    }\n    body(node2) {\n      let last = node2.nodes.length - 1;\n      while (last > 0) {\n        if (node2.nodes[last].type !== \"comment\") break;\n        last -= 1;\n      }\n      let semicolon = this.raw(node2, \"semicolon\");\n      for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n        let child = node2.nodes[i2];\n        let before = this.raw(child, \"before\");\n        if (before) this.builder(before);\n        this.stringify(child, last !== i2 || semicolon);\n      }\n    }\n    comment(node2) {\n      let left = this.raw(node2, \"left\", \"commentLeft\");\n      let right = this.raw(node2, \"right\", \"commentRight\");\n      this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n    }\n    decl(node2, semicolon) {\n      let between = this.raw(node2, \"between\", \"colon\");\n      let string = node2.prop + between + this.rawValue(node2, \"value\");\n      if (node2.important) {\n        string += node2.raws.important || \" !important\";\n      }\n      if (semicolon) string += \";\";\n      this.builder(string, node2);\n    }\n    document(node2) {\n      this.body(node2);\n    }\n    raw(node2, own, detect) {\n      let value;\n      if (!detect) detect = own;\n      if (own) {\n        value = node2.raws[own];\n        if (typeof value !== \"undefined\") return value;\n      }\n      let parent = node2.parent;\n      if (detect === \"before\") {\n        if (!parent || parent.type === \"root\" && parent.first === node2) {\n          return \"\";\n        }\n        if (parent && parent.type === \"document\") {\n          return \"\";\n        }\n      }\n      if (!parent) return DEFAULT_RAW[detect];\n      let root2 = node2.root();\n      if (!root2.rawCache) root2.rawCache = {};\n      if (typeof root2.rawCache[detect] !== \"undefined\") {\n        return root2.rawCache[detect];\n      }\n      if (detect === \"before\" || detect === \"after\") {\n        return this.beforeAfter(node2, detect);\n      } else {\n        let method = \"raw\" + capitalize(detect);\n        if (this[method]) {\n          value = this[method](root2, node2);\n        } else {\n          root2.walk((i2) => {\n            value = i2.raws[own];\n            if (typeof value !== \"undefined\") return false;\n          });\n        }\n      }\n      if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n      root2.rawCache[detect] = value;\n      return value;\n    }\n    rawBeforeClose(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length > 0) {\n          if (typeof i2.raws.after !== \"undefined\") {\n            value = i2.raws.after;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawBeforeComment(root2, node2) {\n      let value;\n      root2.walkComments((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeDecl(root2, node2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeOpen(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.type !== \"decl\") {\n          value = i2.raws.between;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawBeforeRule(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            value = i2.raws.before;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawColon(root2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.between !== \"undefined\") {\n          value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n          return false;\n        }\n      });\n      return value;\n    }\n    rawEmptyBody(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length === 0) {\n          value = i2.raws.after;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawIndent(root2) {\n      if (root2.raws.indent) return root2.raws.indent;\n      let value;\n      root2.walk((i2) => {\n        let p = i2.parent;\n        if (p && p !== root2 && p.parent && p.parent === root2) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            let parts = i2.raws.before.split(\"\\n\");\n            value = parts[parts.length - 1];\n            value = value.replace(/\\S/g, \"\");\n            return false;\n          }\n        }\n      });\n      return value;\n    }\n    rawSemicolon(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n          value = i2.raws.semicolon;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawValue(node2, prop) {\n      let value = node2[prop];\n      let raw = node2.raws[prop];\n      if (raw && raw.value === value) {\n        return raw.raw;\n      }\n      return value;\n    }\n    root(node2) {\n      this.body(node2);\n      if (node2.raws.after) this.builder(node2.raws.after);\n    }\n    rule(node2) {\n      this.block(node2, this.rawValue(node2, \"selector\"));\n      if (node2.raws.ownSemicolon) {\n        this.builder(node2.raws.ownSemicolon, node2, \"end\");\n      }\n    }\n    stringify(node2, semicolon) {\n      if (!this[node2.type]) {\n        throw new Error(\n          \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n        );\n      }\n      this[node2.type](node2, semicolon);\n    }\n  }\n  stringifier = Stringifier;\n  Stringifier.default = Stringifier;\n  return stringifier;\n}\nvar stringify_1;\nvar hasRequiredStringify;\nfunction requireStringify() {\n  if (hasRequiredStringify) return stringify_1;\n  hasRequiredStringify = 1;\n  let Stringifier = requireStringifier();\n  function stringify(node2, builder) {\n    let str = new Stringifier(builder);\n    str.stringify(node2);\n  }\n  stringify_1 = stringify;\n  stringify.default = stringify;\n  return stringify_1;\n}\nvar node;\nvar hasRequiredNode;\nfunction requireNode() {\n  if (hasRequiredNode) return node;\n  hasRequiredNode = 1;\n  let { isClean, my } = requireSymbols();\n  let CssSyntaxError = requireCssSyntaxError();\n  let Stringifier = requireStringifier();\n  let stringify = requireStringify();\n  function cloneNode(obj, parent) {\n    let cloned = new obj.constructor();\n    for (let i2 in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n        continue;\n      }\n      if (i2 === \"proxyCache\") continue;\n      let value = obj[i2];\n      let type = typeof value;\n      if (i2 === \"parent\" && type === \"object\") {\n        if (parent) cloned[i2] = parent;\n      } else if (i2 === \"source\") {\n        cloned[i2] = value;\n      } else if (Array.isArray(value)) {\n        cloned[i2] = value.map((j) => cloneNode(j, cloned));\n      } else {\n        if (type === \"object\" && value !== null) value = cloneNode(value);\n        cloned[i2] = value;\n      }\n    }\n    return cloned;\n  }\n  class Node2 {\n    constructor(defaults = {}) {\n      this.raws = {};\n      this[isClean] = false;\n      this[my] = true;\n      for (let name in defaults) {\n        if (name === \"nodes\") {\n          this.nodes = [];\n          for (let node2 of defaults[name]) {\n            if (typeof node2.clone === \"function\") {\n              this.append(node2.clone());\n            } else {\n              this.append(node2);\n            }\n          }\n        } else {\n          this[name] = defaults[name];\n        }\n      }\n    }\n    addToError(error) {\n      error.postcssNode = this;\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        let s2 = this.source;\n        error.stack = error.stack.replace(\n          /\\n\\s{4}at /,\n          `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n        );\n      }\n      return error;\n    }\n    after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n    assign(overrides = {}) {\n      for (let name in overrides) {\n        this[name] = overrides[name];\n      }\n      return this;\n    }\n    before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n    clone(overrides = {}) {\n      let cloned = cloneNode(this);\n      for (let name in overrides) {\n        cloned[name] = overrides[name];\n      }\n      return cloned;\n    }\n    cloneAfter(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n    cloneBefore(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n    error(message, opts = {}) {\n      if (this.source) {\n        let { end, start } = this.rangeBy(opts);\n        return this.source.input.error(\n          message,\n          { column: start.column, line: start.line },\n          { column: end.column, line: end.line },\n          opts\n        );\n      }\n      return new CssSyntaxError(message);\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n          prop === \"text\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        let next = this;\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n    next() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 + 1];\n    }\n    positionBy(opts, stringRepresentation) {\n      let pos = this.source.start;\n      if (opts.index) {\n        pos = this.positionInside(opts.index, stringRepresentation);\n      } else if (opts.word) {\n        stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) pos = this.positionInside(index2, stringRepresentation);\n      }\n      return pos;\n    }\n    positionInside(index2, stringRepresentation) {\n      let string = stringRepresentation || this.toString();\n      let column = this.source.start.column;\n      let line = this.source.start.line;\n      for (let i2 = 0; i2 < index2; i2++) {\n        if (string[i2] === \"\\n\") {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n      return { column, line };\n    }\n    prev() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 - 1];\n    }\n    rangeBy(opts) {\n      let start = {\n        column: this.source.start.column,\n        line: this.source.start.line\n      };\n      let end = this.source.end ? {\n        column: this.source.end.column + 1,\n        line: this.source.end.line\n      } : {\n        column: start.column + 1,\n        line: start.line\n      };\n      if (opts.word) {\n        let stringRepresentation = this.toString();\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) {\n          start = this.positionInside(index2, stringRepresentation);\n          end = this.positionInside(index2 + opts.word.length, stringRepresentation);\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            column: opts.start.column,\n            line: opts.start.line\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n        if (opts.end) {\n          end = {\n            column: opts.end.column,\n            line: opts.end.line\n          };\n        } else if (typeof opts.endIndex === \"number\") {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = { column: start.column + 1, line: start.line };\n      }\n      return { end, start };\n    }\n    raw(prop, defaultType) {\n      let str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n    remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n      this.parent = void 0;\n      return this;\n    }\n    replaceWith(...nodes) {\n      if (this.parent) {\n        let bookmark = this;\n        let foundSelf = false;\n        for (let node2 of nodes) {\n          if (node2 === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node2);\n            bookmark = node2;\n          } else {\n            this.parent.insertBefore(bookmark, node2);\n          }\n        }\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n      return this;\n    }\n    root() {\n      let result2 = this;\n      while (result2.parent && result2.parent.type !== \"document\") {\n        result2 = result2.parent;\n      }\n      return result2;\n    }\n    toJSON(_, inputs) {\n      let fixed = {};\n      let emitInputs = inputs == null;\n      inputs = inputs || /* @__PURE__ */ new Map();\n      let inputsNextIndex = 0;\n      for (let name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          continue;\n        }\n        if (name === \"parent\" || name === \"proxyCache\") continue;\n        let value = this[name];\n        if (Array.isArray(value)) {\n          fixed[name] = value.map((i2) => {\n            if (typeof i2 === \"object\" && i2.toJSON) {\n              return i2.toJSON(null, inputs);\n            } else {\n              return i2;\n            }\n          });\n        } else if (typeof value === \"object\" && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === \"source\") {\n          let inputId = inputs.get(value.input);\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n          fixed[name] = {\n            end: value.end,\n            inputId,\n            start: value.start\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n      if (emitInputs) {\n        fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n      }\n      return fixed;\n    }\n    toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n      return this.proxyCache;\n    }\n    toString(stringifier2 = stringify) {\n      if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n      let result2 = \"\";\n      stringifier2(this, (i2) => {\n        result2 += i2;\n      });\n      return result2;\n    }\n    warn(result2, text, opts) {\n      let data = { node: this };\n      for (let i2 in opts) data[i2] = opts[i2];\n      return result2.warn(text, data);\n    }\n    get proxyOf() {\n      return this;\n    }\n  }\n  node = Node2;\n  Node2.default = Node2;\n  return node;\n}\nvar declaration;\nvar hasRequiredDeclaration;\nfunction requireDeclaration() {\n  if (hasRequiredDeclaration) return declaration;\n  hasRequiredDeclaration = 1;\n  let Node2 = requireNode();\n  class Declaration extends Node2 {\n    constructor(defaults) {\n      if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n        defaults = { ...defaults, value: String(defaults.value) };\n      }\n      super(defaults);\n      this.type = \"decl\";\n    }\n    get variable() {\n      return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n    }\n  }\n  declaration = Declaration;\n  Declaration.default = Declaration;\n  return declaration;\n}\nvar nonSecure;\nvar hasRequiredNonSecure;\nfunction requireNonSecure() {\n  if (hasRequiredNonSecure) return nonSecure;\n  hasRequiredNonSecure = 1;\n  let urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\n  let customAlphabet = (alphabet, defaultSize = 21) => {\n    return (size = defaultSize) => {\n      let id = \"\";\n      let i2 = size;\n      while (i2--) {\n        id += alphabet[Math.random() * alphabet.length | 0];\n      }\n      return id;\n    };\n  };\n  let nanoid = (size = 21) => {\n    let id = \"\";\n    let i2 = size;\n    while (i2--) {\n      id += urlAlphabet[Math.random() * 64 | 0];\n    }\n    return id;\n  };\n  nonSecure = { nanoid, customAlphabet };\n  return nonSecure;\n}\nvar previousMap;\nvar hasRequiredPreviousMap;\nfunction requirePreviousMap() {\n  if (hasRequiredPreviousMap) return previousMap;\n  hasRequiredPreviousMap = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { existsSync, readFileSync } = require$$2;\n  let { dirname, join } = require$$2;\n  function fromBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str, \"base64\").toString();\n    } else {\n      return window.atob(str);\n    }\n  }\n  class PreviousMap {\n    constructor(css, opts) {\n      if (opts.map === false) return;\n      this.loadAnnotation(css);\n      this.inline = this.startWith(this.annotation, \"data:\");\n      let prev = opts.map ? opts.map.prev : void 0;\n      let text = this.loadMap(opts.from, prev);\n      if (!this.mapFile && opts.from) {\n        this.mapFile = opts.from;\n      }\n      if (this.mapFile) this.root = dirname(this.mapFile);\n      if (text) this.text = text;\n    }\n    consumer() {\n      if (!this.consumerCache) {\n        this.consumerCache = new SourceMapConsumer(this.text);\n      }\n      return this.consumerCache;\n    }\n    decodeInline(text) {\n      let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n      let baseUri = /^data:application\\/json;base64,/;\n      let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n      let uri = /^data:application\\/json,/;\n      if (charsetUri.test(text) || uri.test(text)) {\n        return decodeURIComponent(text.substr(RegExp.lastMatch.length));\n      }\n      if (baseCharsetUri.test(text) || baseUri.test(text)) {\n        return fromBase64(text.substr(RegExp.lastMatch.length));\n      }\n      let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n      throw new Error(\"Unsupported source map encoding \" + encoding);\n    }\n    getAnnotationURL(sourceMapString) {\n      return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n    }\n    isMap(map) {\n      if (typeof map !== \"object\") return false;\n      return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n    }\n    loadAnnotation(css) {\n      let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/gm);\n      if (!comments) return;\n      let start = css.lastIndexOf(comments.pop());\n      let end = css.indexOf(\"*/\", start);\n      if (start > -1 && end > -1) {\n        this.annotation = this.getAnnotationURL(css.substring(start, end));\n      }\n    }\n    loadFile(path) {\n      this.root = dirname(path);\n      if (existsSync(path)) {\n        this.mapFile = path;\n        return readFileSync(path, \"utf-8\").toString().trim();\n      }\n    }\n    loadMap(file, prev) {\n      if (prev === false) return false;\n      if (prev) {\n        if (typeof prev === \"string\") {\n          return prev;\n        } else if (typeof prev === \"function\") {\n          let prevPath = prev(file);\n          if (prevPath) {\n            let map = this.loadFile(prevPath);\n            if (!map) {\n              throw new Error(\n                \"Unable to load previous source map: \" + prevPath.toString()\n              );\n            }\n            return map;\n          }\n        } else if (prev instanceof SourceMapConsumer) {\n          return SourceMapGenerator.fromSourceMap(prev).toString();\n        } else if (prev instanceof SourceMapGenerator) {\n          return prev.toString();\n        } else if (this.isMap(prev)) {\n          return JSON.stringify(prev);\n        } else {\n          throw new Error(\n            \"Unsupported previous source map format: \" + prev.toString()\n          );\n        }\n      } else if (this.inline) {\n        return this.decodeInline(this.annotation);\n      } else if (this.annotation) {\n        let map = this.annotation;\n        if (file) map = join(dirname(file), map);\n        return this.loadFile(map);\n      }\n    }\n    startWith(string, start) {\n      if (!string) return false;\n      return string.substr(0, start.length) === start;\n    }\n    withContent() {\n      return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n    }\n  }\n  previousMap = PreviousMap;\n  PreviousMap.default = PreviousMap;\n  return previousMap;\n}\nvar input;\nvar hasRequiredInput;\nfunction requireInput() {\n  if (hasRequiredInput) return input;\n  hasRequiredInput = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { fileURLToPath, pathToFileURL } = require$$2;\n  let { isAbsolute, resolve } = require$$2;\n  let { nanoid } = /* @__PURE__ */ requireNonSecure();\n  let terminalHighlight = require$$2;\n  let CssSyntaxError = requireCssSyntaxError();\n  let PreviousMap = requirePreviousMap();\n  let fromOffsetCache = Symbol(\"fromOffsetCache\");\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(resolve && isAbsolute);\n  class Input {\n    constructor(css, opts = {}) {\n      if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n        throw new Error(`PostCSS received ${css} instead of CSS string`);\n      }\n      this.css = css.toString();\n      if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"\") {\n        this.hasBOM = true;\n        this.css = this.css.slice(1);\n      } else {\n        this.hasBOM = false;\n      }\n      if (opts.from) {\n        if (!pathAvailable || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n          this.file = opts.from;\n        } else {\n          this.file = resolve(opts.from);\n        }\n      }\n      if (pathAvailable && sourceMapAvailable) {\n        let map = new PreviousMap(this.css, opts);\n        if (map.text) {\n          this.map = map;\n          let file = map.consumer().file;\n          if (!this.file && file) this.file = this.mapResolve(file);\n        }\n      }\n      if (!this.file) {\n        this.id = \"<input css \" + nanoid(6) + \">\";\n      }\n      if (this.map) this.map.file = this.from;\n    }\n    error(message, line, column, opts = {}) {\n      let result2, endLine, endColumn;\n      if (line && typeof line === \"object\") {\n        let start = line;\n        let end = column;\n        if (typeof start.offset === \"number\") {\n          let pos = this.fromOffset(start.offset);\n          line = pos.line;\n          column = pos.col;\n        } else {\n          line = start.line;\n          column = start.column;\n        }\n        if (typeof end.offset === \"number\") {\n          let pos = this.fromOffset(end.offset);\n          endLine = pos.line;\n          endColumn = pos.col;\n        } else {\n          endLine = end.line;\n          endColumn = end.column;\n        }\n      } else if (!column) {\n        let pos = this.fromOffset(line);\n        line = pos.line;\n        column = pos.col;\n      }\n      let origin = this.origin(line, column, endLine, endColumn);\n      if (origin) {\n        result2 = new CssSyntaxError(\n          message,\n          origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n          origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n          origin.source,\n          origin.file,\n          opts.plugin\n        );\n      } else {\n        result2 = new CssSyntaxError(\n          message,\n          endLine === void 0 ? line : { column, line },\n          endLine === void 0 ? column : { column: endColumn, line: endLine },\n          this.css,\n          this.file,\n          opts.plugin\n        );\n      }\n      result2.input = { column, endColumn, endLine, line, source: this.css };\n      if (this.file) {\n        if (pathToFileURL) {\n          result2.input.url = pathToFileURL(this.file).toString();\n        }\n        result2.input.file = this.file;\n      }\n      return result2;\n    }\n    fromOffset(offset) {\n      let lastLine, lineToIndex;\n      if (!this[fromOffsetCache]) {\n        let lines = this.css.split(\"\\n\");\n        lineToIndex = new Array(lines.length);\n        let prevIndex = 0;\n        for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n          lineToIndex[i2] = prevIndex;\n          prevIndex += lines[i2].length + 1;\n        }\n        this[fromOffsetCache] = lineToIndex;\n      } else {\n        lineToIndex = this[fromOffsetCache];\n      }\n      lastLine = lineToIndex[lineToIndex.length - 1];\n      let min = 0;\n      if (offset >= lastLine) {\n        min = lineToIndex.length - 1;\n      } else {\n        let max = lineToIndex.length - 2;\n        let mid;\n        while (min < max) {\n          mid = min + (max - min >> 1);\n          if (offset < lineToIndex[mid]) {\n            max = mid - 1;\n          } else if (offset >= lineToIndex[mid + 1]) {\n            min = mid + 1;\n          } else {\n            min = mid;\n            break;\n          }\n        }\n      }\n      return {\n        col: offset - lineToIndex[min] + 1,\n        line: min + 1\n      };\n    }\n    mapResolve(file) {\n      if (/^\\w+:\\/\\//.test(file)) {\n        return file;\n      }\n      return resolve(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n    }\n    origin(line, column, endLine, endColumn) {\n      if (!this.map) return false;\n      let consumer = this.map.consumer();\n      let from = consumer.originalPositionFor({ column, line });\n      if (!from.source) return false;\n      let to;\n      if (typeof endLine === \"number\") {\n        to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n      }\n      let fromUrl;\n      if (isAbsolute(from.source)) {\n        fromUrl = pathToFileURL(from.source);\n      } else {\n        fromUrl = new URL(\n          from.source,\n          this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n        );\n      }\n      let result2 = {\n        column: from.column,\n        endColumn: to && to.column,\n        endLine: to && to.line,\n        line: from.line,\n        url: fromUrl.toString()\n      };\n      if (fromUrl.protocol === \"file:\") {\n        if (fileURLToPath) {\n          result2.file = fileURLToPath(fromUrl);\n        } else {\n          throw new Error(`file: protocol is not available in this PostCSS build`);\n        }\n      }\n      let source = consumer.sourceContentFor(from.source);\n      if (source) result2.source = source;\n      return result2;\n    }\n    toJSON() {\n      let json = {};\n      for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n        if (this[name] != null) {\n          json[name] = this[name];\n        }\n      }\n      if (this.map) {\n        json.map = { ...this.map };\n        if (json.map.consumerCache) {\n          json.map.consumerCache = void 0;\n        }\n      }\n      return json;\n    }\n    get from() {\n      return this.file || this.id;\n    }\n  }\n  input = Input;\n  Input.default = Input;\n  if (terminalHighlight && terminalHighlight.registerInput) {\n    terminalHighlight.registerInput(Input);\n  }\n  return input;\n}\nvar mapGenerator;\nvar hasRequiredMapGenerator;\nfunction requireMapGenerator() {\n  if (hasRequiredMapGenerator) return mapGenerator;\n  hasRequiredMapGenerator = 1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { dirname, relative, resolve, sep } = require$$2;\n  let { pathToFileURL } = require$$2;\n  let Input = requireInput();\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(dirname && resolve && relative && sep);\n  class MapGenerator {\n    constructor(stringify, root2, opts, cssString) {\n      this.stringify = stringify;\n      this.mapOpts = opts.map || {};\n      this.root = root2;\n      this.opts = opts;\n      this.css = cssString;\n      this.originalCSS = cssString;\n      this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n      this.memoizedFileURLs = /* @__PURE__ */ new Map();\n      this.memoizedPaths = /* @__PURE__ */ new Map();\n      this.memoizedURLs = /* @__PURE__ */ new Map();\n    }\n    addAnnotation() {\n      let content;\n      if (this.isInline()) {\n        content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n      } else if (typeof this.mapOpts.annotation === \"string\") {\n        content = this.mapOpts.annotation;\n      } else if (typeof this.mapOpts.annotation === \"function\") {\n        content = this.mapOpts.annotation(this.opts.to, this.root);\n      } else {\n        content = this.outputFile() + \".map\";\n      }\n      let eol = \"\\n\";\n      if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n      this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n    }\n    applyPrevMaps() {\n      for (let prev of this.previous()) {\n        let from = this.toUrl(this.path(prev.file));\n        let root2 = prev.root || dirname(prev.file);\n        let map;\n        if (this.mapOpts.sourcesContent === false) {\n          map = new SourceMapConsumer(prev.text);\n          if (map.sourcesContent) {\n            map.sourcesContent = null;\n          }\n        } else {\n          map = prev.consumer();\n        }\n        this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n      }\n    }\n    clearAnnotation() {\n      if (this.mapOpts.annotation === false) return;\n      if (this.root) {\n        let node2;\n        for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n          node2 = this.root.nodes[i2];\n          if (node2.type !== \"comment\") continue;\n          if (node2.text.indexOf(\"# sourceMappingURL=\") === 0) {\n            this.root.removeChild(i2);\n          }\n        }\n      } else if (this.css) {\n        this.css = this.css.replace(/\\n*?\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n      }\n    }\n    generate() {\n      this.clearAnnotation();\n      if (pathAvailable && sourceMapAvailable && this.isMap()) {\n        return this.generateMap();\n      } else {\n        let result2 = \"\";\n        this.stringify(this.root, (i2) => {\n          result2 += i2;\n        });\n        return [result2];\n      }\n    }\n    generateMap() {\n      if (this.root) {\n        this.generateString();\n      } else if (this.previous().length === 1) {\n        let prev = this.previous()[0].consumer();\n        prev.file = this.outputFile();\n        this.map = SourceMapGenerator.fromSourceMap(prev, {\n          ignoreInvalidMapping: true\n        });\n      } else {\n        this.map = new SourceMapGenerator({\n          file: this.outputFile(),\n          ignoreInvalidMapping: true\n        });\n        this.map.addMapping({\n          generated: { column: 0, line: 1 },\n          original: { column: 0, line: 1 },\n          source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n        });\n      }\n      if (this.isSourcesContent()) this.setSourcesContent();\n      if (this.root && this.previous().length > 0) this.applyPrevMaps();\n      if (this.isAnnotation()) this.addAnnotation();\n      if (this.isInline()) {\n        return [this.css];\n      } else {\n        return [this.css, this.map];\n      }\n    }\n    generateString() {\n      this.css = \"\";\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      let line = 1;\n      let column = 1;\n      let noSource = \"<no source>\";\n      let mapping = {\n        generated: { column: 0, line: 0 },\n        original: { column: 0, line: 0 },\n        source: \"\"\n      };\n      let lines, last;\n      this.stringify(this.root, (str, node2, type) => {\n        this.css += str;\n        if (node2 && type !== \"end\") {\n          mapping.generated.line = line;\n          mapping.generated.column = column - 1;\n          if (node2.source && node2.source.start) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.start.line;\n            mapping.original.column = node2.source.start.column - 1;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            this.map.addMapping(mapping);\n          }\n        }\n        lines = str.match(/\\n/g);\n        if (lines) {\n          line += lines.length;\n          last = str.lastIndexOf(\"\\n\");\n          column = str.length - last;\n        } else {\n          column += str.length;\n        }\n        if (node2 && type !== \"start\") {\n          let p = node2.parent || { raws: {} };\n          let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n          if (!childless || node2 !== p.last || p.raws.semicolon) {\n            if (node2.source && node2.source.end) {\n              mapping.source = this.sourcePath(node2);\n              mapping.original.line = node2.source.end.line;\n              mapping.original.column = node2.source.end.column - 1;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 2;\n              this.map.addMapping(mapping);\n            } else {\n              mapping.source = noSource;\n              mapping.original.line = 1;\n              mapping.original.column = 0;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 1;\n              this.map.addMapping(mapping);\n            }\n          }\n        }\n      });\n    }\n    isAnnotation() {\n      if (this.isInline()) {\n        return true;\n      }\n      if (typeof this.mapOpts.annotation !== \"undefined\") {\n        return this.mapOpts.annotation;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.annotation);\n      }\n      return true;\n    }\n    isInline() {\n      if (typeof this.mapOpts.inline !== \"undefined\") {\n        return this.mapOpts.inline;\n      }\n      let annotation = this.mapOpts.annotation;\n      if (typeof annotation !== \"undefined\" && annotation !== true) {\n        return false;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.inline);\n      }\n      return true;\n    }\n    isMap() {\n      if (typeof this.opts.map !== \"undefined\") {\n        return !!this.opts.map;\n      }\n      return this.previous().length > 0;\n    }\n    isSourcesContent() {\n      if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n        return this.mapOpts.sourcesContent;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.withContent());\n      }\n      return true;\n    }\n    outputFile() {\n      if (this.opts.to) {\n        return this.path(this.opts.to);\n      } else if (this.opts.from) {\n        return this.path(this.opts.from);\n      } else {\n        return \"to.css\";\n      }\n    }\n    path(file) {\n      if (this.mapOpts.absolute) return file;\n      if (file.charCodeAt(0) === 60) return file;\n      if (/^\\w+:\\/\\//.test(file)) return file;\n      let cached = this.memoizedPaths.get(file);\n      if (cached) return cached;\n      let from = this.opts.to ? dirname(this.opts.to) : \".\";\n      if (typeof this.mapOpts.annotation === \"string\") {\n        from = dirname(resolve(from, this.mapOpts.annotation));\n      }\n      let path = relative(from, file);\n      this.memoizedPaths.set(file, path);\n      return path;\n    }\n    previous() {\n      if (!this.previousMaps) {\n        this.previousMaps = [];\n        if (this.root) {\n          this.root.walk((node2) => {\n            if (node2.source && node2.source.input.map) {\n              let map = node2.source.input.map;\n              if (!this.previousMaps.includes(map)) {\n                this.previousMaps.push(map);\n              }\n            }\n          });\n        } else {\n          let input2 = new Input(this.originalCSS, this.opts);\n          if (input2.map) this.previousMaps.push(input2.map);\n        }\n      }\n      return this.previousMaps;\n    }\n    setSourcesContent() {\n      let already = {};\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source) {\n            let from = node2.source.input.from;\n            if (from && !already[from]) {\n              already[from] = true;\n              let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n              this.map.setSourceContent(fromUrl, node2.source.input.css);\n            }\n          }\n        });\n      } else if (this.css) {\n        let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n        this.map.setSourceContent(from, this.css);\n      }\n    }\n    sourcePath(node2) {\n      if (this.mapOpts.from) {\n        return this.toUrl(this.mapOpts.from);\n      } else if (this.usesFileUrls) {\n        return this.toFileUrl(node2.source.input.from);\n      } else {\n        return this.toUrl(this.path(node2.source.input.from));\n      }\n    }\n    toBase64(str) {\n      if (Buffer) {\n        return Buffer.from(str).toString(\"base64\");\n      } else {\n        return window.btoa(unescape(encodeURIComponent(str)));\n      }\n    }\n    toFileUrl(path) {\n      let cached = this.memoizedFileURLs.get(path);\n      if (cached) return cached;\n      if (pathToFileURL) {\n        let fileURL = pathToFileURL(path).toString();\n        this.memoizedFileURLs.set(path, fileURL);\n        return fileURL;\n      } else {\n        throw new Error(\n          \"`map.absolute` option is not available in this PostCSS build\"\n        );\n      }\n    }\n    toUrl(path) {\n      let cached = this.memoizedURLs.get(path);\n      if (cached) return cached;\n      if (sep === \"\\\\\") {\n        path = path.replace(/\\\\/g, \"/\");\n      }\n      let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n      this.memoizedURLs.set(path, url);\n      return url;\n    }\n  }\n  mapGenerator = MapGenerator;\n  return mapGenerator;\n}\nvar comment;\nvar hasRequiredComment;\nfunction requireComment() {\n  if (hasRequiredComment) return comment;\n  hasRequiredComment = 1;\n  let Node2 = requireNode();\n  class Comment extends Node2 {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"comment\";\n    }\n  }\n  comment = Comment;\n  Comment.default = Comment;\n  return comment;\n}\nvar container;\nvar hasRequiredContainer;\nfunction requireContainer() {\n  if (hasRequiredContainer) return container;\n  hasRequiredContainer = 1;\n  let { isClean, my } = requireSymbols();\n  let Declaration = requireDeclaration();\n  let Comment = requireComment();\n  let Node2 = requireNode();\n  let parse, Rule, AtRule, Root;\n  function cleanSource(nodes) {\n    return nodes.map((i2) => {\n      if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n      delete i2.source;\n      return i2;\n    });\n  }\n  function markDirtyUp(node2) {\n    node2[isClean] = false;\n    if (node2.proxyOf.nodes) {\n      for (let i2 of node2.proxyOf.nodes) {\n        markDirtyUp(i2);\n      }\n    }\n  }\n  class Container extends Node2 {\n    append(...children) {\n      for (let child of children) {\n        let nodes = this.normalize(child, this.last);\n        for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n      }\n      this.markDirty();\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      super.cleanRaws(keepBetween);\n      if (this.nodes) {\n        for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n      }\n    }\n    each(callback) {\n      if (!this.proxyOf.nodes) return void 0;\n      let iterator = this.getIterator();\n      let index2, result2;\n      while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n        index2 = this.indexes[iterator];\n        result2 = callback(this.proxyOf.nodes[index2], index2);\n        if (result2 === false) break;\n        this.indexes[iterator] += 1;\n      }\n      delete this.indexes[iterator];\n      return result2;\n    }\n    every(condition) {\n      return this.nodes.every(condition);\n    }\n    getIterator() {\n      if (!this.lastEach) this.lastEach = 0;\n      if (!this.indexes) this.indexes = {};\n      this.lastEach += 1;\n      let iterator = this.lastEach;\n      this.indexes[iterator] = 0;\n      return iterator;\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (!node2[prop]) {\n            return node2[prop];\n          } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n            return (...args) => {\n              return node2[prop](\n                ...args.map((i2) => {\n                  if (typeof i2 === \"function\") {\n                    return (child, index2) => i2(child.toProxy(), index2);\n                  } else {\n                    return i2;\n                  }\n                })\n              );\n            };\n          } else if (prop === \"every\" || prop === \"some\") {\n            return (cb) => {\n              return node2[prop](\n                (child, ...other) => cb(child.toProxy(), ...other)\n              );\n            };\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else if (prop === \"nodes\") {\n            return node2.nodes.map((i2) => i2.toProxy());\n          } else if (prop === \"first\" || prop === \"last\") {\n            return node2[prop].toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    index(child) {\n      if (typeof child === \"number\") return child;\n      if (child.proxyOf) child = child.proxyOf;\n      return this.proxyOf.nodes.indexOf(child);\n    }\n    insertAfter(exist, add) {\n      let existIndex = this.index(exist);\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex < index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    insertBefore(exist, add) {\n      let existIndex = this.index(exist);\n      let type = existIndex === 0 ? \"prepend\" : false;\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex], type).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex <= index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    normalize(nodes, sample) {\n      if (typeof nodes === \"string\") {\n        nodes = cleanSource(parse(nodes).nodes);\n      } else if (typeof nodes === \"undefined\") {\n        nodes = [];\n      } else if (Array.isArray(nodes)) {\n        nodes = nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type === \"root\" && this.type !== \"document\") {\n        nodes = nodes.nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type) {\n        nodes = [nodes];\n      } else if (nodes.prop) {\n        if (typeof nodes.value === \"undefined\") {\n          throw new Error(\"Value field is missed in node creation\");\n        } else if (typeof nodes.value !== \"string\") {\n          nodes.value = String(nodes.value);\n        }\n        nodes = [new Declaration(nodes)];\n      } else if (nodes.selector) {\n        nodes = [new Rule(nodes)];\n      } else if (nodes.name) {\n        nodes = [new AtRule(nodes)];\n      } else if (nodes.text) {\n        nodes = [new Comment(nodes)];\n      } else {\n        throw new Error(\"Unknown node type in node creation\");\n      }\n      let processed = nodes.map((i2) => {\n        if (!i2[my]) Container.rebuild(i2);\n        i2 = i2.proxyOf;\n        if (i2.parent) i2.parent.removeChild(i2);\n        if (i2[isClean]) markDirtyUp(i2);\n        if (typeof i2.raws.before === \"undefined\") {\n          if (sample && typeof sample.raws.before !== \"undefined\") {\n            i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n          }\n        }\n        i2.parent = this.proxyOf;\n        return i2;\n      });\n      return processed;\n    }\n    prepend(...children) {\n      children = children.reverse();\n      for (let child of children) {\n        let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n        for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n        for (let id in this.indexes) {\n          this.indexes[id] = this.indexes[id] + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    push(child) {\n      child.parent = this;\n      this.proxyOf.nodes.push(child);\n      return this;\n    }\n    removeAll() {\n      for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n      this.proxyOf.nodes = [];\n      this.markDirty();\n      return this;\n    }\n    removeChild(child) {\n      child = this.index(child);\n      this.proxyOf.nodes[child].parent = void 0;\n      this.proxyOf.nodes.splice(child, 1);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (index2 >= child) {\n          this.indexes[id] = index2 - 1;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    replaceValues(pattern, opts, callback) {\n      if (!callback) {\n        callback = opts;\n        opts = {};\n      }\n      this.walkDecls((decl) => {\n        if (opts.props && !opts.props.includes(decl.prop)) return;\n        if (opts.fast && !decl.value.includes(opts.fast)) return;\n        decl.value = decl.value.replace(pattern, callback);\n      });\n      this.markDirty();\n      return this;\n    }\n    some(condition) {\n      return this.nodes.some(condition);\n    }\n    walk(callback) {\n      return this.each((child, i2) => {\n        let result2;\n        try {\n          result2 = callback(child, i2);\n        } catch (e2) {\n          throw child.addToError(e2);\n        }\n        if (result2 !== false && child.walk) {\n          result2 = child.walk(callback);\n        }\n        return result2;\n      });\n    }\n    walkAtRules(name, callback) {\n      if (!callback) {\n        callback = name;\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (name instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\" && name.test(child.name)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && child.name === name) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkComments(callback) {\n      return this.walk((child, i2) => {\n        if (child.type === \"comment\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkDecls(prop, callback) {\n      if (!callback) {\n        callback = prop;\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (prop instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\" && prop.test(child.prop)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && child.prop === prop) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkRules(selector, callback) {\n      if (!callback) {\n        callback = selector;\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (selector instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\" && selector.test(child.selector)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && child.selector === selector) {\n          return callback(child, i2);\n        }\n      });\n    }\n    get first() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[0];\n    }\n    get last() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n    }\n  }\n  Container.registerParse = (dependant) => {\n    parse = dependant;\n  };\n  Container.registerRule = (dependant) => {\n    Rule = dependant;\n  };\n  Container.registerAtRule = (dependant) => {\n    AtRule = dependant;\n  };\n  Container.registerRoot = (dependant) => {\n    Root = dependant;\n  };\n  container = Container;\n  Container.default = Container;\n  Container.rebuild = (node2) => {\n    if (node2.type === \"atrule\") {\n      Object.setPrototypeOf(node2, AtRule.prototype);\n    } else if (node2.type === \"rule\") {\n      Object.setPrototypeOf(node2, Rule.prototype);\n    } else if (node2.type === \"decl\") {\n      Object.setPrototypeOf(node2, Declaration.prototype);\n    } else if (node2.type === \"comment\") {\n      Object.setPrototypeOf(node2, Comment.prototype);\n    } else if (node2.type === \"root\") {\n      Object.setPrototypeOf(node2, Root.prototype);\n    }\n    node2[my] = true;\n    if (node2.nodes) {\n      node2.nodes.forEach((child) => {\n        Container.rebuild(child);\n      });\n    }\n  };\n  return container;\n}\nvar document$1;\nvar hasRequiredDocument;\nfunction requireDocument() {\n  if (hasRequiredDocument) return document$1;\n  hasRequiredDocument = 1;\n  let Container = requireContainer();\n  let LazyResult, Processor;\n  class Document2 extends Container {\n    constructor(defaults) {\n      super({ type: \"document\", ...defaults });\n      if (!this.nodes) {\n        this.nodes = [];\n      }\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Document2.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Document2.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  document$1 = Document2;\n  Document2.default = Document2;\n  return document$1;\n}\nvar warnOnce;\nvar hasRequiredWarnOnce;\nfunction requireWarnOnce() {\n  if (hasRequiredWarnOnce) return warnOnce;\n  hasRequiredWarnOnce = 1;\n  let printed = {};\n  warnOnce = function warnOnce2(message) {\n    if (printed[message]) return;\n    printed[message] = true;\n    if (typeof console !== \"undefined\" && console.warn) {\n      console.warn(message);\n    }\n  };\n  return warnOnce;\n}\nvar warning;\nvar hasRequiredWarning;\nfunction requireWarning() {\n  if (hasRequiredWarning) return warning;\n  hasRequiredWarning = 1;\n  class Warning {\n    constructor(text, opts = {}) {\n      this.type = \"warning\";\n      this.text = text;\n      if (opts.node && opts.node.source) {\n        let range = opts.node.rangeBy(opts);\n        this.line = range.start.line;\n        this.column = range.start.column;\n        this.endLine = range.end.line;\n        this.endColumn = range.end.column;\n      }\n      for (let opt in opts) this[opt] = opts[opt];\n    }\n    toString() {\n      if (this.node) {\n        return this.node.error(this.text, {\n          index: this.index,\n          plugin: this.plugin,\n          word: this.word\n        }).message;\n      }\n      if (this.plugin) {\n        return this.plugin + \": \" + this.text;\n      }\n      return this.text;\n    }\n  }\n  warning = Warning;\n  Warning.default = Warning;\n  return warning;\n}\nvar result;\nvar hasRequiredResult;\nfunction requireResult() {\n  if (hasRequiredResult) return result;\n  hasRequiredResult = 1;\n  let Warning = requireWarning();\n  class Result {\n    constructor(processor2, root2, opts) {\n      this.processor = processor2;\n      this.messages = [];\n      this.root = root2;\n      this.opts = opts;\n      this.css = void 0;\n      this.map = void 0;\n    }\n    toString() {\n      return this.css;\n    }\n    warn(text, opts = {}) {\n      if (!opts.plugin) {\n        if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n          opts.plugin = this.lastPlugin.postcssPlugin;\n        }\n      }\n      let warning2 = new Warning(text, opts);\n      this.messages.push(warning2);\n      return warning2;\n    }\n    warnings() {\n      return this.messages.filter((i2) => i2.type === \"warning\");\n    }\n    get content() {\n      return this.css;\n    }\n  }\n  result = Result;\n  Result.default = Result;\n  return result;\n}\nvar tokenize;\nvar hasRequiredTokenize;\nfunction requireTokenize() {\n  if (hasRequiredTokenize) return tokenize;\n  hasRequiredTokenize = 1;\n  const SINGLE_QUOTE = \"'\".charCodeAt(0);\n  const DOUBLE_QUOTE = '\"'.charCodeAt(0);\n  const BACKSLASH = \"\\\\\".charCodeAt(0);\n  const SLASH = \"/\".charCodeAt(0);\n  const NEWLINE = \"\\n\".charCodeAt(0);\n  const SPACE = \" \".charCodeAt(0);\n  const FEED = \"\\f\".charCodeAt(0);\n  const TAB = \"\t\".charCodeAt(0);\n  const CR = \"\\r\".charCodeAt(0);\n  const OPEN_SQUARE = \"[\".charCodeAt(0);\n  const CLOSE_SQUARE = \"]\".charCodeAt(0);\n  const OPEN_PARENTHESES = \"(\".charCodeAt(0);\n  const CLOSE_PARENTHESES = \")\".charCodeAt(0);\n  const OPEN_CURLY = \"{\".charCodeAt(0);\n  const CLOSE_CURLY = \"}\".charCodeAt(0);\n  const SEMICOLON = \";\".charCodeAt(0);\n  const ASTERISK = \"*\".charCodeAt(0);\n  const COLON = \":\".charCodeAt(0);\n  const AT = \"@\".charCodeAt(0);\n  const RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\n  const RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\n  const RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\n  const RE_HEX_ESCAPE = /[\\da-f]/i;\n  tokenize = function tokenizer(input2, options = {}) {\n    let css = input2.css.valueOf();\n    let ignore = options.ignoreErrors;\n    let code, next, quote, content, escape;\n    let escaped, escapePos, prev, n2, currentToken;\n    let length = css.length;\n    let pos = 0;\n    let buffer = [];\n    let returned = [];\n    function position() {\n      return pos;\n    }\n    function unclosed(what) {\n      throw input2.error(\"Unclosed \" + what, pos);\n    }\n    function endOfFile() {\n      return returned.length === 0 && pos >= length;\n    }\n    function nextToken(opts) {\n      if (returned.length) return returned.pop();\n      if (pos >= length) return;\n      let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n      code = css.charCodeAt(pos);\n      switch (code) {\n        case NEWLINE:\n        case SPACE:\n        case TAB:\n        case CR:\n        case FEED: {\n          next = pos;\n          do {\n            next += 1;\n            code = css.charCodeAt(next);\n          } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n          currentToken = [\"space\", css.slice(pos, next)];\n          pos = next - 1;\n          break;\n        }\n        case OPEN_SQUARE:\n        case CLOSE_SQUARE:\n        case OPEN_CURLY:\n        case CLOSE_CURLY:\n        case COLON:\n        case SEMICOLON:\n        case CLOSE_PARENTHESES: {\n          let controlChar = String.fromCharCode(code);\n          currentToken = [controlChar, controlChar, pos];\n          break;\n        }\n        case OPEN_PARENTHESES: {\n          prev = buffer.length ? buffer.pop()[1] : \"\";\n          n2 = css.charCodeAt(pos + 1);\n          if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n            next = pos;\n            do {\n              escaped = false;\n              next = css.indexOf(\")\", next + 1);\n              if (next === -1) {\n                if (ignore || ignoreUnclosed) {\n                  next = pos;\n                  break;\n                } else {\n                  unclosed(\"bracket\");\n                }\n              }\n              escapePos = next;\n              while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n                escapePos -= 1;\n                escaped = !escaped;\n              }\n            } while (escaped);\n            currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            next = css.indexOf(\")\", pos + 1);\n            content = css.slice(pos, next + 1);\n            if (next === -1 || RE_BAD_BRACKET.test(content)) {\n              currentToken = [\"(\", \"(\", pos];\n            } else {\n              currentToken = [\"brackets\", content, pos, next];\n              pos = next;\n            }\n          }\n          break;\n        }\n        case SINGLE_QUOTE:\n        case DOUBLE_QUOTE: {\n          quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(quote, next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos + 1;\n                break;\n              } else {\n                unclosed(\"string\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case AT: {\n          RE_AT_END.lastIndex = pos + 1;\n          RE_AT_END.test(css);\n          if (RE_AT_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_AT_END.lastIndex - 2;\n          }\n          currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case BACKSLASH: {\n          next = pos;\n          escape = true;\n          while (css.charCodeAt(next + 1) === BACKSLASH) {\n            next += 1;\n            escape = !escape;\n          }\n          code = css.charCodeAt(next + 1);\n          if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n            next += 1;\n            if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n              while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n                next += 1;\n              }\n              if (css.charCodeAt(next + 1) === SPACE) {\n                next += 1;\n              }\n            }\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        default: {\n          if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n            next = css.indexOf(\"*/\", pos + 2) + 1;\n            if (next === 0) {\n              if (ignore || ignoreUnclosed) {\n                next = css.length;\n              } else {\n                unclosed(\"comment\");\n              }\n            }\n            currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            RE_WORD_END.lastIndex = pos + 1;\n            RE_WORD_END.test(css);\n            if (RE_WORD_END.lastIndex === 0) {\n              next = css.length - 1;\n            } else {\n              next = RE_WORD_END.lastIndex - 2;\n            }\n            currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n            buffer.push(currentToken);\n            pos = next;\n          }\n          break;\n        }\n      }\n      pos++;\n      return currentToken;\n    }\n    function back(token) {\n      returned.push(token);\n    }\n    return {\n      back,\n      endOfFile,\n      nextToken,\n      position\n    };\n  };\n  return tokenize;\n}\nvar atRule;\nvar hasRequiredAtRule;\nfunction requireAtRule() {\n  if (hasRequiredAtRule) return atRule;\n  hasRequiredAtRule = 1;\n  let Container = requireContainer();\n  class AtRule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"atrule\";\n    }\n    append(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.append(...children);\n    }\n    prepend(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.prepend(...children);\n    }\n  }\n  atRule = AtRule;\n  AtRule.default = AtRule;\n  Container.registerAtRule(AtRule);\n  return atRule;\n}\nvar root;\nvar hasRequiredRoot;\nfunction requireRoot() {\n  if (hasRequiredRoot) return root;\n  hasRequiredRoot = 1;\n  let Container = requireContainer();\n  let LazyResult, Processor;\n  class Root extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"root\";\n      if (!this.nodes) this.nodes = [];\n    }\n    normalize(child, sample, type) {\n      let nodes = super.normalize(child);\n      if (sample) {\n        if (type === \"prepend\") {\n          if (this.nodes.length > 1) {\n            sample.raws.before = this.nodes[1].raws.before;\n          } else {\n            delete sample.raws.before;\n          }\n        } else if (this.first !== sample) {\n          for (let node2 of nodes) {\n            node2.raws.before = sample.raws.before;\n          }\n        }\n      }\n      return nodes;\n    }\n    removeChild(child, ignore) {\n      let index2 = this.index(child);\n      if (!ignore && index2 === 0 && this.nodes.length > 1) {\n        this.nodes[1].raws.before = this.nodes[index2].raws.before;\n      }\n      return super.removeChild(child);\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Root.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Root.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  root = Root;\n  Root.default = Root;\n  Container.registerRoot(Root);\n  return root;\n}\nvar list_1;\nvar hasRequiredList;\nfunction requireList() {\n  if (hasRequiredList) return list_1;\n  hasRequiredList = 1;\n  let list = {\n    comma(string) {\n      return list.split(string, [\",\"], true);\n    },\n    space(string) {\n      let spaces = [\" \", \"\\n\", \"\t\"];\n      return list.split(string, spaces);\n    },\n    split(string, separators, last) {\n      let array = [];\n      let current = \"\";\n      let split = false;\n      let func = 0;\n      let inQuote = false;\n      let prevQuote = \"\";\n      let escape = false;\n      for (let letter of string) {\n        if (escape) {\n          escape = false;\n        } else if (letter === \"\\\\\") {\n          escape = true;\n        } else if (inQuote) {\n          if (letter === prevQuote) {\n            inQuote = false;\n          }\n        } else if (letter === '\"' || letter === \"'\") {\n          inQuote = true;\n          prevQuote = letter;\n        } else if (letter === \"(\") {\n          func += 1;\n        } else if (letter === \")\") {\n          if (func > 0) func -= 1;\n        } else if (func === 0) {\n          if (separators.includes(letter)) split = true;\n        }\n        if (split) {\n          if (current !== \"\") array.push(current.trim());\n          current = \"\";\n          split = false;\n        } else {\n          current += letter;\n        }\n      }\n      if (last || current !== \"\") array.push(current.trim());\n      return array;\n    }\n  };\n  list_1 = list;\n  list.default = list;\n  return list_1;\n}\nvar rule;\nvar hasRequiredRule;\nfunction requireRule() {\n  if (hasRequiredRule) return rule;\n  hasRequiredRule = 1;\n  let Container = requireContainer();\n  let list = requireList();\n  class Rule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"rule\";\n      if (!this.nodes) this.nodes = [];\n    }\n    get selectors() {\n      return list.comma(this.selector);\n    }\n    set selectors(values) {\n      let match = this.selector ? this.selector.match(/,\\s*/) : null;\n      let sep = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n      this.selector = values.join(sep);\n    }\n  }\n  rule = Rule;\n  Rule.default = Rule;\n  Container.registerRule(Rule);\n  return rule;\n}\nvar parser;\nvar hasRequiredParser;\nfunction requireParser() {\n  if (hasRequiredParser) return parser;\n  hasRequiredParser = 1;\n  let Declaration = requireDeclaration();\n  let tokenizer = requireTokenize();\n  let Comment = requireComment();\n  let AtRule = requireAtRule();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  const SAFE_COMMENT_NEIGHBOR = {\n    empty: true,\n    space: true\n  };\n  function findLastWithPosition(tokens) {\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      let token = tokens[i2];\n      let pos = token[3] || token[2];\n      if (pos) return pos;\n    }\n  }\n  class Parser {\n    constructor(input2) {\n      this.input = input2;\n      this.root = new Root();\n      this.current = this.root;\n      this.spaces = \"\";\n      this.semicolon = false;\n      this.createTokenizer();\n      this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n    }\n    atrule(token) {\n      let node2 = new AtRule();\n      node2.name = token[1].slice(1);\n      if (node2.name === \"\") {\n        this.unnamedAtrule(node2, token);\n      }\n      this.init(node2, token[2]);\n      let type;\n      let prev;\n      let shift;\n      let last = false;\n      let open = false;\n      let params = [];\n      let brackets = [];\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        type = token[0];\n        if (type === \"(\" || type === \"[\") {\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (type === \"{\" && brackets.length > 0) {\n          brackets.push(\"}\");\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n        }\n        if (brackets.length === 0) {\n          if (type === \";\") {\n            node2.source.end = this.getPosition(token[2]);\n            node2.source.end.offset++;\n            this.semicolon = true;\n            break;\n          } else if (type === \"{\") {\n            open = true;\n            break;\n          } else if (type === \"}\") {\n            if (params.length > 0) {\n              shift = params.length - 1;\n              prev = params[shift];\n              while (prev && prev[0] === \"space\") {\n                prev = params[--shift];\n              }\n              if (prev) {\n                node2.source.end = this.getPosition(prev[3] || prev[2]);\n                node2.source.end.offset++;\n              }\n            }\n            this.end(token);\n            break;\n          } else {\n            params.push(token);\n          }\n        } else {\n          params.push(token);\n        }\n        if (this.tokenizer.endOfFile()) {\n          last = true;\n          break;\n        }\n      }\n      node2.raws.between = this.spacesAndCommentsFromEnd(params);\n      if (params.length) {\n        node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n        this.raw(node2, \"params\", params);\n        if (last) {\n          token = params[params.length - 1];\n          node2.source.end = this.getPosition(token[3] || token[2]);\n          node2.source.end.offset++;\n          this.spaces = node2.raws.between;\n          node2.raws.between = \"\";\n        }\n      } else {\n        node2.raws.afterName = \"\";\n        node2.params = \"\";\n      }\n      if (open) {\n        node2.nodes = [];\n        this.current = node2;\n      }\n    }\n    checkMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let founded = 0;\n      let token;\n      for (let j = colon - 1; j >= 0; j--) {\n        token = tokens[j];\n        if (token[0] !== \"space\") {\n          founded += 1;\n          if (founded === 2) break;\n        }\n      }\n      throw this.input.error(\n        \"Missed semicolon\",\n        token[0] === \"word\" ? token[3] + 1 : token[2]\n      );\n    }\n    colon(tokens) {\n      let brackets = 0;\n      let token, type, prev;\n      for (let [i2, element] of tokens.entries()) {\n        token = element;\n        type = token[0];\n        if (type === \"(\") {\n          brackets += 1;\n        }\n        if (type === \")\") {\n          brackets -= 1;\n        }\n        if (brackets === 0 && type === \":\") {\n          if (!prev) {\n            this.doubleColon(token);\n          } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n            continue;\n          } else {\n            return i2;\n          }\n        }\n        prev = token;\n      }\n      return false;\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      node2.source.end = this.getPosition(token[3] || token[2]);\n      node2.source.end.offset++;\n      let text = token[1].slice(2, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input);\n    }\n    decl(tokens, customProperty) {\n      let node2 = new Declaration();\n      this.init(node2, tokens[0][2]);\n      let last = tokens[tokens.length - 1];\n      if (last[0] === \";\") {\n        this.semicolon = true;\n        tokens.pop();\n      }\n      node2.source.end = this.getPosition(\n        last[3] || last[2] || findLastWithPosition(tokens)\n      );\n      node2.source.end.offset++;\n      while (tokens[0][0] !== \"word\") {\n        if (tokens.length === 1) this.unknownWord(tokens);\n        node2.raws.before += tokens.shift()[1];\n      }\n      node2.source.start = this.getPosition(tokens[0][2]);\n      node2.prop = \"\";\n      while (tokens.length) {\n        let type = tokens[0][0];\n        if (type === \":\" || type === \"space\" || type === \"comment\") {\n          break;\n        }\n        node2.prop += tokens.shift()[1];\n      }\n      node2.raws.between = \"\";\n      let token;\n      while (tokens.length) {\n        token = tokens.shift();\n        if (token[0] === \":\") {\n          node2.raws.between += token[1];\n          break;\n        } else {\n          if (token[0] === \"word\" && /\\w/.test(token[1])) {\n            this.unknownWord([token]);\n          }\n          node2.raws.between += token[1];\n        }\n      }\n      if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n        node2.raws.before += node2.prop[0];\n        node2.prop = node2.prop.slice(1);\n      }\n      let firstSpaces = [];\n      let next;\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        firstSpaces.push(tokens.shift());\n      }\n      this.precheckMissedSemicolon(tokens);\n      for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n        token = tokens[i2];\n        if (token[1].toLowerCase() === \"!important\") {\n          node2.important = true;\n          let string = this.stringFrom(tokens, i2);\n          string = this.spacesFromEnd(tokens) + string;\n          if (string !== \" !important\") node2.raws.important = string;\n          break;\n        } else if (token[1].toLowerCase() === \"important\") {\n          let cache = tokens.slice(0);\n          let str = \"\";\n          for (let j = i2; j > 0; j--) {\n            let type = cache[j][0];\n            if (str.trim().indexOf(\"!\") === 0 && type !== \"space\") {\n              break;\n            }\n            str = cache.pop()[1] + str;\n          }\n          if (str.trim().indexOf(\"!\") === 0) {\n            node2.important = true;\n            node2.raws.important = str;\n            tokens = cache;\n          }\n        }\n        if (token[0] !== \"space\" && token[0] !== \"comment\") {\n          break;\n        }\n      }\n      let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n      if (hasWord) {\n        node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n        firstSpaces = [];\n      }\n      this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n      if (node2.value.includes(\":\") && !customProperty) {\n        this.checkMissedSemicolon(tokens);\n      }\n    }\n    doubleColon(token) {\n      throw this.input.error(\n        \"Double colon\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n    emptyRule(token) {\n      let node2 = new Rule();\n      this.init(node2, token[2]);\n      node2.selector = \"\";\n      node2.raws.between = \"\";\n      this.current = node2;\n    }\n    end(token) {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.semicolon = false;\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.spaces = \"\";\n      if (this.current.parent) {\n        this.current.source.end = this.getPosition(token[2]);\n        this.current.source.end.offset++;\n        this.current = this.current.parent;\n      } else {\n        this.unexpectedClose(token);\n      }\n    }\n    endFile() {\n      if (this.current.parent) this.unclosedBlock();\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    freeSemicolon(token) {\n      this.spaces += token[1];\n      if (this.current.nodes) {\n        let prev = this.current.nodes[this.current.nodes.length - 1];\n        if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n          prev.raws.ownSemicolon = this.spaces;\n          this.spaces = \"\";\n        }\n      }\n    }\n    // Helpers\n    getPosition(offset) {\n      let pos = this.input.fromOffset(offset);\n      return {\n        column: pos.col,\n        line: pos.line,\n        offset\n      };\n    }\n    init(node2, offset) {\n      this.current.push(node2);\n      node2.source = {\n        input: this.input,\n        start: this.getPosition(offset)\n      };\n      node2.raws.before = this.spaces;\n      this.spaces = \"\";\n      if (node2.type !== \"comment\") this.semicolon = false;\n    }\n    other(start) {\n      let end = false;\n      let type = null;\n      let colon = false;\n      let bracket = null;\n      let brackets = [];\n      let customProperty = start[1].startsWith(\"--\");\n      let tokens = [];\n      let token = start;\n      while (token) {\n        type = token[0];\n        tokens.push(token);\n        if (type === \"(\" || type === \"[\") {\n          if (!bracket) bracket = token;\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (customProperty && colon && type === \"{\") {\n          if (!bracket) bracket = token;\n          brackets.push(\"}\");\n        } else if (brackets.length === 0) {\n          if (type === \";\") {\n            if (colon) {\n              this.decl(tokens, customProperty);\n              return;\n            } else {\n              break;\n            }\n          } else if (type === \"{\") {\n            this.rule(tokens);\n            return;\n          } else if (type === \"}\") {\n            this.tokenizer.back(tokens.pop());\n            end = true;\n            break;\n          } else if (type === \":\") {\n            colon = true;\n          }\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n          if (brackets.length === 0) bracket = null;\n        }\n        token = this.tokenizer.nextToken();\n      }\n      if (this.tokenizer.endOfFile()) end = true;\n      if (brackets.length > 0) this.unclosedBracket(bracket);\n      if (end && colon) {\n        if (!customProperty) {\n          while (tokens.length) {\n            token = tokens[tokens.length - 1][0];\n            if (token !== \"space\" && token !== \"comment\") break;\n            this.tokenizer.back(tokens.pop());\n          }\n        }\n        this.decl(tokens, customProperty);\n      } else {\n        this.unknownWord(tokens);\n      }\n    }\n    parse() {\n      let token;\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        switch (token[0]) {\n          case \"space\":\n            this.spaces += token[1];\n            break;\n          case \";\":\n            this.freeSemicolon(token);\n            break;\n          case \"}\":\n            this.end(token);\n            break;\n          case \"comment\":\n            this.comment(token);\n            break;\n          case \"at-word\":\n            this.atrule(token);\n            break;\n          case \"{\":\n            this.emptyRule(token);\n            break;\n          default:\n            this.other(token);\n            break;\n        }\n      }\n      this.endFile();\n    }\n    precheckMissedSemicolon() {\n    }\n    raw(node2, prop, tokens, customProperty) {\n      let token, type;\n      let length = tokens.length;\n      let value = \"\";\n      let clean = true;\n      let next, prev;\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        token = tokens[i2];\n        type = token[0];\n        if (type === \"space\" && i2 === length - 1 && !customProperty) {\n          clean = false;\n        } else if (type === \"comment\") {\n          prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n          next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n          if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n            if (value.slice(-1) === \",\") {\n              clean = false;\n            } else {\n              value += token[1];\n            }\n          } else {\n            clean = false;\n          }\n        } else {\n          value += token[1];\n        }\n      }\n      if (!clean) {\n        let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n        node2.raws[prop] = { raw, value };\n      }\n      node2[prop] = value;\n    }\n    rule(tokens) {\n      tokens.pop();\n      let node2 = new Rule();\n      this.init(node2, tokens[0][2]);\n      node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n      this.raw(node2, \"selector\", tokens);\n      this.current = node2;\n    }\n    spacesAndCommentsFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    // Errors\n    spacesAndCommentsFromStart(tokens) {\n      let next;\n      let spaces = \"\";\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        spaces += tokens.shift()[1];\n      }\n      return spaces;\n    }\n    spacesFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    stringFrom(tokens, from) {\n      let result2 = \"\";\n      for (let i2 = from; i2 < tokens.length; i2++) {\n        result2 += tokens[i2][1];\n      }\n      tokens.splice(from, tokens.length - from);\n      return result2;\n    }\n    unclosedBlock() {\n      let pos = this.current.source.start;\n      throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n    }\n    unclosedBracket(bracket) {\n      throw this.input.error(\n        \"Unclosed bracket\",\n        { offset: bracket[2] },\n        { offset: bracket[2] + 1 }\n      );\n    }\n    unexpectedClose(token) {\n      throw this.input.error(\n        \"Unexpected }\",\n        { offset: token[2] },\n        { offset: token[2] + 1 }\n      );\n    }\n    unknownWord(tokens) {\n      throw this.input.error(\n        \"Unknown word\",\n        { offset: tokens[0][2] },\n        { offset: tokens[0][2] + tokens[0][1].length }\n      );\n    }\n    unnamedAtrule(node2, token) {\n      throw this.input.error(\n        \"At-rule without name\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n  }\n  parser = Parser;\n  return parser;\n}\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  let Container = requireContainer();\n  let Parser = requireParser();\n  let Input = requireInput();\n  function parse(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new Parser(input2);\n    try {\n      parser2.parse();\n    } catch (e2) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n          if (/\\.scss$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n          } else if (/\\.sass/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n          } else if (/\\.less$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n          }\n        }\n      }\n      throw e2;\n    }\n    return parser2.root;\n  }\n  parse_1 = parse;\n  parse.default = parse;\n  Container.registerParse(parse);\n  return parse_1;\n}\nvar lazyResult;\nvar hasRequiredLazyResult;\nfunction requireLazyResult() {\n  if (hasRequiredLazyResult) return lazyResult;\n  hasRequiredLazyResult = 1;\n  let { isClean, my } = requireSymbols();\n  let MapGenerator = requireMapGenerator();\n  let stringify = requireStringify();\n  let Container = requireContainer();\n  let Document2 = requireDocument();\n  let warnOnce2 = requireWarnOnce();\n  let Result = requireResult();\n  let parse = requireParse();\n  let Root = requireRoot();\n  const TYPE_TO_CLASS_NAME = {\n    atrule: \"AtRule\",\n    comment: \"Comment\",\n    decl: \"Declaration\",\n    document: \"Document\",\n    root: \"Root\",\n    rule: \"Rule\"\n  };\n  const PLUGIN_PROPS = {\n    AtRule: true,\n    AtRuleExit: true,\n    Comment: true,\n    CommentExit: true,\n    Declaration: true,\n    DeclarationExit: true,\n    Document: true,\n    DocumentExit: true,\n    Once: true,\n    OnceExit: true,\n    postcssPlugin: true,\n    prepare: true,\n    Root: true,\n    RootExit: true,\n    Rule: true,\n    RuleExit: true\n  };\n  const NOT_VISITORS = {\n    Once: true,\n    postcssPlugin: true,\n    prepare: true\n  };\n  const CHILDREN = 0;\n  function isPromise(obj) {\n    return typeof obj === \"object\" && typeof obj.then === \"function\";\n  }\n  function getEvents(node2) {\n    let key = false;\n    let type = TYPE_TO_CLASS_NAME[node2.type];\n    if (node2.type === \"decl\") {\n      key = node2.prop.toLowerCase();\n    } else if (node2.type === \"atrule\") {\n      key = node2.name.toLowerCase();\n    }\n    if (key && node2.append) {\n      return [\n        type,\n        type + \"-\" + key,\n        CHILDREN,\n        type + \"Exit\",\n        type + \"Exit-\" + key\n      ];\n    } else if (key) {\n      return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n    } else if (node2.append) {\n      return [type, CHILDREN, type + \"Exit\"];\n    } else {\n      return [type, type + \"Exit\"];\n    }\n  }\n  function toStack(node2) {\n    let events;\n    if (node2.type === \"document\") {\n      events = [\"Document\", CHILDREN, \"DocumentExit\"];\n    } else if (node2.type === \"root\") {\n      events = [\"Root\", CHILDREN, \"RootExit\"];\n    } else {\n      events = getEvents(node2);\n    }\n    return {\n      eventIndex: 0,\n      events,\n      iterator: 0,\n      node: node2,\n      visitorIndex: 0,\n      visitors: []\n    };\n  }\n  function cleanMarks(node2) {\n    node2[isClean] = false;\n    if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n    return node2;\n  }\n  let postcss2 = {};\n  class LazyResult {\n    constructor(processor2, css, opts) {\n      this.stringified = false;\n      this.processed = false;\n      let root2;\n      if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n        root2 = cleanMarks(css);\n      } else if (css instanceof LazyResult || css instanceof Result) {\n        root2 = cleanMarks(css.root);\n        if (css.map) {\n          if (typeof opts.map === \"undefined\") opts.map = {};\n          if (!opts.map.inline) opts.map.inline = false;\n          opts.map.prev = css.map;\n        }\n      } else {\n        let parser2 = parse;\n        if (opts.syntax) parser2 = opts.syntax.parse;\n        if (opts.parser) parser2 = opts.parser;\n        if (parser2.parse) parser2 = parser2.parse;\n        try {\n          root2 = parser2(css, opts);\n        } catch (error) {\n          this.processed = true;\n          this.error = error;\n        }\n        if (root2 && !root2[my]) {\n          Container.rebuild(root2);\n        }\n      }\n      this.result = new Result(processor2, root2, opts);\n      this.helpers = { ...postcss2, postcss: postcss2, result: this.result };\n      this.plugins = this.processor.plugins.map((plugin) => {\n        if (typeof plugin === \"object\" && plugin.prepare) {\n          return { ...plugin, ...plugin.prepare(this.result) };\n        } else {\n          return plugin;\n        }\n      });\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n      return this.processing;\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    getAsyncError() {\n      throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n    }\n    handleError(error, node2) {\n      let plugin = this.result.lastPlugin;\n      try {\n        if (node2) node2.addToError(error);\n        this.error = error;\n        if (error.name === \"CssSyntaxError\" && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== \"production\") {\n            let pluginName = plugin.postcssPlugin;\n            let pluginVer = plugin.postcssVersion;\n            let runtimeVer = this.result.processor.version;\n            let a2 = pluginVer.split(\".\");\n            let b = runtimeVer.split(\".\");\n            if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n              console.error(\n                \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (console && console.error) console.error(err);\n      }\n      return error;\n    }\n    prepareVisitors() {\n      this.listeners = {};\n      let add = (plugin, type, cb) => {\n        if (!this.listeners[type]) this.listeners[type] = [];\n        this.listeners[type].push([plugin, cb]);\n      };\n      for (let plugin of this.plugins) {\n        if (typeof plugin === \"object\") {\n          for (let event in plugin) {\n            if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n              throw new Error(\n                `Unknown event ${event} in ${plugin.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n              );\n            }\n            if (!NOT_VISITORS[event]) {\n              if (typeof plugin[event] === \"object\") {\n                for (let filter in plugin[event]) {\n                  if (filter === \"*\") {\n                    add(plugin, event, plugin[event][filter]);\n                  } else {\n                    add(\n                      plugin,\n                      event + \"-\" + filter.toLowerCase(),\n                      plugin[event][filter]\n                    );\n                  }\n                }\n              } else if (typeof plugin[event] === \"function\") {\n                add(plugin, event, plugin[event]);\n              }\n            }\n          }\n        }\n      }\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n    async runAsync() {\n      this.plugin = 0;\n      for (let i2 = 0; i2 < this.plugins.length; i2++) {\n        let plugin = this.plugins[i2];\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          try {\n            await promise;\n          } catch (error) {\n            throw this.handleError(error);\n          }\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          let stack = [toStack(root2)];\n          while (stack.length > 0) {\n            let promise = this.visitTick(stack);\n            if (isPromise(promise)) {\n              try {\n                await promise;\n              } catch (e2) {\n                let node2 = stack[stack.length - 1].node;\n                throw this.handleError(e2, node2);\n              }\n            }\n          }\n        }\n        if (this.listeners.OnceExit) {\n          for (let [plugin, visitor] of this.listeners.OnceExit) {\n            this.result.lastPlugin = plugin;\n            try {\n              if (root2.type === \"document\") {\n                let roots = root2.nodes.map(\n                  (subRoot) => visitor(subRoot, this.helpers)\n                );\n                await Promise.all(roots);\n              } else {\n                await visitor(root2, this.helpers);\n              }\n            } catch (e2) {\n              throw this.handleError(e2);\n            }\n          }\n        }\n      }\n      this.processed = true;\n      return this.stringify();\n    }\n    runOnRoot(plugin) {\n      this.result.lastPlugin = plugin;\n      try {\n        if (typeof plugin === \"object\" && plugin.Once) {\n          if (this.result.root.type === \"document\") {\n            let roots = this.result.root.nodes.map(\n              (root2) => plugin.Once(root2, this.helpers)\n            );\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n            return roots;\n          }\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === \"function\") {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n    stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      let opts = this.result.opts;\n      let str = stringify;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      let map = new MapGenerator(str, this.result.root, this.result.opts);\n      let data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n    sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n      for (let plugin of this.plugins) {\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          this.walkSync(root2);\n        }\n        if (this.listeners.OnceExit) {\n          if (root2.type === \"document\") {\n            for (let subRoot of root2.nodes) {\n              this.visitSync(this.listeners.OnceExit, subRoot);\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root2);\n          }\n        }\n      }\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this.opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this.css;\n    }\n    visitSync(visitors, node2) {\n      for (let [plugin, visitor] of visitors) {\n        this.result.lastPlugin = plugin;\n        let promise;\n        try {\n          promise = visitor(node2, this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2.proxyOf);\n        }\n        if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n          return true;\n        }\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n    }\n    visitTick(stack) {\n      let visit2 = stack[stack.length - 1];\n      let { node: node2, visitors } = visit2;\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        stack.pop();\n        return;\n      }\n      if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n        let [plugin, visitor] = visitors[visit2.visitorIndex];\n        visit2.visitorIndex += 1;\n        if (visit2.visitorIndex === visitors.length) {\n          visit2.visitors = [];\n          visit2.visitorIndex = 0;\n        }\n        this.result.lastPlugin = plugin;\n        try {\n          return visitor(node2.toProxy(), this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2);\n        }\n      }\n      if (visit2.iterator !== 0) {\n        let iterator = visit2.iterator;\n        let child;\n        while (child = node2.nodes[node2.indexes[iterator]]) {\n          node2.indexes[iterator] += 1;\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n        visit2.iterator = 0;\n        delete node2.indexes[iterator];\n      }\n      let events = visit2.events;\n      while (visit2.eventIndex < events.length) {\n        let event = events[visit2.eventIndex];\n        visit2.eventIndex += 1;\n        if (event === CHILDREN) {\n          if (node2.nodes && node2.nodes.length) {\n            node2[isClean] = true;\n            visit2.iterator = node2.getIterator();\n          }\n          return;\n        } else if (this.listeners[event]) {\n          visit2.visitors = this.listeners[event];\n          return;\n        }\n      }\n      stack.pop();\n    }\n    walkSync(node2) {\n      node2[isClean] = true;\n      let events = getEvents(node2);\n      for (let event of events) {\n        if (event === CHILDREN) {\n          if (node2.nodes) {\n            node2.each((child) => {\n              if (!child[isClean]) this.walkSync(child);\n            });\n          }\n        } else {\n          let visitors = this.listeners[event];\n          if (visitors) {\n            if (this.visitSync(visitors, node2.toProxy())) return;\n          }\n        }\n      }\n    }\n    warnings() {\n      return this.sync().warnings();\n    }\n    get content() {\n      return this.stringify().content;\n    }\n    get css() {\n      return this.stringify().css;\n    }\n    get map() {\n      return this.stringify().map;\n    }\n    get messages() {\n      return this.sync().messages;\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      return this.sync().root;\n    }\n    get [Symbol.toStringTag]() {\n      return \"LazyResult\";\n    }\n  }\n  LazyResult.registerPostcss = (dependant) => {\n    postcss2 = dependant;\n  };\n  lazyResult = LazyResult;\n  LazyResult.default = LazyResult;\n  Root.registerLazyResult(LazyResult);\n  Document2.registerLazyResult(LazyResult);\n  return lazyResult;\n}\nvar noWorkResult;\nvar hasRequiredNoWorkResult;\nfunction requireNoWorkResult() {\n  if (hasRequiredNoWorkResult) return noWorkResult;\n  hasRequiredNoWorkResult = 1;\n  let MapGenerator = requireMapGenerator();\n  let stringify = requireStringify();\n  let warnOnce2 = requireWarnOnce();\n  let parse = requireParse();\n  const Result = requireResult();\n  class NoWorkResult {\n    constructor(processor2, css, opts) {\n      css = css.toString();\n      this.stringified = false;\n      this._processor = processor2;\n      this._css = css;\n      this._opts = opts;\n      this._map = void 0;\n      let root2;\n      let str = stringify;\n      this.result = new Result(this._processor, root2, this._opts);\n      this.result.css = css;\n      let self2 = this;\n      Object.defineProperty(this.result, \"root\", {\n        get() {\n          return self2.root;\n        }\n      });\n      let map = new MapGenerator(str, root2, this._opts, css);\n      if (map.isMap()) {\n        let [generatedCSS, generatedMap] = map.generate();\n        if (generatedCSS) {\n          this.result.css = generatedCSS;\n        }\n        if (generatedMap) {\n          this.result.map = generatedMap;\n        }\n      } else {\n        map.clearAnnotation();\n        this.result.css = map.css;\n      }\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      return Promise.resolve(this.result);\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    sync() {\n      if (this.error) throw this.error;\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this._opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this._css;\n    }\n    warnings() {\n      return [];\n    }\n    get content() {\n      return this.result.css;\n    }\n    get css() {\n      return this.result.css;\n    }\n    get map() {\n      return this.result.map;\n    }\n    get messages() {\n      return [];\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      if (this._root) {\n        return this._root;\n      }\n      let root2;\n      let parser2 = parse;\n      try {\n        root2 = parser2(this._css, this._opts);\n      } catch (error) {\n        this.error = error;\n      }\n      if (this.error) {\n        throw this.error;\n      } else {\n        this._root = root2;\n        return root2;\n      }\n    }\n    get [Symbol.toStringTag]() {\n      return \"NoWorkResult\";\n    }\n  }\n  noWorkResult = NoWorkResult;\n  NoWorkResult.default = NoWorkResult;\n  return noWorkResult;\n}\nvar processor;\nvar hasRequiredProcessor;\nfunction requireProcessor() {\n  if (hasRequiredProcessor) return processor;\n  hasRequiredProcessor = 1;\n  let NoWorkResult = requireNoWorkResult();\n  let LazyResult = requireLazyResult();\n  let Document2 = requireDocument();\n  let Root = requireRoot();\n  class Processor {\n    constructor(plugins = []) {\n      this.version = \"8.4.38\";\n      this.plugins = this.normalize(plugins);\n    }\n    normalize(plugins) {\n      let normalized = [];\n      for (let i2 of plugins) {\n        if (i2.postcss === true) {\n          i2 = i2();\n        } else if (i2.postcss) {\n          i2 = i2.postcss;\n        }\n        if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n          normalized = normalized.concat(i2.plugins);\n        } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n          normalized.push(i2);\n        } else if (typeof i2 === \"function\") {\n          normalized.push(i2);\n        } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(\n              \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n            );\n          }\n        } else {\n          throw new Error(i2 + \" is not a PostCSS plugin\");\n        }\n      }\n      return normalized;\n    }\n    process(css, opts = {}) {\n      if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n        return new NoWorkResult(this, css, opts);\n      } else {\n        return new LazyResult(this, css, opts);\n      }\n    }\n    use(plugin) {\n      this.plugins = this.plugins.concat(this.normalize([plugin]));\n      return this;\n    }\n  }\n  processor = Processor;\n  Processor.default = Processor;\n  Root.registerProcessor(Processor);\n  Document2.registerProcessor(Processor);\n  return processor;\n}\nvar fromJSON_1;\nvar hasRequiredFromJSON;\nfunction requireFromJSON() {\n  if (hasRequiredFromJSON) return fromJSON_1;\n  hasRequiredFromJSON = 1;\n  let Declaration = requireDeclaration();\n  let PreviousMap = requirePreviousMap();\n  let Comment = requireComment();\n  let AtRule = requireAtRule();\n  let Input = requireInput();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  function fromJSON(json, inputs) {\n    if (Array.isArray(json)) return json.map((n2) => fromJSON(n2));\n    let { inputs: ownInputs, ...defaults } = json;\n    if (ownInputs) {\n      inputs = [];\n      for (let input2 of ownInputs) {\n        let inputHydrated = { ...input2, __proto__: Input.prototype };\n        if (inputHydrated.map) {\n          inputHydrated.map = {\n            ...inputHydrated.map,\n            __proto__: PreviousMap.prototype\n          };\n        }\n        inputs.push(inputHydrated);\n      }\n    }\n    if (defaults.nodes) {\n      defaults.nodes = json.nodes.map((n2) => fromJSON(n2, inputs));\n    }\n    if (defaults.source) {\n      let { inputId, ...source } = defaults.source;\n      defaults.source = source;\n      if (inputId != null) {\n        defaults.source.input = inputs[inputId];\n      }\n    }\n    if (defaults.type === \"root\") {\n      return new Root(defaults);\n    } else if (defaults.type === \"decl\") {\n      return new Declaration(defaults);\n    } else if (defaults.type === \"rule\") {\n      return new Rule(defaults);\n    } else if (defaults.type === \"comment\") {\n      return new Comment(defaults);\n    } else if (defaults.type === \"atrule\") {\n      return new AtRule(defaults);\n    } else {\n      throw new Error(\"Unknown node type: \" + json.type);\n    }\n  }\n  fromJSON_1 = fromJSON;\n  fromJSON.default = fromJSON;\n  return fromJSON_1;\n}\nvar postcss_1;\nvar hasRequiredPostcss;\nfunction requirePostcss() {\n  if (hasRequiredPostcss) return postcss_1;\n  hasRequiredPostcss = 1;\n  let CssSyntaxError = requireCssSyntaxError();\n  let Declaration = requireDeclaration();\n  let LazyResult = requireLazyResult();\n  let Container = requireContainer();\n  let Processor = requireProcessor();\n  let stringify = requireStringify();\n  let fromJSON = requireFromJSON();\n  let Document2 = requireDocument();\n  let Warning = requireWarning();\n  let Comment = requireComment();\n  let AtRule = requireAtRule();\n  let Result = requireResult();\n  let Input = requireInput();\n  let parse = requireParse();\n  let list = requireList();\n  let Rule = requireRule();\n  let Root = requireRoot();\n  let Node2 = requireNode();\n  function postcss2(...plugins) {\n    if (plugins.length === 1 && Array.isArray(plugins[0])) {\n      plugins = plugins[0];\n    }\n    return new Processor(plugins);\n  }\n  postcss2.plugin = function plugin(name, initializer) {\n    let warningPrinted = false;\n    function creator(...args) {\n      if (console && console.warn && !warningPrinted) {\n        warningPrinted = true;\n        console.warn(\n          name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n        );\n        if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n          console.warn(\n            name + \":  postcss.plugin . :\\nhttps://www.w3ctech.com/topic/2226\"\n          );\n        }\n      }\n      let transformer = initializer(...args);\n      transformer.postcssPlugin = name;\n      transformer.postcssVersion = new Processor().version;\n      return transformer;\n    }\n    let cache;\n    Object.defineProperty(creator, \"postcss\", {\n      get() {\n        if (!cache) cache = creator();\n        return cache;\n      }\n    });\n    creator.process = function(css, processOpts, pluginOpts) {\n      return postcss2([creator(pluginOpts)]).process(css, processOpts);\n    };\n    return creator;\n  };\n  postcss2.stringify = stringify;\n  postcss2.parse = parse;\n  postcss2.fromJSON = fromJSON;\n  postcss2.list = list;\n  postcss2.comment = (defaults) => new Comment(defaults);\n  postcss2.atRule = (defaults) => new AtRule(defaults);\n  postcss2.decl = (defaults) => new Declaration(defaults);\n  postcss2.rule = (defaults) => new Rule(defaults);\n  postcss2.root = (defaults) => new Root(defaults);\n  postcss2.document = (defaults) => new Document2(defaults);\n  postcss2.CssSyntaxError = CssSyntaxError;\n  postcss2.Declaration = Declaration;\n  postcss2.Container = Container;\n  postcss2.Processor = Processor;\n  postcss2.Document = Document2;\n  postcss2.Comment = Comment;\n  postcss2.Warning = Warning;\n  postcss2.AtRule = AtRule;\n  postcss2.Result = Result;\n  postcss2.Input = Input;\n  postcss2.Rule = Rule;\n  postcss2.Root = Root;\n  postcss2.Node = Node2;\n  LazyResult.registerPostcss(postcss2);\n  postcss_1 = postcss2;\n  postcss2.default = postcss2;\n  return postcss_1;\n}\nvar postcssExports = requirePostcss();\nconst postcss = /* @__PURE__ */ getDefaultExportFromCjs(postcssExports);\npostcss.stringify;\npostcss.fromJSON;\npostcss.plugin;\npostcss.parse;\npostcss.list;\npostcss.document;\npostcss.comment;\npostcss.atRule;\npostcss.rule;\npostcss.decl;\npostcss.root;\npostcss.CssSyntaxError;\npostcss.Declaration;\npostcss.Container;\npostcss.Processor;\npostcss.Document;\npostcss.Comment;\npostcss.Warning;\npostcss.AtRule;\npostcss.Result;\npostcss.Input;\npostcss.Rule;\npostcss.Root;\npostcss.Node;\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField2(this, \"parentElement\", null);\n    __publicField2(this, \"parentNode\", null);\n    __publicField2(this, \"ownerDocument\");\n    __publicField2(this, \"firstChild\", null);\n    __publicField2(this, \"lastChild\", null);\n    __publicField2(this, \"previousSibling\", null);\n    __publicField2(this, \"nextSibling\", null);\n    __publicField2(this, \"ELEMENT_NODE\", 1);\n    __publicField2(this, \"TEXT_NODE\", 3);\n    __publicField2(this, \"nodeType\");\n    __publicField2(this, \"nodeName\");\n    __publicField2(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nfunction angularZoneUnpatchedAlternative(key) {\n  var _a2, _b;\n  const angularUnpatchedVersionSymbol = (_b = (_a2 = globalThis == null ? void 0 : globalThis.Zone) == null ? void 0 : _a2.__symbol__) == null ? void 0 : _b.call(_a2, key);\n  if (angularUnpatchedVersionSymbol && globalThis[angularUnpatchedVersionSymbol]) {\n    return globalThis[angularUnpatchedVersionSymbol];\n  } else {\n    return void 0;\n  }\n}\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const candidate = angularZoneUnpatchedAlternative(key) || globalThis[key];\n  const defaultPrototype = candidate.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype[key] = candidate.prototype;\n    return candidate.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return candidate.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nconst index = {\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField(this, \"id\", 1);\n    __publicField(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nvar EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nvar NodeType = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType || {});\nfunction isNodeInLinkedList(n2) {\n  return \"__ln\" in n2;\n}\nclass DoubleLinkedList {\n  constructor() {\n    __publicField(this, \"length\", 0);\n    __publicField(this, \"head\", null);\n    __publicField(this, \"tail\", null);\n  }\n  get(position) {\n    if (position >= this.length) {\n      throw new Error(\"Position outside of list range\");\n    }\n    let current = this.head;\n    for (let index2 = 0; index2 < position; index2++) {\n      current = (current == null ? void 0 : current.next) || null;\n    }\n    return current;\n  }\n  addNode(n2) {\n    const node2 = {\n      value: n2,\n      previous: null,\n      next: null\n    };\n    n2.__ln = node2;\n    if (n2.previousSibling && isNodeInLinkedList(n2.previousSibling)) {\n      const current = n2.previousSibling.__ln.next;\n      node2.next = current;\n      node2.previous = n2.previousSibling.__ln;\n      n2.previousSibling.__ln.next = node2;\n      if (current) {\n        current.previous = node2;\n      }\n    } else if (n2.nextSibling && isNodeInLinkedList(n2.nextSibling) && n2.nextSibling.__ln.previous) {\n      const current = n2.nextSibling.__ln.previous;\n      node2.previous = current;\n      node2.next = n2.nextSibling.__ln;\n      n2.nextSibling.__ln.previous = node2;\n      if (current) {\n        current.next = node2;\n      }\n    } else {\n      if (this.head) {\n        this.head.previous = node2;\n      }\n      node2.next = this.head;\n      this.head = node2;\n    }\n    if (node2.next === null) {\n      this.tail = node2;\n    }\n    this.length++;\n  }\n  removeNode(n2) {\n    const current = n2.__ln;\n    if (!this.head) {\n      return;\n    }\n    if (!current.previous) {\n      this.head = current.next;\n      if (this.head) {\n        this.head.previous = null;\n      } else {\n        this.tail = null;\n      }\n    } else {\n      current.previous.next = current.next;\n      if (current.next) {\n        current.next.previous = current.previous;\n      } else {\n        this.tail = current.previous;\n      }\n    }\n    if (n2.__ln) {\n      delete n2.__ln;\n    }\n    this.length--;\n  }\n}\nconst moveKey = (id, parentId) => `${id}@${parentId}`;\nclass MutationBuffer {\n  constructor() {\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"texts\", []);\n    __publicField(this, \"attributes\", []);\n    __publicField(this, \"attributeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"removes\", []);\n    __publicField(this, \"mapRemoves\", []);\n    __publicField(this, \"movedMap\", {});\n    __publicField(this, \"addedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"movedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"droppedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"removesSubTreeCache\", /* @__PURE__ */ new Set());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"blockClass\");\n    __publicField(this, \"blockSelector\");\n    __publicField(this, \"maskTextClass\");\n    __publicField(this, \"maskTextSelector\");\n    __publicField(this, \"inlineStylesheet\");\n    __publicField(this, \"maskInputOptions\");\n    __publicField(this, \"maskTextFn\");\n    __publicField(this, \"maskInputFn\");\n    __publicField(this, \"keepIframeSrcFn\");\n    __publicField(this, \"recordCanvas\");\n    __publicField(this, \"inlineImages\");\n    __publicField(this, \"slimDOMOptions\");\n    __publicField(this, \"dataURLOptions\");\n    __publicField(this, \"doc\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"iframeManager\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"shadowDomManager\");\n    __publicField(this, \"canvasManager\");\n    __publicField(this, \"processedNodeManager\");\n    __publicField(this, \"unattachedDoc\");\n    __publicField(this, \"processMutations\", (mutations) => {\n      mutations.forEach(this.processMutation);\n      this.emit();\n    });\n    __publicField(this, \"emit\", () => {\n      if (this.frozen || this.locked) {\n        return;\n      }\n      const adds = [];\n      const addedIds = /* @__PURE__ */ new Set();\n      const addList = new DoubleLinkedList();\n      const getNextId = (n2) => {\n        let ns = n2;\n        let nextId = IGNORED_NODE;\n        while (nextId === IGNORED_NODE) {\n          ns = ns && ns.nextSibling;\n          nextId = ns && this.mirror.getId(ns);\n        }\n        return nextId;\n      };\n      const pushAdd = (n2) => {\n        const parent = index.parentNode(n2);\n        if (!parent || !inDom(n2)) {\n          return;\n        }\n        let cssCaptured = false;\n        if (n2.nodeType === Node.TEXT_NODE) {\n          const parentTag = parent.tagName;\n          if (parentTag === \"TEXTAREA\") {\n            return;\n          } else if (parentTag === \"STYLE\" && this.addedSet.has(parent)) {\n            cssCaptured = true;\n          }\n        }\n        const parentId = isShadowRoot(parent) ? this.mirror.getId(getShadowHost(n2)) : this.mirror.getId(parent);\n        const nextId = getNextId(n2);\n        if (parentId === -1 || nextId === -1) {\n          return addList.addNode(n2);\n        }\n        const sn = serializeNodeWithId(n2, {\n          doc: this.doc,\n          mirror: this.mirror,\n          blockClass: this.blockClass,\n          blockSelector: this.blockSelector,\n          maskTextClass: this.maskTextClass,\n          maskTextSelector: this.maskTextSelector,\n          skipChild: true,\n          newlyAddedElement: true,\n          inlineStylesheet: this.inlineStylesheet,\n          maskInputOptions: this.maskInputOptions,\n          maskTextFn: this.maskTextFn,\n          maskInputFn: this.maskInputFn,\n          slimDOMOptions: this.slimDOMOptions,\n          dataURLOptions: this.dataURLOptions,\n          recordCanvas: this.recordCanvas,\n          inlineImages: this.inlineImages,\n          onSerialize: (currentN) => {\n            if (isSerializedIframe(currentN, this.mirror)) {\n              this.iframeManager.addIframe(currentN);\n            }\n            if (isSerializedStylesheet(currentN, this.mirror)) {\n              this.stylesheetManager.trackLinkElement(\n                currentN\n              );\n            }\n            if (hasShadowRoot(n2)) {\n              this.shadowDomManager.addShadowRoot(index.shadowRoot(n2), this.doc);\n            }\n          },\n          onIframeLoad: (iframe, childSn) => {\n            this.iframeManager.attachIframe(iframe, childSn);\n            this.shadowDomManager.observeAttachShadow(iframe);\n          },\n          onStylesheetLoad: (link, childSn) => {\n            this.stylesheetManager.attachLinkElement(link, childSn);\n          },\n          cssCaptured\n        });\n        if (sn) {\n          adds.push({\n            parentId,\n            nextId,\n            node: sn\n          });\n          addedIds.add(sn.id);\n        }\n      };\n      while (this.mapRemoves.length) {\n        this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n      }\n      for (const n2 of this.movedSet) {\n        if (isParentRemoved(this.removesSubTreeCache, n2, this.mirror) && !this.movedSet.has(index.parentNode(n2))) {\n          continue;\n        }\n        pushAdd(n2);\n      }\n      for (const n2 of this.addedSet) {\n        if (!isAncestorInSet(this.droppedSet, n2) && !isParentRemoved(this.removesSubTreeCache, n2, this.mirror)) {\n          pushAdd(n2);\n        } else if (isAncestorInSet(this.movedSet, n2)) {\n          pushAdd(n2);\n        } else {\n          this.droppedSet.add(n2);\n        }\n      }\n      let candidate = null;\n      while (addList.length) {\n        let node2 = null;\n        if (candidate) {\n          const parentId = this.mirror.getId(index.parentNode(candidate.value));\n          const nextId = getNextId(candidate.value);\n          if (parentId !== -1 && nextId !== -1) {\n            node2 = candidate;\n          }\n        }\n        if (!node2) {\n          let tailNode = addList.tail;\n          while (tailNode) {\n            const _node = tailNode;\n            tailNode = tailNode.previous;\n            if (_node) {\n              const parentId = this.mirror.getId(index.parentNode(_node.value));\n              const nextId = getNextId(_node.value);\n              if (nextId === -1) continue;\n              else if (parentId !== -1) {\n                node2 = _node;\n                break;\n              } else {\n                const unhandledNode = _node.value;\n                const parent = index.parentNode(unhandledNode);\n                if (parent && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                  const shadowHost = index.host(parent);\n                  const parentId2 = this.mirror.getId(shadowHost);\n                  if (parentId2 !== -1) {\n                    node2 = _node;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (!node2) {\n          while (addList.head) {\n            addList.removeNode(addList.head.value);\n          }\n          break;\n        }\n        candidate = node2.previous;\n        addList.removeNode(node2.value);\n        pushAdd(node2.value);\n      }\n      const payload = {\n        texts: this.texts.map((text) => {\n          const n2 = text.node;\n          const parent = index.parentNode(n2);\n          if (parent && parent.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(parent);\n          }\n          return {\n            id: this.mirror.getId(n2),\n            value: text.value\n          };\n        }).filter((text) => !addedIds.has(text.id)).filter((text) => this.mirror.has(text.id)),\n        attributes: this.attributes.map((attribute) => {\n          const { attributes } = attribute;\n          if (typeof attributes.style === \"string\") {\n            const diffAsStr = JSON.stringify(attribute.styleDiff);\n            const unchangedAsStr = JSON.stringify(attribute._unchangedStyles);\n            if (diffAsStr.length < attributes.style.length) {\n              if ((diffAsStr + unchangedAsStr).split(\"var(\").length === attributes.style.split(\"var(\").length) {\n                attributes.style = attribute.styleDiff;\n              }\n            }\n          }\n          return {\n            id: this.mirror.getId(attribute.node),\n            attributes\n          };\n        }).filter((attribute) => !addedIds.has(attribute.id)).filter((attribute) => this.mirror.has(attribute.id)),\n        removes: this.removes,\n        adds\n      };\n      if (!payload.texts.length && !payload.attributes.length && !payload.removes.length && !payload.adds.length) {\n        return;\n      }\n      this.texts = [];\n      this.attributes = [];\n      this.attributeMap = /* @__PURE__ */ new WeakMap();\n      this.removes = [];\n      this.addedSet = /* @__PURE__ */ new Set();\n      this.movedSet = /* @__PURE__ */ new Set();\n      this.droppedSet = /* @__PURE__ */ new Set();\n      this.removesSubTreeCache = /* @__PURE__ */ new Set();\n      this.movedMap = {};\n      this.mutationCb(payload);\n    });\n    __publicField(this, \"genTextAreaValueMutation\", (textarea) => {\n      let item = this.attributeMap.get(textarea);\n      if (!item) {\n        item = {\n          node: textarea,\n          attributes: {},\n          styleDiff: {},\n          _unchangedStyles: {}\n        };\n        this.attributes.push(item);\n        this.attributeMap.set(textarea, item);\n      }\n      const value = Array.from(\n        index.childNodes(textarea),\n        (cn) => index.textContent(cn) || \"\"\n      ).join(\"\");\n      item.attributes.value = maskInputValue({\n        element: textarea,\n        maskInputOptions: this.maskInputOptions,\n        tagName: textarea.tagName,\n        type: getInputType(textarea),\n        value,\n        maskInputFn: this.maskInputFn\n      });\n    });\n    __publicField(this, \"processMutation\", (m) => {\n      if (isIgnored(m.target, this.mirror, this.slimDOMOptions)) {\n        return;\n      }\n      switch (m.type) {\n        case \"characterData\": {\n          const value = index.textContent(m.target);\n          if (!isBlocked(m.target, this.blockClass, this.blockSelector, false) && value !== m.oldValue) {\n            this.texts.push({\n              value: needMaskingText(\n                m.target,\n                this.maskTextClass,\n                this.maskTextSelector,\n                true\n                // checkAncestors\n              ) && value ? this.maskTextFn ? this.maskTextFn(value, closestElementOfNode(m.target)) : value.replace(/[\\S]/g, \"*\") : value,\n              node: m.target\n            });\n          }\n          break;\n        }\n        case \"attributes\": {\n          const target = m.target;\n          let attributeName = m.attributeName;\n          let value = m.target.getAttribute(attributeName);\n          if (attributeName === \"value\") {\n            const type = getInputType(target);\n            value = maskInputValue({\n              element: target,\n              maskInputOptions: this.maskInputOptions,\n              tagName: target.tagName,\n              type,\n              value,\n              maskInputFn: this.maskInputFn\n            });\n          }\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || value === m.oldValue) {\n            return;\n          }\n          let item = this.attributeMap.get(m.target);\n          if (target.tagName === \"IFRAME\" && attributeName === \"src\" && !this.keepIframeSrcFn(value)) {\n            if (!target.contentDocument) {\n              attributeName = \"rr_src\";\n            } else {\n              return;\n            }\n          }\n          if (!item) {\n            item = {\n              node: m.target,\n              attributes: {},\n              styleDiff: {},\n              _unchangedStyles: {}\n            };\n            this.attributes.push(item);\n            this.attributeMap.set(m.target, item);\n          }\n          if (attributeName === \"type\" && target.tagName === \"INPUT\" && (m.oldValue || \"\").toLowerCase() === \"password\") {\n            target.setAttribute(\"data-rr-is-password\", \"true\");\n          }\n          if (!ignoreAttribute(target.tagName, attributeName)) {\n            item.attributes[attributeName] = transformAttribute(\n              this.doc,\n              toLowerCase(target.tagName),\n              toLowerCase(attributeName),\n              value\n            );\n            if (attributeName === \"style\") {\n              if (!this.unattachedDoc) {\n                try {\n                  this.unattachedDoc = document.implementation.createHTMLDocument();\n                } catch (e2) {\n                  this.unattachedDoc = this.doc;\n                }\n              }\n              const old = this.unattachedDoc.createElement(\"span\");\n              if (m.oldValue) {\n                old.setAttribute(\"style\", m.oldValue);\n              }\n              for (const pname of Array.from(target.style)) {\n                const newValue = target.style.getPropertyValue(pname);\n                const newPriority = target.style.getPropertyPriority(pname);\n                if (newValue !== old.style.getPropertyValue(pname) || newPriority !== old.style.getPropertyPriority(pname)) {\n                  if (newPriority === \"\") {\n                    item.styleDiff[pname] = newValue;\n                  } else {\n                    item.styleDiff[pname] = [newValue, newPriority];\n                  }\n                } else {\n                  item._unchangedStyles[pname] = [newValue, newPriority];\n                }\n              }\n              for (const pname of Array.from(old.style)) {\n                if (target.style.getPropertyValue(pname) === \"\") {\n                  item.styleDiff[pname] = false;\n                }\n              }\n            } else if (attributeName === \"open\" && target.tagName === \"DIALOG\") {\n              if (target.matches(\"dialog:modal\")) {\n                item.attributes[\"rr_open_mode\"] = \"modal\";\n              } else {\n                item.attributes[\"rr_open_mode\"] = \"non-modal\";\n              }\n            }\n          }\n          break;\n        }\n        case \"childList\": {\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, true))\n            return;\n          if (m.target.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(m.target);\n            return;\n          }\n          m.addedNodes.forEach((n2) => this.genAdds(n2, m.target));\n          m.removedNodes.forEach((n2) => {\n            const nodeId = this.mirror.getId(n2);\n            const parentId = isShadowRoot(m.target) ? this.mirror.getId(index.host(m.target)) : this.mirror.getId(m.target);\n            if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || isIgnored(n2, this.mirror, this.slimDOMOptions) || !isSerialized(n2, this.mirror)) {\n              return;\n            }\n            if (this.addedSet.has(n2)) {\n              deepDelete(this.addedSet, n2);\n              this.droppedSet.add(n2);\n            } else if (this.addedSet.has(m.target) && nodeId === -1) ;\n            else if (isAncestorRemoved(m.target, this.mirror)) ;\n            else if (this.movedSet.has(n2) && this.movedMap[moveKey(nodeId, parentId)]) {\n              deepDelete(this.movedSet, n2);\n            } else {\n              this.removes.push({\n                parentId,\n                id: nodeId,\n                isShadow: isShadowRoot(m.target) && isNativeShadowDom(m.target) ? true : void 0\n              });\n              processRemoves(n2, this.removesSubTreeCache);\n            }\n            this.mapRemoves.push(n2);\n          });\n          break;\n        }\n      }\n    });\n    __publicField(this, \"genAdds\", (n2, target) => {\n      if (this.processedNodeManager.inOtherBuffer(n2, this)) return;\n      if (this.addedSet.has(n2) || this.movedSet.has(n2)) return;\n      if (this.mirror.hasNode(n2)) {\n        if (isIgnored(n2, this.mirror, this.slimDOMOptions)) {\n          return;\n        }\n        this.movedSet.add(n2);\n        let targetId = null;\n        if (target && this.mirror.hasNode(target)) {\n          targetId = this.mirror.getId(target);\n        }\n        if (targetId && targetId !== -1) {\n          this.movedMap[moveKey(this.mirror.getId(n2), targetId)] = true;\n        }\n      } else {\n        this.addedSet.add(n2);\n        this.droppedSet.delete(n2);\n      }\n      if (!isBlocked(n2, this.blockClass, this.blockSelector, false)) {\n        index.childNodes(n2).forEach((childN) => this.genAdds(childN));\n        if (hasShadowRoot(n2)) {\n          index.childNodes(index.shadowRoot(n2)).forEach((childN) => {\n            this.processedNodeManager.add(childN, this);\n            this.genAdds(childN, n2);\n          });\n        }\n      }\n    });\n  }\n  init(options) {\n    [\n      \"mutationCb\",\n      \"blockClass\",\n      \"blockSelector\",\n      \"maskTextClass\",\n      \"maskTextSelector\",\n      \"inlineStylesheet\",\n      \"maskInputOptions\",\n      \"maskTextFn\",\n      \"maskInputFn\",\n      \"keepIframeSrcFn\",\n      \"recordCanvas\",\n      \"inlineImages\",\n      \"slimDOMOptions\",\n      \"dataURLOptions\",\n      \"doc\",\n      \"mirror\",\n      \"iframeManager\",\n      \"stylesheetManager\",\n      \"shadowDomManager\",\n      \"canvasManager\",\n      \"processedNodeManager\"\n    ].forEach((key) => {\n      this[key] = options[key];\n    });\n  }\n  freeze() {\n    this.frozen = true;\n    this.canvasManager.freeze();\n  }\n  unfreeze() {\n    this.frozen = false;\n    this.canvasManager.unfreeze();\n    this.emit();\n  }\n  isFrozen() {\n    return this.frozen;\n  }\n  lock() {\n    this.locked = true;\n    this.canvasManager.lock();\n  }\n  unlock() {\n    this.locked = false;\n    this.canvasManager.unlock();\n    this.emit();\n  }\n  reset() {\n    this.shadowDomManager.reset();\n    this.canvasManager.reset();\n  }\n}\nfunction deepDelete(addsSet, n2) {\n  addsSet.delete(n2);\n  index.childNodes(n2).forEach((childN) => deepDelete(addsSet, childN));\n}\nfunction processRemoves(n2, cache) {\n  const queue = [n2];\n  while (queue.length) {\n    const next = queue.pop();\n    if (cache.has(next)) continue;\n    cache.add(next);\n    index.childNodes(next).forEach((n22) => queue.push(n22));\n  }\n  return;\n}\nfunction isParentRemoved(removes, n2, mirror2) {\n  if (removes.size === 0) return false;\n  return _isParentRemoved(removes, n2);\n}\nfunction _isParentRemoved(removes, n2, _mirror2) {\n  const node2 = index.parentNode(n2);\n  if (!node2) return false;\n  return removes.has(node2);\n}\nfunction isAncestorInSet(set, n2) {\n  if (set.size === 0) return false;\n  return _isAncestorInSet(set, n2);\n}\nfunction _isAncestorInSet(set, n2) {\n  const parent = index.parentNode(n2);\n  if (!parent) {\n    return false;\n  }\n  if (set.has(parent)) {\n    return true;\n  }\n  return _isAncestorInSet(set, parent);\n}\nlet errorHandler;\nfunction registerErrorHandler(handler) {\n  errorHandler = handler;\n}\nfunction unregisterErrorHandler() {\n  errorHandler = void 0;\n}\nconst callbackWrapper = (cb) => {\n  if (!errorHandler) {\n    return cb;\n  }\n  const rrwebWrapped = (...rest) => {\n    try {\n      return cb(...rest);\n    } catch (error) {\n      if (errorHandler && errorHandler(error) === true) {\n        return;\n      }\n      throw error;\n    }\n  };\n  return rrwebWrapped;\n};\nfunction externalFunctionWrapper(func) {\n  return (...args) => {\n    try {\n      return func(...args);\n    } catch (error) {\n      try {\n        error._external_ = true;\n      } catch {\n      }\n      throw error;\n    }\n  };\n}\nconst mutationBuffers = [];\nfunction getEventTarget(event) {\n  try {\n    if (\"composedPath\" in event) {\n      const path = event.composedPath();\n      if (path.length) {\n        return path[0];\n      }\n    } else if (\"path\" in event && event.path.length) {\n      return event.path[0];\n    }\n  } catch {\n  }\n  return event && event.target;\n}\nfunction initMutationObserver(options, rootEl) {\n  const mutationBuffer = new MutationBuffer();\n  mutationBuffers.push(mutationBuffer);\n  mutationBuffer.init(options);\n  const observer = new (mutationObserverCtor())(\n    callbackWrapper(mutationBuffer.processMutations.bind(mutationBuffer))\n  );\n  observer.observe(rootEl, {\n    attributes: true,\n    attributeOldValue: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\nfunction initMoveObserver({\n  mousemoveCb,\n  sampling,\n  doc,\n  mirror: mirror2\n}) {\n  if (sampling.mousemove === false) {\n    return () => {\n    };\n  }\n  const threshold = typeof sampling.mousemove === \"number\" ? sampling.mousemove : 50;\n  const callbackThreshold = typeof sampling.mousemoveCallback === \"number\" ? sampling.mousemoveCallback : 500;\n  let positions = [];\n  let timeBaseline;\n  const wrappedCb = throttle(\n    callbackWrapper(\n      (source) => {\n        const totalOffset = Date.now() - timeBaseline;\n        mousemoveCb(\n          positions.map((p) => {\n            p.timeOffset -= totalOffset;\n            return p;\n          }),\n          source\n        );\n        positions = [];\n        timeBaseline = null;\n      }\n    ),\n    callbackThreshold\n  );\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        const { clientX, clientY } = legacy_isTouchEvent(evt) ? evt.changedTouches[0] : evt;\n        if (!timeBaseline) {\n          timeBaseline = nowTimestamp();\n        }\n        positions.push({\n          x: clientX,\n          y: clientY,\n          id: mirror2.getId(target),\n          timeOffset: nowTimestamp() - timeBaseline\n        });\n        wrappedCb(\n          typeof DragEvent !== \"undefined\" && evt instanceof DragEvent ? IncrementalSource.Drag : evt instanceof MouseEvent ? IncrementalSource.MouseMove : IncrementalSource.TouchMove\n        );\n      }),\n      threshold,\n      {\n        trailing: false\n      }\n    )\n  );\n  const handlers = [\n    on(\"mousemove\", updatePosition, doc),\n    on(\"touchmove\", updatePosition, doc),\n    on(\"drag\", updatePosition, doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initMouseInteractionObserver({\n  mouseInteractionCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  if (sampling.mouseInteraction === false) {\n    return () => {\n    };\n  }\n  const disableMap = sampling.mouseInteraction === true || sampling.mouseInteraction === void 0 ? {} : sampling.mouseInteraction;\n  const handlers = [];\n  let currentPointerType = null;\n  const getHandler = (eventKey) => {\n    return (event) => {\n      const target = getEventTarget(event);\n      if (isBlocked(target, blockClass, blockSelector, true)) {\n        return;\n      }\n      let pointerType = null;\n      let thisEventKey = eventKey;\n      if (\"pointerType\" in event) {\n        switch (event.pointerType) {\n          case \"mouse\":\n            pointerType = PointerTypes.Mouse;\n            break;\n          case \"touch\":\n            pointerType = PointerTypes.Touch;\n            break;\n          case \"pen\":\n            pointerType = PointerTypes.Pen;\n            break;\n        }\n        if (pointerType === PointerTypes.Touch) {\n          if (MouseInteractions[eventKey] === MouseInteractions.MouseDown) {\n            thisEventKey = \"TouchStart\";\n          } else if (MouseInteractions[eventKey] === MouseInteractions.MouseUp) {\n            thisEventKey = \"TouchEnd\";\n          }\n        } else if (pointerType === PointerTypes.Pen) ;\n      } else if (legacy_isTouchEvent(event)) {\n        pointerType = PointerTypes.Touch;\n      }\n      if (pointerType !== null) {\n        currentPointerType = pointerType;\n        if (thisEventKey.startsWith(\"Touch\") && pointerType === PointerTypes.Touch || thisEventKey.startsWith(\"Mouse\") && pointerType === PointerTypes.Mouse) {\n          pointerType = null;\n        }\n      } else if (MouseInteractions[eventKey] === MouseInteractions.Click) {\n        pointerType = currentPointerType;\n        currentPointerType = null;\n      }\n      const e2 = legacy_isTouchEvent(event) ? event.changedTouches[0] : event;\n      if (!e2) {\n        return;\n      }\n      const id = mirror2.getId(target);\n      const { clientX, clientY } = e2;\n      callbackWrapper(mouseInteractionCb)({\n        type: MouseInteractions[thisEventKey],\n        id,\n        x: clientX,\n        y: clientY,\n        ...pointerType !== null && { pointerType }\n      });\n    };\n  };\n  Object.keys(MouseInteractions).filter(\n    (key) => Number.isNaN(Number(key)) && !key.endsWith(\"_Departed\") && disableMap[key] !== false\n  ).forEach((eventKey) => {\n    let eventName = toLowerCase(eventKey);\n    const handler = getHandler(eventKey);\n    if (window.PointerEvent) {\n      switch (MouseInteractions[eventKey]) {\n        case MouseInteractions.MouseDown:\n        case MouseInteractions.MouseUp:\n          eventName = eventName.replace(\n            \"mouse\",\n            \"pointer\"\n          );\n          break;\n        case MouseInteractions.TouchStart:\n        case MouseInteractions.TouchEnd:\n          return;\n      }\n    }\n    handlers.push(on(eventName, handler, doc));\n  });\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initScrollObserver({\n  scrollCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const id = mirror2.getId(target);\n        if (target === doc && doc.defaultView) {\n          const scrollLeftTop = getWindowScroll(doc.defaultView);\n          scrollCb({\n            id,\n            x: scrollLeftTop.left,\n            y: scrollLeftTop.top\n          });\n        } else {\n          scrollCb({\n            id,\n            x: target.scrollLeft,\n            y: target.scrollTop\n          });\n        }\n      }),\n      sampling.scroll || 100\n    )\n  );\n  return on(\"scroll\", updatePosition, doc);\n}\nfunction initViewportResizeObserver({ viewportResizeCb }, { win }) {\n  let lastH = -1;\n  let lastW = -1;\n  const updateDimension = callbackWrapper(\n    throttle(\n      callbackWrapper(() => {\n        const height = getWindowHeight();\n        const width = getWindowWidth();\n        if (lastH !== height || lastW !== width) {\n          viewportResizeCb({\n            width: Number(width),\n            height: Number(height)\n          });\n          lastH = height;\n          lastW = width;\n        }\n      }),\n      200\n    )\n  );\n  return on(\"resize\", updateDimension, win);\n}\nconst INPUT_TAGS = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\nconst lastInputValueMap = /* @__PURE__ */ new WeakMap();\nfunction initInputObserver({\n  inputCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  ignoreClass,\n  ignoreSelector,\n  maskInputOptions,\n  maskInputFn,\n  sampling,\n  userTriggeredOnInput\n}) {\n  function eventHandler(event) {\n    let target = getEventTarget(event);\n    const userTriggered = event.isTrusted;\n    const tagName = target && target.tagName;\n    if (target && tagName === \"OPTION\") {\n      target = index.parentElement(target);\n    }\n    if (!target || !tagName || INPUT_TAGS.indexOf(tagName) < 0 || isBlocked(target, blockClass, blockSelector, true)) {\n      return;\n    }\n    if (target.classList.contains(ignoreClass) || ignoreSelector && target.matches(ignoreSelector)) {\n      return;\n    }\n    let text = target.value;\n    let isChecked = false;\n    const type = getInputType(target) || \"\";\n    if (type === \"radio\" || type === \"checkbox\") {\n      isChecked = target.checked;\n    } else if (maskInputOptions[tagName.toLowerCase()] || maskInputOptions[type]) {\n      text = maskInputValue({\n        element: target,\n        maskInputOptions,\n        tagName,\n        type,\n        value: text,\n        maskInputFn\n      });\n    }\n    cbWithDedup(\n      target,\n      userTriggeredOnInput ? { text, isChecked, userTriggered } : { text, isChecked }\n    );\n    const name = target.name;\n    if (type === \"radio\" && name && isChecked) {\n      doc.querySelectorAll(`input[type=\"radio\"][name=\"${name}\"]`).forEach((el) => {\n        if (el !== target) {\n          const text2 = el.value;\n          cbWithDedup(\n            el,\n            userTriggeredOnInput ? { text: text2, isChecked: !isChecked, userTriggered: false } : { text: text2, isChecked: !isChecked }\n          );\n        }\n      });\n    }\n  }\n  function cbWithDedup(target, v2) {\n    const lastInputValue = lastInputValueMap.get(target);\n    if (!lastInputValue || lastInputValue.text !== v2.text || lastInputValue.isChecked !== v2.isChecked) {\n      lastInputValueMap.set(target, v2);\n      const id = mirror2.getId(target);\n      callbackWrapper(inputCb)({\n        ...v2,\n        id\n      });\n    }\n  }\n  const events = sampling.input === \"last\" ? [\"change\"] : [\"input\", \"change\"];\n  const handlers = events.map(\n    (eventName) => on(eventName, callbackWrapper(eventHandler), doc)\n  );\n  const currentWindow = doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n      handlers.forEach((h) => h());\n    };\n  }\n  const propertyDescriptor = currentWindow.Object.getOwnPropertyDescriptor(\n    currentWindow.HTMLInputElement.prototype,\n    \"value\"\n  );\n  const hookProperties = [\n    [currentWindow.HTMLInputElement.prototype, \"value\"],\n    [currentWindow.HTMLInputElement.prototype, \"checked\"],\n    [currentWindow.HTMLSelectElement.prototype, \"value\"],\n    [currentWindow.HTMLTextAreaElement.prototype, \"value\"],\n    // Some UI library use selectedIndex to set select value\n    [currentWindow.HTMLSelectElement.prototype, \"selectedIndex\"],\n    [currentWindow.HTMLOptionElement.prototype, \"selected\"]\n  ];\n  if (propertyDescriptor && propertyDescriptor.set) {\n    handlers.push(\n      ...hookProperties.map(\n        (p) => hookSetter(\n          p[0],\n          p[1],\n          {\n            set() {\n              callbackWrapper(eventHandler)({\n                target: this,\n                isTrusted: false\n                // userTriggered to false as this could well be programmatic\n              });\n            }\n          },\n          false,\n          currentWindow\n        )\n      )\n    );\n  }\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction getNestedCSSRulePositions(rule2) {\n  const positions = [];\n  function recurse(childRule, pos) {\n    if (hasNestedCSSRule(\"CSSGroupingRule\") && childRule.parentRule instanceof CSSGroupingRule || hasNestedCSSRule(\"CSSMediaRule\") && childRule.parentRule instanceof CSSMediaRule || hasNestedCSSRule(\"CSSSupportsRule\") && childRule.parentRule instanceof CSSSupportsRule || hasNestedCSSRule(\"CSSConditionRule\") && childRule.parentRule instanceof CSSConditionRule) {\n      const rules2 = Array.from(\n        childRule.parentRule.cssRules\n      );\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    } else if (childRule.parentStyleSheet) {\n      const rules2 = Array.from(childRule.parentStyleSheet.cssRules);\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    }\n    return pos;\n  }\n  return recurse(rule2, positions);\n}\nfunction getIdAndStyleId(sheet, mirror2, styleMirror) {\n  let id, styleId;\n  if (!sheet) return {};\n  if (sheet.ownerNode) id = mirror2.getId(sheet.ownerNode);\n  else styleId = styleMirror.getId(sheet);\n  return {\n    styleId,\n    id\n  };\n}\nfunction initStyleSheetObserver({ styleSheetRuleCb, mirror: mirror2, stylesheetManager }, { win }) {\n  if (!win.CSSStyleSheet || !win.CSSStyleSheet.prototype) {\n    return () => {\n    };\n  }\n  const insertRule = win.CSSStyleSheet.prototype.insertRule;\n  win.CSSStyleSheet.prototype.insertRule = new Proxy(insertRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [rule2, index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            adds: [{ rule: rule2, index: index2 }]\n          });\n        }\n        return externalFunctionWrapper(\n          () => target.apply(thisArg, argumentsList)\n        )();\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.addRule = function(selector, styleBlock, index2 = this.cssRules.length) {\n    const rule2 = `${selector} { ${styleBlock} }`;\n    return win.CSSStyleSheet.prototype.insertRule.apply(this, [rule2, index2]);\n  };\n  const deleteRule = win.CSSStyleSheet.prototype.deleteRule;\n  win.CSSStyleSheet.prototype.deleteRule = new Proxy(deleteRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            removes: [{ index: index2 }]\n          });\n        }\n        return externalFunctionWrapper(\n          () => target.apply(thisArg, argumentsList)\n        )();\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.removeRule = function(index2) {\n    return win.CSSStyleSheet.prototype.deleteRule.apply(this, [index2]);\n  };\n  let replace;\n  if (win.CSSStyleSheet.prototype.replace) {\n    replace = win.CSSStyleSheet.prototype.replace;\n    win.CSSStyleSheet.prototype.replace = new Proxy(replace, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replace: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  let replaceSync;\n  if (win.CSSStyleSheet.prototype.replaceSync) {\n    replaceSync = win.CSSStyleSheet.prototype.replaceSync;\n    win.CSSStyleSheet.prototype.replaceSync = new Proxy(replaceSync, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replaceSync: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  const supportedNestedCSSRuleTypes = {};\n  if (canMonkeyPatchNestedCSSRule(\"CSSGroupingRule\")) {\n    supportedNestedCSSRuleTypes.CSSGroupingRule = win.CSSGroupingRule;\n  } else {\n    if (canMonkeyPatchNestedCSSRule(\"CSSMediaRule\")) {\n      supportedNestedCSSRuleTypes.CSSMediaRule = win.CSSMediaRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSConditionRule\")) {\n      supportedNestedCSSRuleTypes.CSSConditionRule = win.CSSConditionRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSSupportsRule\")) {\n      supportedNestedCSSRuleTypes.CSSSupportsRule = win.CSSSupportsRule;\n    }\n  }\n  const unmodifiedFunctions = {};\n  Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n    unmodifiedFunctions[typeKey] = {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      insertRule: type.prototype.insertRule,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      deleteRule: type.prototype.deleteRule\n    };\n    type.prototype.insertRule = new Proxy(\n      unmodifiedFunctions[typeKey].insertRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [rule2, index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                adds: [\n                  {\n                    rule: rule2,\n                    index: [\n                      ...getNestedCSSRulePositions(thisArg),\n                      index2 || 0\n                      // defaults to 0\n                    ]\n                  }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n    type.prototype.deleteRule = new Proxy(\n      unmodifiedFunctions[typeKey].deleteRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                removes: [\n                  { index: [...getNestedCSSRulePositions(thisArg), index2] }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleSheet.prototype.insertRule = insertRule;\n    win.CSSStyleSheet.prototype.deleteRule = deleteRule;\n    replace && (win.CSSStyleSheet.prototype.replace = replace);\n    replaceSync && (win.CSSStyleSheet.prototype.replaceSync = replaceSync);\n    Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n      type.prototype.insertRule = unmodifiedFunctions[typeKey].insertRule;\n      type.prototype.deleteRule = unmodifiedFunctions[typeKey].deleteRule;\n    });\n  });\n}\nfunction initAdoptedStyleSheetObserver({\n  mirror: mirror2,\n  stylesheetManager\n}, host2) {\n  var _a2, _b, _c;\n  let hostId = null;\n  if (host2.nodeName === \"#document\") hostId = mirror2.getId(host2);\n  else hostId = mirror2.getId(index.host(host2));\n  const patchTarget = host2.nodeName === \"#document\" ? (_a2 = host2.defaultView) == null ? void 0 : _a2.Document : (_c = (_b = host2.ownerDocument) == null ? void 0 : _b.defaultView) == null ? void 0 : _c.ShadowRoot;\n  const originalPropertyDescriptor = (patchTarget == null ? void 0 : patchTarget.prototype) ? Object.getOwnPropertyDescriptor(\n    patchTarget == null ? void 0 : patchTarget.prototype,\n    \"adoptedStyleSheets\"\n  ) : void 0;\n  if (hostId === null || hostId === -1 || !patchTarget || !originalPropertyDescriptor)\n    return () => {\n    };\n  Object.defineProperty(host2, \"adoptedStyleSheets\", {\n    configurable: originalPropertyDescriptor.configurable,\n    enumerable: originalPropertyDescriptor.enumerable,\n    get() {\n      var _a3;\n      return (_a3 = originalPropertyDescriptor.get) == null ? void 0 : _a3.call(this);\n    },\n    set(sheets) {\n      var _a3;\n      const result2 = (_a3 = originalPropertyDescriptor.set) == null ? void 0 : _a3.call(this, sheets);\n      if (hostId !== null && hostId !== -1) {\n        try {\n          stylesheetManager.adoptStyleSheets(sheets, hostId);\n        } catch (e2) {\n        }\n      }\n      return result2;\n    }\n  });\n  return callbackWrapper(() => {\n    Object.defineProperty(host2, \"adoptedStyleSheets\", {\n      configurable: originalPropertyDescriptor.configurable,\n      enumerable: originalPropertyDescriptor.enumerable,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      get: originalPropertyDescriptor.get,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      set: originalPropertyDescriptor.set\n    });\n  });\n}\nfunction initStyleDeclarationObserver({\n  styleDeclarationCb,\n  mirror: mirror2,\n  ignoreCSSAttributes,\n  stylesheetManager\n}, { win }) {\n  const setProperty = win.CSSStyleDeclaration.prototype.setProperty;\n  win.CSSStyleDeclaration.prototype.setProperty = new Proxy(setProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property, value, priority] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return setProperty.apply(thisArg, [property, value, priority]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            set: {\n              property,\n              value,\n              priority\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  const removeProperty = win.CSSStyleDeclaration.prototype.removeProperty;\n  win.CSSStyleDeclaration.prototype.removeProperty = new Proxy(removeProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return removeProperty.apply(thisArg, [property]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            remove: {\n              property\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleDeclaration.prototype.setProperty = setProperty;\n    win.CSSStyleDeclaration.prototype.removeProperty = removeProperty;\n  });\n}\nfunction initMediaInteractionObserver({\n  mediaInteractionCb,\n  blockClass,\n  blockSelector,\n  mirror: mirror2,\n  sampling,\n  doc\n}) {\n  const handler = callbackWrapper(\n    (type) => throttle(\n      callbackWrapper((event) => {\n        const target = getEventTarget(event);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const { currentTime, volume, muted, playbackRate, loop } = target;\n        mediaInteractionCb({\n          type,\n          id: mirror2.getId(target),\n          currentTime,\n          volume,\n          muted,\n          playbackRate,\n          loop\n        });\n      }),\n      sampling.media || 500\n    )\n  );\n  const handlers = [\n    on(\"play\", handler(MediaInteractions.Play), doc),\n    on(\"pause\", handler(MediaInteractions.Pause), doc),\n    on(\"seeked\", handler(MediaInteractions.Seeked), doc),\n    on(\"volumechange\", handler(MediaInteractions.VolumeChange), doc),\n    on(\"ratechange\", handler(MediaInteractions.RateChange), doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initFontObserver({ fontCb, doc }) {\n  const win = doc.defaultView;\n  if (!win) {\n    return () => {\n    };\n  }\n  const handlers = [];\n  const fontMap = /* @__PURE__ */ new WeakMap();\n  const originalFontFace = win.FontFace;\n  win.FontFace = function FontFace2(family, source, descriptors) {\n    const fontFace = new originalFontFace(family, source, descriptors);\n    fontMap.set(fontFace, {\n      family,\n      buffer: typeof source !== \"string\",\n      descriptors,\n      fontSource: typeof source === \"string\" ? source : JSON.stringify(Array.from(new Uint8Array(source)))\n    });\n    return fontFace;\n  };\n  const restoreHandler = patch(\n    doc.fonts,\n    \"add\",\n    function(original) {\n      return function(fontFace) {\n        setTimeout(\n          callbackWrapper(() => {\n            const p = fontMap.get(fontFace);\n            if (p) {\n              fontCb(p);\n              fontMap.delete(fontFace);\n            }\n          }),\n          0\n        );\n        return original.apply(this, [fontFace]);\n      };\n    }\n  );\n  handlers.push(() => {\n    win.FontFace = originalFontFace;\n  });\n  handlers.push(restoreHandler);\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initSelectionObserver(param) {\n  const { doc, mirror: mirror2, blockClass, blockSelector, selectionCb } = param;\n  let collapsed = true;\n  const updateSelection = callbackWrapper(() => {\n    const selection = doc.getSelection();\n    if (!selection || collapsed && (selection == null ? void 0 : selection.isCollapsed)) return;\n    collapsed = selection.isCollapsed || false;\n    const ranges = [];\n    const count = selection.rangeCount || 0;\n    for (let i2 = 0; i2 < count; i2++) {\n      const range = selection.getRangeAt(i2);\n      const { startContainer, startOffset, endContainer, endOffset } = range;\n      const blocked = isBlocked(startContainer, blockClass, blockSelector, true) || isBlocked(endContainer, blockClass, blockSelector, true);\n      if (blocked) continue;\n      ranges.push({\n        start: mirror2.getId(startContainer),\n        startOffset,\n        end: mirror2.getId(endContainer),\n        endOffset\n      });\n    }\n    selectionCb({ ranges });\n  });\n  updateSelection();\n  return on(\"selectionchange\", updateSelection);\n}\nfunction initCustomElementObserver({\n  doc,\n  customElementCb\n}) {\n  const win = doc.defaultView;\n  if (!win || !win.customElements) return () => {\n  };\n  const restoreHandler = patch(\n    win.customElements,\n    \"define\",\n    function(original) {\n      return function(name, constructor, options) {\n        try {\n          customElementCb({\n            define: {\n              name\n            }\n          });\n        } catch (e2) {\n          console.warn(`Custom element callback failed for ${name}`);\n        }\n        return original.apply(this, [name, constructor, options]);\n      };\n    }\n  );\n  return restoreHandler;\n}\nfunction mergeHooks(o2, hooks) {\n  const {\n    mutationCb,\n    mousemoveCb,\n    mouseInteractionCb,\n    scrollCb,\n    viewportResizeCb,\n    inputCb,\n    mediaInteractionCb,\n    styleSheetRuleCb,\n    styleDeclarationCb,\n    canvasMutationCb,\n    fontCb,\n    selectionCb,\n    customElementCb\n  } = o2;\n  o2.mutationCb = (...p) => {\n    if (hooks.mutation) {\n      hooks.mutation(...p);\n    }\n    mutationCb(...p);\n  };\n  o2.mousemoveCb = (...p) => {\n    if (hooks.mousemove) {\n      hooks.mousemove(...p);\n    }\n    mousemoveCb(...p);\n  };\n  o2.mouseInteractionCb = (...p) => {\n    if (hooks.mouseInteraction) {\n      hooks.mouseInteraction(...p);\n    }\n    mouseInteractionCb(...p);\n  };\n  o2.scrollCb = (...p) => {\n    if (hooks.scroll) {\n      hooks.scroll(...p);\n    }\n    scrollCb(...p);\n  };\n  o2.viewportResizeCb = (...p) => {\n    if (hooks.viewportResize) {\n      hooks.viewportResize(...p);\n    }\n    viewportResizeCb(...p);\n  };\n  o2.inputCb = (...p) => {\n    if (hooks.input) {\n      hooks.input(...p);\n    }\n    inputCb(...p);\n  };\n  o2.mediaInteractionCb = (...p) => {\n    if (hooks.mediaInteaction) {\n      hooks.mediaInteaction(...p);\n    }\n    mediaInteractionCb(...p);\n  };\n  o2.styleSheetRuleCb = (...p) => {\n    if (hooks.styleSheetRule) {\n      hooks.styleSheetRule(...p);\n    }\n    styleSheetRuleCb(...p);\n  };\n  o2.styleDeclarationCb = (...p) => {\n    if (hooks.styleDeclaration) {\n      hooks.styleDeclaration(...p);\n    }\n    styleDeclarationCb(...p);\n  };\n  o2.canvasMutationCb = (...p) => {\n    if (hooks.canvasMutation) {\n      hooks.canvasMutation(...p);\n    }\n    canvasMutationCb(...p);\n  };\n  o2.fontCb = (...p) => {\n    if (hooks.font) {\n      hooks.font(...p);\n    }\n    fontCb(...p);\n  };\n  o2.selectionCb = (...p) => {\n    if (hooks.selection) {\n      hooks.selection(...p);\n    }\n    selectionCb(...p);\n  };\n  o2.customElementCb = (...c2) => {\n    if (hooks.customElement) {\n      hooks.customElement(...c2);\n    }\n    customElementCb(...c2);\n  };\n}\nfunction initObservers(o2, hooks = {}) {\n  const currentWindow = o2.doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n    };\n  }\n  mergeHooks(o2, hooks);\n  let mutationObserver;\n  if (o2.recordDOM) {\n    mutationObserver = initMutationObserver(o2, o2.doc);\n  }\n  const mousemoveHandler = initMoveObserver(o2);\n  const mouseInteractionHandler = initMouseInteractionObserver(o2);\n  const scrollHandler = initScrollObserver(o2);\n  const viewportResizeHandler = initViewportResizeObserver(o2, {\n    win: currentWindow\n  });\n  const inputHandler = initInputObserver(o2);\n  const mediaInteractionHandler = initMediaInteractionObserver(o2);\n  let styleSheetObserver = () => {\n  };\n  let adoptedStyleSheetObserver = () => {\n  };\n  let styleDeclarationObserver = () => {\n  };\n  let fontObserver = () => {\n  };\n  if (o2.recordDOM) {\n    styleSheetObserver = initStyleSheetObserver(o2, { win: currentWindow });\n    adoptedStyleSheetObserver = initAdoptedStyleSheetObserver(o2, o2.doc);\n    styleDeclarationObserver = initStyleDeclarationObserver(o2, {\n      win: currentWindow\n    });\n    if (o2.collectFonts) {\n      fontObserver = initFontObserver(o2);\n    }\n  }\n  const selectionObserver = initSelectionObserver(o2);\n  const customElementObserver = initCustomElementObserver(o2);\n  const pluginHandlers = [];\n  for (const plugin of o2.plugins) {\n    pluginHandlers.push(\n      plugin.observer(plugin.callback, currentWindow, plugin.options)\n    );\n  }\n  return callbackWrapper(() => {\n    mutationBuffers.forEach((b) => b.reset());\n    mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    mousemoveHandler();\n    mouseInteractionHandler();\n    scrollHandler();\n    viewportResizeHandler();\n    inputHandler();\n    mediaInteractionHandler();\n    styleSheetObserver();\n    adoptedStyleSheetObserver();\n    styleDeclarationObserver();\n    fontObserver();\n    selectionObserver();\n    customElementObserver();\n    pluginHandlers.forEach((h) => h());\n  });\n}\nfunction hasNestedCSSRule(prop) {\n  return typeof window[prop] !== \"undefined\";\n}\nfunction canMonkeyPatchNestedCSSRule(prop) {\n  return Boolean(\n    typeof window[prop] !== \"undefined\" && // Note: Generally, this check _shouldn't_ be necessary\n    // However, in some scenarios (e.g. jsdom) this can sometimes fail, so we check for it here\n    window[prop].prototype && \"insertRule\" in window[prop].prototype && \"deleteRule\" in window[prop].prototype\n  );\n}\nclass CrossOriginIframeMirror {\n  constructor(generateIdFn) {\n    __publicField(this, \"iframeIdToRemoteIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"iframeRemoteIdToIdMap\", /* @__PURE__ */ new WeakMap());\n    this.generateIdFn = generateIdFn;\n  }\n  getId(iframe, remoteId, idToRemoteMap, remoteToIdMap) {\n    const idToRemoteIdMap = idToRemoteMap || this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = remoteToIdMap || this.getRemoteIdToIdMap(iframe);\n    let id = idToRemoteIdMap.get(remoteId);\n    if (!id) {\n      id = this.generateIdFn();\n      idToRemoteIdMap.set(remoteId, id);\n      remoteIdToIdMap.set(id, remoteId);\n    }\n    return id;\n  }\n  getIds(iframe, remoteId) {\n    const idToRemoteIdMap = this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return remoteId.map(\n      (id) => this.getId(iframe, id, idToRemoteIdMap, remoteIdToIdMap)\n    );\n  }\n  getRemoteId(iframe, id, map) {\n    const remoteIdToIdMap = map || this.getRemoteIdToIdMap(iframe);\n    if (typeof id !== \"number\") return id;\n    const remoteId = remoteIdToIdMap.get(id);\n    if (!remoteId) return -1;\n    return remoteId;\n  }\n  getRemoteIds(iframe, ids) {\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return ids.map((id) => this.getRemoteId(iframe, id, remoteIdToIdMap));\n  }\n  reset(iframe) {\n    if (!iframe) {\n      this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n      this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n      return;\n    }\n    this.iframeIdToRemoteIdMap.delete(iframe);\n    this.iframeRemoteIdToIdMap.delete(iframe);\n  }\n  getIdToRemoteIdMap(iframe) {\n    let idToRemoteIdMap = this.iframeIdToRemoteIdMap.get(iframe);\n    if (!idToRemoteIdMap) {\n      idToRemoteIdMap = /* @__PURE__ */ new Map();\n      this.iframeIdToRemoteIdMap.set(iframe, idToRemoteIdMap);\n    }\n    return idToRemoteIdMap;\n  }\n  getRemoteIdToIdMap(iframe) {\n    let remoteIdToIdMap = this.iframeRemoteIdToIdMap.get(iframe);\n    if (!remoteIdToIdMap) {\n      remoteIdToIdMap = /* @__PURE__ */ new Map();\n      this.iframeRemoteIdToIdMap.set(iframe, remoteIdToIdMap);\n    }\n    return remoteIdToIdMap;\n  }\n}\nclass IframeManager {\n  constructor(options) {\n    __publicField(this, \"iframes\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMirror\", new CrossOriginIframeMirror(genId));\n    __publicField(this, \"crossOriginIframeStyleMirror\");\n    __publicField(this, \"crossOriginIframeRootIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"wrappedEmit\");\n    __publicField(this, \"loadListener\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"recordCrossOriginIframes\");\n    this.mutationCb = options.mutationCb;\n    this.wrappedEmit = options.wrappedEmit;\n    this.stylesheetManager = options.stylesheetManager;\n    this.recordCrossOriginIframes = options.recordCrossOriginIframes;\n    this.crossOriginIframeStyleMirror = new CrossOriginIframeMirror(\n      this.stylesheetManager.styleMirror.generateId.bind(\n        this.stylesheetManager.styleMirror\n      )\n    );\n    this.mirror = options.mirror;\n    if (this.recordCrossOriginIframes) {\n      window.addEventListener(\"message\", this.handleMessage.bind(this));\n    }\n  }\n  addIframe(iframeEl) {\n    this.iframes.set(iframeEl, true);\n    if (iframeEl.contentWindow)\n      this.crossOriginIframeMap.set(iframeEl.contentWindow, iframeEl);\n  }\n  addLoadListener(cb) {\n    this.loadListener = cb;\n  }\n  attachIframe(iframeEl, childSn) {\n    var _a2, _b;\n    this.mutationCb({\n      adds: [\n        {\n          parentId: this.mirror.getId(iframeEl),\n          nextId: null,\n          node: childSn\n        }\n      ],\n      removes: [],\n      texts: [],\n      attributes: [],\n      isAttachIframe: true\n    });\n    if (this.recordCrossOriginIframes)\n      (_a2 = iframeEl.contentWindow) == null ? void 0 : _a2.addEventListener(\n        \"message\",\n        this.handleMessage.bind(this)\n      );\n    (_b = this.loadListener) == null ? void 0 : _b.call(this, iframeEl);\n    if (iframeEl.contentDocument && iframeEl.contentDocument.adoptedStyleSheets && iframeEl.contentDocument.adoptedStyleSheets.length > 0)\n      this.stylesheetManager.adoptStyleSheets(\n        iframeEl.contentDocument.adoptedStyleSheets,\n        this.mirror.getId(iframeEl.contentDocument)\n      );\n  }\n  handleMessage(message) {\n    const crossOriginMessageEvent = message;\n    if (crossOriginMessageEvent.data.type !== \"rrweb\" || // To filter out the rrweb messages which are forwarded by some sites.\n    crossOriginMessageEvent.origin !== crossOriginMessageEvent.data.origin)\n      return;\n    const iframeSourceWindow = message.source;\n    if (!iframeSourceWindow) return;\n    const iframeEl = this.crossOriginIframeMap.get(message.source);\n    if (!iframeEl) return;\n    const transformedEvent = this.transformCrossOriginEvent(\n      iframeEl,\n      crossOriginMessageEvent.data.event\n    );\n    if (transformedEvent)\n      this.wrappedEmit(\n        transformedEvent,\n        crossOriginMessageEvent.data.isCheckout\n      );\n  }\n  transformCrossOriginEvent(iframeEl, e2) {\n    var _a2;\n    switch (e2.type) {\n      case EventType.FullSnapshot: {\n        this.crossOriginIframeMirror.reset(iframeEl);\n        this.crossOriginIframeStyleMirror.reset(iframeEl);\n        this.replaceIdOnNode(e2.data.node, iframeEl);\n        const rootId = e2.data.node.id;\n        this.crossOriginIframeRootIdMap.set(iframeEl, rootId);\n        this.patchRootIdOnNode(e2.data.node, rootId);\n        return {\n          timestamp: e2.timestamp,\n          type: EventType.IncrementalSnapshot,\n          data: {\n            source: IncrementalSource.Mutation,\n            adds: [\n              {\n                parentId: this.mirror.getId(iframeEl),\n                nextId: null,\n                node: e2.data.node\n              }\n            ],\n            removes: [],\n            texts: [],\n            attributes: [],\n            isAttachIframe: true\n          }\n        };\n      }\n      case EventType.Meta:\n      case EventType.Load:\n      case EventType.DomContentLoaded: {\n        return false;\n      }\n      case EventType.Plugin: {\n        return e2;\n      }\n      case EventType.Custom: {\n        this.replaceIds(\n          e2.data.payload,\n          iframeEl,\n          [\"id\", \"parentId\", \"previousId\", \"nextId\"]\n        );\n        return e2;\n      }\n      case EventType.IncrementalSnapshot: {\n        switch (e2.data.source) {\n          case IncrementalSource.Mutation: {\n            e2.data.adds.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\n                \"parentId\",\n                \"nextId\",\n                \"previousId\"\n              ]);\n              this.replaceIdOnNode(n2.node, iframeEl);\n              const rootId = this.crossOriginIframeRootIdMap.get(iframeEl);\n              rootId && this.patchRootIdOnNode(n2.node, rootId);\n            });\n            e2.data.removes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"parentId\", \"id\"]);\n            });\n            e2.data.attributes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            e2.data.texts.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.Drag:\n          case IncrementalSource.TouchMove:\n          case IncrementalSource.MouseMove: {\n            e2.data.positions.forEach((p) => {\n              this.replaceIds(p, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.ViewportResize: {\n            return false;\n          }\n          case IncrementalSource.MediaInteraction:\n          case IncrementalSource.MouseInteraction:\n          case IncrementalSource.Scroll:\n          case IncrementalSource.CanvasMutation:\n          case IncrementalSource.Input: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            return e2;\n          }\n          case IncrementalSource.StyleSheetRule:\n          case IncrementalSource.StyleDeclaration: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleId\"]);\n            return e2;\n          }\n          case IncrementalSource.Font: {\n            return e2;\n          }\n          case IncrementalSource.Selection: {\n            e2.data.ranges.forEach((range) => {\n              this.replaceIds(range, iframeEl, [\"start\", \"end\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.AdoptedStyleSheet: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleIds\"]);\n            (_a2 = e2.data.styles) == null ? void 0 : _a2.forEach((style) => {\n              this.replaceStyleIds(style, iframeEl, [\"styleId\"]);\n            });\n            return e2;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  replace(iframeMirror, obj, iframeEl, keys) {\n    for (const key of keys) {\n      if (!Array.isArray(obj[key]) && typeof obj[key] !== \"number\") continue;\n      if (Array.isArray(obj[key])) {\n        obj[key] = iframeMirror.getIds(\n          iframeEl,\n          obj[key]\n        );\n      } else {\n        obj[key] = iframeMirror.getId(iframeEl, obj[key]);\n      }\n    }\n    return obj;\n  }\n  replaceIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeMirror, obj, iframeEl, keys);\n  }\n  replaceStyleIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeStyleMirror, obj, iframeEl, keys);\n  }\n  replaceIdOnNode(node2, iframeEl) {\n    this.replaceIds(node2, iframeEl, [\"id\", \"rootId\"]);\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.replaceIdOnNode(child, iframeEl);\n      });\n    }\n  }\n  patchRootIdOnNode(node2, rootId) {\n    if (node2.type !== NodeType.Document && !node2.rootId) node2.rootId = rootId;\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.patchRootIdOnNode(child, rootId);\n      });\n    }\n  }\n}\nclass ShadowDomManager {\n  constructor(options) {\n    __publicField(this, \"shadowDoms\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"scrollCb\");\n    __publicField(this, \"bypassOptions\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"restoreHandlers\", []);\n    this.mutationCb = options.mutationCb;\n    this.scrollCb = options.scrollCb;\n    this.bypassOptions = options.bypassOptions;\n    this.mirror = options.mirror;\n    this.init();\n  }\n  init() {\n    this.reset();\n    this.patchAttachShadow(Element, document);\n  }\n  addShadowRoot(shadowRoot2, doc) {\n    if (!isNativeShadowDom(shadowRoot2)) return;\n    if (this.shadowDoms.has(shadowRoot2)) return;\n    this.shadowDoms.add(shadowRoot2);\n    const observer = initMutationObserver(\n      {\n        ...this.bypassOptions,\n        doc,\n        mutationCb: this.mutationCb,\n        mirror: this.mirror,\n        shadowDomManager: this\n      },\n      shadowRoot2\n    );\n    this.restoreHandlers.push(() => observer.disconnect());\n    this.restoreHandlers.push(\n      initScrollObserver({\n        ...this.bypassOptions,\n        scrollCb: this.scrollCb,\n        // https://gist.github.com/praveenpuglia/0832da687ed5a5d7a0907046c9ef1813\n        // scroll is not allowed to pass the boundary, so we need to listen the shadow document\n        doc: shadowRoot2,\n        mirror: this.mirror\n      })\n    );\n    setTimeout(() => {\n      if (shadowRoot2.adoptedStyleSheets && shadowRoot2.adoptedStyleSheets.length > 0)\n        this.bypassOptions.stylesheetManager.adoptStyleSheets(\n          shadowRoot2.adoptedStyleSheets,\n          this.mirror.getId(index.host(shadowRoot2))\n        );\n      this.restoreHandlers.push(\n        initAdoptedStyleSheetObserver(\n          {\n            mirror: this.mirror,\n            stylesheetManager: this.bypassOptions.stylesheetManager\n          },\n          shadowRoot2\n        )\n      );\n    }, 0);\n  }\n  /**\n   * Monkey patch 'attachShadow' of an IFrameElement to observe newly added shadow doms.\n   */\n  observeAttachShadow(iframeElement) {\n    if (!iframeElement.contentWindow || !iframeElement.contentDocument) return;\n    this.patchAttachShadow(\n      iframeElement.contentWindow.Element,\n      iframeElement.contentDocument\n    );\n  }\n  /**\n   * Patch 'attachShadow' to observe newly added shadow doms.\n   */\n  patchAttachShadow(element, doc) {\n    const manager = this;\n    this.restoreHandlers.push(\n      patch(\n        element.prototype,\n        \"attachShadow\",\n        function(original) {\n          return function(option) {\n            const sRoot = original.call(this, option);\n            const shadowRootEl = index.shadowRoot(this);\n            if (shadowRootEl && inDom(this))\n              manager.addShadowRoot(shadowRootEl, doc);\n            return sRoot;\n          };\n        }\n      )\n    );\n  }\n  reset() {\n    this.restoreHandlers.forEach((handler) => {\n      try {\n        handler();\n      } catch (e2) {\n      }\n    });\n    this.restoreHandlers = [];\n    this.shadowDoms = /* @__PURE__ */ new WeakSet();\n  }\n}\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nvar encode = function(arraybuffer) {\n  var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\n  for (i2 = 0; i2 < len; i2 += 3) {\n    base64 += chars[bytes[i2] >> 2];\n    base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\n    base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\n    base64 += chars[bytes[i2 + 2] & 63];\n  }\n  if (len % 3 === 2) {\n    base64 = base64.substring(0, base64.length - 1) + \"=\";\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + \"==\";\n  }\n  return base64;\n};\nconst canvasVarMap = /* @__PURE__ */ new Map();\nfunction variableListFor$1(ctx, ctor) {\n  let contextMap = canvasVarMap.get(ctx);\n  if (!contextMap) {\n    contextMap = /* @__PURE__ */ new Map();\n    canvasVarMap.set(ctx, contextMap);\n  }\n  if (!contextMap.has(ctor)) {\n    contextMap.set(ctor, []);\n  }\n  return contextMap.get(ctor);\n}\nconst saveWebGLVar = (value, win, ctx) => {\n  if (!value || !(isInstanceOfWebGLObject(value, win) || typeof value === \"object\"))\n    return;\n  const name = value.constructor.name;\n  const list = variableListFor$1(ctx, name);\n  let index2 = list.indexOf(value);\n  if (index2 === -1) {\n    index2 = list.length;\n    list.push(value);\n  }\n  return index2;\n};\nfunction serializeArg(value, win, ctx) {\n  if (value instanceof Array) {\n    return value.map((arg) => serializeArg(arg, win, ctx));\n  } else if (value === null) {\n    return value;\n  } else if (value instanceof Float32Array || value instanceof Float64Array || value instanceof Int32Array || value instanceof Uint32Array || value instanceof Uint8Array || value instanceof Uint16Array || value instanceof Int16Array || value instanceof Int8Array || value instanceof Uint8ClampedArray) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [Object.values(value)]\n    };\n  } else if (\n    // SharedArrayBuffer disabled on most browsers due to spectre.\n    // More info: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/SharedArrayBuffer\n    // value instanceof SharedArrayBuffer ||\n    value instanceof ArrayBuffer\n  ) {\n    const name = value.constructor.name;\n    const base64 = encode(value);\n    return {\n      rr_type: name,\n      base64\n    };\n  } else if (value instanceof DataView) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [\n        serializeArg(value.buffer, win, ctx),\n        value.byteOffset,\n        value.byteLength\n      ]\n    };\n  } else if (value instanceof HTMLImageElement) {\n    const name = value.constructor.name;\n    const { src } = value;\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof HTMLCanvasElement) {\n    const name = \"HTMLImageElement\";\n    const src = value.toDataURL();\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof ImageData) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [serializeArg(value.data, win, ctx), value.width, value.height]\n    };\n  } else if (isInstanceOfWebGLObject(value, win) || typeof value === \"object\") {\n    const name = value.constructor.name;\n    const index2 = saveWebGLVar(value, win, ctx);\n    return {\n      rr_type: name,\n      index: index2\n    };\n  }\n  return value;\n}\nconst serializeArgs = (args, win, ctx) => {\n  return args.map((arg) => serializeArg(arg, win, ctx));\n};\nconst isInstanceOfWebGLObject = (value, win) => {\n  const webGLConstructorNames = [\n    \"WebGLActiveInfo\",\n    \"WebGLBuffer\",\n    \"WebGLFramebuffer\",\n    \"WebGLProgram\",\n    \"WebGLRenderbuffer\",\n    \"WebGLShader\",\n    \"WebGLShaderPrecisionFormat\",\n    \"WebGLTexture\",\n    \"WebGLUniformLocation\",\n    \"WebGLVertexArrayObject\",\n    // In old Chrome versions, value won't be an instanceof WebGLVertexArrayObject.\n    \"WebGLVertexArrayObjectOES\"\n  ];\n  const supportedWebGLConstructorNames = webGLConstructorNames.filter(\n    (name) => typeof win[name] === \"function\"\n  );\n  return Boolean(\n    supportedWebGLConstructorNames.find(\n      (name) => value instanceof win[name]\n    )\n  );\n};\nfunction initCanvas2DMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  const props2D = Object.getOwnPropertyNames(\n    win.CanvasRenderingContext2D.prototype\n  );\n  for (const prop of props2D) {\n    try {\n      if (typeof win.CanvasRenderingContext2D.prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            if (!isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              setTimeout(() => {\n                const recordArgs = serializeArgs(args, win, this);\n                cb(this.canvas, {\n                  type: CanvasContext[\"2D\"],\n                  property: prop,\n                  args: recordArgs\n                });\n              }, 0);\n            }\n            return original.apply(this, args);\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        {\n          set(v2) {\n            cb(this.canvas, {\n              type: CanvasContext[\"2D\"],\n              property: prop,\n              args: [v2],\n              setter: true\n            });\n          }\n        }\n      );\n      handlers.push(hookHandler);\n    }\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction getNormalizedContextName(contextType) {\n  return contextType === \"experimental-webgl\" ? \"webgl\" : contextType;\n}\nfunction initCanvasContextObserver(win, blockClass, blockSelector, setPreserveDrawingBufferToTrue) {\n  const handlers = [];\n  try {\n    const restoreHandler = patch(\n      win.HTMLCanvasElement.prototype,\n      \"getContext\",\n      function(original) {\n        return function(contextType, ...args) {\n          if (!isBlocked(this, blockClass, blockSelector, true)) {\n            const ctxName = getNormalizedContextName(contextType);\n            if (!(\"__context\" in this)) this.__context = ctxName;\n            if (setPreserveDrawingBufferToTrue && [\"webgl\", \"webgl2\"].includes(ctxName)) {\n              if (args[0] && typeof args[0] === \"object\") {\n                const contextAttributes = args[0];\n                if (!contextAttributes.preserveDrawingBuffer) {\n                  contextAttributes.preserveDrawingBuffer = true;\n                }\n              } else {\n                args.splice(0, 1, {\n                  preserveDrawingBuffer: true\n                });\n              }\n            }\n          }\n          return original.apply(this, [contextType, ...args]);\n        };\n      }\n    );\n    handlers.push(restoreHandler);\n  } catch {\n    console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction patchGLPrototype(prototype, type, cb, blockClass, blockSelector, win) {\n  const handlers = [];\n  const props = Object.getOwnPropertyNames(prototype);\n  for (const prop of props) {\n    if (\n      //prop.startsWith('get') ||  // e.g. getProgramParameter, but too risky\n      [\n        \"isContextLost\",\n        \"canvas\",\n        \"drawingBufferWidth\",\n        \"drawingBufferHeight\"\n      ].includes(prop)\n    ) {\n      continue;\n    }\n    try {\n      if (typeof prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            const result2 = original.apply(this, args);\n            saveWebGLVar(result2, win, this);\n            if (\"tagName\" in this.canvas && !isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              const recordArgs = serializeArgs(args, win, this);\n              const mutation = {\n                type,\n                property: prop,\n                args: recordArgs\n              };\n              cb(this.canvas, mutation);\n            }\n            return result2;\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(prototype, prop, {\n        set(v2) {\n          cb(this.canvas, {\n            type,\n            property: prop,\n            args: [v2],\n            setter: true\n          });\n        }\n      });\n      handlers.push(hookHandler);\n    }\n  }\n  return handlers;\n}\nfunction initCanvasWebGLMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  handlers.push(\n    ...patchGLPrototype(\n      win.WebGLRenderingContext.prototype,\n      CanvasContext.WebGL,\n      cb,\n      blockClass,\n      blockSelector,\n      win\n    )\n  );\n  if (typeof win.WebGL2RenderingContext !== \"undefined\") {\n    handlers.push(\n      ...patchGLPrototype(\n        win.WebGL2RenderingContext.prototype,\n        CanvasContext.WebGL2,\n        cb,\n        blockClass,\n        blockSelector,\n        win\n      )\n    );\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nconst jsContent = '(function() {\\n  \"use strict\";\\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\\n  var lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\\n  for (var i = 0; i < chars.length; i++) {\\n    lookup[chars.charCodeAt(i)] = i;\\n  }\\n  var encode = function(arraybuffer) {\\n    var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\\n    for (i2 = 0; i2 < len; i2 += 3) {\\n      base64 += chars[bytes[i2] >> 2];\\n      base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\\n      base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\\n      base64 += chars[bytes[i2 + 2] & 63];\\n    }\\n    if (len % 3 === 2) {\\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\\n    } else if (len % 3 === 1) {\\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\\n    }\\n    return base64;\\n  };\\n  const lastBlobMap = /* @__PURE__ */ new Map();\\n  const transparentBlobMap = /* @__PURE__ */ new Map();\\n  async function getTransparentBlobFor(width, height, dataURLOptions) {\\n    const id = `${width}-${height}`;\\n    if (\"OffscreenCanvas\" in globalThis) {\\n      if (transparentBlobMap.has(id)) return transparentBlobMap.get(id);\\n      const offscreen = new OffscreenCanvas(width, height);\\n      offscreen.getContext(\"2d\");\\n      const blob = await offscreen.convertToBlob(dataURLOptions);\\n      const arrayBuffer = await blob.arrayBuffer();\\n      const base64 = encode(arrayBuffer);\\n      transparentBlobMap.set(id, base64);\\n      return base64;\\n    } else {\\n      return \"\";\\n    }\\n  }\\n  const worker = self;\\n  worker.onmessage = async function(e) {\\n    if (\"OffscreenCanvas\" in globalThis) {\\n      const { id, bitmap, width, height, dataURLOptions } = e.data;\\n      const transparentBase64 = getTransparentBlobFor(\\n        width,\\n        height,\\n        dataURLOptions\\n      );\\n      const offscreen = new OffscreenCanvas(width, height);\\n      const ctx = offscreen.getContext(\"2d\");\\n      ctx.drawImage(bitmap, 0, 0);\\n      bitmap.close();\\n      const blob = await offscreen.convertToBlob(dataURLOptions);\\n      const type = blob.type;\\n      const arrayBuffer = await blob.arrayBuffer();\\n      const base64 = encode(arrayBuffer);\\n      if (!lastBlobMap.has(id) && await transparentBase64 === base64) {\\n        lastBlobMap.set(id, base64);\\n        return worker.postMessage({ id });\\n      }\\n      if (lastBlobMap.get(id) === base64) return worker.postMessage({ id });\\n      worker.postMessage({\\n        id,\\n        type,\\n        base64,\\n        width,\\n        height\\n      });\\n      lastBlobMap.set(id, base64);\\n    } else {\\n      return worker.postMessage({ id: e.data.id });\\n    }\\n  };\\n})();\\n//# sourceMappingURL=image-bitmap-data-url-worker-IJpC7g_b.js.map\\n';\nconst blob = typeof self !== \"undefined\" && self.Blob && new Blob([jsContent], { type: \"text/javascript;charset=utf-8\" });\nfunction WorkerWrapper(options) {\n  let objURL;\n  try {\n    objURL = blob && (self.URL || self.webkitURL).createObjectURL(blob);\n    if (!objURL) throw \"\";\n    const worker = new Worker(objURL, {\n      name: options == null ? void 0 : options.name\n    });\n    worker.addEventListener(\"error\", () => {\n      (self.URL || self.webkitURL).revokeObjectURL(objURL);\n    });\n    return worker;\n  } catch (e2) {\n    return new Worker(\n      \"data:text/javascript;charset=utf-8,\" + encodeURIComponent(jsContent),\n      {\n        name: options == null ? void 0 : options.name\n      }\n    );\n  } finally {\n    objURL && (self.URL || self.webkitURL).revokeObjectURL(objURL);\n  }\n}\nclass CanvasManager {\n  constructor(options) {\n    __publicField(this, \"pendingCanvasMutations\", /* @__PURE__ */ new Map());\n    __publicField(this, \"rafStamps\", { latestId: 0, invokeId: null });\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"resetObservers\");\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"processMutation\", (target, mutation) => {\n      const newFrame = this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId;\n      if (newFrame || !this.rafStamps.invokeId)\n        this.rafStamps.invokeId = this.rafStamps.latestId;\n      if (!this.pendingCanvasMutations.has(target)) {\n        this.pendingCanvasMutations.set(target, []);\n      }\n      this.pendingCanvasMutations.get(target).push(mutation);\n    });\n    const {\n      sampling = \"all\",\n      win,\n      blockClass,\n      blockSelector,\n      recordCanvas,\n      dataURLOptions\n    } = options;\n    this.mutationCb = options.mutationCb;\n    this.mirror = options.mirror;\n    if (recordCanvas && sampling === \"all\")\n      this.initCanvasMutationObserver(win, blockClass, blockSelector);\n    if (recordCanvas && typeof sampling === \"number\")\n      this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, {\n        dataURLOptions\n      });\n  }\n  reset() {\n    this.pendingCanvasMutations.clear();\n    this.resetObservers && this.resetObservers();\n  }\n  freeze() {\n    this.frozen = true;\n  }\n  unfreeze() {\n    this.frozen = false;\n  }\n  lock() {\n    this.locked = true;\n  }\n  unlock() {\n    this.locked = false;\n  }\n  initCanvasFPSObserver(fps, win, blockClass, blockSelector, options) {\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      true\n    );\n    const snapshotInProgressMap = /* @__PURE__ */ new Map();\n    const worker = new WorkerWrapper();\n    worker.onmessage = (e2) => {\n      const { id } = e2.data;\n      snapshotInProgressMap.set(id, false);\n      if (!(\"base64\" in e2.data)) return;\n      const { base64, type, width, height } = e2.data;\n      this.mutationCb({\n        id,\n        type: CanvasContext[\"2D\"],\n        commands: [\n          {\n            property: \"clearRect\",\n            // wipe canvas\n            args: [0, 0, width, height]\n          },\n          {\n            property: \"drawImage\",\n            // draws (semi-transparent) image\n            args: [\n              {\n                rr_type: \"ImageBitmap\",\n                args: [\n                  {\n                    rr_type: \"Blob\",\n                    data: [{ rr_type: \"ArrayBuffer\", base64 }],\n                    type\n                  }\n                ]\n              },\n              0,\n              0\n            ]\n          }\n        ]\n      });\n    };\n    const timeBetweenSnapshots = 1e3 / fps;\n    let lastSnapshotTime = 0;\n    let rafId;\n    const getCanvas = () => {\n      const matchedCanvas = [];\n      win.document.querySelectorAll(\"canvas\").forEach((canvas) => {\n        if (!isBlocked(canvas, blockClass, blockSelector, true)) {\n          matchedCanvas.push(canvas);\n        }\n      });\n      return matchedCanvas;\n    };\n    const takeCanvasSnapshots = (timestamp) => {\n      if (lastSnapshotTime && timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n        rafId = requestAnimationFrame(takeCanvasSnapshots);\n        return;\n      }\n      lastSnapshotTime = timestamp;\n      getCanvas().forEach(async (canvas) => {\n        var _a2;\n        const id = this.mirror.getId(canvas);\n        if (snapshotInProgressMap.get(id)) return;\n        if (canvas.width === 0 || canvas.height === 0) return;\n        snapshotInProgressMap.set(id, true);\n        if ([\"webgl\", \"webgl2\"].includes(canvas.__context)) {\n          const context = canvas.getContext(canvas.__context);\n          if (((_a2 = context == null ? void 0 : context.getContextAttributes()) == null ? void 0 : _a2.preserveDrawingBuffer) === false) {\n            context.clear(context.COLOR_BUFFER_BIT);\n          }\n        }\n        const bitmap = await createImageBitmap(canvas);\n        worker.postMessage(\n          {\n            id,\n            bitmap,\n            width: canvas.width,\n            height: canvas.height,\n            dataURLOptions: options.dataURLOptions\n          },\n          [bitmap]\n        );\n      });\n      rafId = requestAnimationFrame(takeCanvasSnapshots);\n    };\n    rafId = requestAnimationFrame(takeCanvasSnapshots);\n    this.resetObservers = () => {\n      canvasContextReset();\n      cancelAnimationFrame(rafId);\n    };\n  }\n  initCanvasMutationObserver(win, blockClass, blockSelector) {\n    this.startRAFTimestamping();\n    this.startPendingCanvasMutationFlusher();\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      false\n    );\n    const canvas2DReset = initCanvas2DMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    this.resetObservers = () => {\n      canvasContextReset();\n      canvas2DReset();\n      canvasWebGL1and2Reset();\n    };\n  }\n  startPendingCanvasMutationFlusher() {\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  startRAFTimestamping() {\n    const setLatestRAFTimestamp = (timestamp) => {\n      this.rafStamps.latestId = timestamp;\n      requestAnimationFrame(setLatestRAFTimestamp);\n    };\n    requestAnimationFrame(setLatestRAFTimestamp);\n  }\n  flushPendingCanvasMutations() {\n    this.pendingCanvasMutations.forEach(\n      (_values, canvas) => {\n        const id = this.mirror.getId(canvas);\n        this.flushPendingCanvasMutationFor(canvas, id);\n      }\n    );\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  flushPendingCanvasMutationFor(canvas, id) {\n    if (this.frozen || this.locked) {\n      return;\n    }\n    const valuesWithType = this.pendingCanvasMutations.get(canvas);\n    if (!valuesWithType || id === -1) return;\n    const values = valuesWithType.map((value) => {\n      const { type: type2, ...rest } = value;\n      return rest;\n    });\n    const { type } = valuesWithType[0];\n    this.mutationCb({ id, type, commands: values });\n    this.pendingCanvasMutations.delete(canvas);\n  }\n}\nclass StylesheetManager {\n  constructor(options) {\n    __publicField(this, \"trackedLinkElements\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"adoptedStyleSheetCb\");\n    __publicField(this, \"styleMirror\", new StyleSheetMirror());\n    this.mutationCb = options.mutationCb;\n    this.adoptedStyleSheetCb = options.adoptedStyleSheetCb;\n  }\n  attachLinkElement(linkEl, childSn) {\n    if (\"_cssText\" in childSn.attributes)\n      this.mutationCb({\n        adds: [],\n        removes: [],\n        texts: [],\n        attributes: [\n          {\n            id: childSn.id,\n            attributes: childSn.attributes\n          }\n        ]\n      });\n    this.trackLinkElement(linkEl);\n  }\n  trackLinkElement(linkEl) {\n    if (this.trackedLinkElements.has(linkEl)) return;\n    this.trackedLinkElements.add(linkEl);\n    this.trackStylesheetInLinkElement(linkEl);\n  }\n  adoptStyleSheets(sheets, hostId) {\n    if (sheets.length === 0) return;\n    const adoptedStyleSheetData = {\n      id: hostId,\n      styleIds: []\n    };\n    const styles = [];\n    for (const sheet of sheets) {\n      let styleId;\n      if (!this.styleMirror.has(sheet)) {\n        styleId = this.styleMirror.add(sheet);\n        styles.push({\n          styleId,\n          rules: Array.from(sheet.rules || CSSRule, (r2, index2) => ({\n            rule: stringifyRule(r2, sheet.href),\n            index: index2\n          }))\n        });\n      } else styleId = this.styleMirror.getId(sheet);\n      adoptedStyleSheetData.styleIds.push(styleId);\n    }\n    if (styles.length > 0) adoptedStyleSheetData.styles = styles;\n    this.adoptedStyleSheetCb(adoptedStyleSheetData);\n  }\n  reset() {\n    this.styleMirror.reset();\n    this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n  }\n  // TODO: take snapshot on stylesheet reload by applying event listener\n  trackStylesheetInLinkElement(_linkEl) {\n  }\n}\nclass ProcessedNodeManager {\n  constructor() {\n    __publicField(this, \"nodeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"active\", false);\n  }\n  inOtherBuffer(node2, thisBuffer) {\n    const buffers = this.nodeMap.get(node2);\n    return buffers && Array.from(buffers).some((buffer) => buffer !== thisBuffer);\n  }\n  add(node2, buffer) {\n    if (!this.active) {\n      this.active = true;\n      requestAnimationFrame(() => {\n        this.nodeMap = /* @__PURE__ */ new WeakMap();\n        this.active = false;\n      });\n    }\n    this.nodeMap.set(node2, (this.nodeMap.get(node2) || /* @__PURE__ */ new Set()).add(buffer));\n  }\n  destroy() {\n  }\n}\nlet wrappedEmit;\nlet takeFullSnapshot$1;\nlet canvasManager;\nlet recording = false;\ntry {\n  if (Array.from([1], (x) => x * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\nconst mirror = createMirror$2();\nfunction record(options = {}) {\n  const {\n    emit,\n    checkoutEveryNms,\n    checkoutEveryNth,\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    ignoreClass = \"rr-ignore\",\n    ignoreSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    maskAllInputs,\n    maskInputOptions: _maskInputOptions,\n    slimDOMOptions: _slimDOMOptions,\n    maskInputFn,\n    maskTextFn,\n    hooks,\n    packFn,\n    sampling = {},\n    dataURLOptions = {},\n    mousemoveWait,\n    recordDOM = true,\n    recordCanvas = false,\n    recordCrossOriginIframes = false,\n    recordAfter = options.recordAfter === \"DOMContentLoaded\" ? options.recordAfter : \"load\",\n    userTriggeredOnInput = false,\n    collectFonts = false,\n    inlineImages = false,\n    plugins,\n    keepIframeSrcFn = () => false,\n    ignoreCSSAttributes = /* @__PURE__ */ new Set([]),\n    errorHandler: errorHandler2,\n    applyBackgroundColorToBlockedElements = false\n  } = options;\n  registerErrorHandler(errorHandler2);\n  const inEmittingFrame = recordCrossOriginIframes ? window.parent === window : true;\n  let passEmitsToParent = false;\n  if (!inEmittingFrame) {\n    try {\n      if (window.parent.document) {\n        passEmitsToParent = false;\n      }\n    } catch (e2) {\n      passEmitsToParent = true;\n    }\n  }\n  if (inEmittingFrame && !emit) {\n    throw new Error(\"emit function is required\");\n  }\n  if (!inEmittingFrame && !passEmitsToParent) {\n    return () => {\n    };\n  }\n  if (mousemoveWait !== void 0 && sampling.mousemove === void 0) {\n    sampling.mousemove = mousemoveWait;\n  }\n  mirror.reset();\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : _maskInputOptions !== void 0 ? _maskInputOptions : { password: true };\n  const slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === \"all\" ? {\n    script: true,\n    comment: true,\n    headFavicon: true,\n    headWhitespace: true,\n    headMetaSocial: true,\n    headMetaRobots: true,\n    headMetaHttpEquiv: true,\n    headMetaVerification: true,\n    // the following are off for slimDOMOptions === true,\n    // as they destroy some (hidden) info:\n    headMetaAuthorship: _slimDOMOptions === \"all\",\n    headMetaDescKeywords: _slimDOMOptions === \"all\",\n    headTitleMutations: _slimDOMOptions === \"all\"\n  } : _slimDOMOptions ? _slimDOMOptions : {};\n  polyfill$1();\n  let lastFullSnapshotEvent;\n  let incrementalSnapshotCount = 0;\n  const eventProcessor = (e2) => {\n    for (const plugin of plugins || []) {\n      if (plugin.eventProcessor) {\n        e2 = plugin.eventProcessor(e2);\n      }\n    }\n    if (packFn && // Disable packing events which will be emitted to parent frames.\n    !passEmitsToParent) {\n      e2 = packFn(e2);\n    }\n    return e2;\n  };\n  wrappedEmit = (r2, isCheckout) => {\n    var _a2;\n    const e2 = r2;\n    e2.timestamp = nowTimestamp();\n    if (((_a2 = mutationBuffers[0]) == null ? void 0 : _a2.isFrozen()) && e2.type !== EventType.FullSnapshot && !(e2.type === EventType.IncrementalSnapshot && e2.data.source === IncrementalSource.Mutation)) {\n      mutationBuffers.forEach((buf) => buf.unfreeze());\n    }\n    if (inEmittingFrame) {\n      emit == null ? void 0 : emit(eventProcessor(e2), isCheckout);\n    } else if (passEmitsToParent) {\n      const message = {\n        type: \"rrweb\",\n        event: eventProcessor(e2),\n        origin: window.location.origin,\n        isCheckout\n      };\n      window.parent.postMessage(message, \"*\");\n    }\n    if (e2.type === EventType.FullSnapshot) {\n      lastFullSnapshotEvent = e2;\n      incrementalSnapshotCount = 0;\n    } else if (e2.type === EventType.IncrementalSnapshot) {\n      if (e2.data.source === IncrementalSource.Mutation && e2.data.isAttachIframe) {\n        return;\n      }\n      incrementalSnapshotCount++;\n      const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n      const exceedTime = checkoutEveryNms && e2.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n      if (exceedCount || exceedTime) {\n        takeFullSnapshot$1(true);\n      }\n    }\n  };\n  const wrappedMutationEmit = (m) => {\n    wrappedEmit({\n      type: EventType.IncrementalSnapshot,\n      data: {\n        source: IncrementalSource.Mutation,\n        ...m\n      }\n    });\n  };\n  const wrappedScrollEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.Scroll,\n      ...p\n    }\n  });\n  const wrappedCanvasMutationEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.CanvasMutation,\n      ...p\n    }\n  });\n  const wrappedAdoptedStyleSheetEmit = (a2) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.AdoptedStyleSheet,\n      ...a2\n    }\n  });\n  const stylesheetManager = new StylesheetManager({\n    mutationCb: wrappedMutationEmit,\n    adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit\n  });\n  const iframeManager = new IframeManager({\n    mirror,\n    mutationCb: wrappedMutationEmit,\n    stylesheetManager,\n    recordCrossOriginIframes,\n    wrappedEmit\n  });\n  for (const plugin of plugins || []) {\n    if (plugin.getMirror)\n      plugin.getMirror({\n        nodeMirror: mirror,\n        crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\n        crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror\n      });\n  }\n  const processedNodeManager = new ProcessedNodeManager();\n  canvasManager = new CanvasManager({\n    recordCanvas,\n    mutationCb: wrappedCanvasMutationEmit,\n    win: window,\n    blockClass,\n    blockSelector,\n    mirror,\n    sampling: sampling.canvas,\n    dataURLOptions\n  });\n  const shadowDomManager = new ShadowDomManager({\n    mutationCb: wrappedMutationEmit,\n    scrollCb: wrappedScrollEmit,\n    bypassOptions: {\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskInputOptions,\n      dataURLOptions,\n      maskTextFn,\n      maskInputFn,\n      recordCanvas,\n      inlineImages,\n      sampling,\n      slimDOMOptions,\n      iframeManager,\n      stylesheetManager,\n      canvasManager,\n      keepIframeSrcFn,\n      processedNodeManager\n    },\n    mirror\n  });\n  takeFullSnapshot$1 = (isCheckout = false) => {\n    if (!recordDOM) {\n      return;\n    }\n    wrappedEmit(\n      {\n        type: EventType.Meta,\n        data: {\n          href: window.location.href,\n          width: getWindowWidth(),\n          height: getWindowHeight()\n        }\n      },\n      isCheckout\n    );\n    stylesheetManager.reset();\n    shadowDomManager.init();\n    mutationBuffers.forEach((buf) => buf.lock());\n    const node2 = snapshot(document, {\n      mirror,\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskAllInputs: maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOM: slimDOMOptions,\n      dataURLOptions,\n      recordCanvas,\n      inlineImages,\n      applyBackgroundColorToBlockedElements,\n      onSerialize: (n2) => {\n        if (isSerializedIframe(n2, mirror)) {\n          iframeManager.addIframe(n2);\n        }\n        if (isSerializedStylesheet(n2, mirror)) {\n          stylesheetManager.trackLinkElement(n2);\n        }\n        if (hasShadowRoot(n2)) {\n          shadowDomManager.addShadowRoot(index.shadowRoot(n2), document);\n        }\n      },\n      onIframeLoad: (iframe, childSn) => {\n        iframeManager.attachIframe(iframe, childSn);\n        shadowDomManager.observeAttachShadow(iframe);\n      },\n      onStylesheetLoad: (linkEl, childSn) => {\n        stylesheetManager.attachLinkElement(linkEl, childSn);\n      },\n      keepIframeSrcFn\n    });\n    if (!node2) {\n      return console.warn(\"Failed to snapshot the document\");\n    }\n    wrappedEmit(\n      {\n        type: EventType.FullSnapshot,\n        data: {\n          node: node2,\n          initialOffset: getWindowScroll(window)\n        }\n      },\n      isCheckout\n    );\n    mutationBuffers.forEach((buf) => buf.unlock());\n    if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\n      stylesheetManager.adoptStyleSheets(\n        document.adoptedStyleSheets,\n        mirror.getId(document)\n      );\n  };\n  try {\n    const handlers = [];\n    const observe = (doc) => {\n      var _a2;\n      return callbackWrapper(initObservers)(\n        {\n          mutationCb: wrappedMutationEmit,\n          mousemoveCb: (positions, source) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source,\n              positions\n            }\n          }),\n          mouseInteractionCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MouseInteraction,\n              ...d\n            }\n          }),\n          scrollCb: wrappedScrollEmit,\n          viewportResizeCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.ViewportResize,\n              ...d\n            }\n          }),\n          inputCb: (v2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Input,\n              ...v2\n            }\n          }),\n          mediaInteractionCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MediaInteraction,\n              ...p\n            }\n          }),\n          styleSheetRuleCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleSheetRule,\n              ...r2\n            }\n          }),\n          styleDeclarationCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleDeclaration,\n              ...r2\n            }\n          }),\n          canvasMutationCb: wrappedCanvasMutationEmit,\n          fontCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Font,\n              ...p\n            }\n          }),\n          selectionCb: (p) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.Selection,\n                ...p\n              }\n            });\n          },\n          customElementCb: (c2) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.CustomElement,\n                ...c2\n              }\n            });\n          },\n          blockClass,\n          ignoreClass,\n          ignoreSelector,\n          maskTextClass,\n          maskTextSelector,\n          maskInputOptions,\n          inlineStylesheet,\n          sampling,\n          recordDOM,\n          recordCanvas,\n          inlineImages,\n          userTriggeredOnInput,\n          collectFonts,\n          doc,\n          maskInputFn,\n          maskTextFn,\n          keepIframeSrcFn,\n          blockSelector,\n          slimDOMOptions,\n          dataURLOptions,\n          mirror,\n          iframeManager,\n          stylesheetManager,\n          shadowDomManager,\n          processedNodeManager,\n          canvasManager,\n          ignoreCSSAttributes,\n          plugins: ((_a2 = plugins == null ? void 0 : plugins.filter((p) => p.observer)) == null ? void 0 : _a2.map((p) => ({\n            observer: p.observer,\n            options: p.options,\n            callback: (payload) => wrappedEmit({\n              type: EventType.Plugin,\n              data: {\n                plugin: p.name,\n                payload\n              }\n            })\n          }))) || []\n        },\n        hooks\n      );\n    };\n    iframeManager.addLoadListener((iframeEl) => {\n      try {\n        handlers.push(observe(iframeEl.contentDocument));\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n    const init = () => {\n      takeFullSnapshot$1();\n      handlers.push(observe(document));\n      recording = true;\n    };\n    if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n      init();\n    } else {\n      handlers.push(\n        on(\"DOMContentLoaded\", () => {\n          wrappedEmit({\n            type: EventType.DomContentLoaded,\n            data: {}\n          });\n          if (recordAfter === \"DOMContentLoaded\") init();\n        })\n      );\n      handlers.push(\n        on(\n          \"load\",\n          () => {\n            wrappedEmit({\n              type: EventType.Load,\n              data: {}\n            });\n            if (recordAfter === \"load\") init();\n          },\n          window\n        )\n      );\n    }\n    return () => {\n      handlers.forEach((h) => h());\n      processedNodeManager.destroy();\n      recording = false;\n      unregisterErrorHandler();\n    };\n  } catch (error) {\n    console.warn(error);\n  }\n}\nrecord.addCustomEvent = (tag, payload) => {\n  if (!recording) {\n    throw new Error(\"please add custom event after start recording\");\n  }\n  wrappedEmit({\n    type: EventType.Custom,\n    data: {\n      tag,\n      payload\n    }\n  });\n};\nrecord.freezePage = () => {\n  mutationBuffers.forEach((buf) => buf.freeze());\n};\nrecord.takeFullSnapshot = (isCheckout) => {\n  if (!recording) {\n    throw new Error(\"please take full snapshot after start recording\");\n  }\n  takeFullSnapshot$1(isCheckout);\n};\nrecord.mirror = mirror;\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nexport {\n  record\n};\n//# sourceMappingURL=rrweb-record.js.map\n","import { __awaiter, __generator } from \"tslib\";\nimport { getGlobalScope } from '@amplitude/analytics-core';\nvar NetworkObservers = /** @class */ (function () {\n    function NetworkObservers() {\n        this.fetchObserver = null;\n    }\n    NetworkObservers.prototype.start = function (eventCallback) {\n        this.eventCallback = eventCallback;\n        this.observeFetch();\n    };\n    NetworkObservers.prototype.stop = function () {\n        var _a;\n        (_a = this.fetchObserver) === null || _a === void 0 ? void 0 : _a.call(this);\n        this.fetchObserver = null;\n        this.eventCallback = undefined;\n    };\n    NetworkObservers.prototype.notifyEvent = function (event) {\n        var _a;\n        (_a = this.eventCallback) === null || _a === void 0 ? void 0 : _a.call(this, event);\n    };\n    NetworkObservers.prototype.observeFetch = function () {\n        var _this = this;\n        var globalScope = getGlobalScope();\n        if (!globalScope)\n            return;\n        var originalFetch = globalScope.fetch;\n        if (!originalFetch)\n            return;\n        globalScope.fetch = function (input, init) { return __awaiter(_this, void 0, void 0, function () {\n            var startTime, requestEvent, response, endTime, headers_1, error_1, endTime, typedError;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        startTime = Date.now();\n                        requestEvent = {\n                            timestamp: startTime,\n                            type: 'fetch',\n                            method: (init === null || init === void 0 ? void 0 : init.method) || 'GET',\n                            url: input.toString(),\n                            requestHeaders: init === null || init === void 0 ? void 0 : init.headers,\n                        };\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, originalFetch(input, init)];\n                    case 2:\n                        response = _a.sent();\n                        endTime = Date.now();\n                        requestEvent.status = response.status;\n                        requestEvent.duration = endTime - startTime;\n                        headers_1 = {};\n                        response.headers.forEach(function (value, key) {\n                            headers_1[key] = value;\n                        });\n                        requestEvent.responseHeaders = headers_1;\n                        this.notifyEvent(requestEvent);\n                        return [2 /*return*/, response];\n                    case 3:\n                        error_1 = _a.sent();\n                        endTime = Date.now();\n                        requestEvent.duration = endTime - startTime;\n                        typedError = error_1;\n                        requestEvent.error = {\n                            name: typedError.name || 'UnknownError',\n                            message: typedError.message || 'An unknown error occurred',\n                        };\n                        this.notifyEvent(requestEvent);\n                        throw error_1;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); };\n        this.fetchObserver = function () {\n            globalScope.fetch = originalFetch;\n        };\n    };\n    return NetworkObservers;\n}());\nexport { NetworkObservers };\n//# sourceMappingURL=observers.js.map"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","IdentifyOperation","SpecialEventType","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","_","label","sent","trys","ops","g","Iterator","verb","Symbol","iterator","v","op","pop","push","__values","o","m","__read","r","ar","error","__spreadArray","to","from","pack","l","slice","concat","SuppressedError","Status","STORAGE_PREFIX","DEFAULT_INSTANCE_NAME","AMPLITUDE_SERVER_URL","LogLevel","getGlobalScope","ampIntegrationContextName","globalThis","window","self","global","hex","keys","map","index","toString","padStart","UUID","a","_a","globalScope","crypto","getRandomValues","Math","random","replace","legacyUUID","Uint8Array","entries","_b","int","includes","join","returnWrapper","awaitable","promise","PREFIX","Logger","logLevel","None","disable","enable","Warn","log","args","_i","Verbose","console","warn","Error","debug","Debug","getDefaultConfig","flushMaxRetries","flushQueueSize","flushIntervalMillis","instanceName","loggerProvider","offline","optOut","serverUrl","serverZone","useBatch","Config","options","_c","_d","_optOut","defaultConfig","apiKey","minIdLength","plan","ingestionMetadata","undefined","storageProvider","transportProvider","serverConfig","createServerConfig","defineProperty","get","set","enumerable","configurable","getServerUrl","_serverZone","debugWrapper","fn","fnName","getLogConfig","getStates","fnContext","logger","ignoreDepth","debugContext","type","name","stacktrace","stack","split","text","trim","time","start","Date","toISOString","states","before","after","end","JSON","stringify","ApplicationContextProviderImpl","getApplicationContext","versionName","language","getLanguage","platform","os","deviceModel","navigator","languages","EventBridgeImpl","queue","logEvent","event","receiver","setEventReceiver","forEach","isEqual","obj1","obj2","e_1","typeA","primitive_1","primitive_1_1","e_1_1","return","isArrayA","isArray","isArrayB","sorted1","sort","sorted2","result_1","key","obj","ownProps","resArray","ServerZone","IdentityStoreImpl","identity","userProperties","listeners","Set","editIdentity","actingUserProperties","actingIdentity","setUserId","userId","setDeviceId","deviceId","setUserProperties","setOptOut","updateUserProperties","actions","e_2","e_3","actingProperties","_e","_f","action","properties","_g","_h","_j","e_2_1","_k","_l","e_3_1","commit","setIdentity","getIdentity","originalIdentity","listener","addIdentityListener","add","removeIdentityListener","delete","safeGlobal","AnalyticsConnector","identityStore","eventBridge","applicationContextProvider","getInstance","generateHashCode","str","hash","charCodeAt","BaseTransport","send","_serverUrl","_payload","buildResponse","responseJSON","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","statusCode","code","status","buildStatus","Success","eventsIngested","events_ingested","payloadSizeBytes","payload_size_bytes","serverUploadTime","server_upload_time","Invalid","missingField","missing_field","eventsWithInvalidFields","events_with_invalid_fields","eventsWithMissingFields","events_with_missing_fields","eventsWithInvalidIdLengths","events_with_invalid_id_lengths","epsThreshold","eps_threshold","exceededDailyQuotaDevices","exceeded_daily_quota_devices","silencedDevices","silenced_devices","silencedEvents","silenced_events","throttledDevices","throttled_devices","throttledEvents","throttled_events","PayloadTooLarge","RateLimit","throttledUsers","throttled_users","exceededDailyQuotaUsers","exceeded_daily_quota_users","Timeout","isSuccessStatusCode","Failed","Unknown","FetchTransport","_super","customHeaders","_this","payload","response","responseText","fetch","headers","Accept","method","parse","RemoteConfigLocalStorage","substring","fetchConfig","failedRemoteConfigInfo","remoteConfig","lastFetch","localStorage","getItem","remoteConfigInfo","removeItem","setConfig","config","setItem","RemoteConfigClient","callbackInfos","lastSuccessfulFetch","fetchPromise","storage","subscribe","deliveryMode","callback","id","callbackInfo","subscribeAll","subscribeWaitForRemote","timeout","unsubscribe","findIndex","splice","updateConfigs","now","getOrCreateFetchPromise","sendCallback","finally","remotePromise","cachePromise","race","timeoutPromise","setTimeout","source","filteredConfig","lastCallback","reduce","retries","interval","_loop_1","this_1","attempt","state_1","abortController","timeoutId","res","error_2","AbortController","abort","getUrlParams","signal","ok","json","clearTimeout","getJitterDelay","baseDelay","floor","encodedApiKey","encodeURIComponent","urlParams","URLSearchParams","append","CONFIG_GROUP","CustomRRwebEvent","DEFAULT_EVENT_PROPERTY_PREFIX","DEFAULT_SESSION_REPLAY_PROPERTY","DEFAULT_SERVER_ZONE","US","DEFAULT_PERFORMANCE_CONFIG","enabled","SESSION_REPLAY_DEBUG_PROPERTY","MASK_TEXT_CLASS","SafeLoggerProvider","getSafeMethod","__rrweb_original__","bind","DEFAULT_MASK_LEVEL","isMaskedForLevel","elementType","level","element","inputType","hasAttribute","toLowerCase","getInputType","autocomplete","startsWith","maskFn","defaultMaskLevel","closest","shouldMask","maskSelector","some","selector","shouldUnmask","unmaskSelector","isMasked","trackServerUrl","STAGING","EU","globToRegex","glob","escaped","RegExp","getPageUrl","pageUrl","ugcFilterRules","ugcFilterRules_1","ugcFilterRules_1_1","rule","regex","test","replacement","getStorageSize","usage","quota","usageDetails","totalStorageSize","percentOfQuota","estimate","round","Number","EPSILON","getDebugConfig","debugConfig","SessionReplayLocalConfig","sampleRate","configServerUrl","shouldInlineStylesheet","version","performanceConfig","storeType","applyBackgroundColorToBlockedElements","enableUrlChangePolling","urlChangePollingInterval","captureDocumentTitle","privacyConfig","interactionConfig","every","globUrl","validateUGCFilterRules","debugMode","useWebWorker","legacyOptions","experimental","omitElementTags","EventType","EventType2","MouseInteractions","MouseInteractions2","SessionReplayJoinedConfigGenerator","remoteConfigClient","localConfig","generateJoinedConfig","sessionReplayRemoteConfig","error_1","samplingConfig","remotePrivacyConfig","targetingConfig","localPrivacyConfig","joinedPrivacyConfig","privacyConfigSelectorMap","selectorMap","selectorType","captureEnabled","namespaceConfig","sr_sampling_config","sr_privacy_config","sr_targeting_config","sr_interaction_config","loggingConfig","sr_logging_config","joinedConfig","capture_enabled","sample_rate","blockSelector","e_4","e_4_1","fragment","document","createDocumentFragment","dropInvalidSelectors","selectors","filter","querySelector","createSessionReplayJoinedConfigGenerator","u8","u16","Uint16Array","u32","Uint32Array","fleb","fdeb","clim","freb","eb","j","fl","revfl","revfd","rev","x","hMap","cd","mb","co","le","rvb","sv","r_1","flt","fdt","flm","fdm","shft","slc","subarray","wbits","wbits16","hTree","t2","i0","i1","i2","maxSym","tr","mbt","ln","dt","lft","cst","i2_1","i2_2","i2_3","max","lc","c","cl","cli","cln","cls","w","clen","cf","wfblk","out","pos","dat","wblk","final","syms","lf","df","li","bs","bl","_a2","dlt","mlb","_b2","ddt","mdb","lclt","nlc","lcdt","ndc","lcfreq","lct","mlcb","nlcc","lm","ll","dm","dl","flen","ftlen","dtlen","llm","lcts","it","clct","len","dst","deo","dopt","opt","pre","post","st","lvl","plvl","lst","msk_1","prev","head","bs1_1","ceil","bs2_1","hsh","lc_1","wi","hv","imod","pimod","rem","ch_1","dif","maxn","min","maxd","ml","nl","mmd","md","ti","lin","din","dflt","mem","zlibSync","data","opts","adler","lv","fl2","wbytes","latin1","TextDecoder","decode","fromCharCode","strFromU8","TextEncoder","encode","ai","strToU8","EventCompressor","eventsManager","workerScript","taskQueue","isProcessing","compressEvent","packedEvent","addCompressedEventToManager","compressedEvent","sessionId","addEvent","addCompressedEvent","worker","postMessage","err","terminate","canUseIdleCallback","Worker","URL","createObjectURL","Blob","onerror","onmessage","scheduleIdleProcessing","requestIdleCallback","idleDeadline","processQueue","enqueueEvent","timeRemaining","didTimeout","task","shift","event_1","STORAGE_FAILURE","VERSION","SessionReplayTrackDestination","payloadBatcher","storageKey","retryTimeout","scheduled","sendEventsList","destinationData","addToQueue","attempts","list","context","completeRequest","schedule","flush","useRetry","later","all","url","sessionReplayLibrary","responseBody","location","href","device_id","session_id","events","Authorization","handleReponse","success","handleSuccessResponse","handleOtherResponse","sizeOfEventsList","size","onComplete","instanceOfAny","object","constructors","idbProxyableTypes","cursorAdvanceMethods","transactionDoneMap","WeakMap","transformCache","reverseTransformCache","idbProxyTraps","target","prop","IDBTransaction","objectStoreNames","objectStore","wrap","has","replaceTraps","wrapFunction","func","IDBCursor","advance","continue","continuePrimaryKey","unwrap","request","transformCachableValue","tx","unlisten","removeEventListener","complete","DOMException","addEventListener","cacheDonePromiseForTransaction","IDBDatabase","IDBObjectStore","IDBIndex","Proxy","IDBRequest","promisifyRequest","newValue","openDB","blocked","upgrade","blocking","terminated","indexedDB","open","openPromise","oldVersion","newVersion","transaction","db","catch","readMethods","writeMethods","cachedMethods","Map","getMethod","targetFuncName","useIndex","isWrite","async","storeName","store","oldTraps","advanceMethodProps","methodMap","advanceResults","ittrProxiedCursorToOriginalProxy","cursorIteratorTraps","cachedFunc","iterate","cursor","openCursor","proxiedCursor","isIteratorProp","asyncIterator","RecordingStatus","BaseEventsStore","minInterval","maxInterval","maxPersistedEventsSize","_timeAtLastSplit","shouldSplitEventsList","nextEventString","sizeOfNextEvent","getStringSize","getEventsArraySize","timeAtLastSplit","totalSize","events_1","events_1_1","rootDocument","currentSequenceKey","sequencesToSendKey","keyValDatabaseExists","request_1","shouldDeleteNewDb_1","onupgradeneeded","onsuccess","close","deleteDatabase","preventDefault","batchPromiseAll","promiseBatch","batch","defineObjectStores","sequencesStore","currentSequenceStore","contains","createObjectStore","keyPath","autoIncrement","createIndex","createStore","dbName","SessionReplayEventsIDBStore","getSequencesToSend","sequences","sequenceId","storeCurrentSequence","currentSequenceData","put","addEventToCurrentSequence","sequenceEvents","eventsToSend","updatedEvents","storeSendingEvents","cleanUpSessionEventsStore","_sessionId","e_5","transitionFromKeyValStore","keyValDb","transitionCurrentSessionSequences_1","getAllRequest_1","transitionPromise","e_6","e_7","numericSessionId","sessionStore","currentSessionSequences","promisesToBatch","sessionSequences","numericSequenceId","parseInt","sequence","currentSequenceId","eventAddPromises","SENT","getAll","storedReplaySessionContextList","storedReplaySessionContexts","promisesToBatch_1","storedSessionId","oldSessionStore","oldSessionSequences_1","new","dbSuffix","eventsIDBStore","e_8","getCurrentSequenceEvents","allEvents","e_9_1","e_9","InMemoryEventsStore","finalizedSequences","resetCurrentSequence","addSequence","sequenceReturn","createEventsManager","trackDestination","getMemoryStore","getIdbStoreOrFallback","sendCurrentSequenceEvents","sendStoredEvents","currentSequence","sequencesToSend","sequenceToSend","MultiEventManager","managers","managersMap","manager","promises","finder","input","nodeType","Node","ELEMENT_NODE","tagName","defaults","root","idName","_name","className","attr","_value","seedMinLength","optimizedMinLength","threshold","maxNumberOfTries","timeoutMs","rootNode","DOCUMENT_NODE","ownerDocument","findRootDocument","path","bottomUpSearch","optimized","optimize","limit","fallback","current","elapsedTime","getTime","maybe","elementId","getAttribute","CSS","escape","penalty","attrs","attributes","names","classList","classNames","nth","parent","parentNode","child","firstChild","nextSibling","dispensableNth","node","nthChild","level_1","level_1_1","findUniquePath","parentElement","paths","combinations","paths_1","paths_1_1","candidate","unique","query","acc","css","querySelectorAll","notEmpty","scope","newPath","newPathKey","counter","visited","same","clickNonBatcher","clickEvents","evt","record","count","clickBatcher","reduced","curr","timestamp","hour","k","values","ClickHandler","scrollWatcher","createHook","deviceIdFn","mirror","performanceOptions","Click","innerHeight","innerWidth","getNode","currentScrollX","currentScrollY","viewportHeight","viewportWidth","getWindowHeight","documentElement","clientHeight","getWindowWidth","clientWidth","BeaconTransport","sendBeacon","sendXhr","xhr","XMLHttpRequest","setRequestHeader","basePageUrl","api_key","ScrollWatcher","transport","hook","update","maxScrollX","_maxScrollX","maxScrollY","_maxScrollY","maxScrollWidth","_maxScrollWidth","maxScrollHeight","_maxScrollHeight","_currentScrollX","_currentScrollY","default","width","height","SessionIdentifiers","sessionReplayId","generateSessionReplayId","TargetingIDBStore","dbs","openOrCreateDB","getTargetingMatchForSession","sessionIdStr","targetingMatchForSession","targetingMatch","storeTargetingMatchForSession","lastUpdated","clearStoreOfOldSessions","currentSessionId","currentSessionIdStr","allTargetingMatchObjs","targetingMatchObj","amountOfTimeSinceSession","targetingIDBStore","evaluateTargetingAndStore","targetingParams","sessionTargetingMatch","targetingResult","err_1","knownError","index$4","evaluateTargetingPackage","evaluateTargeting","flag","message","createUrlTrackingPlugin","observer","cb","pluginOptions","enablePolling","pollingInterval","lastTrackedUrl","PATCH_MARKER","RESET_FLAG_KEY","getCurrentUrl","emitUrlChange","currentUrl","currentTitle","title","createUrlChangeEvent","createHistoryMethodPatch","originalMethod","patchedMethod","hashChangeHandler","urlChangeInterval_1","setInterval","clearInterval","history","originalPushState_1","pushState","originalReplaceState_1","replaceState","RevenueProperty","SessionReplay","recordCancelCallback","eventCount","pageLeaveFns","recordFunction","teardownEventListeners","teardown","blurListener","focusListener","pageLeaveListener","sendEvents","recordEvents","evaluateTargetingAndCapture","isInit","forceRestart","eventForTargeting","identifiers","lastTargetingParams","event_type","initialize","addCustomRRWebEvent","eventName","eventData","addStorageInfo","debugInfo","storageSizeData","METADATA","addCustomEvent","stopRecordingEvents","networkObservers","stop","typedError","init","_init","rrwebEventManager","interactionEventManager","compressionScript","joinedConfigGenerator","setMetadata","getDeviceId","scrollHook","clickHandler","trackEveryNms","eventCompressor","index$3","initializeNetworkObservers","setSessionId","asyncSetSessionId","previousSessionId","deviceIdForReplayId","lastShouldRecordDecision","getSessionReplayProperties","shouldRecord","getShouldRecord","eventProperties","appHash","GET_SR_PROPS","sessionIdToSend","shouldSendStoredEvents","shouldOptOut","identityStoreOptOut","hashNumber","matched","abs","TARGETING_DECISION","getBlockSelectors","getMaskTextSelectors","getRecordingPlugins","plugins","urlTrackingPlugin","getRecordConsolePlugin","error_3","rrwebPluginConsoleRecord","levels","getRecordFunction","error_4","rrwebRecord","shouldLogMetadata","hooks","error_5","FETCH_REQUEST","mouseInteraction","interaction","scroll","emit","RRWebEventType","Meta","inlineStylesheet","maskAllInputs","maskTextClass","blockClass","maskInputFn","maskTextFn","maskTextSelector","recordCanvas","slimDOMOptions","script","comment","errorHandler","_external_","DEBUG_INFO","metadata","getSessionId","shutdown","mapSDKType","sdkType","replaySDKVersion","standaloneSDKVersion","hashValue","replaySDKType","standaloneSDKType","NetworkObserversClass","error_6","network","observers","NetworkObservers","sessionReplay","createInstance","PROPERTY_ADD_OPERATIONS","SET","SET_ONCE","ADD","APPEND","PREPEND","POSTINSERT","SessionReplayPlugin","pluginName","forceSessionTracking","srInitOptions","setup","_client","defaultTracking","pageViews","formInteractions","fileDownloads","sessions","customSessionId","onSessionIdChanged","onOptOutChanged","execute","sessionRecordingProperties","event_properties","IDENTIFY","user_properties","userPropertiesObj","identifyKey","typedUserPropertiesOperation","parseUserProperties","sessionReplayPlugin","EvaluationOperator","C1_32","C2_32","hash32x86","seed","stringToUtf8ByteArray","nBlocks","readIntLe","mix32","k1","imul","rotateLeft","fmix32","kResult","hashResult","reverseBytes","select","selectable","selector_1","selector_1_1","selectorElement","VERSION_PATTERN","SemanticVersion","major","minor","patch","preRelease","matchGroup","exec","isNaN","compareTo","other","EvaluationEngine","evaluate","flags","results","flags_1","flags_1_1","variant","evaluateFlag","segments","segment","evaluateSegment","conditions","variantKey","bucket","variants","match","conditions_1","conditions_1_1","condition","matchCondition","propValue","isSetOperator","propValueStringList","coerceStringArray","matchSet","propValueString","coerceString","matchString","matchNull","getHash","bucketingValue","keyToHash","salt","allocationValue","distributionValue","allocations","allocation","allocationStart","range","allocationEnd","distributions","distribution","distributionStart","distributionEnd","e_6_1","e_5_1","filterValues","containsNone","propValues","setEquals","matchesSetContainsAll","matchesSetContainsAny","matchesIs","matchesContains","matchesComparable","parseNumber","comparator","versionComparator","matchesRegex","containsBooleans","lower_1","filterValues_1","filterValues_1_1","filterValue","e_7_1","typeTransformer","typeComparator","propValueTransformed","filterValuesTransformed","filterValueTransformed","Boolean","stringValue","parsedValue","xa","ya","xs","ys","filterValues_2","filterValues_2_1","e_8_1","filterValues_3","filterValues_3_1","tab","FetchError","updateEventListForSession","eventType","eventTime","sessionData","eventTypes","eventTypeStore","updatedEventTypes","updatedSessionData","deleteOldSessionEventTypes","allSessions","session","storeEventTypeForSession","Targeting","eventStrings","event_types","user","evaluationEngine","targeting","__defProp","__publicField","writable","__defNormalProp","__defProp2","__publicField2","__defNormalProp2","__defProp$1","__publicField$1","__defNormalProp$1","testableAccessors$1","ShadowRoot","Element","MutationObserver","testableMethods$1","untaintedBasePrototype$1","getUntaintedPrototype$1","angularUnpatchedVersionSymbol","Zone","__symbol__","angularZoneUnpatchedAlternative$1","defaultPrototype","accessorNames","isUntaintedAccessors","accessor","getOwnPropertyDescriptor","methodNames","isUntaintedMethods","iframeEl","createElement","appendChild","win","contentWindow","untaintedObject","removeChild","untaintedAccessorCache$1","getUntaintedAccessor$1","instance","cacheKey","untaintedPrototype","untaintedAccessor","untaintedMethodCache$1","getUntaintedMethod$1","untaintedMethod","index$1","childNodes","n2","textContent","getRootNode","host","styleSheets","shadowRoot","mutationObserver","Mirror","getId","getMeta","idNodeMap","getIds","nodeMetaMap","removeNodeFromMap","childNode","hasNode","node2","meta","oldNode","reset","classMatchesRegex","checkAncestors","eIndex","getDefaultExportFromCjs$1","__esModule","getAugmentedNamespace$1","f2","a2","a22","Reflect","construct","hasRequiredPicocolors_browser$1","picocolors_browser$1","exports","requirePicocolors_browser$1","isColorSupported","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","createColors","require$$2$1","freeze","toStringTag","cssSyntaxError$1","hasRequiredCssSyntaxError$1","requireCssSyntaxError$1","pico","terminalHighlight","CssSyntaxError","line","column","file","plugin","super","reason","endLine","endColumn","setMessage","captureStackTrace","showSourceCode","color","mark","aside","lines","maxWidth","index2","number","gutter","spacing","hasRequiredSymbols$1","stringifier$1","hasRequiredStringifier$1","stringify_1$1","hasRequiredStringify$1","node$1","hasRequiredNode$1","declaration$1","hasRequiredDeclaration$1","nonSecure$1","hasRequiredNonSecure$1","previousMap$1","hasRequiredPreviousMap$1","input$1","hasRequiredInput$1","mapGenerator$1","hasRequiredMapGenerator$1","comment$1","hasRequiredComment$1","container$1","hasRequiredContainer$1","document$1$1","hasRequiredDocument$1","warnOnce$1","hasRequiredWarnOnce$1","warning$1","hasRequiredWarning$1","result$1","hasRequiredResult$1","tokenize$1","hasRequiredTokenize$1","atRule$1","hasRequiredAtRule$1","root$1","hasRequiredRoot$1","list_1$1","hasRequiredList$1","rule$1","hasRequiredRule$1","parser$1","hasRequiredParser$1","parse_1$1","hasRequiredParse$1","lazyResult$1","hasRequiredLazyResult$1","noWorkResult$1","hasRequiredNoWorkResult$1","processor$1","hasRequiredProcessor$1","fromJSON_1$1","hasRequiredFromJSON$1","postcss_1$1","hasRequiredPostcss$1","symbols$1","requireSymbols$1","isClean","my","requireStringifier$1","DEFAULT_RAW","beforeClose","beforeComment","beforeDecl","beforeOpen","beforeRule","colon","commentLeft","commentRight","emptyBody","indent","semicolon","Stringifier","builder","atrule","params","rawValue","raws","afterName","nodes","block","between","beforeAfter","detect","raw","buf","depth","last","left","right","decl","string","important","own","first","root2","rawCache","toUpperCase","walk","rawBeforeClose","rawBeforeComment","walkComments","rawBeforeDecl","walkDecls","rawBeforeOpen","rawBeforeRule","rawColon","rawEmptyBody","rawIndent","parts","rawSemicolon","ownSemicolon","requireStringify$1","stringify2","requireNode$1","cloneNode","cloned","Node2","clone","addToError","postcssNode","s2","insertAfter","overrides","insertBefore","cleanRaws","keepBetween","cloneAfter","cloneBefore","rangeBy","getProxyProcessor","toProxy","markDirty","positionBy","stringRepresentation","positionInside","word","indexOf","endIndex","defaultType","remove","replaceWith","bookmark","foundSelf","result2","toJSON","inputs","fixed","emitInputs","inputsNextIndex","inputId","input2","proxyCache","stringifier2","proxyOf","requireDeclaration$1","Declaration","variable","requireNonSecure$1","nanoid","customAlphabet","alphabet","defaultSize","requirePreviousMap$1","SourceMapConsumer","SourceMapGenerator","existsSync","readFileSync","dirname","PreviousMap","loadAnnotation","inline","startWith","annotation","loadMap","mapFile","consumer","consumerCache","decodeInline","decodeURIComponent","substr","lastMatch","Buffer","atob","encoding","getAnnotationURL","sourceMapString","isMap","mappings","_mappings","sections","comments","lastIndexOf","loadFile","fromSourceMap","prevPath","withContent","sourcesContent","requireInput$1","fileURLToPath","pathToFileURL","isAbsolute","fromOffsetCache","sourceMapAvailable","pathAvailable","Input","hasBOM","mapResolve","offset","fromOffset","col","origin","lastLine","lineToIndex","prevIndex","l2","mid","sourceRoot","fromUrl","originalPositionFor","protocol","sourceContentFor","registerInput","requireMapGenerator$1","relative","sep","cssString","mapOpts","originalCSS","usesFileUrls","absolute","memoizedFileURLs","memoizedPaths","memoizedURLs","addAnnotation","content","isInline","toBase64","outputFile","eol","applyPrevMaps","previous","toUrl","applySourceMap","clearAnnotation","generate","generateMap","generateString","ignoreInvalidMapping","addMapping","generated","original","isSourcesContent","setSourcesContent","isAnnotation","noSource","mapping","sourcePath","cached","previousMaps","already","toFileUrl","setSourceContent","btoa","unescape","fileURL","encodeURI","requireComment$1","Comment","requireContainer$1","Rule","AtRule","Root","cleanSource","markDirtyUp","Container","children","normalize","each","getIterator","indexes","lastEach","exist","existIndex","reverse","sample","rebuild","prepend","unshift","removeAll","replaceValues","pattern","props","fast","e2","walkAtRules","walkRules","registerParse","dependant","registerRule","registerAtRule","registerRoot","requireDocument$1","LazyResult","Processor","Document2","toResult","registerLazyResult","registerProcessor","requireWarnOnce$1","printed","requireWarning$1","Warning","requireResult$1","Result","processor2","processor","messages","lastPlugin","postcssPlugin","warning2","warnings","requireAtRule$1","requireRoot$1","ignore","requireList$1","comma","space","separators","array","inQuote","prevQuote","letter","requireRule$1","requireParser$1","tokenizer","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","quote","escapePos","currentToken","valueOf","ignoreErrors","buffer","returned","unclosed","what","back","token","endOfFile","nextToken","ignoreUnclosed","controlChar","lastIndex","charAt","position","requireTokenize$1","SAFE_COMMENT_NEIGHBOR","empty","spaces","createTokenizer","unnamedAtrule","brackets","getPosition","spacesAndCommentsFromEnd","spacesAndCommentsFromStart","checkMissedSemicolon","tokens","founded","doubleColon","customProperty","findLastWithPosition","unknownWord","firstSpaces","precheckMissedSemicolon","stringFrom","spacesFromEnd","cache","emptyRule","unexpectedClose","endFile","unclosedBlock","freeSemicolon","bracket","unclosedBracket","clean","lastTokenType","requireParse$1","Parser","parser2","process","env","NODE_ENV","requireLazyResult$1","MapGenerator","warnOnce2","TYPE_TO_CLASS_NAME","PLUGIN_PROPS","AtRuleExit","CommentExit","DeclarationExit","Document","DocumentExit","Once","OnceExit","prepare","RootExit","RuleExit","NOT_VISITORS","isPromise","getEvents","toStack","eventIndex","visitorIndex","visitors","cleanMarks","postcss2","stringified","processed","syntax","parser","helpers","postcss","processing","runAsync","onRejected","onFinally","getAsyncError","handleError","postcssVersion","pluginVer","runtimeVer","prepareVisitors","hasListener","runOnRoot","visitTick","visitor","roots","subRoot","sync","stringifier","walkSync","visitSync","onFulfilled","visit2","registerPostcss","requireProcessor$1","NoWorkResult","_processor","_css","_opts","_map","self2","generatedCSS","generatedMap","_root","requireNoWorkResult$1","normalized","use","postcss$1","fromJSON","ownInputs","inputHydrated","requireFromJSON$1","initializer","warningPrinted","creator","LANG","transformer","processOpts","pluginOpts","atRule","requirePostcss$1","postcss$1$1","__defProp22","__publicField22","__defNormalProp22","getDefaultExportFromCjs","getAugmentedNamespace","hasRequiredPicocolors_browser","picocolors_browser","requirePicocolors_browser","require$$2","cssSyntaxError","hasRequiredCssSyntaxError","requireCssSyntaxError","hasRequiredSymbols","hasRequiredStringifier","stringify_1","hasRequiredStringify","hasRequiredNode","declaration","hasRequiredDeclaration","nonSecure","hasRequiredNonSecure","previousMap","hasRequiredPreviousMap","hasRequiredInput","mapGenerator","hasRequiredMapGenerator","hasRequiredComment","container","hasRequiredContainer","document$1","hasRequiredDocument","warnOnce","hasRequiredWarnOnce","warning","hasRequiredWarning","hasRequiredResult","tokenize","hasRequiredTokenize","hasRequiredAtRule","hasRequiredRoot","list_1","hasRequiredList","hasRequiredRule","hasRequiredParser","parse_1","hasRequiredParse","lazyResult","hasRequiredLazyResult","noWorkResult","hasRequiredNoWorkResult","hasRequiredProcessor","fromJSON_1","hasRequiredFromJSON","postcss_1","hasRequiredPostcss","symbols","requireSymbols","requireStringifier","requireStringify","requireNode","requireDeclaration","requireNonSecure","requirePreviousMap","requireInput","requireMapGenerator","requireComment","requireContainer","requireDocument","requireWarnOnce","requireWarning","requireResult","requireAtRule","requireRoot","requireList","requireRule","requireParser","requireTokenize","requireParse","requireLazyResult","requireProcessor","requireNoWorkResult","requireFromJSON","requirePostcss","postcss$2","BaseRRNode","_args","childNodes2","childIterator","_newChild","_refChild","_node","testableAccessors","testableMethods","untaintedBasePrototype","getUntaintedPrototype","angularZoneUnpatchedAlternative","untaintedAccessorCache","getUntaintedAccessor","untaintedMethodCache","getUntaintedMethod","DEPARTED_MIRROR_ACCESS_WARNING","_mirror","nowTimestamp","closestElementOfNode","getShadowHost","shadowHost","DOCUMENT_FRAGMENT_NODE","getRootShadowHost","rootShadowHost","shadowHostInDom","doc","utils","StyleSheetMirror","stylesheet","styleIDMap","newId","idStyleMap","getStyle","generateId","getBaseDimension","rootIframe","frameElement","defaultView","relativeScale","absoluteScale","frameDimension","getBoundingClientRect","frameBaseDimension","getNestedRule","rules2","rule2","cssRules","getPositionsAndIndex","nestedIndex","positions","getWindowScroll","scrollingElement","scrollLeft","pageXOffset","top","scrollTop","pageYOffset","hasShadowRoot","hookSetter","isRevoked","inDom","isAncestorRemoved","mirror2","hostEl","isShadowRoot","isBlocked","el","matches","isIgnored","headTitleMutations","isSerialized","isSerializedIframe","nodeName","isSerializedStylesheet","iterateResolveTree","tree","legacy_isTouchEvent","changedTouches","on","capture","passive","wrapped","defineProperties","polyfill","NodeList","DOMTokenList","queueToResolveTrees","queueNodeMap","putIntoMap","nodeInTree","queueNodeTrees","mutation","nextId","parentId","nextInTree","idx","parentInTree","throttle","wait","leading","remaining","trailing","uniqueTextMutations","mutations","idSet","uniqueMutations","chars","lookup","i$1","cleanFrame","NotStarted","Running","Stopped","StackFrame","fileName","functionName","lineNumber","columnNumber","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","ErrorStackParser","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","sanitizedLine","locationParts","functionNameRegex","parseOpera9","parseOpera11","parseOpera10","lineRE","parseFloat","pathToSelector","outerHTML","localName","domSiblings","sibling","isObject","isObjTooDeep","stringifyOptions","numOfKeysLimit","depthOfLimit","thisPos","Infinity","_obj","shouldIgnore","stringLengthLimit","Event","eventResult","eventKey","eventValue","HTMLElement","defaultLogOptions","lengthThreshold","initLogObserver","logOptions","loggerType","logCount","inStack","cancelHandlers","trace","stackFrame","unhandledrejectionHandler","levelType","h","_logger","PLUGIN_NAME","NodeType$3","NodeType2","isElement","isNativeShadowDom","shadowRoot2","stringifyStylesheet","rules","sheetHref","ownerNode","stringifiedRules","stringifyRule","cssText","isCSSImportRule","importStringified","styleSheet","statement","layerName","supportsText","media","mediaText","escapeImportStatement","absolutifyURLs","ruleStringified","isCSSStyleRule","selectorText","cssStringified","fixSafariColons","maskInputValue","maskInputOptions","actualType","repeat","ORIGINAL_ATTRIBUTE_NAME","extractFileExtension","baseURL","pathname","URL_IN_CSS_REF","URL_PROTOCOL_MATCH","URL_WWW_MATCH","DATA_URI","quote1","path1","quote2","path2","path3","filePath","maybeQuote","extractOrigin","part","normalizeCssString","_testNoPxNorm","markCssSplits","style","splits","iterCount","cssTextNorm","normFactor","textContentNorm","jLimit","startSubstring","cssNormSplits","splitNorm","prevTextContent","prevMinLength","normPart","splitCssText","_DEFAULT_BLOCKED_ELEMENT_BACKGROUND_COLOR","_id","tagNameRegex","genId","canvasService","canvasCtx","SRCSET_NOT_SPACES","SRCSET_COMMAS_OR_SPACES","cachedDocument","absoluteToDoc","attributeValue","getHref","isSVGElement","ownerSVGElement","customHref","setAttribute","transformAttribute","collectCharacters","regEx","chars2","output","descriptorsStr","inParens","c2","getAbsoluteSrcsetString","ignoreAttribute","needMaskingText","serializeNode","needsMask","dataURLOptions","inlineImages","keepIframeSrcFn","newlyAddedElement","cssCaptured","rootId","docId","getRootId","compatMode","DOCUMENT_TYPE_NODE","DocumentType","publicId","systemId","needBlock","_isBlockedElement","HTMLFormElement","processedTagName","getValidTagName$1","find","rel","_cssText","sheet","checked","selected","rr_open_mode","__context","canvas","ctx","getContext","getImageData","originalGetImageData","pixel","is2DCanvasBlank","rr_dataURL","toDataURL","quality","canvasDataURL","blankCanvas","image","imageSrc","currentSrc","priorCrossOrigin","crossOrigin","recordInlineImage","naturalWidth","naturalHeight","drawImage","removeAttribute","mediaAttributes","rr_mediaState","paused","rr_mediaCurrentTime","currentTime","rr_mediaPlaybackRate","playbackRate","rr_mediaMuted","muted","rr_mediaLoop","loop","rr_mediaVolume","volume","rr_scrollLeft","rr_scrollTop","class","rr_width","rr_height","rr_background_color","src","contentDocument","rr_src","isCustomElement","customElements","isSVG","isCustom","serializeElementNode","TEXT_NODE","parentTagName","textContent2","isStyle","isScript","Text","serializeTextNode","CDATA_SECTION_NODE","CDATA","COMMENT_NODE","lowerIfExists","maybeAttr","serializeNodeWithId","skipChild","onSerialize","onIframeLoad","iframeLoadTimeout","onStylesheetLoad","stylesheetLoadTimeout","preserveWhiteSpace","_serializedNode","sn","as","headFavicon","headMetaDescKeywords","headMetaSocial","property","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","slimDOMExcluded","serializedNode","recordChild","shadowRootEl","isShadowHost","headWhitespace","bypassOptions","childN","serializedChildNode","isShadow","readyState","fired","timer","blankUrl","onceIframeLoaded","iframeDoc","serializedIframeNode","link","styleSheetLoadTimeout","styleSheetLoaded","onceStylesheetLoaded","serializedLinkNode","postcssExports$1","postcssExports","mutationObserverCtor","IncrementalSource","IncrementalSource2","PointerTypes","PointerTypes2","CanvasContext","CanvasContext2","MediaInteractions","MediaInteractions2","NodeType","isNodeInLinkedList","DoubleLinkedList","addNode","__ln","previousSibling","tail","removeNode","moveKey","MutationBuffer","processMutation","frozen","locked","adds","addedIds","addList","getNextId","ns","pushAdd","parentTag","addedSet","currentN","iframeManager","addIframe","stylesheetManager","trackLinkElement","shadowDomManager","addShadowRoot","iframe","childSn","attachIframe","observeAttachShadow","attachLinkElement","mapRemoves","movedSet","isParentRemoved","removesSubTreeCache","isAncestorInSet","droppedSet","tailNode","unhandledNode","texts","genTextAreaValueMutation","attribute","diffAsStr","styleDiff","unchangedAsStr","_unchangedStyles","removes","attributeMap","movedMap","mutationCb","textarea","item","cn","oldValue","attributeName","unattachedDoc","implementation","createHTMLDocument","old","pname","getPropertyValue","newPriority","getPropertyPriority","addedNodes","genAdds","removedNodes","nodeId","deepDelete","n22","processRemoves","processedNodeManager","inOtherBuffer","targetId","canvasManager","unfreeze","isFrozen","lock","unlock","addsSet","_isParentRemoved","_isAncestorInSet","callbackWrapper","rest","externalFunctionWrapper","mutationBuffers","getEventTarget","composedPath","initMutationObserver","rootEl","mutationBuffer","processMutations","observe","attributeOldValue","characterData","characterDataOldValue","childList","subtree","initMouseInteractionObserver","mouseInteractionCb","sampling","disableMap","handlers","currentPointerType","endsWith","handler","pointerType","thisEventKey","Mouse","Touch","Pen","MouseDown","MouseUp","clientX","clientY","getHandler","PointerEvent","TouchStart","TouchEnd","initScrollObserver","scrollCb","updatePosition","scrollLeftTop","INPUT_TAGS","lastInputValueMap","getNestedCSSRulePositions","childRule","hasNestedCSSRule","parentRule","CSSGroupingRule","CSSMediaRule","CSSSupportsRule","CSSConditionRule","parentStyleSheet","recurse","getIdAndStyleId","styleMirror","styleId","initAdoptedStyleSheetObserver","host2","hostId","patchTarget","originalPropertyDescriptor","_a3","sheets","adoptStyleSheets","initObservers","o2","currentWindow","mousemoveCb","viewportResizeCb","inputCb","mediaInteractionCb","styleSheetRuleCb","styleDeclarationCb","canvasMutationCb","fontCb","selectionCb","customElementCb","mousemove","viewportResize","mediaInteaction","styleSheetRule","styleDeclaration","canvasMutation","font","selection","customElement","mergeHooks","recordDOM","mousemoveHandler","callbackThreshold","mousemoveCallback","timeBaseline","wrappedCb","totalOffset","timeOffset","DragEvent","Drag","MouseEvent","MouseMove","TouchMove","initMoveObserver","mouseInteractionHandler","scrollHandler","viewportResizeHandler","lastH","lastW","initViewportResizeObserver","inputHandler","ignoreClass","ignoreSelector","userTriggeredOnInput","eventHandler","userTriggered","isTrusted","isChecked","cbWithDedup","text2","v2","lastInputValue","propertyDescriptor","HTMLInputElement","hookProperties","HTMLSelectElement","HTMLTextAreaElement","HTMLOptionElement","initInputObserver","mediaInteractionHandler","Play","Pause","Seeked","VolumeChange","RateChange","initMediaInteractionObserver","styleSheetObserver","adoptedStyleSheetObserver","styleDeclarationObserver","fontObserver","CSSStyleSheet","insertRule","argumentsList","addRule","styleBlock","deleteRule","replaceSync","removeRule","supportedNestedCSSRuleTypes","canMonkeyPatchNestedCSSRule","unmodifiedFunctions","typeKey","initStyleSheetObserver","ignoreCSSAttributes","setProperty","CSSStyleDeclaration","priority","removeProperty","initStyleDeclarationObserver","collectFonts","fontMap","originalFontFace","FontFace","family","descriptors","fontFace","fontSource","restoreHandler","fonts","initFontObserver","selectionObserver","param","collapsed","updateSelection","getSelection","isCollapsed","ranges","rangeCount","getRangeAt","startContainer","startOffset","endContainer","endOffset","initSelectionObserver","customElementObserver","define","initCustomElementObserver","pluginHandlers","disconnect","CrossOriginIframeMirror","generateIdFn","remoteId","idToRemoteMap","remoteToIdMap","idToRemoteIdMap","getIdToRemoteIdMap","remoteIdToIdMap","getRemoteIdToIdMap","getRemoteId","getRemoteIds","ids","iframeIdToRemoteIdMap","iframeRemoteIdToIdMap","IframeManager","wrappedEmit","recordCrossOriginIframes","crossOriginIframeStyleMirror","handleMessage","iframes","crossOriginIframeMap","addLoadListener","loadListener","isAttachIframe","adoptedStyleSheets","crossOriginMessageEvent","transformedEvent","transformCrossOriginEvent","isCheckout","FullSnapshot","crossOriginIframeMirror","replaceIdOnNode","crossOriginIframeRootIdMap","patchRootIdOnNode","IncrementalSnapshot","Mutation","Load","DomContentLoaded","Plugin","Custom","replaceIds","ViewportResize","MediaInteraction","MouseInteraction","Scroll","CanvasMutation","StyleSheetRule","StyleDeclaration","replaceStyleIds","Font","Selection","AdoptedStyleSheet","styles","iframeMirror","ShadowDomManager","WeakSet","patchAttachShadow","shadowDoms","restoreHandlers","iframeElement","option","sRoot","canvasVarMap","saveWebGLVar","isInstanceOfWebGLObject","ctor","contextMap","variableListFor$1","serializeArg","arg","Float32Array","Float64Array","Int32Array","Int16Array","Int8Array","Uint8ClampedArray","rr_type","ArrayBuffer","base64","arraybuffer","bytes","DataView","byteOffset","byteLength","HTMLImageElement","HTMLCanvasElement","ImageData","serializeArgs","supportedWebGLConstructorNames","initCanvasContextObserver","setPreserveDrawingBufferToTrue","contextType","ctxName","getNormalizedContextName","contextAttributes","preserveDrawingBuffer","patchGLPrototype","getOwnPropertyNames","recordArgs","hookHandler","setter","jsContent","blob","WorkerWrapper","objURL","webkitURL","revokeObjectURL","CanvasManager","latestId","invokeId","rafStamps","pendingCanvasMutations","initCanvasMutationObserver","initCanvasFPSObserver","clear","resetObservers","fps","canvasContextReset","snapshotInProgressMap","commands","timeBetweenSnapshots","rafId","lastSnapshotTime","takeCanvasSnapshots","matchedCanvas","getCanvas","getContextAttributes","COLOR_BUFFER_BIT","bitmap","createImageBitmap","requestAnimationFrame","cancelAnimationFrame","startRAFTimestamping","startPendingCanvasMutationFlusher","canvas2DReset","props2D","CanvasRenderingContext2D","initCanvas2DMutationObserver","canvasWebGL1and2Reset","WebGLRenderingContext","WebGL","WebGL2RenderingContext","WebGL2","initCanvasWebGLMutationObserver","flushPendingCanvasMutations","setLatestRAFTimestamp","_values","flushPendingCanvasMutationFor","valuesWithType","type2","StylesheetManager","adoptedStyleSheetCb","linkEl","trackedLinkElements","trackStylesheetInLinkElement","adoptedStyleSheetData","styleIds","CSSRule","r2","_linkEl","ProcessedNodeManager","thisBuffer","buffers","nodeMap","active","destroy","takeFullSnapshot$1","recording","checkoutEveryNms","checkoutEveryNth","_maskInputOptions","_slimDOMOptions","packFn","mousemoveWait","recordAfter","errorHandler2","inEmittingFrame","passEmitsToParent","date","email","month","search","tel","week","password","lastFullSnapshotEvent","polyfill$1","incrementalSnapshotCount","eventProcessor","exceedCount","exceedTime","wrappedMutationEmit","wrappedScrollEmit","wrappedCanvasMutationEmit","getMirror","nodeMirror","slimDOM","snapshot","initialOffset","CustomElement","tag","freezePage","takeFullSnapshot","fetchObserver","eventCallback","observeFetch","notifyEvent","originalFetch","startTime","requestEvent","headers_1","endTime","requestHeaders","duration","responseHeaders"],"mappings":"2CAgBA,IAAIA,EAAgB,SAASC,EAAGC,GAI5B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAE,GACzE,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOC,OAAOK,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,KACzFP,EAAcC,EAAGC,EAC5B,EAEO,SAASS,EAAUV,EAAGC,GACzB,GAAiB,mBAANA,GAA0B,OAANA,EAC3B,MAAM,IAAIU,UAAU,uBAAyBC,OAAOX,GAAK,iCAE7D,SAASY,IAAOC,KAAKC,YAAcf,CAAI,CADvCD,EAAcC,EAAGC,GAEjBD,EAAEO,UAAkB,OAANN,EAAaC,OAAOc,OAAOf,IAAMY,EAAGN,UAAYN,EAAEM,UAAW,IAAIM,EACnF,CAEO,IC/BII,EAqBAC,EDUAC,EAAW,WAQlB,OAPAA,EAAWjB,OAAOkB,QAAU,SAAkBC,GAC1C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAIjB,KADTgB,EAAIG,UAAUF,GACOrB,OAAOK,UAAUC,eAAeC,KAAKa,EAAGhB,KAAIe,EAAEf,GAAKgB,EAAEhB,IAE9E,OAAOe,CACV,EACMF,EAASQ,MAAMb,KAAMW,UAChC,EA0EO,SAASG,EAAUC,EAASC,EAAYC,EAAGC,GAE9C,OAAO,IAAKD,IAAMA,EAAIE,UAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAQ,CAAG,MAAOG,GAAKL,EAAOK,GAAO,CAC3F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAU,CAAC,MAAOG,GAAKL,EAAOK,GAAO,CAC9F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,EAAE,SAAUG,GAAWA,EAAQG,EAAO,IAIhBO,KAAKR,EAAWK,EAAY,CAC9GH,GAAMN,EAAYA,EAAUL,MAAME,EAASC,GAAc,KAAKS,OACtE,EACA,CAEO,SAASM,EAAYhB,EAASiB,GACjC,IAAsGC,EAAGC,EAAG3B,EAAxG4B,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAP9B,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,EAAG,EAAI+B,KAAM,GAAIC,IAAK,IAAeC,EAAIpD,OAAOc,QAA4B,mBAAbuC,SAA0BA,SAAWrD,QAAQK,WACtL,OAAO+C,EAAEf,KAAOiB,EAAK,GAAIF,EAAS,MAAIE,EAAK,GAAIF,EAAU,OAAIE,EAAK,GAAsB,mBAAXC,SAA0BH,EAAEG,OAAOC,UAAY,WAAa,OAAO5C,IAAO,GAAGwC,EAC1J,SAASE,EAAKhC,GAAK,OAAO,SAAUmC,GAAK,OACzC,SAAcC,GACV,GAAIb,EAAG,MAAM,IAAIpC,UAAU,mCAC3B,KAAO2C,IAAMA,EAAI,EAAGM,EAAG,KAAOX,EAAI,IAAKA,OACnC,GAAIF,EAAI,EAAGC,IAAM3B,EAAY,EAARuC,EAAG,GAASZ,EAAU,OAAIY,EAAG,GAAKZ,EAAS,SAAO3B,EAAI2B,EAAU,SAAM3B,EAAEZ,KAAKuC,GAAI,GAAKA,EAAET,SAAWlB,EAAIA,EAAEZ,KAAKuC,EAAGY,EAAG,KAAKjB,KAAM,OAAOtB,EAE3J,OADI2B,EAAI,EAAG3B,IAAGuC,EAAK,CAAS,EAARA,EAAG,GAAQvC,EAAEgB,QACzBuB,EAAG,IACP,KAAK,EAAG,KAAK,EAAGvC,EAAIuC,EAAI,MACxB,KAAK,EAAc,OAAXX,EAAEC,QAAgB,CAAEb,MAAOuB,EAAG,GAAIjB,MAAM,GAChD,KAAK,EAAGM,EAAEC,QAASF,EAAIY,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKX,EAAEI,IAAIQ,MAAOZ,EAAEG,KAAKS,MAAO,SACxC,QACI,KAAMxC,EAAI4B,EAAEG,MAAM/B,EAAIA,EAAEK,OAAS,GAAKL,EAAEA,EAAEK,OAAS,KAAkB,IAAVkC,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAEX,EAAI,EAAG,QAAW,CAC5G,GAAc,IAAVW,EAAG,MAAcvC,GAAMuC,EAAG,GAAKvC,EAAE,IAAMuC,EAAG,GAAKvC,EAAE,IAAM,CAAE4B,EAAEC,MAAQU,EAAG,GAAI,KAAQ,CACtF,GAAc,IAAVA,EAAG,IAAYX,EAAEC,MAAQ7B,EAAE,GAAI,CAAE4B,EAAEC,MAAQ7B,EAAE,GAAIA,EAAIuC,EAAI,KAAQ,CACrE,GAAIvC,GAAK4B,EAAEC,MAAQ7B,EAAE,GAAI,CAAE4B,EAAEC,MAAQ7B,EAAE,GAAI4B,EAAEI,IAAIS,KAAKF,GAAK,KAAQ,CAC/DvC,EAAE,IAAI4B,EAAEI,IAAIQ,MAChBZ,EAAEG,KAAKS,MAAO,SAEtBD,EAAKd,EAAKrC,KAAKoB,EAASoB,EAC3B,CAAC,MAAOT,GAAKoB,EAAK,CAAC,EAAGpB,GAAIQ,EAAI,CAAE,CAAW,QAAED,EAAI1B,EAAI,CAAI,CAC1D,GAAY,EAARuC,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAEvB,MAAOuB,EAAG,GAAKA,EAAG,QAAK,EAAQjB,MAAM,EAC7E,CAtB+CL,CAAK,CAACd,EAAGmC,GAAM,CAAG,CAuBtE,CAkBO,SAASI,EAASC,GACrB,IAAI1C,EAAsB,mBAAXmC,QAAyBA,OAAOC,SAAUO,EAAI3C,GAAK0C,EAAE1C,GAAIC,EAAI,EAC5E,GAAI0C,EAAG,OAAOA,EAAExD,KAAKuD,GACrB,GAAIA,GAAyB,iBAAbA,EAAEtC,OAAqB,MAAO,CAC1Ca,KAAM,WAEF,OADIyB,GAAKzC,GAAKyC,EAAEtC,SAAQsC,OAAI,GACrB,CAAE3B,MAAO2B,GAAKA,EAAEzC,KAAMoB,MAAOqB,EACvC,GAEL,MAAM,IAAIrD,UAAUW,EAAI,0BAA4B,kCACxD,CAEO,SAAS4C,EAAOF,EAAGxC,GACtB,IAAIyC,EAAsB,mBAAXR,QAAyBO,EAAEP,OAAOC,UACjD,IAAKO,EAAG,OAAOD,EACf,IAAmBG,EAAY3B,EAA3BjB,EAAI0C,EAAExD,KAAKuD,GAAOI,EAAK,GAC3B,IACI,WAAc,IAAN5C,GAAgBA,KAAM,MAAQ2C,EAAI5C,EAAEgB,QAAQI,MAAMyB,EAAGN,KAAKK,EAAE9B,MACvE,CACD,MAAOgC,GAAS7B,EAAI,CAAE6B,MAAOA,EAAU,CAC/B,QACJ,IACQF,IAAMA,EAAExB,OAASsB,EAAI1C,EAAU,SAAI0C,EAAExD,KAAKc,EACjD,CACO,QAAE,GAAIiB,EAAG,MAAMA,EAAE6B,KAAQ,CACpC,CACD,OAAOD,CACX,CAkBO,SAASE,EAAcC,EAAIC,EAAMC,GACpC,GAAIA,GAA6B,IAArBhD,UAAUC,OAAc,IAAK,IAA4B0C,EAAxB7C,EAAI,EAAGmD,EAAIF,EAAK9C,OAAYH,EAAImD,EAAGnD,KACxE6C,GAAQ7C,KAAKiD,IACRJ,IAAIA,EAAK/D,MAAME,UAAUoE,MAAMlE,KAAK+D,EAAM,EAAGjD,IAClD6C,EAAG7C,GAAKiD,EAAKjD,IAGrB,OAAOgD,EAAGK,OAAOR,GAAM/D,MAAME,UAAUoE,MAAMlE,KAAK+D,GACtD,CA2GkD,mBAApBK,iBAAiCA,gBCvU/D,SAAW5D,GAEPA,EAAuB,IAAI,OAC3BA,EAA4B,SAAI,WAEhCA,EAAuB,IAAI,OAC3BA,EAA0B,OAAI,UAC9BA,EAA2B,QAAI,WAC/BA,EAA0B,OAAI,UAE9BA,EAA6B,UAAI,aACjCA,EAA8B,WAAI,cAElCA,EAAyB,MAAI,SAC7BA,EAA6B,UAAI,WACpC,CAfD,CAeGA,IAAsBA,EAAoB,CAAE,IAM/C,SAAWC,GACPA,EAA2B,SAAI,YAC/BA,EAAiC,eAAI,iBACrCA,EAA0B,QAAI,gBACjC,CAJD,CAIGA,IAAqBA,EAAmB,CAAA,ICzBpC,ICAI4D,EDCAC,EAAiB,GAAGH,OADD,MAC0B,WAC7CI,EAAwB,oBACxBC,EAAuB,wCCFlC,SAAWH,GAEPA,EAAgB,QAAI,UAEpBA,EAAgB,QAAI,UAEpBA,EAAgB,QAAI,UAEpBA,EAAkB,UAAI,aAEtBA,EAAwB,gBAAI,oBAE5BA,EAAgB,QAAI,UAEpBA,EAAe,OAAI,SAEnBA,EAAgB,QAAI,UAEpBA,EAAoB,YAAI,aAC3B,CAnBD,CAmBGA,IAAWA,EAAS,CAAA,ICnBhB,ICFII,EDEAC,EAAiB,WAGxB,IAAIC,EAA4B,wBAChC,MAA0B,oBAAfC,iBAA+E,IAA1CA,WAAWD,GAChDC,WAAWD,GAEI,oBAAfC,WACAA,WAEW,oBAAXC,OACAA,OAES,oBAATC,KACAA,KAEW,oBAAXC,OACAA,YADX,CAIJ,EEOIC,EAAMnB,EAAc,GAAIJ,EAAO7D,MAAM,KAAKqF,SAAS,GAAOC,IAAI,SAAUC,GAAS,OAAOA,EAAMC,SAAS,IAAIC,SAAS,EAAG,IAAK,GACrHC,EAAO,SAAUC,GACxB,IAAIC,EACAC,EAAcf,IAElB,KAA8F,QAAvFc,EAAKC,aAAiD,EAASA,EAAYC,cAA2B,IAAPF,OAAgB,EAASA,EAAGG,iBAE9H,OA1BS,SAAUJ,GACvB,OAAOA,GAEEA,EAEO,GADFK,KAAKC,UAEFN,EAAI,GACRH,SAAS,KAEbjF,OAAO,KACJA,QAAQ,KACRA,QAAQ,KACRA,QAAQ,KACRA,QAAQ,OACP2F,QAEL,SACAR,EACZ,CAQeS,CAAWR,GAEtB,IAAI7B,EAAI+B,EAAYC,OAAOC,gBAAgB,IAAIK,WAAW,KAG1D,OAFAtC,EAAE,GAAa,GAAPA,EAAE,GAAa,GACvBA,EAAE,GAAa,GAAPA,EAAE,GAAa,IAChBG,EAAc,GAAIJ,EAAOC,EAAEuC,YAAY,GAAOf,IAAI,SAAUM,GAC/D,IAAIU,EAAKzC,EAAO+B,EAAI,GAAIL,EAAQe,EAAG,GAAIC,EAAMD,EAAG,GAChD,MAAQ,CAAC,EAAG,EAAG,EAAG,IAAIE,SAASjB,GAAS,IAAIhB,OAAOa,EAAImB,IAAQnB,EAAImB,EAC3E,GAAOE,KAAK,GACZ,EC7CWC,EAAgB,SAAUC,GAAa,MAAQ,CACtDC,QAASD,GAAa/E,QAAQC,UAC7B,GFDL,SAAWgD,GACPA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAgB,MAAI,GAAK,QAClCA,EAASA,EAAe,KAAI,GAAK,OACjCA,EAASA,EAAkB,QAAI,GAAK,UACpCA,EAASA,EAAgB,MAAI,GAAK,OACrC,CAND,CAMGA,IAAaA,EAAW,CAAA,IGN3B,IAAIgC,EAAS,oBACTC,EAAwB,WACxB,SAASA,IACLrG,KAAKsG,SAAWlC,EAASmC,IAC5B,CAiDD,OAhDAF,EAAO5G,UAAU+G,QAAU,WACvBxG,KAAKsG,SAAWlC,EAASmC,IACjC,EACIF,EAAO5G,UAAUgH,OAAS,SAAUH,QACf,IAAbA,IAAuBA,EAAWlC,EAASsC,MAC/C1G,KAAKsG,SAAWA,CACxB,EACID,EAAO5G,UAAUkH,IAAM,WAEnB,IADA,IAAIC,EAAO,GACFC,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCD,EAAKC,GAAMlG,UAAUkG,GAErB7G,KAAKsG,SAAWlC,EAAS0C,SAG7BC,QAAQJ,IAAI,GAAG7C,OAAOsC,EAAQ,WAAWtC,OAAO8C,EAAKZ,KAAK,MAClE,EACIK,EAAO5G,UAAUuH,KAAO,WAEpB,IADA,IAAIJ,EAAO,GACFC,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCD,EAAKC,GAAMlG,UAAUkG,GAErB7G,KAAKsG,SAAWlC,EAASsC,MAG7BK,QAAQC,KAAK,GAAGlD,OAAOsC,EAAQ,YAAYtC,OAAO8C,EAAKZ,KAAK,MACpE,EACIK,EAAO5G,UAAU8D,MAAQ,WAErB,IADA,IAAIqD,EAAO,GACFC,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCD,EAAKC,GAAMlG,UAAUkG,GAErB7G,KAAKsG,SAAWlC,EAAS6C,OAG7BF,QAAQxD,MAAM,GAAGO,OAAOsC,EAAQ,aAAatC,OAAO8C,EAAKZ,KAAK,MACtE,EACIK,EAAO5G,UAAUyH,MAAQ,WAErB,IADA,IAAIN,EAAO,GACFC,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCD,EAAKC,GAAMlG,UAAUkG,GAErB7G,KAAKsG,SAAWlC,EAAS+C,OAI7BJ,QAAQJ,IAAI,GAAG7C,OAAOsC,EAAQ,aAAatC,OAAO8C,EAAKZ,KAAK,MACpE,EACWK,CACX,ICpDWe,EAAmB,WAAc,MAAQ,CAChDC,gBAAiB,GACjBC,eAAgB,IAChBC,oBAAqB,IACrBC,aAActD,EACdoC,SAAUlC,EAASsC,KACnBe,eAAgB,IAAIpB,EACpBqB,SAAS,EACTC,QAAQ,EACRC,UAAWzD,EACX0D,WAAY,KACZC,UAAU,IAEVC,EAAwB,WACxB,SAASA,EAAOC,GACZ,IAAI7C,EAAIU,EAAIoC,EAAIC,EAChBlI,KAAKmI,SAAU,EACf,IAAIC,EAAgBhB,IACpBpH,KAAKqI,OAASL,EAAQK,OACtBrI,KAAKuH,oBAA6D,QAAtCpC,EAAK6C,EAAQT,2BAAwC,IAAPpC,EAAgBA,EAAKiD,EAAcb,oBAC7GvH,KAAKqH,gBAAkBW,EAAQX,iBAAmBe,EAAcf,gBAChErH,KAAKsH,eAAiBU,EAAQV,gBAAkBc,EAAcd,eAC9DtH,KAAKwH,aAAeQ,EAAQR,cAAgBY,EAAcZ,aAC1DxH,KAAKyH,eAAiBO,EAAQP,gBAAkBW,EAAcX,eAC9DzH,KAAKsG,SAAuC,QAA3BT,EAAKmC,EAAQ1B,gBAA6B,IAAPT,EAAgBA,EAAKuC,EAAc9B,SACvFtG,KAAKsI,YAAcN,EAAQM,YAC3BtI,KAAKuI,KAAOP,EAAQO,KACpBvI,KAAKwI,kBAAoBR,EAAQQ,kBACjCxI,KAAK0H,aAA8Be,IAApBT,EAAQN,QAAwBM,EAAQN,QAAUU,EAAcV,QAC/E1H,KAAK2H,OAAmC,QAAzBM,EAAKD,EAAQL,cAA2B,IAAPM,EAAgBA,EAAKG,EAAcT,OACnF3H,KAAK4H,UAAYI,EAAQJ,UACzB5H,KAAK6H,WAAaG,EAAQH,YAAcO,EAAcP,WACtD7H,KAAK0I,gBAAkBV,EAAQU,gBAC/B1I,KAAK2I,kBAAoBX,EAAQW,kBACjC3I,KAAK8H,SAAuC,QAA3BI,EAAKF,EAAQF,gBAA6B,IAAPI,EAAgBA,EAAKE,EAAcN,SACvF9H,KAAKyH,eAAehB,OAAOzG,KAAKsG,UAChC,IAAIsC,EAAeC,EAAmBb,EAAQJ,UAAWI,EAAQH,WAAYG,EAAQF,UACrF9H,KAAK6H,WAAae,EAAaf,WAC/B7H,KAAK4H,UAAYgB,EAAahB,SACjC,CAWD,OAVAxI,OAAO0J,eAAef,EAAOtI,UAAW,SAAU,CAC9CsJ,IAAK,WACD,OAAO/I,KAAKmI,OACf,EACDa,IAAK,SAAUrB,GACX3H,KAAKmI,QAAUR,CAClB,EACDsB,YAAY,EACZC,cAAc,IAEXnB,CACX,IAEWoB,EAAe,SAAUtB,EAAYC,GAC5C,MAAmB,OAAfD,EACOC,EPnD4B,qCAFN,yCOuD1BA,EPtD6B,mCOsDW3D,CACnD,EACW0E,EAAqB,SAAUjB,EAAWC,EAAYC,GAI7D,QAHkB,IAAdF,IAAwBA,EAAY,SACrB,IAAfC,IAAyBA,EAAaT,IAAmBS,iBAC5C,IAAbC,IAAuBA,EAAWV,IAAmBU,UACrDF,EACA,MAAO,CAAEA,UAAWA,EAAWC,gBAAYY,GAE/C,IAAIW,EAAc,CAAC,KAAM,MAAMrD,SAAS8B,GAAcA,EAAaT,IAAmBS,WACtF,MAAO,CACHA,WAAYuB,EACZxB,UAAWuB,EAAaC,EAAatB,GAE7C,ECxEO,IA2DIuB,EAAe,SAAUC,EAAIC,EAAQC,EAAcC,EAAWC,GAErE,YADkB,IAAdA,IAAwBA,EAAY,MACjC,WAEH,IADA,IAAI9C,EAAO,GACFC,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCD,EAAKC,GAAMlG,UAAUkG,GAEzB,IAAI1B,EAAKqE,IAAgBG,EAASxE,EAAGwE,OAAQrD,EAAWnB,EAAGmB,SAE3D,GAAKA,GAAYA,EAAWlC,EAAS+C,QAAWb,IAAaqD,EACzD,OAAOL,EAAGzI,MAAM6I,EAAW9C,GAE/B,IAvE6BgD,EAuEzBC,EAAe,CACfC,KAAM,uBACNC,KAAMR,EACN3C,KAAMA,EACNoD,YA3EyBJ,EA2EC,OA1Ed,IAAhBA,IAA0BA,EAAc,KAChC,IAAI3C,OAAQgD,OAAS,IAE5BC,MAAM,MACNrG,MAAM,EAAI+F,GACV/E,IAAI,SAAUsF,GAAQ,OAAOA,EAAKC,MAAO,IAsEtCC,KAAM,CACFC,OAAO,IAAIC,MAAOC,eAEtBC,OAAQ,CAAE,GAEVhB,GAAaI,EAAaY,SAC1BZ,EAAaY,OAAOC,OAASjB,KAEjC,IAAI7H,EAAS0H,EAAGzI,MAAM6I,EAAW9C,GAsBjC,OArBIhF,GAAUA,EAAOuE,QAEjBvE,EAAOuE,QAAQrE,KAAK,WACZ2H,GAAaI,EAAaY,SAC1BZ,EAAaY,OAAOE,MAAQlB,KAE5BI,EAAaQ,OACbR,EAAaQ,KAAKO,KAAM,IAAIL,MAAOC,eAEvCb,EAAOzC,MAAM2D,KAAKC,UAAUjB,EAAc,KAAM,GAChE,IAGgBJ,GAAaI,EAAaY,SAC1BZ,EAAaY,OAAOE,MAAQlB,KAE5BI,EAAaQ,OACbR,EAAaQ,KAAKO,KAAM,IAAIL,MAAOC,eAEvCb,EAAOzC,MAAM2D,KAAKC,UAAUjB,EAAc,KAAM,KAE7CjI,CACf,CACA,EC9GImJ,EAAgD,WAChD,SAASA,IACR,CAUD,OATAA,EAA+BtL,UAAUuL,sBAAwB,WAC7D,MAAO,CACHC,YAAajL,KAAKiL,YAClBC,SAAUC,IACVC,SAAU,MACVC,QAAI5C,EACJ6C,iBAAa7C,EAEzB,EACWsC,CACX,IACII,EAAc,WACd,MAA8B,oBAAdI,YACVA,UAAUC,WAAaD,UAAUC,UAAU,IACzCD,UAAUL,WACd,EACR,EAEIO,EAAiC,WACjC,SAASA,IACLzL,KAAK0L,MAAQ,EAChB,CAoBD,OAnBAD,EAAgBhM,UAAUkM,SAAW,SAAUC,GACtC5L,KAAK6L,SAMN7L,KAAK6L,SAASD,GALV5L,KAAK0L,MAAM9K,OAAS,KACpBZ,KAAK0L,MAAM1I,KAAK4I,EAMhC,EACIH,EAAgBhM,UAAUqM,iBAAmB,SAAUD,GACnD7L,KAAK6L,SAAWA,EACZ7L,KAAK0L,MAAM9K,OAAS,IACpBZ,KAAK0L,MAAMK,QAAQ,SAAUH,GACzBC,EAASD,EACzB,GACY5L,KAAK0L,MAAQ,GAEzB,EACWD,CACX,IAgBIpL,EAAW,WAQb,OAPAA,EAAWjB,OAAOkB,QAAU,SAAkBC,GAC5C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE9C,IAAK,IAAIjB,KADTgB,EAAIG,UAAUF,GACOrB,OAAOK,UAAUC,eAAeC,KAAKa,EAAGhB,KAAIe,EAAEf,GAAKgB,EAAEhB,IAE5E,OAAOe,CACX,EACSF,EAASQ,MAAMb,KAAMW,UAC9B,EACA,SAASsC,EAASC,GAChB,IAAI1C,EAAsB,mBAAXmC,QAAyBA,OAAOC,SAC7CO,EAAI3C,GAAK0C,EAAE1C,GACXC,EAAI,EACN,GAAI0C,EAAG,OAAOA,EAAExD,KAAKuD,GACrB,GAAIA,GAAyB,iBAAbA,EAAEtC,OAAqB,MAAO,CAC5Ca,KAAM,WAEJ,OADIyB,GAAKzC,GAAKyC,EAAEtC,SAAQsC,OAAI,GACrB,CACL3B,MAAO2B,GAAKA,EAAEzC,KACdoB,MAAOqB,EAEV,GAEH,MAAM,IAAIrD,UAAUW,EAAI,0BAA4B,kCACtD,CACA,SAAS4C,EAAOF,EAAGxC,GACjB,IAAIyC,EAAsB,mBAAXR,QAAyBO,EAAEP,OAAOC,UACjD,IAAKO,EAAG,OAAOD,EACf,IACEG,EAEA3B,EAHEjB,EAAI0C,EAAExD,KAAKuD,GAEbI,EAAK,GAEP,IACE,WAAc,IAAN5C,GAAgBA,KAAM,MAAQ2C,EAAI5C,EAAEgB,QAAQI,MAAMyB,EAAGN,KAAKK,EAAE9B,MACrE,CAAC,MAAOgC,GACP7B,EAAI,CACF6B,MAAOA,EAEb,CAAY,QACR,IACMF,IAAMA,EAAExB,OAASsB,EAAI1C,EAAU,SAAI0C,EAAExD,KAAKc,EACpD,CAAc,QACR,GAAIiB,EAAG,MAAMA,EAAE6B,KAChB,CACF,CACD,OAAOD,CACT,CAC2B,mBAApBS,iBAAiCA,gBAMxC,IAAIiI,EAAU,SAAUC,EAAMC,GAC1B,IAAIC,EAAKhH,EAELiH,SAAeH,EAEnB,GAAIG,WADeF,EAEf,OAAO,EAEX,IACI,IAAK,IAAIG,EAAcpJ,EAPX,CAAC,SAAU,SAAU,UAAW,cAOAqJ,EAAgBD,EAAY5K,QAAS6K,EAAczK,KAAMyK,EAAgBD,EAAY5K,OAAQ,CAErI,GADQ6K,EAAc/K,QACZ6K,EACN,OAAOH,IAASC,CAEvB,CACJ,CACD,MAAOK,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQD,IAAkBA,EAAczK,OAASsD,EAAKkH,EAAYG,SAASrH,EAAGxF,KAAK0M,EAClF,CACO,QAAE,GAAIF,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CAED,GAAY,MAAR0I,GAAwB,MAARC,EAChB,OAAO,EAEN,GAAY,MAARD,GAAwB,MAARC,EACrB,OAAO,EAGX,GAAID,EAAKrL,SAAWsL,EAAKtL,OACrB,OAAO,EAGX,IAAI6L,EAAWlN,MAAMmN,QAAQT,GACzBU,EAAWpN,MAAMmN,QAAQR,GAC7B,GAAIO,IAAaE,EACb,OAAO,EAEX,IAAIF,IAAYE,EAQX,CAED,IAAIC,EAAUxN,OAAOwF,KAAKqH,GAAMY,OAC5BC,EAAU1N,OAAOwF,KAAKsH,GAAMW,OAChC,IAAKb,EAAQY,EAASE,GAClB,OAAO,EAGX,IAAIC,GAAW,EAMf,OALA3N,OAAOwF,KAAKqH,GAAMF,QAAQ,SAAUiB,GAC3BhB,EAAQC,EAAKe,GAAMd,EAAKc,MACzBD,GAAW,EAE3B,GACeA,CACV,CArBG,IAAK,IAAItM,EAAI,EAAGA,EAAIwL,EAAKrL,OAAQH,IAC7B,IAAKuL,EAAQC,EAAKxL,GAAIyL,EAAKzL,IACvB,OAAO,EAoBnB,OAAO,CACX,EAMKrB,OAAOwG,UACRxG,OAAOwG,QAAU,SAAUqH,GAIvB,IAHA,IAAIC,EAAW9N,OAAOwF,KAAKqI,GACvBxM,EAAIyM,EAAStM,OACbuM,EAAW,IAAI5N,MAAMkB,GAClBA,KACH0M,EAAS1M,GAAK,CAACyM,EAASzM,GAAIwM,EAAIC,EAASzM,KAE7C,OAAO0M,CACf,GAEA,IClMWC,EDkMPC,EAAmC,WACnC,SAASA,IACLrN,KAAKsN,SAAW,CAAEC,eAAgB,CAAE,GACpCvN,KAAKwN,UAAY,IAAIC,GACxB,CAoGD,OAnGAJ,EAAkB5N,UAAUiO,aAAe,WAEvC,IAAIjJ,EAAOzE,KACP2N,EAAuBtN,EAAS,CAAA,EAAIL,KAAKsN,SAASC,gBAClDK,EAAiBvN,EAASA,EAAS,GAAIL,KAAKsN,UAAW,CAAEC,eAAgBI,IAC7E,MAAO,CACHE,UAAW,SAAUC,GAEjB,OADAF,EAAeE,OAASA,EACjB9N,IACV,EACD+N,YAAa,SAAUC,GAEnB,OADAJ,EAAeI,SAAWA,EACnBhO,IACV,EACDiO,kBAAmB,SAAUV,GAEzB,OADAK,EAAeL,eAAiBA,EACzBvN,IACV,EACDkO,UAAW,SAAUvG,GAEjB,OADAiG,EAAejG,OAASA,EACjB3H,IACV,EACDmO,qBAAsB,SAAUC,GAC5B,IAAIjC,EAAKhH,EAAIkJ,EAAKxI,EAAIyI,EAAKrG,EACvBsG,EAAmBX,EAAeL,gBAAkB,GACxD,IACI,IAAK,IAAIrF,EAAKjF,EAAS7D,OAAOwG,QAAQwI,IAAWI,EAAKtG,EAAGzG,QAAS+M,EAAG3M,KAAM2M,EAAKtG,EAAGzG,OAAQ,CACvF,IAAIgN,EAAKrL,EAAOoL,EAAGjN,MAAO,GAAImN,EAASD,EAAG,GAAIE,EAAaF,EAAG,GAC9D,OAAQC,GACJ,IAjDZ,OAkDgB,IACI,IAAK,IAAIE,GAAMP,OAAM,EAAQpL,EAAS7D,OAAOwG,QAAQ+I,KAAeE,EAAKD,EAAGnN,QAASoN,EAAGhN,KAAMgN,EAAKD,EAAGnN,OAAQ,CAC1G,IAAIqN,EAAK1L,EAAOyL,EAAGtN,MAAO,GAAIyL,EAAM8B,EAAG,GAAIvN,EAAQuN,EAAG,GACtDP,EAAiBvB,GAAOzL,CAC3B,CACJ,CACD,MAAOwN,GAASV,EAAM,CAAE9K,MAAOwL,EAAU,CACjC,QACJ,IACQF,IAAOA,EAAGhN,OAASgE,EAAK+I,EAAGpC,SAAS3G,EAAGlG,KAAKiP,EACnD,CACO,QAAE,GAAIP,EAAK,MAAMA,EAAI9K,KAAQ,CACxC,CACD,MACJ,IA/DV,SAgEc,IACI,IAAK,IAAIyL,GAAMV,OAAM,EAAQrL,EAAS7D,OAAOwF,KAAK+J,KAAeM,EAAKD,EAAGvN,QAASwN,EAAGpN,KAAMoN,EAAKD,EAAGvN,OAAQ,QAEhG8M,EADHvB,EAAMiC,EAAG1N,MAEhB,CACJ,CACD,MAAO2N,GAASZ,EAAM,CAAE/K,MAAO2L,EAAU,CACjC,QACJ,IACQD,IAAOA,EAAGpN,OAASoG,EAAK+G,EAAGxC,SAASvE,EAAGtI,KAAKqP,EACnD,CACO,QAAE,GAAIV,EAAK,MAAMA,EAAI/K,KAAQ,CACxC,CACD,MACJ,IA7EN,YA8EUgL,EAAmB,CAAA,EAG9B,CACJ,CACD,MAAOhC,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQiC,IAAOA,EAAG3M,OAASsD,EAAK+C,EAAGsE,SAASrH,EAAGxF,KAAKuI,EACnD,CACO,QAAE,GAAIiE,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CAED,OADAqK,EAAeL,eAAiBgB,EACzBvO,IACV,EACDmP,OAAQ,WAEJ,OADA1K,EAAK2K,YAAYxB,GACV5N,IACV,EAEb,EACIqN,EAAkB5N,UAAU4P,YAAc,WACtC,OAAOhP,EAAS,CAAA,EAAIL,KAAKsN,SACjC,EACID,EAAkB5N,UAAU2P,YAAc,SAAU9B,GAChD,IAAIgC,EAAmBjP,EAAS,CAAE,EAAEL,KAAKsN,UACzCtN,KAAKsN,SAAWjN,EAAS,CAAE,EAAEiN,GACxBtB,EAAQsD,EAAkBtP,KAAKsN,WAChCtN,KAAKwN,UAAUzB,QAAQ,SAAUwD,GAC7BA,EAASjC,EACzB,EAEA,EACID,EAAkB5N,UAAU+P,oBAAsB,SAAUD,GACxDvP,KAAKwN,UAAUiC,IAAIF,EAC3B,EACIlC,EAAkB5N,UAAUiQ,uBAAyB,SAAUH,GAC3DvP,KAAKwN,UAAUmC,OAAOJ,EAC9B,EACWlC,CACX,IAEIuC,EAAmC,oBAAfrL,WAClBA,WACkB,oBAAXG,OACHA,OACAD,KAENoL,EAAoC,WACpC,SAASA,IACL7P,KAAK8P,cAAgB,IAAIzC,EACzBrN,KAAK+P,YAAc,IAAItE,EACvBzL,KAAKgQ,2BAA6B,IAAIjF,CACzC,CAWD,OAVA8E,EAAmBI,YAAc,SAAUzI,GAQvC,OAPKoI,EAAwC,8BACzCA,EAAwC,4BAAI,IAE3CA,EAAwC,4BAAEpI,KAC3CoI,EAAwC,4BAAEpI,GACtC,IAAIqI,GAELD,EAAwC,4BAAEpI,EACzD,EACWqI,CACX,IEvUWK,EAAmB,SAAUC,GACpC,IAAIC,EAAO,EACX,GAAmB,IAAfD,EAAIvP,OACJ,OAAOwP,EACX,IAAK,IAAI3P,EAAI,EAAGA,EAAI0P,EAAIvP,OAAQH,IAAK,CAEjC2P,GAAQA,GAAQ,GAAKA,EADXD,EAAIE,WAAW5P,GAEzB2P,GAAQ,CACX,CACD,OAAOA,CACX,ECRIE,EAA+B,WAC/B,SAASA,IACR,CA2FD,OA1FAA,EAAc7Q,UAAU8Q,KAAO,SAAUC,EAAYC,GACjD,OAAOtP,QAAQC,QAAQ,KAC/B,EACIkP,EAAc7Q,UAAUiR,cAAgB,SAAUC,GAC9C,IAAIxL,EAAIU,EAAIoC,EAAIC,EAAIsG,EAAIC,EAAIG,EAAIC,EAAIC,EAAIE,EAAIC,EAAI2B,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EACxF,GAA4B,iBAAjBX,EACP,OAAO,KAEX,IAAIY,EAAaZ,EAAaa,MAAQ,EAClCC,EAASzR,KAAK0R,YAAYH,GAC9B,OAAQE,GACJ,KAAKzN,EAAO2N,QACR,MAAO,CACHF,OAAQA,EACRF,WAAYA,EACZvP,KAAM,CACF4P,eAAwD,QAAvCzM,EAAKwL,EAAakB,uBAAoC,IAAP1M,EAAgBA,EAAK,EACrF2M,iBAA6D,QAA1CjM,EAAK8K,EAAaoB,0BAAuC,IAAPlM,EAAgBA,EAAK,EAC1FmM,iBAA6D,QAA1C/J,EAAK0I,EAAasB,0BAAuC,IAAPhK,EAAgBA,EAAK,IAGtG,KAAKjE,EAAOkO,QACR,MAAO,CACHT,OAAQA,EACRF,WAAYA,EACZvP,KAAM,CACFuB,MAAqC,QAA7B2E,EAAKyI,EAAapN,aAA0B,IAAP2E,EAAgBA,EAAK,GAClEiK,aAAoD,QAArC3D,EAAKmC,EAAayB,qBAAkC,IAAP5D,EAAgBA,EAAK,GACjF6D,wBAA4E,QAAlD5D,EAAKkC,EAAa2B,kCAA+C,IAAP7D,EAAgBA,EAAK,CAAE,EAC3G8D,wBAA4E,QAAlD3D,EAAK+B,EAAa6B,kCAA+C,IAAP5D,EAAgBA,EAAK,CAAE,EAC3G6D,2BAAmF,QAAtD5D,EAAK8B,EAAa+B,sCAAmD,IAAP7D,EAAgBA,EAAK,CAAE,EAClH8D,aAAoD,QAArC7D,EAAK6B,EAAaiC,qBAAkC,IAAP9D,EAAgBA,EAAK,EACjF+D,0BAAgF,QAApD7D,EAAK2B,EAAamC,oCAAiD,IAAP9D,EAAgBA,EAAK,CAAE,EAC/G+D,gBAA0D,QAAxC9D,EAAK0B,EAAaqC,wBAAqC,IAAP/D,EAAgBA,EAAK,GACvFgE,eAAwD,QAAvCrC,EAAKD,EAAauC,uBAAoC,IAAPtC,EAAgBA,EAAK,GACrFuC,iBAA4D,QAAzCtC,EAAKF,EAAayC,yBAAsC,IAAPvC,EAAgBA,EAAK,CAAE,EAC3FwC,gBAA0D,QAAxCvC,EAAKH,EAAa2C,wBAAqC,IAAPxC,EAAgBA,EAAK,KAGnG,KAAK9M,EAAOuP,gBACR,MAAO,CACH9B,OAAQA,EACRF,WAAYA,EACZvP,KAAM,CACFuB,MAAqC,QAA7BwN,EAAKJ,EAAapN,aAA0B,IAAPwN,EAAgBA,EAAK,KAG9E,KAAK/M,EAAOwP,UACR,MAAO,CACH/B,OAAQA,EACRF,WAAYA,EACZvP,KAAM,CACFuB,MAAqC,QAA7ByN,EAAKL,EAAapN,aAA0B,IAAPyN,EAAgBA,EAAK,GAClE2B,aAAoD,QAArC1B,EAAKN,EAAaiC,qBAAkC,IAAP3B,EAAgBA,EAAK,EACjFkC,iBAA4D,QAAzCjC,EAAKP,EAAayC,yBAAsC,IAAPlC,EAAgBA,EAAK,CAAE,EAC3FuC,eAAwD,QAAvCtC,EAAKR,EAAa+C,uBAAoC,IAAPvC,EAAgBA,EAAK,CAAE,EACvF0B,0BAAgF,QAApDzB,EAAKT,EAAamC,oCAAiD,IAAP1B,EAAgBA,EAAK,CAAE,EAC/GuC,wBAA4E,QAAlDtC,EAAKV,EAAaiD,kCAA+C,IAAPvC,EAAgBA,EAAK,CAAE,EAC3GgC,gBAA0D,QAAxC/B,EAAKX,EAAa2C,wBAAqC,IAAPhC,EAAgBA,EAAK,KAGnG,KAAKtN,EAAO6P,QACZ,QACI,MAAO,CACHpC,OAAQA,EACRF,WAAYA,GAGhC,EACIjB,EAAc7Q,UAAUiS,YAAc,SAAUF,GAC5C,OCtED,SAA6BA,GAChC,OAAOA,GAAQ,KAAOA,EAAO,GACjC,CDoEYsC,CAAoBtC,GACbxN,EAAO2N,QAEL,MAATH,EACOxN,EAAOwP,UAEL,MAAThC,EACOxN,EAAOuP,gBAEL,MAAT/B,EACOxN,EAAO6P,QAEdrC,GAAQ,KAAOA,EAAO,IACfxN,EAAOkO,QAEdV,GAAQ,IACDxN,EAAO+P,OAEX/P,EAAOgQ,OACtB,EACW1D,CACX,IE9FI2D,EAAgC,SAAUC,GAE1C,SAASD,EAAeE,QACE,IAAlBA,IAA4BA,EAAgB,CAAE,GAClD,IAAIC,EAAQF,EAAOvU,KAAKK,OAASA,KAEjC,OADAoU,EAAMD,cAAgBA,EACfC,CACV,CAkCD,OAxCAxU,EAAUqU,EAAgBC,GAO1BD,EAAexU,UAAU8Q,KAAO,SAAU3I,EAAWyM,GACjD,OAAOvT,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIgI,EAASsM,EAAUC,EACvB,OAAOxS,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAED,GAAqB,oBAAVoS,MACP,MAAM,IAAIvN,MAAM,mCAOpB,OALAe,EAAU,CACNyM,QAASpU,EAAS,CAAE,eAAgB,mBAAoBqU,OAAQ,OAAS1U,KAAKmU,eAC9EnS,KAAM6I,KAAKC,UAAUuJ,GACrBM,OAAQ,QAEL,CAAC,EAAaH,MAAM5M,EAAWI,IAC1C,KAAK,EAED,MAAO,CAAC,GADRsM,EAAWnP,EAAG9C,QACgB8H,QAClC,KAAK,EACDoK,EAAepP,EAAG9C,OAClB,IAEI,MAAO,CAAC,EAAcrC,KAAK0Q,cAAc7F,KAAK+J,MAAML,IACvD,CACD,MAAO1O,GACH,MAAO,CAAC,EAAc7F,KAAK0Q,cAAc,CAAEc,KAAM8C,EAAS7C,SAC7D,CACD,MAAO,CAAC,GAEhC,EACA,EACA,EACWwC,CACX,CA1CkB,CA0ChB3D,GC5CEuE,EAA0C,WAC1C,SAASA,EAAyBxM,EAAQsB,GACtC3J,KAAKgN,IAAM,qBAAqBlJ,OAAOuE,EAAOyM,UAAU,EAAG,KAC3D9U,KAAK2J,OAASA,CACjB,CA2CD,OA1CAkL,EAAyBpV,UAAUsV,YAAc,WAC7C,IAAInT,EAAS,KACToT,EAAyB,CACzBC,aAAc,KACdC,UAAW,IAAI3K,MAEnB,IACI3I,EAASuT,aAAaC,QAAQpV,KAAKgN,IACtC,CACD,MAAOzJ,GAEH,OADAvD,KAAK2J,OAAOzC,MAAM,gDAAiD3D,GAC5DpC,QAAQC,QAAQ4T,EAC1B,CACD,GAAe,OAAXpT,EAEA,OADA5B,KAAK2J,OAAOzC,MAAM,uEACX/F,QAAQC,QAAQ4T,GAE3B,IACI,IAAIK,EAAmBxK,KAAK+J,MAAMhT,GAElC,OADA5B,KAAK2J,OAAOzC,MAAM,mDAAmDpD,OAAO+G,KAAKC,UAAUuK,KACpFlU,QAAQC,QAAQ,CACnB6T,aAAcI,EAAiBJ,aAC/BC,UAAW,IAAI3K,KAAK8K,EAAiBH,YAE5C,CACD,MAAO3R,GAGH,OAFAvD,KAAK2J,OAAOzC,MAAM,+CAAgD3D,GAClE4R,aAAaG,WAAWtV,KAAKgN,KACtB7L,QAAQC,QAAQ4T,EAC1B,CACT,EACIH,EAAyBpV,UAAU8V,UAAY,SAAUC,GACrD,IAGI,OAFAL,aAAaM,QAAQzV,KAAKgN,IAAKnC,KAAKC,UAAU0K,IAC9CxV,KAAK2J,OAAOzC,MAAM,gDACX/F,QAAQC,SAAQ,EAC1B,CACD,MAAOmC,GACHvD,KAAK2J,OAAOzC,MAAM,6CAA8C3D,EACnE,CACD,OAAOpC,QAAQC,SAAQ,EAC/B,EACWyT,CACX,IChCIa,EAAoC,WACpC,SAASA,EAAmBrN,EAAQsB,EAAQ9B,EAAYD,QACjC,IAAfC,IAAyBA,EAAa,MAE1C7H,KAAK2V,cAAgB,GAErB3V,KAAK4V,oBAAsB,KAE3B5V,KAAK6V,aAAe,KACpB7V,KAAKqI,OAASA,EACdrI,KAAK4H,UAAYA,IAA6B,OAAfC,EAvBZ,6CACA,iDAuBnB7H,KAAK2J,OAASA,EACd3J,KAAK8V,QAAU,IAAIjB,EAAyBxM,EAAQsB,EACvD,CAmTD,OAlTA+L,EAAmBjW,UAAUsW,UAAY,SAAU/I,EAAKgJ,EAAcC,GAClE,IAAIC,EAAKjR,IACLkR,EAAe,CACfD,GAAIA,EACJlJ,IAAKA,EACLgJ,aAAcA,EACdC,SAAUA,GASd,OAPAjW,KAAK2V,cAAc3S,KAAKmT,GACH,QAAjBH,EACKhW,KAAKoW,aAAaD,GAGlBnW,KAAKqW,uBAAuBF,EAAcH,EAAaM,SAEzDJ,CACf,EACIR,EAAmBjW,UAAU8W,YAAc,SAAUL,GACjD,IAAIpR,EAAQ9E,KAAK2V,cAAca,UAAU,SAAUL,GAAgB,OAAOA,EAAaD,KAAOA,CAAK,GACnG,OAAe,IAAXpR,GACA9E,KAAK2J,OAAOzC,MAAM,oEAAoEpD,OAAOoS,EAAI,qBAC1F,IAEXlW,KAAK2V,cAAcc,OAAO3R,EAAO,GACjC9E,KAAK2J,OAAOzC,MAAM,wEAAwEpD,OAAOoS,EAAI,OAC9F,EACf,EACIR,EAAmBjW,UAAUiX,cAAgB,WACzC,OAAO5V,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAwB4B,EACpBwS,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAED,OAAIpC,KAAK4V,qBACgBrL,KAAKoM,MAAQ3W,KAAK4V,oBAnD5B,KAqDP5V,KAAK2J,OAAOzC,MAAM,2DACX,CAAC,IAGT,CAAC,EAAalH,KAAK4W,2BAC9B,KAAK,EAMD,OALAhV,EAASuD,EAAG9C,OACPrC,KAAK8V,QAAQP,UAAU3T,GAC5B5B,KAAK2V,cAAc5J,QAAQ,SAAUoK,GACjC/B,EAAMyC,aAAaV,EAAcvU,EAAQ,SACrE,GAC+B,CAAC,GAEhC,EACA,EACA,EAKI8T,EAAmBjW,UAAUmX,wBAA0B,WACnD,IAAIxC,EAAQpU,KACZ,OAAIA,KAAK6V,eAGT7V,KAAK6V,aAAe7V,KAAKwU,QACpB1S,KAAK,SAAUF,GAKhB,OAH4B,OAAxBA,EAAOqT,eACPb,EAAMwB,oBAAsBrL,KAAKoM,OAE9B/U,CACnB,GACakV,QAAQ,WAET1C,EAAMyB,aAAe,IACjC,IAbmB7V,KAAK6V,YAexB,EAMIH,EAAmBjW,UAAU2W,aAAe,SAAUD,GAClD,OAAOrV,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI+W,EAAeC,EAAcpV,EAC7BwS,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EASD,OARA2U,EAAgB/W,KAAK4W,0BAA0B9U,KAAK,SAAUF,GAC1DwS,EAAMzK,OAAOzC,MAAM,mEAAmEpD,OAAO+G,KAAKC,UAAUlJ,KAC5GwS,EAAMyC,aAAaV,EAAcvU,EAAQ,UACpCwS,EAAM0B,QAAQP,UAAU3T,EACzD,GACwBoV,EAAehX,KAAK8V,QAAQf,cAAcjT,KAAK,SAAUF,GACrD,OAAOA,CACnC,GAC+B,CAAC,EAAaT,QAAQ8V,KAAK,CAACF,EAAeC,KACtD,KAAK,EAaD,YAVevO,KAFf7G,EAASuD,EAAG9C,UAGRrC,KAAK2J,OAAOzC,MAAM,kEAAkEpD,OAAO+G,KAAKC,UAAUlJ,KAE9E,OAAxBA,EAAOqT,aACPjV,KAAK6W,aAAaV,EAAcvU,EAAQ,SAGxC5B,KAAK2J,OAAOzC,MAAM,0FAGnB,CAAC,EAAa6P,GACzB,KAAK,EAED,OADA5R,EAAG9C,OACI,CAAC,GAEhC,EACA,EACA,EAIIqT,EAAmBjW,UAAU4W,uBAAyB,SAAUF,EAAcG,GAC1E,OAAOxV,EAAUd,UAAM,OAAQ,EAAQ,WAChC,IAACkX,EAAiCtV,EACrC,OAAOG,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD8U,EAAiB,IAAI/V,QAAQ,SAAUgB,EAAGd,GACtC8V,WAAW,WACP9V,EAAO,mBACV,EAAEiV,EAC/B,GACwBnR,EAAG/C,MAAQ,EACf,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAa7B,QAAQ8V,KAAK,CAC1BjX,KAAK4W,0BACLM,KAEZ,KAAK,EAKD,OAJAtV,EAAUuD,EAAG9C,OACbrC,KAAK2J,OAAOzC,MAAM,+EAClBlH,KAAK6W,aAAaV,EAAcvU,EAAQ,UACnC5B,KAAK8V,QAAQP,UAAU3T,GACrB,CAAC,EAAa,GACzB,KAAK,EAGD,OAFUuD,EAAG9C,OACbrC,KAAK2J,OAAOzC,MAAM,qGACX,CAAC,EAAalH,KAAK8V,QAAQf,eACtC,KAAK,EAUD,OAR4B,QAD5BnT,EAASuD,EAAG9C,QACD4S,cACPjV,KAAK2J,OAAOzC,MAAM,iFAClBlH,KAAK6W,aAAaV,EAAcvU,EAAQ,WAGxC5B,KAAK2J,OAAOzC,MAAM,iFAClBlH,KAAK6W,aAAaV,EAAcvU,EAAQ,WAErC,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAEpC,EACA,EACA,EAKI8T,EAAmBjW,UAAUoX,aAAe,SAAUV,EAAcd,EAAkB+B,GAElF,IAAIC,EADJlB,EAAamB,aAAe,IAAI/M,KAO5B8M,EALAlB,EAAanJ,IAKImJ,EAAanJ,IAAI9C,MAAM,KAAKqN,OAAO,SAAU/B,EAAQxI,GAClE,OAAe,OAAXwI,EACOA,EAEJxI,KAAOwI,EAASA,EAAOxI,GAAO,IACrD,EAAeqI,EAAiBJ,cAGHI,EAAiBJ,aAEtCkB,EAAaF,SAASoB,EAAgBD,EAAQ/B,EAAiBH,UACvE,EAaIQ,EAAmBjW,UAAU+U,MAAQ,SAAUgD,EAASlB,GAGpD,YAFgB,IAAZkB,IAAsBA,EApOD,QAqOT,IAAZlB,IAAsBA,EAhOZ,KAiOPxV,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIyX,EAAUzC,EAAwB0C,EAASC,EAAQC,EAASC,EAC5DzD,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACDqV,EAAWnB,EAAUkB,EACrBxC,EAAyB,CACrBC,aAAc,KACdC,UAAW,IAAI3K,MAEnBmN,EAAU,SAAUE,GAChB,IAAIE,EAAiBC,EAAWC,EAAKhW,EAAoBiW,EACzD,OAAOlW,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EACD0V,EAAkB,IAAII,gBACtBH,EAAYZ,WAAW,WAAc,OAAOW,EAAgBK,OAAQ,EAAI7B,GACxEzQ,EAAGzD,MAAQ,EACf,KAAK,EAED,OADAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAG,EAAG,IAChB,CAAC,EAAawR,MAAMmD,EAAOS,eAAgB,CAC1CzD,OAAQ,MACRF,QAAS,CACLC,OAAQ,OAEZ2D,OAAQP,EAAgBO,UAEpC,KAAK,EAED,OADAL,EAAMnS,EAAGxD,QACCiW,GAAW,CAAC,EAAa,GAC5B,CAAC,EAAaN,EAAI7N,QAC7B,KAAK,EAGD,OAFAnI,EAAO6D,EAAGxD,OACVsV,EAAOhO,OAAOzC,MAAM,8CAA8CpD,OAAO0T,EAAS,iBAAiB1T,OAAOkU,EAAIvG,OAAQ,MAAM3N,OAAO9B,IAC5H,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAagW,EAAIO,QACjC,KAAK,EAED,MAAO,CAAC,EAAc,CAAEhX,MAAO,CACnB0T,aAFIpP,EAAGxD,OAGP6S,UAAW,IAAI3K,QAE/B,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EASD,OARA0N,EAAUpS,EAAGxD,kBAEU4E,OAA0B,eAAjBgR,EAAQlO,KACpC4N,EAAOhO,OAAOzC,MAAM,8CAA8CpD,OAAO0T,EAAS,qBAAqB1T,OAAOwS,EAAS,OAGvHqB,EAAOhO,OAAOzC,MAAM,8CAA8CpD,OAAO0T,EAAS,0BAA2BS,GAE1G,CAAC,EAAa,GACzB,KAAK,EAGD,OADAO,aAAaT,GACN,CAAC,GACZ,KAAK,EACD,OAAMH,EAAUJ,EAAU,EACnB,CAAC,EAAa,IAAIrW,QAAQ,SAAUC,GAAW,OAAO+V,WAAW/V,EAASgT,EAAMqE,eAAehB,GAAW,IAD5E,CAAC,EAAa,IAEvD,KAAK,GACD5R,EAAGxD,OACHwD,EAAGzD,MAAQ,GACf,KAAK,GAAI,MAAO,CAAC,GAErD,EACA,EACwBuV,EAAS3X,KACT4X,EAAU,EACVzS,EAAG/C,MAAQ,EACf,KAAK,EACD,OAAMwV,EAAUJ,EACT,CAAC,EAAcE,EAAQE,IADG,CAAC,EAAa,GAEnD,KAAK,EAED,GAAuB,iBADvBC,EAAU1S,EAAG9C,QAET,MAAO,CAAC,EAAcwV,EAAQtW,OAClC4D,EAAG/C,MAAQ,EACf,KAAK,EAED,OADAwV,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAc5C,GAElD,EACA,EACA,EAIIU,EAAmBjW,UAAUgZ,eAAiB,SAAUC,GACpD,OAAOnT,KAAKoT,MAAMpT,KAAKC,SAAWkT,EAC1C,EACIhD,EAAmBjW,UAAU2Y,aAAe,WAExC,IAAIQ,EAAgBC,mBAAmB7Y,KAAKqI,QACxCyQ,EAAY,IAAIC,gBAEpB,OADAD,EAAUE,OAAO,eAAgBtD,EAAmBuD,cAC7C,GAAGnV,OAAO9D,KAAK4H,UAAW,KAAK9D,OAAO8U,EAAe,KAAK9U,OAAOgV,EAAU/T,WAC1F,EACI2Q,EAAmBuD,aAAe,UAC3BvD,CACX,KN7UA,SAAWtI,GACPA,EAAe,GAAI,KACnBA,EAAe,GAAI,KAInBA,EAAoB,QAAI,SAC3B,CAPD,CAOGA,IAAeA,EAAa,CAAA,IOVxB,IAwBI8L,EAxBAC,EAAgC,cAChCC,EAAkC,GAAGtV,OAAOqV,EAA+B,sBAI3EE,EAAsBjM,EAAWkM,GACjCC,EAA6B,CAAEC,SAAS,GAExCC,EAAgC,GAAG3V,OAAOqV,EAA+B,yBAEzEO,EAAkB,YAe7B,SAAWR,GACPA,EAA+B,aAAI,eACnCA,EAA6B,WAAI,aACjCA,EAAgC,cAAI,gBACpCA,EAA2B,SAAI,WAC/BA,EAAqC,mBAAI,oBAC5C,CAND,CAMGA,IAAqBA,EAAmB,CAAA,IChC3C,IAAIS,EAAoC,WACpC,SAASA,EAAmBlS,GACxBzH,KAAK2J,OAASlC,EACdzH,KAAK2G,IAAM3G,KAAK4Z,cAAc,OAC9B5Z,KAAKgH,KAAOhH,KAAK4Z,cAAc,QAC/B5Z,KAAKuD,MAAQvD,KAAK4Z,cAAc,SAChC5Z,KAAKkH,MAAQlH,KAAK4Z,cAAc,QACnC,CAuBD,OAtBAD,EAAmBla,UAAUma,cAAgB,SAAUjF,GACnD,IAAIxP,EACJ,IAAKnF,KAAK2J,OACN,kBAEC,EAEL,IAAIL,EAAKtJ,KAAK2J,OAAOgL,GACrB,MAAkB,mBAAPrL,GAC2C,QAAhCnE,EAAKmE,EAAGuQ,0BAAuC,IAAP1U,EAAgBA,EAAKmE,GAC7DwQ,KAAK9Z,KAAK2J,mBAI/B,CACT,EACIgQ,EAAmBla,UAAUgH,OAAS,SAAUH,GAC5CtG,KAAK2J,OAAOlD,OAAOH,EAC3B,EACIqT,EAAmBla,UAAU+G,QAAU,WACnCxG,KAAK2J,OAAOnD,SACpB,EACWmT,CACX,IC/BWI,EAAqB,SCUhC,IAAIC,EAAmB,SAAUC,EAAaC,EAAOC,GACjD,OAAQD,GACJ,IAAK,QACD,GAAoB,UAAhBD,EACA,OAAO,EAEX,IAAIG,EAAYD,ECPrB,SAAsBA,GAEzB,IAAIrQ,EAAOqQ,EAAQrQ,KACnB,OAAOqQ,EAAQE,aAAa,uBACtB,WACAvQ,EAEkBA,EAfbwQ,cAgBD,IACd,CDFsCC,CAAaJ,GAAW,GAElD,QAAKC,MAGD,CAAC,WAAY,SAAU,QAAS,OAAOrU,SAASqU,MAGhDD,EAAQK,aAAaC,WAAW,QAKxC,IAAK,SACL,IAAK,eACD,OAAO,EACX,QACI,OAAOT,EAAiBC,EAAaF,EAAoBI,GAErE,EAkCWO,EAAS,SAAUT,EAAazE,GACvC,OAAO,SAAUrL,EAAMgQ,GACnB,OA5BO,SAAUF,EAAazE,EAAQ2E,GAC1C,IAAIhV,EAAIU,EAAIoC,EAEZ,QADe,IAAXuN,IAAqBA,EAAS,CAAEmF,iBAAkBZ,IAClDI,EAAS,CAET,GAAIA,EAAQS,QAAQ,IAAMlB,GACtB,OAAO,EAGX,IAAImB,GAA6C,QAA9B1V,EAAKqQ,EAAOsF,oBAAiC,IAAP3V,EAAgBA,EAAK,IAAI4V,KAAK,SAAUC,GAAY,OAAOb,EAAQS,QAAQI,EAAU,GAC9I,GAAIH,EACA,OAAO,EAGX,GAAIV,EAAQS,QAAQ,eAChB,OAAO,EAIX,IAAIK,GAAiD,QAAhCpV,EAAK2P,EAAO0F,sBAAmC,IAAPrV,EAAgBA,EAAK,IAAIkV,KAAK,SAAUC,GAAY,OAAOb,EAAQS,QAAQI,EAAU,GAClJ,GAAIC,EACA,OAAO,CAEd,CACD,OAAOjB,EAAiBC,EAAgD,QAAlChS,EAAKuN,EAAOmF,wBAAqC,IAAP1S,EAAgBA,EAAK8R,EAAoBI,EAC7H,CAGegB,CAASlB,EAAazE,EAAQ2E,GAAWhQ,EAAK1E,QAAQ,SAAU,KAAO0E,CACtF,CACA,EAQWhB,GAAe,SAAUtB,EAAYuT,GAC5C,OAAIA,IAGAvT,IAAeuF,EAAWiO,QHtEM,uDGyEhCxT,IAAeuF,EAAWkO,GH1EC,oDADI,iDG+EvC,EASIC,GAAc,SAAUC,GAExB,IAAIC,EAAUD,EACT/V,QAAQ,oBAAqB,QAC7BA,QAAQ,MAAO,MACfA,QAAQ,MAAO,KACpB,OAAO,IAAIiW,OAAO,IAAI5X,OAAO2X,EAAS,KAC1C,EAWWE,GAAa,SAAUC,EAASC,GACvC,IAAI1P,EAAKhH,EACT,IAEI,IAAK,IAAI2W,EAAmB7Y,EAAS4Y,GAAiBE,EAAqBD,EAAiBra,QAASsa,EAAmBla,KAAMka,EAAqBD,EAAiBra,OAAQ,CACxK,IAAIua,EAAOD,EAAmBxa,MAC1B0a,EAAQV,GAAYS,EAAKhB,UAC7B,GAAIiB,EAAMC,KAAKN,GACX,OAAOA,EAAQnW,QAAQwW,EAAOD,EAAKG,YAE1C,CACJ,CACD,MAAO5P,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQwP,IAAuBA,EAAmBla,OAASsD,EAAK2W,EAAiBtP,SAASrH,EAAGxF,KAAKmc,EACjG,CACO,QAAE,GAAI3P,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CACD,OAAOqY,CACX,EACWQ,GAAiB,WAAc,OAAOtb,OAAU,OAAQ,OAAQ,EAAQ,WAC5E,IAACsE,EAAaD,EAAIkX,EAAOC,EAAOC,EAAcC,EAAkBC,EACnE,OAAO1a,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAGD,OAFAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,KACtBoC,EAAcf,KAEP,CAAC,EAAae,EAAYmG,UAAUuK,QAAQ4G,YAD1B,CAAC,EAAa,GAE3C,KAAK,EAID,OAHAvX,EAAKU,EAAGxD,OAAQga,EAAQlX,EAAGkX,MAAOC,EAAQnX,EAAGmX,MAAOC,EAAepX,EAAGoX,aACtEC,EAAmBH,EAAQ9W,KAAKoX,MAAMN,EHhIjC,MGgIoD,EACzDI,EAAiBJ,GAASC,EAAQ/W,KAAKoX,MAAyC,KAAlCN,EAAQC,EAAQM,OAAOC,UAAmB,IAAO,EACxF,CAAC,EAAc,CAAEL,iBAAkBA,EAAkBC,eAAgBA,EAAgBF,aAAc1R,KAAKC,UAAUyR,KAC7H,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAED,OADM1W,EAAGxD,OACF,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAc,CAAEma,iBAAkB,EAAGC,eAAgB,EAAGF,aAAc,KAElG,EACA,EAAG,EACQO,GAAiB,SAAUtH,GAClC,IAAIuH,EAAc1c,EAAS,CAAE,EAAEmV,GAC3BnN,EAAS0U,EAAY1U,OAEzB,OADA0U,EAAY1U,OAAS,OAAOvE,OAAOuE,EAAOyM,UAAUzM,EAAOzH,OAAS,IAC7Dmc,CACX,EElKW3V,GAAmB,WAAc,MAAQ,CAChDC,gBAAiB,EACjBf,SAAUlC,EAASsC,KACnBe,eAAgB,IAAIpB,EACpBsC,kBAAmB,IAAIsL,IAEvB+I,GAA0C,SAAU9I,GAEpD,SAAS8I,EAAyB3U,EAAQL,GACtC,IACI7C,EAAIU,EAAIoC,EAAIC,EAAIsG,EAAIC,EADpB2F,EAAQpU,KAERoI,EAAgBhB,KAiCpB,IAhCAgN,EAAQF,EAAOvU,KAAKK,KAAMK,EAASA,EAAS,CAAEsI,kBAAmBP,EAAcO,kBAAmBlB,eAAgB,IAAIkS,EAAmB3R,EAAQP,gBAAkBW,EAAcX,iBAAmBO,GAAU,CAAEK,OAAQA,MAAcrI,MAChOqH,qBAC0BoB,IAA5BT,EAAQX,iBAAiCW,EAAQX,iBAAmBe,EAAcf,gBAC5EW,EAAQX,gBACRe,EAAcf,gBACxB+M,EAAM/L,OAASA,EACf+L,EAAM6I,WAAajV,EAAQiV,YLlBF,EKmBzB7I,EAAMvM,WAAaG,EAAQH,YAAcwR,EACzCjF,EAAM8I,gBAAkBlV,EAAQkV,gBAChC9I,EAAMgH,eAAiBpT,EAAQoT,eAC/BhH,EAAM+I,uBAAyBnV,EAAQmV,uBACvC/I,EAAMgJ,QAAUpV,EAAQoV,QACxBhJ,EAAMiJ,kBAAoBrV,EAAQqV,mBAAqB9D,EACvDnF,EAAMkJ,UAAyC,QAA5BnY,EAAK6C,EAAQsV,iBAA8B,IAAPnY,EAAgBA,EAAK,MAC5EiP,EAAMmJ,sCAAiG,QAAxD1X,EAAKmC,EAAQuV,6CAA0D,IAAP1X,GAAgBA,EAC/HuO,EAAMoJ,uBAAmE,QAAzCvV,EAAKD,EAAQwV,8BAA2C,IAAPvV,GAAgBA,EACjGmM,EAAMqJ,yBAAuE,QAA3CvV,EAAKF,EAAQyV,gCAA6C,IAAPvV,EAAgBA,ELzB5D,IK0BzCkM,EAAMsJ,qBAA+D,QAAvClP,EAAKxG,EAAQ0V,4BAAyC,IAAPlP,GAAgBA,EACzFxG,EAAQ2V,gBACRvJ,EAAMuJ,cAAgB3V,EAAQ2V,eAE9B3V,EAAQ4V,oBACRxJ,EAAMwJ,kBAAoB5V,EAAQ4V,kBAE9BxJ,EAAMwJ,kBAAkB/B,gBFoEJ,SAAUA,GAE1C,IAAKA,EAAegC,MAAM,SAAU7B,GAAQ,MAAgC,iBAAlBA,EAAKhB,UAAqD,iBAArBgB,EAAKG,WAA2B,GAC3H,MAAM,IAAIlV,MAAM,uFAGpB,IAAK4U,EAAegC,MAAM,SAAU7B,GAAQ,MArBrB,iBADI8B,EAsBuC9B,EAAKhB,WArBjB,KAAnB8C,EAAQ1T,UAE1B,0BACD8R,KAAK4B,GAJJ,IAAUA,CAsBsD,GAC7E,MAAM,IAAI7W,MAAM,8DAExB,CE5EgB8W,CAAuB3J,EAAMwJ,kBAAkB/B,iBAGnD7T,EAAQgW,YACR5J,EAAM4J,UAAYhW,EAAQgW,gBAGDvV,IAAzBT,EAAQiW,aACR7J,EAAM6J,aAAejW,EAAQiW,iBAE5B,CACD,IAAIC,EAAgBlW,OAC6ES,KAAtD,QAArCgG,EAAKyP,EAAcC,oBAAiC,IAAP1P,OAAgB,EAASA,EAAGwP,gBAC3E7J,EAAM6J,aAAeC,EAAcC,aAAaF,aAEvD,CAID,OAHIjW,EAAQoW,kBACRhK,EAAMgK,gBAAkBpW,EAAQoW,iBAE7BhK,CACV,CACD,OAnDAxU,EAAUod,EAA0B9I,GAmD7B8I,CACX,CArD4B,CAqD1BjV,GChEEsW,GAA4B,CAAEC,IAChCA,EAAWA,EAA6B,iBAAI,GAAK,mBACjDA,EAAWA,EAAiB,KAAI,GAAK,OACrCA,EAAWA,EAAyB,aAAI,GAAK,eAC7CA,EAAWA,EAAgC,oBAAI,GAAK,sBACpDA,EAAWA,EAAiB,KAAI,GAAK,OACrCA,EAAWA,EAAmB,OAAI,GAAK,SACvCA,EAAWA,EAAmB,OAAI,GAAK,SAChCA,GARuB,CAS7BD,IAAa,CAAA,GAqBZE,GAAoC,CAAEC,IACxCA,EAAmBA,EAA4B,QAAI,GAAK,UACxDA,EAAmBA,EAA8B,UAAI,GAAK,YAC1DA,EAAmBA,EAA0B,MAAI,GAAK,QACtDA,EAAmBA,EAAgC,YAAI,GAAK,cAC5DA,EAAmBA,EAA6B,SAAI,GAAK,WACzDA,EAAmBA,EAA0B,MAAI,GAAK,QACtDA,EAAmBA,EAAyB,KAAI,GAAK,OACrDA,EAAmBA,EAA+B,WAAI,GAAK,aAC3DA,EAAmBA,EAAuC,mBAAI,GAAK,qBACnEA,EAAmBA,EAA6B,SAAI,GAAK,WACzDA,EAAmBA,EAAgC,YAAI,IAAM,cACtDA,GAZ+B,CAarCD,IAAqB,CAAA,GCXpBE,GAAoD,WACpD,SAASA,EAAmCC,EAAoBC,GAC5D3e,KAAK2e,YAAcA,EACnB3e,KAAK0e,mBAAqBA,CAC7B,CA2MD,OA1MAD,EAAmChf,UAAUmf,qBAAuB,WAChE,IAAIzZ,EAAIU,EAAIoC,EACZ,OAAOnH,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIwV,EAAQqJ,EAA2BC,EAASC,EAAgBC,EAAqBC,EAAiBC,EAAoBC,EAAqBC,EAA0BC,EAAanX,EAAIsG,EAAIC,EAAIuM,EAAUsE,EACxMnT,EAAKyC,EACLwF,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAU6O,GAC/B,OAAQA,EAAGzM,OACP,KAAK,GACDoT,EAASnV,EAAS,CAAA,EAAIL,KAAK2e,cAEpBhX,OAAS3H,KAAK2e,YAAYhX,OAGjC6N,EAAO+J,gBAAiB,EACxB1Q,EAAGzM,MAAQ,EACf,KAAK,EAGD,OAFAyM,EAAGvM,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IAEf,CAAC,EAAa,IAAI7B,QAAQ,SAAUC,EAASC,GAC5C+S,EAAMsK,mBAAmB3I,UAAU,wBAAyB,MAAO,SAAUd,EAAcmC,GACvF,IAAIjS,EAEJ,GADAiP,EAAMuK,YAAYlX,eAAeP,MAAM,qDAAqDpD,OAAOsT,EAAQ,KAAMvM,KAAKC,UAAUmK,EAAc,KAAM,IAC/IA,EAAL,CAKA,IAAIuK,EAAkBvK,EAClB8J,EAAiBS,EAAgBC,mBACjC9B,EAAgB6B,EAAgBE,kBAChCT,EAAkBO,EAAgBG,oBAClC9D,EAAqD,QAAnC1W,EAAKqQ,EAAOoI,yBAAsC,IAAPzY,OAAgB,EAASA,EAAG0W,eAE7FrG,EAAOoI,kBAAoB4B,EAAgBI,sBACvCpK,EAAOoI,mBAAqB/B,IAC5BrG,EAAOoI,kBAAkB/B,eAAiBA,GAG9CrG,EAAOqK,cAAgBL,EAAgBM,mBACnCf,GAAkBpB,GAAiBsB,KACnCJ,EAA4B,CAAA,EACxBE,IACAF,EAA0BY,mBAAqBV,GAE/CpB,IACAkB,EAA0Ba,kBAAoB/B,GAE9CsB,IACAJ,EAA0Bc,oBAAsBV,IAIxD7d,GA3BC,MAFGC,EAAO,IAAI4F,MAAM,6BA8BzD,EAC6B,IACT,KAAK,EAGD,OADA4H,EAAGxM,OACI,CAAC,EAAa,GACzB,KAAK,EAID,OAHAyc,EAAUjQ,EAAGxM,OACbrC,KAAK2e,YAAYlX,eAAelE,MAAM,qCAAsCub,GAC5EtJ,EAAO+J,gBAAiB,EACjB,CAAC,EAAc,CACdZ,YAAa3e,KAAK2e,YAClBoB,aAAcvK,EACdP,kBAAcxM,IAE1B,KAAK,EACD,IAAKoW,EACD,MAAO,CAAC,EAAc,CACdF,YAAa3e,KAAK2e,YAClBoB,aAAcvK,EACdP,aAAc4J,IAmC1B,GAhCAE,EAAiBF,EAA0BY,mBAAoBT,EAAsBH,EAA0Ba,kBAAmBT,EAAkBJ,EAA0Bc,oBAC1KZ,GAAkB3f,OAAOwF,KAAKma,GAAgBne,OAAS,GACnDxB,OAAOK,UAAUC,eAAeC,KAAKof,EAAgB,mBACrDvJ,EAAO+J,eAAiBR,EAAeiB,gBAGvCxK,EAAO+J,gBAAiB,EAExBngB,OAAOK,UAAUC,eAAeC,KAAKof,EAAgB,iBACrDvJ,EAAOyH,WAAa8B,EAAekB,eAOvCzK,EAAO+J,gBAAiB,EACxBvf,KAAK2e,YAAYlX,eAAeP,MAAM,uGAetC8X,EAAqB,CACrBE,EAAqD,QAA/B/Z,EAAKqQ,EAAOmI,qBAAkC,IAAPxY,EAAgBA,EAAK,GAClFga,EAAsB,CAClBxE,iBAA8I,QAA3H1S,EAAqD,QAA/CpC,EAAKmZ,EAAoBrE,wBAAqC,IAAP9U,EAAgBA,EAAKqZ,EAAmBvE,wBAAqC,IAAP1S,EAAgBA,EAAK,SAC3KiY,cAAe,GACfpF,aAAc,GACdI,eAAgB,IAEpBkE,EAA2B,SAAUzB,GACjC,IAAItP,EAAKlJ,EAAImJ,EAAKzI,EAAIsa,EAAKlY,EACvBC,EAAIsG,EAAIC,EACR4Q,EAAc,CAAA,EACyB,iBAAhC1B,EAAcuC,gBACrBvC,EAAcuC,cAAgB,CAACvC,EAAcuC,gBAEjD,IACI,IAAK,IAAItR,EAAK3L,EAAgD,QAAtCiF,EAAKyV,EAAcuC,qBAAkC,IAAPhY,EAAgBA,EAAK,IAAK2G,EAAKD,EAAGnN,QAASoN,EAAGhN,KAAMgN,EAAKD,EAAGnN,OAAQ,CAEtI4d,EADexQ,EAAGtN,OACM,OAC3B,CACJ,CACD,MAAOwN,GAASV,EAAM,CAAE9K,MAAOwL,EAAU,CACjC,QACJ,IACQF,IAAOA,EAAGhN,OAASsD,EAAKyJ,EAAGpC,SAASrH,EAAGxF,KAAKiP,EACnD,CACO,QAAE,GAAIP,EAAK,MAAMA,EAAI9K,KAAQ,CACxC,CACD,IACI,IAAK,IAAIuL,EAAK7L,EAA+C,QAArCuL,EAAKmP,EAAc7C,oBAAiC,IAAPtM,EAAgBA,EAAK,IAAKQ,EAAKF,EAAGrN,QAASuN,EAAGnN,KAAMmN,EAAKF,EAAGrN,OAAQ,CAErI4d,EADerQ,EAAGzN,OACM,MAC3B,CACJ,CACD,MAAO2N,GAASZ,EAAM,CAAE/K,MAAO2L,EAAU,CACjC,QACJ,IACQF,IAAOA,EAAGnN,OAASgE,EAAKiJ,EAAGtC,SAAS3G,EAAGlG,KAAKmP,EACnD,CACO,QAAE,GAAIR,EAAK,MAAMA,EAAI/K,KAAQ,CACxC,CACD,IACI,IAAK,IAAI0L,EAAKhM,EAAiD,QAAvCwL,EAAKkP,EAAczC,sBAAmC,IAAPzM,EAAgBA,EAAK,IAAKmC,EAAK3B,EAAGxN,QAASmP,EAAG/O,KAAM+O,EAAK3B,EAAGxN,OAAQ,CAEvI4d,EADezO,EAAGrP,OACM,QAC3B,CACJ,CACD,MAAO6e,GAASD,EAAM,CAAE5c,MAAO6c,EAAU,CACjC,QACJ,IACQxP,IAAOA,EAAG/O,OAASoG,EAAKgH,EAAGzC,SAASvE,EAAGtI,KAAKsP,EACnD,CACO,QAAE,GAAIkR,EAAK,MAAMA,EAAI5c,KAAQ,CACxC,CACD,OAAO8b,CACvC,EAC4BA,EAAchf,EAASA,EAAS,GAAI+e,EAAyBF,IAAsBE,EAAyBJ,IAC5G,IACI,IAAK9W,EAAKjF,EAAS7D,OAAOwG,QAAQyZ,IAAe7Q,EAAKtG,EAAGzG,QAAS+M,EAAG3M,KAAM2M,EAAKtG,EAAGzG,OAC/EgN,EAAKrL,EAAOoL,EAAGjN,MAAO,GAAIyZ,EAAWvM,EAAG,GACnB,UADuB6Q,EAAe7Q,EAAG,IAE1D0Q,EAAoBrE,aAAa9X,KAAKgY,GAEhB,UAAjBsE,EACLH,EAAoBe,cAAcld,KAAKgY,GAEjB,WAAjBsE,GACLH,EAAoBjE,eAAelY,KAAKgY,EAGnD,CACD,MAAOzO,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQiC,IAAOA,EAAG3M,OAAS+M,EAAK1G,EAAGsE,SAASoC,EAAGjP,KAAKuI,EACnD,CACO,QAAE,GAAIiE,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CACDiS,EAAOmI,eA5N4BA,EA4N4BwB,EA5Nb1X,EA4NkCzH,KAAK2e,YAAYlX,eA1NzH4Y,EAAWC,SAASC,yBACpBC,EAAuB,SAAUC,GAejC,QAdkB,IAAdA,IAAwBA,EAAY,IACf,iBAAdA,IACPA,EAAY,CAACA,IAEjBA,EAAYA,EAAUC,OAAO,SAAU1F,GACnC,IACIqF,EAASM,cAAc3F,EAC1B,CACD,MAAO7V,GAEH,OADAsC,EAAeT,KAAK,+CAAgDlD,OAAOkX,EAAU,6BAC9E,CACV,CACD,OAAO,CACnB,GACiC,IAArByF,EAAU7f,OAGd,OAAO6f,CACf,EACI9C,EAAcuC,cAAgBM,EAAqB7C,EAAcuC,eACjEvC,EAAc7C,aAAe0F,EAAqB7C,EAAc7C,cAChE6C,EAAczC,eAAiBsF,EAAqB7C,EAAczC,gBAC3DyC,EAmMc,CAKD,OAJIsB,GAAmB7f,OAAOwF,KAAKqa,GAAiBre,OAAS,IACzD4U,EAAOyJ,gBAAkBA,GAE7Bjf,KAAK2e,YAAYlX,eAAeP,MAAM2D,KAAKC,UAAU,CAAEf,KAAM,+BAAgCyL,OAAQsH,GAAetH,IAAW,KAAM,IAC9H,CAAC,EAAc,CACdmJ,YAAa3e,KAAK2e,YAClBoB,aAAcvK,EACdP,aAAc4J,IArOO,IAAUlB,EAAelW,EAEtE4Y,EACAG,CAqOR,EACA,EACA,EACW/B,CACX,IAEWmC,GAA2C,SAAUvY,EAAQL,GAAW,OAAOlH,OAAU,OAAQ,OAAQ,EAAQ,WACxH,IAAI6d,EAAaD,EACjB,OAAO3c,EAAY/B,KAAM,SAAUmF,GAG/B,OAFAwZ,EAAc,IAAI3B,GAAyB3U,EAAQL,GACnD0W,EAAqB,IAAIhJ,EAAmBrN,EAAQsW,EAAYlX,eAAgBkX,EAAY9W,WAAYG,EAAQkV,iBACzG,CAAC,EAAc,IAAIuB,GAAmCC,EAAoBC,GACzF,EACA,EAAK,ECzPDkC,GAAKlb,WAAYmb,GAAMC,YAAaC,GAAMC,YAC1CC,GAAO,IAAIL,GAAG,CAChB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EAEA,EACA,EAEA,IAEEM,GAAO,IAAIN,GAAG,CAChB,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GAEA,EACA,IAEEO,GAAO,IAAIP,GAAG,CAAC,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,KAC7EQ,GAAO,SAASC,EAAIhX,GAEtB,IADA,IAAInL,EAAI,IAAI2hB,GAAI,IACPrgB,EAAI,EAAGA,EAAI,KAAMA,EACxBtB,EAAEsB,GAAK6J,GAAS,GAAKgX,EAAG7gB,EAAI,GAE9B,IAAI4C,EAAI,IAAI2d,GAAI7hB,EAAE,KAClB,IAASsB,EAAI,EAAGA,EAAI,KAAMA,EACxB,IAAK,IAAI8gB,EAAIpiB,EAAEsB,GAAI8gB,EAAIpiB,EAAEsB,EAAI,KAAM8gB,EACjCle,EAAEke,GAAKA,EAAIpiB,EAAEsB,IAAM,EAAIA,EAG3B,MAAO,CAACtB,EAAGkE,EACb,EACI8B,GAAKkc,GAAKH,GAAM,GAAIM,GAAKrc,GAAG,GAAIsc,GAAQtc,GAAG,GAC/Cqc,GAAG,IAAM,IAAKC,GAAM,KAAO,GAG3B,IAFG,IAAiCC,GAA3BL,GAAKF,GAAM,GAA2B,GAC3CQ,GAAM,IAAIb,GAAI,OACTrgB,GAAI,EAAGA,GAAI,QAASA,GAAG,CAC9B,IAAImhB,IAAS,MAAJnhB,MAAe,GAAS,MAAJA,KAAc,EAE3CmhB,IAAS,OADTA,IAAS,MAAJA,MAAe,GAAS,MAAJA,KAAc,MACnB,GAAS,KAAJA,KAAa,EACtCD,GAAIlhB,MAAW,MAAJmhB,MAAe,GAAS,IAAJA,KAAY,KAAO,CACpD,CACA,IAAIC,GAAO,SAASC,EAAIC,EAAI1e,GAI1B,IAHA,IAAI7C,EAAIshB,EAAGlhB,OACPH,EAAI,EACJmD,EAAI,IAAIkd,GAAIiB,GACTthB,EAAID,IAAKC,IACZmD,EAAEke,EAAGrhB,GAAK,GACd,IAIIuhB,EAJAC,EAAK,IAAInB,GAAIiB,GACjB,IAAKthB,EAAI,EAAGA,EAAIshB,IAAMthB,EACpBwhB,EAAGxhB,GAAKwhB,EAAGxhB,EAAI,GAAKmD,EAAEnD,EAAI,IAAM,EAGlC,GAAI4C,EAAG,CACL2e,EAAK,IAAIlB,GAAI,GAAKiB,GAClB,IAAIG,EAAM,GAAKH,EACf,IAAKthB,EAAI,EAAGA,EAAID,IAAKC,EACnB,GAAIqhB,EAAGrhB,GAIL,IAHA,IAAI0hB,EAAK1hB,GAAK,EAAIqhB,EAAGrhB,GACjB2hB,EAAML,EAAKD,EAAGrhB,GACdoC,EAAIof,EAAGH,EAAGrhB,GAAK,MAAQ2hB,EAClBjf,EAAIN,GAAK,GAAKuf,GAAO,EAAGvf,GAAKM,IAAKN,EACzCmf,EAAGL,GAAI9e,KAAOqf,GAAOC,CAI/B,MAEI,IADAH,EAAK,IAAIlB,GAAItgB,GACRC,EAAI,EAAGA,EAAID,IAAKC,EACnBuhB,EAAGvhB,GAAKkhB,GAAIM,EAAGH,EAAGrhB,GAAK,QAAU,GAAKqhB,EAAGrhB,GAE7C,OAAOuhB,CACT,EACIK,GAAM,IAAIxB,GAAG,KACjB,IAASpgB,GAAI,EAAGA,GAAI,MAAOA,GACzB4hB,GAAI5hB,IAAK,EACX,IAASA,GAAI,IAAKA,GAAI,MAAOA,GAC3B4hB,GAAI5hB,IAAK,EACX,IAASA,GAAI,IAAKA,GAAI,MAAOA,GAC3B4hB,GAAI5hB,IAAK,EACX,IAASA,GAAI,IAAKA,GAAI,MAAOA,GAC3B4hB,GAAI5hB,IAAK,EACX,IAAI6hB,GAAM,IAAIzB,GAAG,IACjB,IAASpgB,GAAI,EAAGA,GAAI,KAAMA,GACxB6hB,GAAI7hB,IAAK,EACP,IAAA8hB,GAAsBV,GAAKQ,GAAK,EAAG,GACnCG,GAAsBX,GAAKS,GAAK,EAAG,GAiBnCG,GAAO,SAASjjB,GAClB,OAAQA,EAAI,EAAK,IAAU,EAAJA,GAAS,EAClC,EACIkjB,GAAM,SAAS7f,EAAGrC,EAAGkB,IACd,MAALA,GAAaA,EAAImB,EAAEjC,UACrBc,EAAImB,EAAEjC,QACR,IAAIF,EAAI,IAAKmC,aAAaie,GAAMA,GAAMje,aAAame,GAAMA,GAAMH,IAAInf,EAAIlB,GAEvE,OADAE,EAAEsI,IAAInG,EAAE8f,SAASniB,EAAGkB,IACbhB,CACT,EAoIIkiB,GAAQ,SAAS1jB,EAAGM,EAAGqD,GACzBA,IAAU,EAAJrD,EACN,IAAI0D,EAAI1D,EAAI,EAAK,EACjBN,EAAEgE,IAAML,EACR3D,EAAEgE,EAAI,IAAML,IAAM,CACpB,EACIggB,GAAU,SAAS3jB,EAAGM,EAAGqD,GAC3BA,IAAU,EAAJrD,EACN,IAAI0D,EAAI1D,EAAI,EAAK,EACjBN,EAAEgE,IAAML,EACR3D,EAAEgE,EAAI,IAAML,IAAM,EAClB3D,EAAEgE,EAAI,IAAML,IAAM,EACpB,EACIigB,GAAQ,SAAS5jB,EAAG6iB,GAEtB,IADA,IAAIxhB,EAAI,GACCE,EAAI,EAAGA,EAAIvB,EAAE0B,SAAUH,EAC1BvB,EAAEuB,IACJF,EAAEyC,KAAK,CAAExC,EAAGC,EAAGwB,EAAG/C,EAAEuB,KAExB,IAAID,EAAID,EAAEK,OACNmiB,EAAKxiB,EAAEsD,QACX,IAAKrD,EACH,MAAO,CAAC,IAAIqgB,GAAG,GAAI,GACrB,GAAS,GAALrgB,EAAQ,CACV,IAAIqC,EAAI,IAAIge,GAAGtgB,EAAE,GAAGC,EAAI,GAExB,OADAqC,EAAEtC,EAAE,GAAGC,GAAK,EACL,CAACqC,EAAG,EACZ,CACDtC,EAAEsM,KAAK,SAAS3H,EAAG/F,GACjB,OAAO+F,EAAEjD,EAAI9C,EAAE8C,CACnB,GACE1B,EAAEyC,KAAK,CAAExC,GAAI,EAAGyB,EAAG,QACnB,IAAI2B,EAAIrD,EAAE,GAAI8C,EAAI9C,EAAE,GAAIyiB,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAE7C,IADA3iB,EAAE,GAAK,CAAEC,GAAI,EAAGyB,EAAG2B,EAAE3B,EAAIoB,EAAEpB,EAAG2B,IAAGP,KAC1B4f,GAAMziB,EAAI,GACfoD,EAAIrD,EAAEA,EAAEyiB,GAAI/gB,EAAI1B,EAAE2iB,GAAIjhB,EAAI+gB,IAAOE,KACjC7f,EAAI9C,EAAEyiB,GAAMC,GAAM1iB,EAAEyiB,GAAI/gB,EAAI1B,EAAE2iB,GAAIjhB,EAAI+gB,IAAOE,KAC7C3iB,EAAE0iB,KAAQ,CAAEziB,GAAI,EAAGyB,EAAG2B,EAAE3B,EAAIoB,EAAEpB,EAAG2B,IAAGP,KAEtC,IAAI8f,EAASJ,EAAG,GAAGviB,EACnB,IAASC,EAAI,EAAGA,EAAID,IAAKC,EACnBsiB,EAAGtiB,GAAGD,EAAI2iB,IACZA,EAASJ,EAAGtiB,GAAGD,GAEnB,IAAI4iB,EAAK,IAAItC,GAAIqC,EAAS,GACtBE,EAAMC,GAAG/iB,EAAE0iB,EAAK,GAAIG,EAAI,GAC5B,GAAIC,EAAMtB,EAAI,CACRthB,EAAI,EAAR,IAAW8iB,EAAK,EACZC,EAAMH,EAAMtB,EAAI0B,EAAM,GAAKD,EAI/B,IAHAT,EAAGlW,KAAK,SAAS3H,EAAG/F,GAClB,OAAOikB,EAAGjkB,EAAEqB,GAAK4iB,EAAGle,EAAE1E,IAAM0E,EAAEjD,EAAI9C,EAAE8C,CAC1C,GACWxB,EAAID,IAAKC,EAAG,CACjB,IAAIijB,EAAOX,EAAGtiB,GAAGD,EACjB,KAAI4iB,EAAGM,GAAQ3B,GAIb,MAHAwB,GAAME,GAAO,GAAKJ,EAAMD,EAAGM,IAC3BN,EAAGM,GAAQ3B,CAGd,CAED,IADAwB,KAAQC,EACDD,EAAK,GAAG,CACb,IAAII,EAAOZ,EAAGtiB,GAAGD,EACb4iB,EAAGO,GAAQ5B,EACbwB,GAAM,GAAKxB,EAAKqB,EAAGO,KAAU,IAE3BljB,CACL,CACD,KAAOA,GAAK,GAAK8iB,IAAM9iB,EAAG,CACxB,IAAImjB,EAAOb,EAAGtiB,GAAGD,EACb4iB,EAAGQ,IAAS7B,MACZqB,EAAGQ,KACHL,EAEL,CACDF,EAAMtB,CACP,CACD,MAAO,CAAC,IAAIlB,GAAGuC,GAAKC,EACtB,EACIC,GAAK,SAAS5iB,EAAGkD,EAAG1E,GACtB,OAAe,GAARwB,EAAEF,EAAU+E,KAAKse,IAAIP,GAAG5iB,EAAEkD,EAAGA,EAAG1E,EAAI,GAAIokB,GAAG5iB,EAAE2C,EAAGO,EAAG1E,EAAI,IAAM0E,EAAElD,EAAEF,GAAKtB,CAC/E,EACI4kB,GAAK,SAASC,GAEhB,IADA,IAAIvjB,EAAIujB,EAAEnjB,OACHJ,IAAMujB,IAAIvjB,KAOjB,IALA,IAAIwjB,EAAK,IAAIlD,KAAMtgB,GACfyjB,EAAM,EAAGC,EAAMH,EAAE,GAAII,EAAM,EAC3BC,EAAI,SAASvhB,GACfmhB,EAAGC,KAASphB,CAChB,EACWpC,EAAI,EAAGA,GAAKD,IAAKC,EACxB,GAAIsjB,EAAEtjB,IAAMyjB,GAAOzjB,GAAKD,IACpB2jB,MACC,CACH,IAAKD,GAAOC,EAAM,EAAG,CACnB,KAAOA,EAAM,IAAKA,GAAO,IACvBC,EAAE,OACAD,EAAM,IACRC,EAAED,EAAM,GAAKA,EAAM,IAAM,EAAI,MAAQA,EAAM,GAAK,EAAI,OACpDA,EAAM,EAEhB,MAAa,GAAIA,EAAM,EAAG,CAElB,IADAC,EAAEF,KAAQC,EACHA,EAAM,EAAGA,GAAO,EACrBC,EAAE,MACAD,EAAM,IACRC,EAAED,EAAM,GAAK,EAAI,MAAOA,EAAM,EACjC,CACD,KAAOA,KACLC,EAAEF,GACJC,EAAM,EACND,EAAMH,EAAEtjB,EACT,CAEH,MAAO,CAACujB,EAAGrB,SAAS,EAAGsB,GAAMzjB,EAC/B,EACI6jB,GAAO,SAASC,EAAIN,GAEtB,IADA,IAAIpgB,EAAI,EACCnD,EAAI,EAAGA,EAAIujB,EAAGpjB,SAAUH,EAC/BmD,GAAK0gB,EAAG7jB,GAAKujB,EAAGvjB,GAClB,OAAOmD,CACT,EACI2gB,GAAQ,SAASC,EAAKC,EAAKC,GAC7B,IAAIlkB,EAAIkkB,EAAI9jB,OACRsC,EAAIuf,GAAKgC,EAAM,GACnBD,EAAIthB,GAAS,IAAJ1C,EACTgkB,EAAIthB,EAAI,GAAK1C,IAAM,EACnBgkB,EAAIthB,EAAI,GAAc,IAATshB,EAAIthB,GACjBshB,EAAIthB,EAAI,GAAkB,IAAbshB,EAAIthB,EAAI,GACrB,IAAK,IAAIzC,EAAI,EAAGA,EAAID,IAAKC,EACvB+jB,EAAIthB,EAAIzC,EAAI,GAAKikB,EAAIjkB,GACvB,OAAqB,GAAbyC,EAAI,EAAI1C,EAClB,EACImkB,GAAO,SAASD,EAAKF,EAAKI,EAAOC,EAAMC,EAAIC,EAAIzD,EAAI0D,EAAIC,EAAIC,EAAI1lB,GACjEojB,GAAM4B,EAAKhlB,IAAKolB,KACdE,EAAG,KAML,IALA,IAAIK,EAAMrC,GAAMgC,EAAI,IAAKM,EAAMD,EAAI,GAAIE,EAAMF,EAAI,GAC7CG,EAAMxC,GAAMiC,EAAI,IAAKQ,EAAMD,EAAI,GAAIE,EAAMF,EAAI,GAC7Crd,EAAK6b,GAAGsB,GAAMK,EAAOxd,EAAG,GAAIyd,EAAMzd,EAAG,GACrCC,EAAK4b,GAAGyB,GAAMI,EAAOzd,EAAG,GAAI0d,EAAM1d,EAAG,GACrC2d,EAAS,IAAI/E,GAAI,IACZrgB,EAAI,EAAGA,EAAIglB,EAAK7kB,SAAUH,EACjColB,EAAiB,GAAVJ,EAAKhlB,MACd,IAASA,EAAI,EAAGA,EAAIklB,EAAK/kB,SAAUH,EACjColB,EAAiB,GAAVF,EAAKllB,MAGd,IAFA,IAAI+N,EAAKsU,GAAM+C,EAAQ,GAAIC,EAAMtX,EAAG,GAAIuX,EAAOvX,EAAG,GAC9CwX,EAAO,GACJA,EAAO,IAAMF,EAAI1E,GAAK4E,EAAO,MAAOA,GAE3C,IAKIC,EAAIC,EAAIC,EAAIC,EALZC,EAAOnB,EAAK,GAAK,EACjBoB,EAAQjC,GAAKS,EAAIzC,IAAOgC,GAAKU,EAAIzC,IAAOhB,EACxCiF,EAAQlC,GAAKS,EAAIM,GAAOf,GAAKU,EAAIQ,GAAOjE,EAAK,GAAK,EAAI0E,EAAO3B,GAAKwB,EAAQC,IAAQ,EAAID,EAAO,IAAM,EAAIA,EAAO,IAAM,EAAIA,EAAO,KACnI,GAAIQ,GAAQC,GAASD,GAAQE,EAC3B,OAAOhC,GAAMC,EAAKhlB,EAAGklB,EAAI/B,SAASsC,EAAIA,EAAKC,IAG7C,GADAtC,GAAM4B,EAAKhlB,EAAG,GAAK+mB,EAAQD,IAAS9mB,GAAK,EACrC+mB,EAAQD,EAAO,CACjBL,EAAKpE,GAAKuD,EAAKC,EAAK,GAAIa,EAAKd,EAAKe,EAAKtE,GAAK0D,EAAKC,EAAK,GAAIY,EAAKb,EAC/D,IAAIiB,EAAM3E,GAAKiE,EAAKC,EAAM,GAC1BnD,GAAM4B,EAAKhlB,EAAGkmB,EAAM,KACpB9C,GAAM4B,EAAKhlB,EAAI,EAAGomB,EAAM,GACxBhD,GAAM4B,EAAKhlB,EAAI,GAAIwmB,EAAO,GAC1BxmB,GAAK,GACL,IAASiB,EAAI,EAAGA,EAAIulB,IAAQvlB,EAC1BmiB,GAAM4B,EAAKhlB,EAAI,EAAIiB,EAAGqlB,EAAI1E,GAAK3gB,KACjCjB,GAAK,EAAIwmB,EAET,IADA,IAAIS,EAAO,CAAChB,EAAME,GACTe,EAAK,EAAGA,EAAK,IAAKA,EACzB,KAAIC,EAAOF,EAAKC,GAChB,IAASjmB,EAAI,EAAGA,EAAIkmB,EAAK/lB,SAAUH,EAAG,CACpC,IAAImmB,EAAgB,GAAVD,EAAKlmB,GACfmiB,GAAM4B,EAAKhlB,EAAGgnB,EAAII,IAAOpnB,GAAKsmB,EAAIc,GAC9BA,EAAM,KACRhE,GAAM4B,EAAKhlB,EAAGmnB,EAAKlmB,KAAO,EAAI,KAAMjB,GAAKmnB,EAAKlmB,KAAO,GACxD,CANkB,CAQzB,MACIwlB,EAAK1D,GAAK2D,EAAK7D,GAAK8D,EAAK3D,GAAK4D,EAAK9D,GAErC,IAAS7hB,EAAI,EAAGA,EAAIukB,IAAMvkB,EACxB,GAAIokB,EAAKpkB,GAAK,IAAK,CACbmmB,EAAM/B,EAAKpkB,KAAO,GAAK,GAC3BoiB,GAAQ2B,EAAKhlB,EAAGymB,EAAGW,EAAM,MAAOpnB,GAAK0mB,EAAGU,EAAM,KAC1CA,EAAM,IACRhE,GAAM4B,EAAKhlB,EAAGqlB,EAAKpkB,KAAO,GAAK,IAAKjB,GAAK0hB,GAAK0F,IAChD,IAAIC,EAAgB,GAAVhC,EAAKpkB,GACfoiB,GAAQ2B,EAAKhlB,EAAG2mB,EAAGU,IAAOrnB,GAAK4mB,EAAGS,GAC9BA,EAAM,IACRhE,GAAQ2B,EAAKhlB,EAAGqlB,EAAKpkB,KAAO,EAAI,MAAOjB,GAAK2hB,GAAK0F,GACzD,MACMhE,GAAQ2B,EAAKhlB,EAAGymB,EAAGpB,EAAKpkB,KAAMjB,GAAK0mB,EAAGrB,EAAKpkB,IAI/C,OADAoiB,GAAQ2B,EAAKhlB,EAAGymB,EAAG,MACZzmB,EAAI0mB,EAAG,IAChB,EACIY,GAAsB,IAAI9F,GAAI,CAAC,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,QAAS,QAAS,QAAS,UA8GjG+F,GAAO,SAASrC,EAAKsC,EAAKC,EAAKC,EAAMC,GACvC,OA9GS,SAASzC,EAAK0C,EAAKC,EAAMJ,EAAKC,EAAMI,GAC7C,IAAI9mB,EAAIkkB,EAAI9jB,OACRsC,EAAI,IAAI2d,GAAGoG,EAAMzmB,EAAI,GAAK,EAAI+E,KAAKoT,MAAMnY,EAAI,MAAQ0mB,GACrD9C,EAAIlhB,EAAEyf,SAASsE,EAAK/jB,EAAEtC,OAASsmB,GAC/BzC,EAAM,EACV,IAAK2C,GAAO5mB,EAAI,EACd,IAAK,IAAIC,EAAI,EAAGA,GAAKD,EAAGC,GAAK,MAAO,CAClC,IAAIiB,EAAIjB,EAAI,MACRiB,EAAIlB,EACNikB,EAAMF,GAAMH,EAAGK,EAAKC,EAAI/B,SAASliB,EAAGiB,KAEpC0iB,EAAE3jB,GAAK6mB,EACP7C,EAAMF,GAAMH,EAAGK,EAAKC,EAAI/B,SAASliB,EAAGD,IAEvC,KACI,CAYL,IAXA,IAAIwmB,EAAMF,GAAIM,EAAM,GAChB1mB,EAAIsmB,IAAQ,GAAIjD,EAAU,KAANiD,EACpBO,GAAS,GAAKF,GAAQ,EACtBG,EAAO,IAAI1G,GAAI,OAAQ2G,EAAO,IAAI3G,GAAIyG,EAAQ,GAC9CG,EAAQniB,KAAKoiB,KAAKN,EAAO,GAAIO,EAAQ,EAAIF,EACzCG,EAAM,SAAS3E,GACjB,OAAQwB,EAAIxB,GAAMwB,EAAIxB,EAAK,IAAMwE,EAAQhD,EAAIxB,EAAK,IAAM0E,GAASL,CACvE,EACQ1C,EAAO,IAAI7D,GAAI,MACf8D,EAAK,IAAIhE,GAAI,KAAMiE,EAAK,IAAIjE,GAAI,IAChCgH,EAAO,EAAGxG,EAAK,EAAU0D,GAAPvkB,EAAI,EAAQ,GAAGsnB,EAAK,EAAG9C,EAAK,EAC3CxkB,EAAID,IAAKC,EAAG,CACjB,IAAIunB,EAAKH,EAAIpnB,GACTwnB,EAAW,MAAJxnB,EACPynB,EAAQT,EAAKO,GAGjB,GAFAR,EAAKS,GAAQC,EACbT,EAAKO,GAAMC,EACPF,GAAMtnB,EAAG,CACX,IAAI0nB,EAAM3nB,EAAIC,EACd,IAAKqnB,EAAO,KAAO9C,EAAK,QAAUmD,EAAM,IAAK,CAC3C1D,EAAME,GAAKD,EAAKN,EAAG,EAAGS,EAAMC,EAAIC,EAAIzD,EAAI0D,EAAIC,EAAIxkB,EAAIwkB,EAAIR,GACxDO,EAAK8C,EAAOxG,EAAK,EAAG2D,EAAKxkB,EACzB,IAAK,IAAI8gB,EAAI,EAAGA,EAAI,MAAOA,EACzBuD,EAAGvD,GAAK,EACV,IAASA,EAAI,EAAGA,EAAI,KAAMA,EACxBwD,EAAGxD,GAAK,CACX,CACD,IAAI3d,EAAI,EAAG1E,EAAI,EAAGkpB,EAAOrE,EAAGsE,EAAMJ,EAAOC,EAAQ,MACjD,GAAIC,EAAM,GAAKH,GAAMH,EAAIpnB,EAAI4nB,GAI3B,IAHA,IAAIC,EAAO/iB,KAAKgjB,IAAI7nB,EAAGynB,GAAO,EAC1BK,EAAOjjB,KAAKgjB,IAAI,MAAO9nB,GACvBgoB,EAAKljB,KAAKgjB,IAAI,IAAKJ,GAChBE,GAAOG,KAAUJ,GAAQH,GAAQC,GAAO,CAC7C,GAAIxD,EAAIjkB,EAAImD,IAAM8gB,EAAIjkB,EAAImD,EAAIykB,GAAM,CAElC,IADA,IAAIK,EAAK,EACFA,EAAKD,GAAM/D,EAAIjkB,EAAIioB,IAAOhE,EAAIjkB,EAAIioB,EAAKL,KAAQK,GAEtD,GAAIA,EAAK9kB,EAAG,CAEV,GADAA,EAAI8kB,EAAIxpB,EAAImpB,EACRK,EAAKJ,EACP,MACF,IAAIK,EAAMpjB,KAAKgjB,IAAIF,EAAKK,EAAK,GACzBE,EAAK,EACT,IAASrH,EAAI,EAAGA,EAAIoH,IAAOpH,EAAG,CAC5B,IAAIsH,EAAKpoB,EAAI4nB,EAAM9G,EAAI,MAAQ,MAE3BO,EAAK+G,EADCrB,EAAKqB,GACK,MAAQ,MACxB/G,EAAK8G,IACPA,EAAK9G,EAAIoG,EAAQW,EACpB,CACF,CACF,CAEDR,IADAJ,EAAOC,IAAOA,EAAQV,EAAKS,IACL,MAAQ,KAC/B,CAEH,GAAI/oB,EAAG,CACL2lB,EAAKG,KAAQ,UAAYvD,GAAM7d,IAAM,GAAK8d,GAAMxiB,GAChD,IAAI4pB,EAAiB,GAAXrH,GAAM7d,GAASmlB,EAAiB,GAAXrH,GAAMxiB,GACrCoiB,GAAMJ,GAAK4H,GAAO3H,GAAK4H,KACrBjE,EAAG,IAAMgE,KACT/D,EAAGgE,GACLhB,EAAKtnB,EAAImD,IACPkkB,CACZ,MACUjD,EAAKG,KAAQN,EAAIjkB,KACfqkB,EAAGJ,EAAIjkB,GAEZ,CACF,CACDgkB,EAAME,GAAKD,EAAKN,EAAGkD,EAAKzC,EAAMC,EAAIC,EAAIzD,EAAI0D,EAAIC,EAAIxkB,EAAIwkB,EAAIR,EAC3D,CACD,OAAO/B,GAAIxf,EAAG,EAAG+jB,EAAMxE,GAAKgC,GAAOyC,EACrC,CAqBS8B,CAAKtE,EAAkB,MAAbsC,EAAI9M,MAAgB,EAAI8M,EAAI9M,MAAkB,MAAX8M,EAAIiC,IAAc1jB,KAAKoiB,KAAuD,IAAlDpiB,KAAKse,IAAI,EAAGte,KAAKgjB,IAAI,GAAIhjB,KAAKoB,IAAI+d,EAAI9jB,WAAmB,GAAKomB,EAAIiC,IAAKhC,EAAKC,GAAM,EACpK,EAeA,SAASgC,GAASC,EAAMC,QACT,IAATA,IACFA,EAAO,CAAA,GAET,IAAIlkB,EAxCM,WACV,IAAIA,EAAI,EAAG/F,EAAI,EACf,MAAO,CACLK,EAAG,SAASN,GAGV,IAFA,IAAIwB,EAAIwE,EAAG/B,EAAIhE,EACXyE,EAAI1E,EAAE0B,OACDH,EAAI,EAAGA,GAAKmD,GAAK,CAExB,IADA,IAAIlC,EAAI6D,KAAKgjB,IAAI9nB,EAAI,KAAMmD,GACpBnD,EAAIiB,IAAKjB,EACH0C,GAAXzC,GAAKxB,EAAEuB,GACTC,GAAK,MAAOyC,GAAK,KAClB,CACD+B,EAAIxE,EAAGvB,EAAIgE,CACZ,EACDjE,EAAG,WACD,OAAQgG,IAAM,GAAK,IAAU,IAAJ/F,IAAY,EAAIA,IAAM,GAAyB,IAAd,IAAJ+F,IAAY,GACnE,EAEL,CAsBUmkB,GACRnkB,EAAE1F,EAAE2pB,GACJ,IAhBiBpF,EACbuF,EAAcC,EAedrqB,EAAI6nB,GAAKoC,EAAMC,EAAM,EAAG,GAC5B,OAjBiBrF,EAiBN7kB,EAhBPoqB,EAgBUF,EAhBHlP,MAAOqP,EAAY,GAAND,EAAU,EAAIA,EAAK,EAAI,EAAU,GAANA,EAAU,EAAI,EACjEvF,EAAE,GAAK,IAAKA,EAAE,GAAKwF,GAAO,GAAKA,EAAM,GAAK,EAAIA,EAAM,GANzC,SAASrqB,EAAGC,EAAG0D,GAC1B,KAAOA,IAAK1D,EACVD,EAAEC,GAAK0D,EAAGA,KAAO,CACrB,CAkBuB2mB,CAAOtqB,EAAGA,EAAE0B,OAAS,EAAGsE,EAAEhG,KAAMA,CACvD,CAgDA,MCrqBMyE,GAAQiI,IACZ,MAAM4C,EAAK,IACN5C,EACH/I,EDkqBS,MChqBX,OD+oBF,SAAmB6hB,EAAK+E,GACtB,IAAIpmB,EAAI,GACR,IAAKomB,GAAgC,oBAAfC,YACpB,OAAO,IAAIA,aAAcC,OAAOjF,GAClC,IAAK,IAAIjkB,EAAI,EAAGA,EAAIikB,EAAI9jB,QAAU,CAChC,IAAImjB,EAAIW,EAAIjkB,KACRsjB,EAAI,KAAO0F,EACbpmB,GAAKvD,OAAO8pB,aAAa7F,GAClBA,EAAI,IACX1gB,GAAKvD,OAAO8pB,cAAkB,GAAJ7F,IAAW,EAAe,GAAXW,EAAIjkB,MACtCsjB,EAAI,IACX1gB,GAAKvD,OAAO8pB,cAAkB,GAAJ7F,IAAW,IAAiB,GAAXW,EAAIjkB,OAAc,EAAe,GAAXikB,EAAIjkB,OAErEsjB,IAAU,GAAJA,IAAW,IAAiB,GAAXW,EAAIjkB,OAAc,IAAiB,GAAXikB,EAAIjkB,OAAc,EAAe,GAAXikB,EAAIjkB,MAAa,MAAO4C,GAAKvD,OAAO8pB,aAAa,MAAQ7F,GAAK,GAAI,MAAY,KAAJA,GAClJ,CACD,OAAO1gB,CACT,CC/pBSwmB,CAAUX,GDonBnB,SAAiB/Y,EAAKsZ,GACpB,IAAI7lB,EAAIuM,EAAIvP,OACZ,IAAK6oB,GAAgC,oBAAfK,YACpB,OAAO,IAAIA,aAAcC,OAAO5Z,GAMlC,IALA,IAAI7M,EAAK,IAAIud,GAAG1Q,EAAIvP,QAAUuP,EAAIvP,SAAW,IACzCopB,EAAK,EACL5F,EAAI,SAASvhB,GACfS,EAAG0mB,KAAQnnB,CACf,EACWpC,EAAI,EAAGA,EAAImD,IAAKnD,EAAG,CAC1B,GAAIupB,EAAK,EAAI1mB,EAAG1C,OAAQ,CACtB,IAAIF,EAAI,IAAImgB,GAAGmJ,EAAK,GAAKpmB,EAAInD,GAAK,IAClCC,EAAEsI,IAAI1F,GACNA,EAAK5C,CACN,CACD,IAAIqjB,EAAI5T,EAAIE,WAAW5P,GACnBsjB,EAAI,KAAO0F,EACbrF,EAAEL,GACKA,EAAI,MACXK,EAAE,IAAML,IAAM,GAAIK,EAAE,IAAU,GAAJL,IACnBA,EAAI,OAASA,EAAI,OACmCK,EAAE,KAA7DL,EAAI,OAAa,QAAJA,GAAwC,KAAtB5T,EAAIE,aAAa5P,MAAyB,IAAK2jB,EAAE,IAAML,IAAM,GAAK,IAAKK,EAAE,IAAML,IAAM,EAAI,IAAKK,EAAE,IAAU,GAAJL,KAErIK,EAAE,IAAML,IAAM,IAAKK,EAAE,IAAML,IAAM,EAAI,IAAKK,EAAE,IAAU,GAAJL,GACrD,CACD,OAAOrB,GAAIpf,EAAI,EAAG0mB,EACpB,CC9oB4BC,CAAQpf,KAAKC,UAAU0D,MAAO,ICJ1D,IACI0b,GAAiC,WACjC,SAASA,EAAgBC,EAAe3U,EAAQxH,EAAUoc,GACtD,IACIjlB,EADAiP,EAAQpU,KAEZA,KAAKqqB,UAAY,GACjBrqB,KAAKsqB,cAAe,EACpBtqB,KAAKuqB,cAAgB,SAAU3e,GAC3B,IAAI4e,EAAc7mB,GAAKiI,GACvB,OAAOf,KAAKC,UAAU0f,EAClC,EACQxqB,KAAKyqB,4BAA8B,SAAUC,EAAiBC,GACtDvW,EAAM+V,eAAiB/V,EAAMpG,UAC7BoG,EAAM+V,cAAcS,SAAS,CACzBhf,MAAO,CAAE9B,KAAM,SAAUqf,KAAMuB,GAC/BC,UAAWA,EACX3c,SAAUoG,EAAMpG,UAGpC,EACQhO,KAAK6qB,mBAAqB,SAAUjf,EAAO+e,GACvC,GAAIvW,EAAM0W,OAEN,IACI1W,EAAM0W,OAAOC,YAAY,CAAEnf,MAAOA,EAAO+e,UAAWA,GACvD,CACD,MAAOK,GAEc,mBAAbA,EAAIjhB,KAEJqK,EAAM0W,OAAOC,YAAYlgB,KAAKC,UAAU,CAAEc,MAAOA,EAAO+e,UAAWA,KAGnEvW,EAAMoB,OAAO/N,eAAeT,KAAK,oDAAqDgkB,EAE7F,KAEA,CACD,IAAIN,EAAkBtW,EAAMmW,cAAc3e,GAC1CwI,EAAMqW,4BAA4BC,EAAiBC,EACtD,CACb,EACQ3qB,KAAKirB,UAAY,WACb,IAAI9lB,EACoB,QAAvBA,EAAKiP,EAAM0W,cAA2B,IAAP3lB,GAAyBA,EAAG8lB,WACxE,EACQ,IAAI7lB,EAAcf,IAMlB,GALArE,KAAKkrB,mBAAqB9lB,GAAe,wBAAyBA,EAClEpF,KAAKmqB,cAAgBA,EACrBnqB,KAAKwV,OAASA,EACdxV,KAAKgO,SAAWA,EAChBhO,KAAKsW,SAA+C,QAAnCnR,EAAKqQ,EAAO6H,yBAAsC,IAAPlY,OAAgB,EAASA,EAAGmR,UAnD1E,IAoDV8T,EAAc,CACd5U,EAAO/N,eAAed,IAAI,uCAC1B,IAAImkB,EAAS,IAAIK,OAAOC,IAAIC,gBAAgB,IAAIC,KAAK,CAAClB,GAAe,CAAEtgB,KAAM,6BAC7EghB,EAAOS,QAAU,SAAU7pB,GACvB8T,EAAO/N,eAAelE,MAAM7B,EAC5C,EACYopB,EAAOU,UAAY,SAAU9pB,GACzB,IAAIyD,EAAKzD,EAAEynB,KAAMuB,EAAkBvlB,EAAGulB,gBAAiBC,EAAYxlB,EAAGwlB,UACtEvW,EAAMqW,4BAA4BC,EAAiBC,EACnE,EACY3qB,KAAK8qB,OAASA,CACjB,CACJ,CA6CD,OA3CAZ,EAAgBzqB,UAAUgsB,uBAAyB,WAC/C,IAAIrX,EAAQpU,KACPA,KAAKsqB,eACNtqB,KAAKsqB,cAAe,EACpBoB,oBAAoB,SAAUC,GAC1BvX,EAAMwX,aAAaD,EACtB,EAAE,CAAErV,QAAStW,KAAKsW,UAE/B,EAEI4T,EAAgBzqB,UAAUosB,aAAe,SAAUjgB,EAAO+e,GACtD,IAAIxlB,EACAnF,KAAKkrB,qBAAgE,QAAxC/lB,EAAKnF,KAAKwV,OAAO6H,yBAAsC,IAAPlY,OAAgB,EAASA,EAAGqU,UACzGxZ,KAAKwV,OAAO/N,eAAeP,MAAM,oDACjClH,KAAKqqB,UAAUrnB,KAAK,CAAE4I,MAAOA,EAAO+e,UAAWA,IAC/C3qB,KAAKyrB,2BAGLzrB,KAAKwV,OAAO/N,eAAeP,MAAM,2CACjClH,KAAK6qB,mBAAmBjf,EAAO+e,GAE3C,EAEIT,EAAgBzqB,UAAUmsB,aAAe,SAAUD,GAG/C,IAFA,IAAIvX,EAAQpU,KAELA,KAAKqqB,UAAUzpB,OAAS,IAAM+qB,EAAaG,gBAAkB,GAAKH,EAAaI,aAAa,CAC/F,IAAIC,EAAOhsB,KAAKqqB,UAAU4B,QAC1B,GAAID,EAAM,CACN,IAAIE,EAAUF,EAAKpgB,MAAO+e,EAAYqB,EAAKrB,UAC3C3qB,KAAK6qB,mBAAmBqB,EAASvB,EACpC,CACJ,CAEG3qB,KAAKqqB,UAAUzpB,OAAS,EACxB8qB,oBAAoB,SAAUC,GAC1BvX,EAAMwX,aAAaD,EACtB,EAAE,CAAErV,QAAStW,KAAKsW,UAGnBtW,KAAKsqB,cAAe,CAEhC,EACWJ,CACX,IC7GWiC,GAAkB,qDCFlBC,GAAU,SCKjBC,GAA+C,WAC/C,SAASA,EAA8BlnB,GACnC,IAAIiW,EAAiBjW,EAAGiW,eAAgB3T,EAAiBtC,EAAGsC,eAAgB6kB,EAAiBnnB,EAAGmnB,eAChGtsB,KAAKusB,WAAa,GAClBvsB,KAAKwsB,aAAe,IACpBxsB,KAAKysB,UAAY,KACjBzsB,KAAK0L,MAAQ,GACb1L,KAAKyH,eAAiBA,EACtBzH,KAAKssB,eAAiBA,GAAkC,SAAUjY,GAAW,OAAOA,GACpFrU,KAAKob,eAAiBA,CACzB,CAsLD,OArLAiR,EAA8B5sB,UAAUitB,eAAiB,SAAUC,GAC/D3sB,KAAK4sB,WAAWvsB,EAASA,EAAS,CAAE,EAAEssB,GAAkB,CAAEE,SAAU,EAAGvW,QAAS,IACxF,EACI+V,EAA8B5sB,UAAUmtB,WAAa,WAGjD,IAFA,IAAIxY,EAAQpU,KACR8sB,EAAO,GACFjmB,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCimB,EAAKjmB,GAAMlG,UAAUkG,GAEXimB,EAAKpM,OAAO,SAAUqM,GAChC,OAAIA,EAAQF,UAAYE,EAAQ1lB,iBAAmB,IAC/C0lB,EAAQF,UAAY,GACb,IAEXzY,EAAM4Y,gBAAgB,CAClBD,QAASA,EACT/B,IF/B0B,qEEiCvB,EACnB,GACgBjf,QAAQ,SAAUghB,GACtB3Y,EAAM1I,MAAQ0I,EAAM1I,MAAM5H,OAAOipB,GACT,IAApBA,EAAQzW,QAIZa,WAAW,WACP4V,EAAQzW,QAAU,EAClBlC,EAAM6Y,SAAS,EAC/B,EAAeF,EAAQzW,SANPlC,EAAM6Y,SAAS,EAO/B,EACA,EACIZ,EAA8B5sB,UAAUwtB,SAAW,SAAU3W,GACzD,IAAIlC,EAAQpU,KACRA,KAAKysB,YAETzsB,KAAKysB,UAAYtV,WAAW,WACnB/C,EAAM8Y,OAAM,GAAMprB,KAAK,WACpBsS,EAAM1I,MAAM9K,OAAS,GACrBwT,EAAM6Y,SAAS3W,EAEnC,EACS,EAAEA,GACX,EACI+V,EAA8B5sB,UAAUytB,MAAQ,SAAUC,GAEtD,YADiB,IAAbA,IAAuBA,GAAW,GAC/BrsB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI8sB,EAAMM,EACNhZ,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EASD,OARA0qB,EAAO,GACPM,EAAQ,GACRptB,KAAK0L,MAAMK,QAAQ,SAAUghB,GAAW,OAA4B,IAApBA,EAAQzW,QAAgBwW,EAAK9pB,KAAK+pB,GAAWK,EAAMpqB,KAAK+pB,EAAU,GAClH/sB,KAAK0L,MAAQ0hB,EACTptB,KAAKysB,YACLjU,aAAaxY,KAAKysB,WAClBzsB,KAAKysB,UAAY,MAEd,CAAC,EAAatrB,QAAQksB,IAAIP,EAAKjoB,IAAI,SAAUkoB,GAAW,OAAO3Y,EAAM7D,KAAKwc,EAASI,EAAU,KACxG,KAAK,EAED,OADAhoB,EAAG9C,OACI,CAAC,GAEhC,EACA,EACA,EACIgqB,EAA8B5sB,UAAU8Q,KAAO,SAAUwc,EAASI,GAC9D,IAAIhoB,EAAIU,EAER,YADiB,IAAbsnB,IAAuBA,GAAW,GAC/BrsB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIqI,EAAQ2F,EAAUsf,EAAKlQ,EAASH,EAAYnE,EAAWyU,EAAsBlZ,EAASrM,EAASJ,EAAWoQ,EAAKwV,EAAcrhB,EACjI,OAAOpK,EAAY/B,KAAM,SAAUiI,GAC/B,OAAQA,EAAG7F,OACP,KAAK,EAED,KADAiG,EAAS0kB,EAAQ1kB,QAEb,MAAO,CAAC,EAAcrI,KAAKgtB,gBAAgB,CAAED,QAASA,EAAS/B,IF1FtD,gEE6Fb,KADAhd,EAAW+e,EAAQ/e,UAEf,MAAO,CAAC,EAAchO,KAAKgtB,gBAAgB,CAAED,QAASA,EAAS/B,IF/FpD,kEE8Gf,GVvChB5lB,EAAcf,IU0BEipB,GVzBZloB,aAAiD,EAASA,EAAYqoB,UAAYroB,EAAYqoB,SAASC,KAAO,GU0BlGtQ,EAAUgP,GACVnP,EAAa8P,EAAQ9P,WACrBnE,EAAY,IAAIC,gBAAgB,CAC5B4U,UAAW3f,EACX4f,WAAY,GAAG9pB,OAAOipB,EAAQpC,WAC9B7gB,KAAM,GAAGhG,OAAOipB,EAAQjjB,QAE5ByjB,EAAuB,GAAGzpB,QAAmC,QAA1BqB,EAAK4nB,EAAQ3P,eAA4B,IAAPjY,OAAgB,EAASA,EAAG2E,OAAS,aAAc,KAAKhG,QAAmC,QAA1B+B,EAAKknB,EAAQ3P,eAA4B,IAAPvX,OAAgB,EAASA,EAAGuX,UAAYA,GAKlL,KAJ9B/I,EAAUrU,KAAKssB,eAAe,CAC1BlP,QAAS,EACTyQ,OAAQd,EAAQc,UAERA,OAAOjtB,OAEf,OADAZ,KAAKgtB,gBAAgB,CAAED,QAASA,IACzB,CAAC,GAEZ9kB,EAAG7F,MAAQ,EACf,KAAK,EAgBD,OAfA6F,EAAG3F,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtBgF,EAAU,CACNyM,QAAS,CACL,eAAgB,mBAChBC,OAAQ,MACRoZ,cAAe,UAAUhqB,OAAOuE,GAChC,mBAAoB+U,EACpB,mBAAoBmQ,EACpB,eAAgBD,EAAIxY,UAAU,EbxGlC,KayGI,uBAAwB,GAAGhR,OAAOmZ,IAEtCjb,KAAM6I,KAAKC,UAAUuJ,GACrBM,OAAQ,QAEZ/M,EAAY,GAAG9D,OAAOqF,GAAa4jB,EAAQllB,WAAY7H,KAAKob,gBAAiB,KAAKtX,OAAOgV,EAAU/T,YAC5F,CAAC,EAAayP,MAAM5M,EAAWI,IAC1C,KAAK,EAED,GAAY,QADZgQ,EAAM/P,EAAG5F,QAGL,OADArC,KAAKgtB,gBAAgB,CAAED,QAASA,EAAS/B,IF3I/B,8BE4IH,CAAC,GAEZ,GAAKmC,EAWDntB,KAAK+tB,cAAc/V,EAAIvG,OAAQsb,OAXpB,CACXS,EAAe,GACf,IACIA,EAAe3iB,KAAKC,UAAUkN,EAAIhW,KAAM,KAAM,EACjD,CACD,MAAOkG,GAEN,CACDlI,KAAKgtB,gBAAgB,CAAED,QAASA,EAASiB,QAAS,GAAGlqB,OAAOkU,EAAIvG,OAAQ,MAAM3N,OAAO0pB,IACxF,CAID,MAAO,CAAC,EAAa,GACzB,KAAK,EAGD,OAFArhB,EAAMlE,EAAG5F,OACTrC,KAAKgtB,gBAAgB,CAAED,QAASA,EAAS/B,IAAK7e,IACvC,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GVtFT,IACnB/G,CUuFR,EACA,EACA,EACIinB,EAA8B5sB,UAAUsuB,cAAgB,SAAUtc,EAAQsb,GAEtE,QADmB,IAAIzc,GAAgBoB,YAAYD,IAE/C,KAAKzN,EAAO2N,QACR3R,KAAKiuB,sBAAsBlB,GAC3B,MACJ,KAAK/oB,EAAO+P,OACR/T,KAAKkuB,oBAAoBnB,GACzB,MACJ,QACI/sB,KAAKgtB,gBAAgB,CAAED,QAASA,EAAS/B,IF9KX,iDEgL9C,EACIqB,EAA8B5sB,UAAUwuB,sBAAwB,SAAUlB,GACtE,IAAIoB,EAAmB5oB,KAAKoX,MAAM,IAAI2O,KAAKyB,EAAQc,QAAQO,Kb5J9C,Ma6JbpuB,KAAKgtB,gBAAgB,CACjBD,QAASA,EACTiB,QAAS,kEAAkElqB,OAAOipB,EAAQpC,UAAW,sBAAsB7mB,OAAOqqB,EAAkB,QAEhK,EACI9B,EAA8B5sB,UAAUyuB,oBAAsB,SAAUnB,GACpE/sB,KAAK4sB,WAAWvsB,EAASA,EAAS,CAAA,EAAI0sB,GAAU,CAAEzW,QAASyW,EAAQF,SAAW7sB,KAAKwsB,eAC3F,EACIH,EAA8B5sB,UAAUutB,gBAAkB,SAAU7nB,GAChE,IAAI4nB,EAAU5nB,EAAG4nB,QAAS/B,EAAM7lB,EAAG6lB,IAAKgD,EAAU7oB,EAAG6oB,QAChDjB,EAAQsB,aACTrD,EACAhrB,KAAKyH,eAAeT,KAAKgkB,GAEpBgD,GACLhuB,KAAKyH,eAAed,IAAIqnB,EAEpC,EACW3B,CACX,ICvMA,MAAMiC,GAAgB,CAACC,EAAQC,IAAiBA,EAAazT,KAAMgJ,GAAMwK,aAAkBxK,GAE3F,IAAI0K,GACAC,GAqBJ,MAAMC,GAAqB,IAAIC,QACzBC,GAAiB,IAAID,QACrBE,GAAwB,IAAIF,QAgDlC,IAAIG,GAAgB,CAChB,GAAAhmB,CAAIimB,EAAQC,EAAMpjB,GACd,GAAImjB,aAAkBE,eAAgB,CAElC,GAAa,SAATD,EACA,OAAON,GAAmB5lB,IAAIimB,GAElC,GAAa,UAATC,EACA,OAAOpjB,EAASsjB,iBAAiB,QAC3B1mB,EACAoD,EAASujB,YAAYvjB,EAASsjB,iBAAiB,GAE5D,CAED,OAAOE,GAAKL,EAAOC,GACtB,EACDjmB,IAAG,CAACgmB,EAAQC,EAAM1tB,KACdytB,EAAOC,GAAQ1tB,GACR,GAEX+tB,IAAG,CAACN,EAAQC,IACJD,aAAkBE,iBACR,SAATD,GAA4B,UAATA,IAGjBA,KAAQD,GAGvB,SAASO,GAAatZ,GAClB8Y,GAAgB9Y,EAAS8Y,GAC7B,CACA,SAASS,GAAaC,GAQlB,OAhGQf,KACHA,GAAuB,CACpBgB,UAAUjwB,UAAUkwB,QACpBD,UAAUjwB,UAAUmwB,SACpBF,UAAUjwB,UAAUowB,sBA4FE9pB,SAAS0pB,GAC5B,YAAa7oB,GAIhB,OADA6oB,EAAK5uB,MAAMivB,GAAO9vB,MAAO4G,GAClByoB,GAAKrvB,KAAK+vB,QAC7B,EAEW,YAAanpB,GAGhB,OAAOyoB,GAAKI,EAAK5uB,MAAMivB,GAAO9vB,MAAO4G,GAC7C,CACA,CACA,SAASopB,GAAuBzuB,GAC5B,MAAqB,mBAAVA,EACAiuB,GAAajuB,IAGpBA,aAAiB2tB,gBAnFzB,SAAwCe,GAEpC,GAAItB,GAAmBW,IAAIW,GACvB,OACJ,MAAMpuB,EAAO,IAAIV,QAAQ,CAACC,EAASC,KAC/B,MAAM6uB,EAAW,KACbD,EAAGE,oBAAoB,WAAYC,GACnCH,EAAGE,oBAAoB,QAAS5sB,GAChC0sB,EAAGE,oBAAoB,QAAS5sB,IAE9B6sB,EAAW,KACbhvB,IACA8uB,KAEE3sB,EAAQ,KACVlC,EAAO4uB,EAAG1sB,OAAS,IAAI8sB,aAAa,aAAc,eAClDH,KAEJD,EAAGK,iBAAiB,WAAYF,GAChCH,EAAGK,iBAAiB,QAAS/sB,GAC7B0sB,EAAGK,iBAAiB,QAAS/sB,KAGjCorB,GAAmB3lB,IAAIinB,EAAIpuB,EAC/B,CA4DQ0uB,CAA+BhvB,GAC/B+sB,GAAc/sB,EAhIVktB,KACHA,GAAoB,CACjB+B,YACAC,eACAC,SACAhB,UACAR,kBA2HG,IAAIyB,MAAMpvB,EAAOwtB,IAErBxtB,EACX,CACA,SAAS8tB,GAAK9tB,GAGV,GAAIA,aAAiBqvB,WACjB,OApHR,SAA0Bb,GACtB,MAAM5pB,EAAU,IAAIhF,QAAQ,CAACC,EAASC,KAClC,MAAM6uB,EAAW,KACbH,EAAQI,oBAAoB,UAAWnC,GACvC+B,EAAQI,oBAAoB,QAAS5sB,IAEnCyqB,EAAU,KACZ5sB,EAAQiuB,GAAKU,EAAQnuB,SACrBsuB,KAEE3sB,EAAQ,KACVlC,EAAO0uB,EAAQxsB,OACf2sB,KAEJH,EAAQO,iBAAiB,UAAWtC,GACpC+B,EAAQO,iBAAiB,QAAS/sB,KAKtC,OADAurB,GAAsB9lB,IAAI7C,EAAS4pB,GAC5B5pB,CACX,CA+Fe0qB,CAAiBtvB,GAG5B,GAAIstB,GAAeS,IAAI/tB,GACnB,OAAOstB,GAAe9lB,IAAIxH,GAC9B,MAAMuvB,EAAWd,GAAuBzuB,GAOxC,OAJIuvB,IAAavvB,IACbstB,GAAe7lB,IAAIzH,EAAOuvB,GAC1BhC,GAAsB9lB,IAAI8nB,EAAUvvB,IAEjCuvB,CACX,CACA,MAAMhB,GAAUvuB,GAAUutB,GAAsB/lB,IAAIxH,GASpD,SAASwvB,GAAOhnB,EAAMqT,GAAS4T,QAAEA,EAAOC,QAAEA,EAAOC,SAAEA,EAAQC,WAAEA,GAAe,IACxE,MAAMpB,EAAUqB,UAAUC,KAAKtnB,EAAMqT,GAC/BkU,EAAcjC,GAAKU,GAoBzB,OAnBIkB,GACAlB,EAAQO,iBAAiB,gBAAkB1kB,IACvCqlB,EAAQ5B,GAAKU,EAAQnuB,QAASgK,EAAM2lB,WAAY3lB,EAAM4lB,WAAYnC,GAAKU,EAAQ0B,aAAc7lB,KAGjGolB,GACAjB,EAAQO,iBAAiB,UAAY1kB,GAAUolB,EAE/CplB,EAAM2lB,WAAY3lB,EAAM4lB,WAAY5lB,IAExC0lB,EACKxvB,KAAM4vB,IACHP,GACAO,EAAGpB,iBAAiB,QAAS,IAAMa,KACnCD,GACAQ,EAAGpB,iBAAiB,gBAAkB1kB,GAAUslB,EAAStlB,EAAM2lB,WAAY3lB,EAAM4lB,WAAY5lB,MAGhG+lB,MAAM,QACJL,CACX,CAgBA,MAAMM,GAAc,CAAC,MAAO,SAAU,SAAU,aAAc,SACxDC,GAAe,CAAC,MAAO,MAAO,SAAU,SACxCC,GAAgB,IAAIC,IAC1B,SAASC,GAAUhD,EAAQC,GACvB,KAAMD,aAAkBwB,cAClBvB,KAAQD,GACM,iBAATC,EACP,OAEJ,GAAI6C,GAAc/oB,IAAIkmB,GAClB,OAAO6C,GAAc/oB,IAAIkmB,GAC7B,MAAMgD,EAAiBhD,EAAKxpB,QAAQ,aAAc,IAC5CysB,EAAWjD,IAASgD,EACpBE,EAAUN,GAAa9rB,SAASksB,GACtC,KAEEA,KAAmBC,EAAWxB,SAAWD,gBAAgBhxB,aACrD0yB,IAAWP,GAAY7rB,SAASksB,GAClC,OAEJ,MAAMtd,EAASyd,eAAgBC,KAAczrB,GAEzC,MAAMqpB,EAAKjwB,KAAKyxB,YAAYY,EAAWF,EAAU,YAAc,YAC/D,IAAInD,EAASiB,EAAGqC,MAQhB,OAPIJ,IACAlD,EAASA,EAAOlqB,MAAM8B,EAAKqlB,iBAMjB9qB,QAAQksB,IAAI,CACtB2B,EAAOiD,MAAmBrrB,GAC1BurB,GAAWlC,EAAGpuB,QACd,EACZ,EAEI,OADAiwB,GAAc9oB,IAAIimB,EAAMta,GACjBA,CACX,CACA4a,GAAcgD,IAAc,IACrBA,EACHxpB,IAAK,CAACimB,EAAQC,EAAMpjB,IAAammB,GAAUhD,EAAQC,IAASsD,EAASxpB,IAAIimB,EAAQC,EAAMpjB,GACvFyjB,IAAK,CAACN,EAAQC,MAAW+C,GAAUhD,EAAQC,IAASsD,EAASjD,IAAIN,EAAQC,MAG7E,MAAMuD,GAAqB,CAAC,WAAY,qBAAsB,WACxDC,GAAY,CAAA,EACZC,GAAiB,IAAI9D,QACrB+D,GAAmC,IAAI/D,QACvCgE,GAAsB,CACxB,GAAA7pB,CAAIimB,EAAQC,GACR,IAAKuD,GAAmBzsB,SAASkpB,GAC7B,OAAOD,EAAOC,GAClB,IAAI4D,EAAaJ,GAAUxD,GAM3B,OALK4D,IACDA,EAAaJ,GAAUxD,GAAQ,YAAaroB,GACxC8rB,GAAe1pB,IAAIhJ,KAAM2yB,GAAiC5pB,IAAI/I,MAAMivB,MAASroB,GAC7F,GAEeisB,CACV,GAELT,eAAgBU,MAAWlsB,GAEvB,IAAImsB,EAAS/yB,KAIb,GAHM+yB,aAAkBrD,YACpBqD,QAAeA,EAAOC,cAAcpsB,KAEnCmsB,EACD,OAEJ,MAAME,EAAgB,IAAItC,MAAMoC,EAAQH,IAIxC,IAHAD,GAAiC3pB,IAAIiqB,EAAeF,GAEpDjE,GAAsB9lB,IAAIiqB,EAAenD,GAAOiD,IACzCA,SACGE,EAENF,QAAgBL,GAAe3pB,IAAIkqB,IAAkBF,EAAOnD,YAC5D8C,GAAe/iB,OAAOsjB,EAE9B,CACA,SAASC,GAAelE,EAAQC,GAC5B,OAASA,IAAStsB,OAAOwwB,eACrB7E,GAAcU,EAAQ,CAAC0B,SAAUD,eAAgBf,aACvC,YAATT,GAAsBX,GAAcU,EAAQ,CAAC0B,SAAUD,gBAChE,CACAlB,GAAcgD,IAAc,IACrBA,EACHxpB,IAAG,CAACimB,EAAQC,EAAMpjB,IACVqnB,GAAelE,EAAQC,GAChB6D,GACJP,EAASxpB,IAAIimB,EAAQC,EAAMpjB,GAEtCyjB,IAAG,CAACN,EAAQC,IACDiE,GAAelE,EAAQC,IAASsD,EAASjD,IAAIN,EAAQC,MC1SpE,ICFWmE,GDEPC,GAAiC,WACjC,SAASA,EAAgBzsB,GACrB,IACIzB,EAAIU,EAAIoC,EADRmM,EAAQpU,KAEZA,KAAKszB,Yfca,IeblBtzB,KAAKuzB,Yfca,IeblBvzB,KAAKwzB,uBfSoB,IeRzBxzB,KAAKyX,SAAWzX,KAAKszB,YACrBtzB,KAAKyzB,iBAAmBlpB,KAAKoM,MAO7B3W,KAAK0zB,sBAAwB,SAAU7F,EAAQ8F,GAC3C,IAAIC,EAAkBxf,EAAMyf,cAAcF,GAG1C,OAFuBvf,EAAM0f,mBAAmBjG,GAEzB+F,GAAmBxf,EAAMof,2BAG5CjpB,KAAKoM,MAAQvC,EAAM2f,gBAAkB3f,EAAMqD,UAAYoW,EAAOjtB,UAC9DwT,EAAMqD,SAAWlS,KAAKgjB,IAAInU,EAAMmf,YAAanf,EAAMqD,SAAWrD,EAAMkf,aACpElf,EAAMqf,iBAAmBlpB,KAAKoM,OACvB,EAGvB,EACQ3W,KAAKyH,eAAiBb,EAAKa,eAC3BzH,KAAKszB,YAA0C,QAA3BnuB,EAAKyB,EAAK0sB,mBAAgC,IAAPnuB,EAAgBA,EAAKnF,KAAKszB,YACjFtzB,KAAKuzB,YAA0C,QAA3B1tB,EAAKe,EAAK2sB,mBAAgC,IAAP1tB,EAAgBA,EAAK7F,KAAKuzB,YACjFvzB,KAAKwzB,uBAAgE,QAAtCvrB,EAAKrB,EAAK4sB,8BAA2C,IAAPvrB,EAAgBA,EAAKjI,KAAKwzB,sBAC1G,CA0CD,OAzCAp0B,OAAO0J,eAAeuqB,EAAgB5zB,UAAW,kBAAmB,CAChEsJ,IAAK,WACD,OAAO/I,KAAKyzB,gBACf,EACDxqB,YAAY,EACZC,cAAc,IAMlBmqB,EAAgB5zB,UAAUo0B,cAAgB,SAAU1jB,GAChD,OAAOA,EAAIvP,MACnB,EAKIyyB,EAAgB5zB,UAAUq0B,mBAAqB,SAAUjG,GACrD,IAAI1hB,EAAKhH,EACL6uB,EAAY,EAChB,IACI,IAAK,IAAIC,EAAWhxB,EAAS4qB,GAASqG,EAAaD,EAASxyB,QAASyyB,EAAWryB,KAAMqyB,EAAaD,EAASxyB,OAAQ,CAChH,IAAIyqB,EAAUgI,EAAW3yB,MACzByyB,GAAah0B,KAAK6zB,cAAc3H,EACnC,CACJ,CACD,MAAO3f,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQ2nB,IAAeA,EAAWryB,OAASsD,EAAK8uB,EAASznB,SAASrH,EAAGxF,KAAKs0B,EACzE,CACO,QAAE,GAAI9nB,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CAMD,OAAOywB,GADQ,EAAIzuB,KAAKse,IAAI,EAAGgK,EAAOjtB,OAAS,GAAqB,EAAhBitB,EAAOjtB,OAEnE,EACWyyB,CACX,KC7EA,SAAWD,GACPA,EAA2B,UAAI,YAC/BA,EAAsB,KAAI,MAC7B,CAHD,CAGGA,KAAoBA,GAAkB,CAAA,ICElC,ICJH5d,GACA2e,GACA7pB,GDEO8pB,GAAqB,yBACrBC,GAAqB,kBAErBC,GAAuB,WAC9B,IAAIlvB,EAAcf,IAClB,OAAO,IAAIlD,QAAQ,SAAUC,EAASC,GAClC,IAAK+D,EACD,OAAO/D,EAAO,IAAI4F,MAAM,2BAE5B,IAAK7B,EAAYgsB,UACb,OAAO/vB,EAAO,IAAI4F,MAAM,0CAE5B,IACI,IAAIstB,EAAYnvB,EAAYgsB,UAAUC,KAAK,gBAGvCmD,GAAsB,EAC1BD,EAAUE,gBAAkB,WACS,IAA7BF,EAAU3yB,OAAOwb,UACjBoX,GAAsB,EAE1C,EACYD,EAAUG,UAAY,WAClB,GAAIF,EAAJ,CACI,IACID,EAAU3yB,OAAO+yB,OACpB,CACD,MAAOxvB,GAEN,CACD,IACIC,EAAYgsB,UAAUwD,eAAe,eACxC,CACD,MAAO/uB,GAEN,CACDzE,GAEH,MACDA,EAAQmzB,EAAU3yB,OAClC,EACY2yB,EAAUhJ,QAAU,SAAU3f,GAC1B,IAAIzG,EAGJ,GAA8E,gBAA9C,QAA1BA,EAAKovB,EAAUhxB,aAA0B,IAAP4B,OAAgB,EAASA,EAAG4E,MAGhE,OAFA6B,EAAMipB,sBACNzzB,IAGJC,EAAOkzB,EAAUhxB,MACjC,CACS,CACD,MAAO7B,GACHL,EAAOK,EACV,CACT,EACA,EACIozB,GAAkB,SAAUC,GAAgB,OAAOj0B,OAAU,OAAQ,OAAQ,EAAQ,WACrF,IAAek0B,EACf,OAAOjzB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD,OAAM2yB,EAAan0B,OAAS,GAE5Bo0B,EAAQD,EAAate,OAAO,EADhB,IAEL,CAAC,EAAatV,QAAQksB,IAAI2H,KAHM,CAAC,EAAa,GAIzD,KAAK,EAED,OADA7vB,EAAG9C,OACI,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAE5B,EACA,EAAG,EACQ4yB,GAAqB,SAAUvD,GACtC,IAAIwD,EACAC,EAaJ,OAZKzD,EAAGvC,iBAAiBiG,SAAShB,MAC9Be,EAAuBzD,EAAG2D,kBAAkBjB,GAAoB,CAC5DkB,QAAS,eAGZ5D,EAAGvC,iBAAiBiG,SAASf,MAC9Ba,EAAiBxD,EAAG2D,kBAAkBhB,GAAoB,CACtDiB,QAAS,aACTC,eAAe,KAEJC,YAAY,YAAa,aAErC,CACHN,eAAgBA,EAChBC,qBAAsBA,EAE9B,EACWM,GAAc,SAAUC,GAAU,OAAO50B,OAAU,OAAQ,OAAQ,EAAQ,WAClF,OAAOiB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAAG,MAAO,CAAC,EAAa2uB,GAAO2E,EAAQ,EAAG,CACvCzE,QAASgE,MAEjB,KAAK,EAAG,MAAO,CAAC,EAAc9vB,EAAG9C,QAE7C,EACA,EAAG,EACCszB,GAA6C,SAAUzhB,GAEvD,SAASyhB,EAA4B/uB,GACjC,IAAIwN,EAAQF,EAAOvU,KAAKK,KAAM4G,IAAS5G,KAiRvC,OAhRAoU,EAAMwhB,mBAAqB,WAAc,OAAO90B,EAAUsT,OAAO,OAAQ,EAAQ,WAC7E,IAAIyhB,EAAW9C,EAAQ5tB,EAAIwlB,EAAWkD,EAAQ1hB,EAC9C,OAAOpK,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAGD,OAFAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtB6yB,EAAY,GACL,CAAC,EAAa71B,KAAK0xB,GAAGD,YAAY,mBAAmBa,MAAMU,cACtE,KAAK,EACDD,EAASltB,EAAGxD,OACZwD,EAAGzD,MAAQ,EACf,KAAK,EACD,OAAK2wB,GACL5tB,EAAK4tB,EAAOxxB,MAAOopB,EAAYxlB,EAAGwlB,UAAWkD,EAAS1oB,EAAG0oB,OACzDgI,EAAU7yB,KAAK,CACX6qB,OAAQA,EACRiI,WAAY/C,EAAO/lB,IACnB2d,UAAWA,IAER,CAAC,EAAaoI,EAAOnD,aAPR,CAAC,EAAa,GAQtC,KAAK,EAED,OADAmD,EAASltB,EAAGxD,OACL,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAcwzB,GAC9B,KAAK,EAGD,OAFA1pB,EAAMtG,EAAGxD,OACTrC,KAAKyH,eAAeT,KAAK,GAAGlD,OAAOqoB,GAAiB,MAAMroB,OAAOqI,IAC1D,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc1D,GAElD,EACS,EAAE,EACH2L,EAAM2hB,qBAAuB,SAAUpL,GAAa,OAAO7pB,EAAUsT,OAAO,OAAQ,EAAQ,WACxF,IAAI4hB,EAAqBF,EAAYznB,EACrC,OAAOtM,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAK0xB,GAAG3oB,IAAIqrB,GAAoBzJ,IACzD,KAAK,EAED,OADAqL,EAAsB7wB,EAAG9C,QAIlB,CAAC,EAAarC,KAAK0xB,GAAGuE,IAAI5B,GAAoB,CAC7C1J,UAAWA,EACXkD,OAAQmI,EAAoBnI,UAJzB,CAAC,OAAcplB,GAM9B,KAAK,EAED,OADAqtB,EAAa3wB,EAAG9C,OACT,CAAC,EAAarC,KAAK0xB,GAAGuE,IAAI7B,GAAoB,CAC7CzJ,UAAWA,EACXkD,OAAQ,MAEpB,KAAK,EAED,OADA1oB,EAAG9C,OACI,CAAC,EAAchC,EAASA,EAAS,CAAE,EAAE21B,GAAsB,CAAErL,UAAWA,EAAWmL,WAAYA,KAC1G,KAAK,EAGD,OAFAznB,EAAMlJ,EAAG9C,OACTrC,KAAKyH,eAAeT,KAAK,GAAGlD,OAAOqoB,GAAiB,MAAMroB,OAAOuK,IAC1D,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc5F,GAElD,EACS,EAAE,EACH2L,EAAM8hB,0BAA4B,SAAUvL,EAAW/e,GAAS,OAAO9K,EAAUsT,OAAO,OAAQ,EAAQ,WACpG,IAAI6b,EAAIkG,EAAgBC,EAAcC,EAAeP,EAAYxnB,EACjE,OAAOvM,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAGD,OAFA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,GAAE,CAAI,KAEhB,CAAC,GADRitB,EAAKjwB,KAAK0xB,GAAGD,YAAY2C,GAAoB,cACrB9B,MAAMvpB,IAAI4hB,IACtC,KAAK,EAED,OADAwL,EAAiBhxB,EAAG9C,QACS,CAAC,EAAa,GACpC,CAAC,EAAa4tB,EAAGqC,MAAM2D,IAAI,CAAEtL,UAAWA,EAAWkD,OAAQ,CAACjiB,MACvE,KAAK,EAED,OADAzG,EAAG9C,OACI,CAAC,GACZ,KAAK,EAED,OADA+zB,OAAe,EACVp2B,KAAK0zB,sBAAsByC,EAAetI,OAAQjiB,IACvDwqB,EAAeD,EAAetI,OAEvB,CAAC,EAAaoC,EAAGqC,MAAM2D,IAAI,CAAEtL,UAAWA,EAAWkD,OAAQ,CAACjiB,OAHG,CAAC,EAAa,GAIxF,KAAK,EAGD,OADAzG,EAAG9C,OACI,CAAC,EAAa,GACzB,KAAK,EAED,OADAg0B,EAAgBF,EAAetI,OAAO/pB,OAAO8H,GACtC,CAAC,EAAaqkB,EAAGqC,MAAM2D,IAAI,CAAEtL,UAAWA,EAAWkD,OAAQwI,KACtE,KAAK,EACDlxB,EAAG9C,OACH8C,EAAG/C,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,EAAa6tB,EAAGpuB,MAChC,KAAK,EAED,OADAsD,EAAG9C,OACE+zB,EAGE,CAAC,EAAap2B,KAAKs2B,mBAAmB3L,EAAWyL,IAF7C,CAAC,OAAc3tB,GAG9B,KAAK,EAED,OADAqtB,EAAa3wB,EAAG9C,QAIT,CAAC,EAAc,CACdwrB,OAAQuI,EACRzL,UAAWA,EACXmL,WAAYA,IALT,CAAC,OAAcrtB,GAO9B,KAAK,GAGD,OAFA6F,EAAMnJ,EAAG9C,OACTrC,KAAKyH,eAAeT,KAAK,GAAGlD,OAAOqoB,GAAiB,MAAMroB,OAAOwK,IAC1D,CAAC,EAAa,IACzB,KAAK,GAAI,MAAO,CAAC,OAAc7F,GAEnD,EACS,EAAE,EACH2L,EAAMkiB,mBAAqB,SAAU3L,EAAWkD,GAAU,OAAO/sB,EAAUsT,OAAO,OAAQ,EAAQ,WAC9F,IAAgB+L,EAChB,OAAOpe,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAK0xB,GAAGuE,IAAI5B,GAAoB,CAC7C1J,UAAWA,EACXkD,OAAQA,KAEpB,KAAK,EAED,MAAO,CAAC,EADK1oB,EAAG9C,QAEpB,KAAK,EAGD,OAFA8d,EAAMhb,EAAG9C,OACTrC,KAAKyH,eAAeT,KAAK,GAAGlD,OAAOqoB,GAAiB,MAAMroB,OAAOqc,IAC1D,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc1X,GAElD,EACS,EAAE,EACH2L,EAAMmiB,0BAA4B,SAAUC,EAAYV,GAAc,OAAOh1B,EAAUsT,OAAO,OAAQ,EAAQ,WAC1G,IAAIqiB,EACJ,OAAO10B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD,IAAK0zB,EACD,MAAO,CAAC,GAEZ3wB,EAAG/C,MAAQ,EACf,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAK0xB,GAAG/hB,OAAO0kB,GAAoByB,IAC5D,KAAK,EAED,OADA3wB,EAAG9C,OACI,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAo0B,EAAMtxB,EAAG9C,OACTrC,KAAKyH,eAAeT,KAAK,GAAGlD,OAAOqoB,GAAiB,MAAMroB,OAAO2yB,IAC1D,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAEpC,EACS,EAAE,EACHriB,EAAMsiB,0BAA4B,SAAU/L,GAAa,OAAO7pB,EAAUsT,OAAO,OAAQ,EAAQ,WAC7F,IAAIuiB,EAAUC,EAAqCrK,EAAYsK,EAAiBC,EAAmB1xB,EAAa2xB,EAAKC,EACjH5iB,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAasxB,MACzB,KAAK,EAED,KADAqC,EAAWxxB,EAAG9C,QAEV,MAAO,CAAC,GAEZu0B,EAAsC,SAAUK,EAAkBC,GAAgB,OAAOp2B,EAAUsT,OAAO,OAAQ,EAAQ,WACtH,IAAI+iB,EAAyBC,EACzBhjB,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAgBD,OAfA+0B,EAA0BD,EAAaG,iBACvCD,EAAkB,GAClBh4B,OAAOwF,KAAKuyB,GAAyBprB,QAAQ,SAAU+pB,GACnD,IAAIwB,EAAoBC,SAASzB,EAAY,IACzC0B,EAAWL,EAAwBG,GACvC,GAAIA,IAAsBJ,EAAaO,kBAAmB,CACtD,IAAIC,EAAmBF,EAAS3J,OAAOhpB,IAAI,SAAU+G,GAAS,OAAO9K,EAAUsT,OAAO,OAAQ,EAAQ,WAAc,OAAOrS,EAAY/B,KAAM,SAAUmF,GACnJ,MAAO,CAAC,EAAcnF,KAAKk2B,0BAA0Be,EAAkBrrB,GAC3H,EAAmD,EAAI,GACPwrB,EAAgBp0B,KAAKnC,MAAMu2B,EAAiB5zB,EAAc,GAAIJ,EAAOs0B,IAAmB,GAC3F,MACQF,EAAS/lB,SAAW2hB,GAAgBuE,MACzCP,EAAgBp0B,KAAKoR,EAAMkiB,mBAAmBW,EAAkBO,EAAS3J,QAEzH,GAC+C,CAAC,EAAaiH,GAAgBsC,IACzC,KAAK,EAED,OADAjyB,EAAG9C,OACI,CAAC,GAEhD,EACyB,EAAE,EACHkqB,EAAa,GAAGzoB,OAAOG,EAAgB,KAAKH,OAAO9D,KAAKqI,OAAOyM,UAAU,EAAG,KAC5E3P,EAAG/C,MAAQ,EACf,KAAK,EAyCD,OAxCA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtB6zB,EAAkBF,EAASlF,YAAY,UAAUrC,YAAY,UAAUwI,OAAOrL,GAC9EuK,EAAoB,IAAI31B,QAAQ,SAAUC,GACtCy1B,EAAgBnC,UAAY,SAAUhzB,GAAK,OAAOZ,EAAUsT,OAAO,OAAQ,EAAQ,WAC/E,IAAIyjB,EAAgCC,EAA6BC,EAC7D3jB,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAGD,OAFAy1B,EAAiCn2B,GAAKA,EAAEstB,OAAOptB,QAC/Ck2B,EAA8BD,GAAkCA,EAA+B,KAE/FE,EAAoB,GACpB34B,OAAOwF,KAAKkzB,GAA6B/rB,QAAQ,SAAUisB,GACvD,IAAIf,EAAmBM,SAASS,EAAiB,IAC7CC,EAAkBH,EAA4Bb,GAClD,GAAItM,IAAcsM,EACdc,EAAkB/0B,KAAK4zB,EAAoCK,EAAkBgB,QAE5E,CACD,IAAIC,EAAwBD,EAAgBZ,iBAC5Cj4B,OAAOwF,KAAKszB,GAAuBnsB,QAAQ,SAAU+pB,GACjD,IAAIwB,EAAoBC,SAASzB,EAAY,IACzCoC,EAAsBZ,GAAmB7lB,SAAW2hB,GAAgBuE,MACpEI,EAAkB/0B,KAAKoR,EAAMkiB,mBAAmBW,EAAkBiB,EAAsBZ,GAAmBzJ,QAEvK,EACiD,CACjD,GACmD,CAAC,EAAaiH,GAAgBiD,KAlBI,CAAC,EAAa,GAmB3D,KAAK,EACD5yB,EAAG9C,OACH8C,EAAG/C,MAAQ,EACf,KAAK,EAED,OADAhB,IACO,CAAC,GAEpD,EAC6B,EAAE,CAC/B,GAC+B,CAAC,EAAa01B,GACzB,KAAK,EAMD,OALA3xB,EAAG9C,QACH+C,EAAcf,MAEVe,EAAYgsB,UAAUwD,eAAe,gBAElC,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAmC,EAAM5xB,EAAG9C,OACTrC,KAAKyH,eAAeT,KAAK,wEAAwElD,OAAOizB,IACjG,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAGD,OAFAC,EAAM7xB,EAAG9C,OACTrC,KAAKyH,eAAeT,KAAK,kCAAkClD,OAAOkzB,EAAK,sIAChE,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAEpC,EACS,EAAE,EACH5iB,EAAM/L,OAASzB,EAAKyB,OACpB+L,EAAMsd,GAAK9qB,EAAK8qB,GACTtd,CACV,CA2ED,OA/VAxU,EAAU+1B,EAA6BzhB,GAqRvCyhB,EAA4BwC,IAAM,SAAUruB,EAAMlD,EAAM+jB,GACpD,OAAO7pB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIo4B,EAAU1C,EAAQhE,EAAI2G,EAAgBC,EAC1C,OAAOv2B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAID,OAHA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtBo1B,EAAoB,WAATtuB,EAAoB,GAAK,IAAIhG,OAAOgG,GAC/C4rB,EAAS,GAAG5xB,OAAO8C,EAAKyB,OAAOyM,UAAU,EAAG,IAAK,8BAA8BhR,OAAOs0B,GAC/E,CAAC,EAAa3C,GAAYC,IACrC,KAAK,EAGD,OAFAhE,EAAKvsB,EAAG9C,OAED,CAAC,GADRg2B,EAAiB,IAAI1C,EAA4Bt1B,EAASA,EAAS,CAAA,EAAIuG,GAAO,CAAE8qB,GAAIA,MAChDgF,0BAA0B/L,IAClE,KAAK,EAED,OADAxlB,EAAG9C,OACI,CAAC,EAAcg2B,GAC1B,KAAK,EAGD,OAFAC,EAAMnzB,EAAG9C,OACTuE,EAAKa,eAAeT,KAAK,GAAGlD,OAAOqoB,GAAiB,MAAMroB,OAAOw0B,IAC1D,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAEpC,EACA,EACA,EACI3C,EAA4Bl2B,UAAU84B,yBAA2B,SAAU5N,GACvE,OAAO7pB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAYw4B,EAAWrzB,EAAIU,EAAIgoB,EAAQ4K,EACnCC,EAAKzwB,EACT,OAAOlG,EAAY/B,KAAM,SAAUkI,GAC/B,OAAQA,EAAG9F,OACP,KAAK,EACD,OAAKuoB,EACE,CAAC,EAAa3qB,KAAK0xB,GAAG3oB,IAAI,yBAA0B4hB,IADpC,CAAC,EAAa,GAEzC,KAAK,EAED,OADAkD,EAAS3lB,EAAG7F,QAIL,CAAC,EAAc,CAACwrB,IAFZ,CAAC,OAAcplB,GAG9B,KAAK,EACD+vB,EAAY,GACZtwB,EAAG9F,MAAQ,EACf,KAAK,EAED,OADA8F,EAAG5F,KAAKU,KAAK,CAAC,EAAG,EAAG,EAAG,KAChB,CAAC,EAAahD,KAAK0xB,GAAGkG,OAAO,2BACxC,KAAK,EACDzyB,EAAKlC,EAASpC,WAAM,EAAQ,CAACqH,EAAG7F,SAAUwD,EAAKV,EAAG1D,OAClDyG,EAAG9F,MAAQ,EACf,KAAK,EACD,GAAMyD,EAAGhE,KAAM,MAAO,CAAC,EAAa,GACpCgsB,EAAShoB,EAAGtE,MACZi3B,EAAUx1B,KAAK6qB,GACf3lB,EAAG9F,MAAQ,EACf,KAAK,EAED,OADAyD,EAAKV,EAAG1D,OACD,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAa,IAC7B,KAAK,EAGD,OAFAg3B,EAAQvwB,EAAG7F,OACXq2B,EAAM,CAAEn1B,MAAOk1B,GACR,CAAC,EAAa,IACzB,KAAK,EACD,IACQ5yB,IAAOA,EAAGhE,OAASoG,EAAK9C,EAAGqH,SAASvE,EAAGtI,KAAKwF,EACnD,CACO,QAAE,GAAIuzB,EAAK,MAAMA,EAAIn1B,KAAQ,CACrC,MAAO,CAAC,GACZ,KAAK,GAAI,MAAO,CAAC,EAAci1B,GAEnD,EACA,EACA,EACW7C,CACX,CAjW+B,CAiW7BtC,IE7cEsF,GAAqC,SAAUzkB,GAE/C,SAASykB,IACL,IAAIvkB,EAAmB,OAAXF,GAAmBA,EAAOrT,MAAMb,KAAMW,YAAcX,KAIhE,OAHAoU,EAAMwkB,mBAAqB,GAC3BxkB,EAAMyhB,UAAY,GAClBzhB,EAAM0hB,WAAa,EACZ1hB,CACV,CAoED,OA3EAxU,EAAU+4B,EAAqBzkB,GAQ/BykB,EAAoBl5B,UAAUo5B,qBAAuB,SAAUlO,GAC3D3qB,KAAK61B,UAAUlL,GAAa,EACpC,EACIgO,EAAoBl5B,UAAUq5B,YAAc,SAAUnO,GAClD,IAAImL,EAAa91B,KAAK81B,aAClBjI,EAASrqB,EAAc,GAAIJ,EAAOpD,KAAK61B,UAAUlL,KAAa,GAGlE,OAFA3qB,KAAK44B,mBAAmB9C,GAAc,CAAEnL,UAAWA,EAAWkD,OAAQA,GACtE7tB,KAAK64B,qBAAqBlO,GACnB,CAAEmL,WAAYA,EAAYjI,OAAQA,EAAQlD,UAAWA,EACpE,EACIgO,EAAoBl5B,UAAUm2B,mBAAqB,WAC/C,OAAO90B,EAAUd,UAAM,OAAQ,EAAQ,WACnC,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,MAAO,CAAC,EAAc/F,OAAOwG,QAAQ5F,KAAK44B,oBAAoB/zB,IAAI,SAAUM,GACpE,IAAIU,EAAKzC,EAAO+B,EAAI,GAAI2wB,EAAajwB,EAAG,GAAIoC,EAAKpC,EAAG,GAAI8kB,EAAY1iB,EAAG0iB,UAAWkD,EAAS5lB,EAAG4lB,OAC9F,MAAQ,CACJiI,WAAYlZ,OAAOkZ,GACnBnL,UAAWA,EACXkD,OAAQA,EAEf,GACrB,EACA,EACA,EACI8K,EAAoBl5B,UAAUs2B,qBAAuB,SAAUpL,GAC3D,OAAO7pB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAKnF,KAAK61B,UAAUlL,GAGb,CAAC,EAAc3qB,KAAK84B,YAAYnO,IAF5B,CAAC,OAAcliB,EAG1C,EACA,EACA,EACIkwB,EAAoBl5B,UAAUy2B,0BAA4B,SAAUvL,EAAW/e,GAC3E,OAAO9K,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI+4B,EACJ,OAAOh3B,EAAY/B,KAAM,SAAUmF,GAQ/B,OAPKnF,KAAK61B,UAAUlL,IAChB3qB,KAAK64B,qBAAqBlO,GAE1B3qB,KAAK0zB,sBAAsB1zB,KAAK61B,UAAUlL,GAAY/e,KACtDmtB,EAAiB/4B,KAAK84B,YAAYnO,IAEtC3qB,KAAK61B,UAAUlL,GAAW3nB,KAAK4I,GACxB,CAAC,EAAcmtB,EACtC,EACA,EACA,EACIJ,EAAoBl5B,UAAU62B,mBAAqB,SAAU3L,EAAWkD,GACpE,OAAO/sB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,OAAO+B,EAAY/B,KAAM,SAAUmF,GAE/B,OADAnF,KAAK44B,mBAAmB54B,KAAK81B,YAAc,CAAEnL,UAAWA,EAAWkD,OAAQA,GACpE,CAAC,EAAc7tB,KAAK81B,aAC3C,EACA,EACA,EACI6C,EAAoBl5B,UAAU82B,0BAA4B,SAAUC,EAAYV,GAC5E,OAAOh1B,EAAUd,UAAM,OAAQ,EAAQ,WACnC,OAAO+B,EAAY/B,KAAM,SAAUmF,GAI/B,YAHmBsD,IAAfqtB,UACO91B,KAAK44B,mBAAmB9C,GAE5B,CAAC,EACxB,EACA,EACA,EACW6C,CACX,CA7EuB,CA6ErBtF,IC1ES2F,GAAsB,SAAU7zB,GACvC,IAAIqQ,EAASrQ,EAAGqQ,OAAQmV,EAAYxlB,EAAGwlB,UAAW2I,EAAcnuB,EAAGmuB,YAAaC,EAAcpuB,EAAGouB,YAAazpB,EAAO3E,EAAG2E,KAAMwiB,EAAiBnnB,EAAGmnB,eAAgBhP,EAAYnY,EAAGmY,UACjL,OAAOxc,OAAU,OAAQ,OAAQ,EAAQ,WACrC,SAASosB,EAAMC,GAEX,YADiB,IAAbA,IAAuBA,GAAW,GAC/BrsB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,OAAO+B,EAAY/B,KAAM,SAAUmF,GAC/B,MAAO,CAAC,EAAc8zB,EAAiB/L,MAAMC,GACjE,EACA,EACS,CACD,IAAI8L,EAAkBC,EAAgBC,EAAuB7G,EAAOzsB,EAAI6mB,EAAgB0M,EAA2BC,EAAkBzO,EACrI,OAAO7oB,EAAY/B,KAAM,SAAUiI,GAC/B,OAAQA,EAAG7F,OACP,KAAK,EA0BD,OAzBA62B,EAAmB,IAAI5M,GAA8BhsB,EAASA,EAAS,CAAE,EAAEmV,GAAS,CAAE/N,eAAgB+N,EAAO/N,eAAgB6kB,eAAgBA,KAC7I4M,EAAiB,WACb,OAAO,IAAIP,GAAoB,CAC3BlxB,eAAgB+N,EAAO/N,eACvB8rB,YAAaA,EACbD,YAAaA,GAEzC,EACoB6F,EAAwB,WAAc,OAAOr4B,OAAU,OAAQ,OAAQ,EAAQ,WAC3E,IAAIwxB,EACJ,OAAOvwB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAAG,MAAO,CAAC,EAAauzB,GAA4BwC,IAAIruB,EAAM,CAC3DrC,eAAgB+N,EAAO/N,eACvB6rB,YAAaA,EACbC,YAAaA,EACblrB,OAAQmN,EAAOnN,QAChBsiB,IACP,KAAK,EAGD,OAFA2H,EAAQntB,EAAG9C,OACXmT,EAAO/N,eAAed,IAAI,iEACnB,CAAC,EAAc2rB,QAAqCA,EAAQ4G,KAEvG,EACqB,EAAE,EACiB,QAAd5b,EAA6B,CAAC,EAAa,GAC1C,CAAC,EAAa6b,KACzB,KAAK,EAED,OADAtzB,EAAKoC,EAAG5F,OACD,CAAC,EAAa,GACzB,KAAK,EACDwD,EAAKqzB,IACLjxB,EAAG7F,MAAQ,EACf,KAAK,EA8FD,OA7FAkwB,EAAQzsB,EACR6mB,EAAiB,SAAUvnB,GACvB,IAAI0oB,EAAS1oB,EAAG0oB,OAAQlD,EAAYxlB,EAAGwlB,UAAW3c,EAAW7I,EAAG6I,SAAU8nB,EAAa3wB,EAAG2wB,WACtFtgB,EAAOwI,WACP5B,KACKta,KAAK,SAAUqD,GAChB,IAAIqX,EAAmBrX,EAAGqX,iBAAkBC,EAAiBtX,EAAGsX,eAAgBF,EAAepX,EAAGoX,aAClG/G,EAAO/N,eAAeP,MAAM,uBAAuBpD,OAAO0Y,EAAkB,8BAA8B1Y,OAAO2Y,EAAgB,sBAAsB3Y,OAAOyY,GAC9L,GACiCoV,MAAM,WAEvC,GAEwBsH,EAAiBvM,eAAe,CAC5BmB,OAAQA,EACRlD,UAAWA,EACXtjB,gBAAiBmO,EAAOnO,gBACxBgB,OAAQmN,EAAOnN,OACf2F,SAAUA,EACViP,WAAYzH,EAAOyH,WACnBpV,WAAY2N,EAAO3N,WACnBuV,QAAS5H,EAAO4H,QAChBtT,KAAMA,EACNukB,WAAY,WAAc,OAAOvtB,OAAU,OAAQ,OAAQ,EAAQ,WAC/D,OAAOiB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAAG,MAAO,CAAC,EAAakwB,EAAMiE,0BAA0B5L,EAAWmL,IACxE,KAAK,EAED,OADA3wB,EAAG9C,OACI,CAAC,GAEpD,EAC6B,EAAI,GAEjC,EACoB+2B,EAA4B,SAAUj0B,GAClC,IAAIwlB,EAAYxlB,EAAGwlB,UAAW3c,EAAW7I,EAAG6I,SAC5CskB,EACKyD,qBAAqBpL,GACrB7oB,KAAK,SAAUw3B,GACZA,GACA5M,EAAe,CACXoJ,WAAYwD,EAAgBxD,WAC5BjI,OAAQyL,EAAgBzL,OACxBlD,UAAW2O,EAAgB3O,UAC3B3c,SAAUA,GAG9C,GAC6B2jB,MAAM,SAAUjwB,GACjB8T,EAAO/N,eAAeT,KAAK,uEAAwEtF,EAC/H,EACA,EACoB23B,EAAmB,SAAUl0B,GACzB,IAAI6I,EAAW7I,EAAG6I,SAClB,OAAOlN,OAAU,OAAQ,OAAQ,EAAQ,WACrC,IAAIy4B,EACJ,OAAOx3B,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAAG,MAAO,CAAC,EAAakwB,EAAMsD,sBACnC,KAAK,EAWD,OAVA2D,EAAkB1zB,EAAGxD,SAEjBk3B,EAAgBxtB,QAAQ,SAAUyrB,GAC9B9K,EAAe,CACXoJ,WAAY0B,EAAS1B,WACrBjI,OAAQ2J,EAAS3J,OACjBlD,UAAW6M,EAAS7M,UACpB3c,SAAUA,GAE9D,GAC+C,CAAC,GAEhD,EACA,EACA,EACoB4c,EAAW,SAAUzlB,GACjB,IAAIyG,EAAQzG,EAAGyG,MAAO+e,EAAYxlB,EAAGwlB,UAAW3c,EAAW7I,EAAG6I,SAC9DskB,EACK4D,0BAA0BvL,EAAW/e,EAAMud,MAC3CrnB,KAAK,SAAU03B,GAChB,OAAQA,GACJ9M,EAAe,CACXoJ,WAAY0D,EAAe1D,WAC3BjI,OAAQ2L,EAAe3L,OACvBlD,UAAW6O,EAAe7O,UAC1B3c,SAAUA,GAE9C,GAC6B2jB,MAAM,SAAUjwB,GACjB8T,EAAO/N,eAAeT,KAAK,iDAAkDtF,EACzG,EACA,EAC2B,CAAC,EAAc,CACd03B,0BAA2BA,EAC3BxO,SAAUA,EACVyO,iBAAkBA,EAClBnM,MAAOA,IAGnC,EACA,EACA,ECvJIuM,GAAmC,WACnC,SAASA,IAEL,IADA,IAAIC,EAAW,GACN7yB,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpC6yB,EAAS7yB,GAAMlG,UAAUkG,GAE7B,IAAI8yB,EAAc,IAAI5H,IACtB2H,EAAS3tB,QAAQ,SAAUxL,GACvBo5B,EAAY3wB,IAAIzI,EAAEwJ,KAAMxJ,EAAEq5B,QACtC,GACQ55B,KAAK05B,SAAWC,CACnB,CAgDD,OA/CAF,EAAkBh6B,UAAU45B,iBAAmB,SAAUjQ,GACrD,OAAOtoB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI65B,EACJ,OAAO93B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAKD,OAJAy3B,EAAW,GACX75B,KAAK05B,SAAS3tB,QAAQ,SAAU6tB,GAC5BC,EAAS72B,KAAK42B,EAAQP,iBAAiBjQ,GACnE,GAC+B,CAAC,EAAajoB,QAAQksB,IAAIwM,IACrC,KAAK,EAED,OADA10B,EAAG9C,OACI,CAAC,GAEhC,EACA,EACA,EACIo3B,EAAkBh6B,UAAUmrB,SAAW,SAAUzlB,GAC7C,IAAIU,EACA8kB,EAAYxlB,EAAGwlB,UAAW/e,EAAQzG,EAAGyG,MAAOoC,EAAW7I,EAAG6I,SACrB,QAAxCnI,EAAK7F,KAAK05B,SAAS3wB,IAAI6C,EAAM9B,aAA0B,IAAPjE,GAAyBA,EAAG+kB,SAAS,CAAED,UAAWA,EAAW/e,MAAOA,EAAOoC,SAAUA,GAC9I,EACIyrB,EAAkBh6B,UAAU25B,0BAA4B,SAAUj0B,GAC9D,IAAIwlB,EAAYxlB,EAAGwlB,UAAW3c,EAAW7I,EAAG6I,SAC5ChO,KAAK05B,SAAS3tB,QAAQ,SAAU6tB,GAC5BA,EAAQR,0BAA0B,CAAEzO,UAAWA,EAAW3c,SAAUA,GAChF,EACA,EACIyrB,EAAkBh6B,UAAUytB,MAAQ,SAAUC,GAC1C,OAAOrsB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI65B,EACJ,OAAO93B,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAKD,OAJAy3B,EAAW,GACX75B,KAAK05B,SAAS3tB,QAAQ,SAAU6tB,GAC5BC,EAAS72B,KAAK42B,EAAQ1M,MAAMC,GACxD,GAC+B,CAAC,EAAahsB,QAAQksB,IAAIwM,IACrC,KAAK,EAED,OADA10B,EAAG9C,OACI,CAAC,GAEhC,EACA,EACA,EACWo3B,CACX,IH5DO,SAASK,GAAOC,EAAO/xB,GAE1B,GADAsC,GAAQ,IAAIC,KACRwvB,EAAMC,WAAaC,KAAKC,aACxB,MAAM,IAAIjzB,MAAM,0DAEpB,GAAI,SAAW8yB,EAAMI,QAAQ7f,cACzB,MAAO,OAEX,IAAI8f,EAAW,CACXC,KAAM/Z,SAASte,KACfs4B,OAAQ,SAAUC,GAAS,OAAO,CAAO,EACzCC,UAAW,SAAUD,GAAS,OAAO,CAAO,EAC5CJ,QAAS,SAAUI,GAAS,OAAO,CAAO,EAC1CE,KAAM,SAAUF,EAAOG,GAAU,OAAO,CAAQ,EAChDC,cAAe,EACfC,mBAAoB,EACpBC,UAAW,IACXC,iBAAkB,IAClBC,eAAWtyB,GAEf+M,GAASnV,EAASA,EAAS,CAAE,EAAE+5B,GAAWpyB,GAC1CmsB,GAeJ,SAA0B6G,EAAUZ,GAChC,GAAIY,EAAShB,WAAaC,KAAKgB,cAC3B,OAAOD,EAEX,GAAIA,IAAaZ,EAASC,KACtB,OAAOW,EAASE,cAEpB,OAAOF,CACX,CAvBmBG,CAAiB3lB,GAAO6kB,KAAMD,GAC7C,IAAIgB,EAAOC,GAAetB,EAAO,MAAO,WACpC,OAAOsB,GAAetB,EAAO,MAAO,WAAc,OAAOsB,GAAetB,EAAO,MAAO,WAAc,OAAOsB,GAAetB,EAAO,OAAU,EAAE,EACrJ,GACI,GAAIqB,EAAM,CACN,IAAIE,EAAYzuB,GAAK0uB,GAASH,EAAMrB,IAIpC,OAHIuB,EAAU16B,OAAS,IACnBw6B,EAAOE,EAAU,IAEdtgB,GAASogB,EACnB,CAEG,MAAM,IAAIn0B,MAAM,0BAExB,CAUA,SAASo0B,GAAetB,EAAOyB,EAAOC,GA4DlC,IA3DA,IAAIL,EAAO,KACPnxB,EAAQ,GACRyxB,EAAU3B,EACVt5B,EAAI,EACJiX,EAAU,WACV,IAAIvL,EAAKhH,EACLw2B,GAAc,IAAIpxB,MAAOqxB,UAAYtxB,GAAMsxB,UAC/C,QAAyBnzB,IAArB+M,GAAOulB,WAA2BY,EAAcnmB,GAAOulB,UACvD,MAAM,IAAI9zB,MAAM,+CAA+CnD,OAAO63B,EAAa,OAEvF,IAAIzhB,EAAQ2hB,GAkHpB,SAAY9B,GACR,IAAI+B,EAAY/B,EAAMgC,aAAa,MACnC,GAAID,GAAatmB,GAAO8kB,OAAOwB,GAC3B,MAAO,CACH/xB,KAAM,IAAMiyB,IAAIC,OAAOH,GACvBI,QAAS,GAGjB,OAAO,IACX,CA3H0BhmB,CAAGwlB,KAAaG,GAAMh7B,WAAM,EAAQ2C,EAAc,GAAIJ,EA4HhF,SAAc22B,GACV,IAAIoC,EAAQ58B,MAAMmE,KAAKq2B,EAAMqC,YAAY1b,OAAO,SAAU+Z,GAAQ,OAAOjlB,GAAOilB,KAAKA,EAAK1wB,KAAM0wB,EAAKl5B,MAAO,GAC5G,OAAO46B,EAAMt3B,IAAI,SAAU41B,GAAQ,MAAQ,CACvC1wB,KAAM,IAAIjG,OAAOk4B,IAAIC,OAAOxB,EAAK1wB,MAAO,MAAOjG,OAAOk4B,IAAIC,OAAOxB,EAAKl5B,OAAQ,MAC9E26B,QAAS,GACR,EACT,CAlIuFzB,CAAKiB,KAAW,KAAWG,GAAMh7B,WAAM,EAAQ2C,EAAc,GAAIJ,EAmIxJ,SAAoB22B,GAChB,IAAIsC,EAAQ98B,MAAMmE,KAAKq2B,EAAMuC,WAAW5b,OAAOlL,GAAOglB,WACtD,OAAO6B,EAAMx3B,IAAI,SAAUkF,GAAQ,MAAQ,CACvCA,KAAM,IAAMiyB,IAAIC,OAAOlyB,GACvBmyB,QAAS,EACR,EACT,CAzI+JK,CAAWb,KAAW,KACzKG,GAyIZ,SAAiB9B,GACb,IAAIhwB,EAAOgwB,EAAMI,QAAQ7f,cACzB,GAAI9E,GAAO2kB,QAAQpwB,GACf,MAAO,CACHA,KAAMA,EACNmyB,QAAS,GAGjB,OAAO,IACX,CAlJkB/B,CAAQuB,KAAa,CAoJ5B,CACH3xB,KAAM,IACNmyB,QAAS,IArJLM,EAwJZ,SAAezC,GACX,IAAI0C,EAAS1C,EAAM2C,WACnB,IAAKD,EACD,OAAO,KAEX,IAAIE,EAAQF,EAAOG,WACnB,IAAKD,EACD,OAAO,KAEX,IAAIl8B,EAAI,EACR,KAAOk8B,IACCA,EAAM3C,WAAaC,KAAKC,cACxBz5B,IAEAk8B,IAAU5C,IAGd4C,EAAQA,EAAME,YAElB,OAAOp8B,CACX,CA5KkBqE,CAAM42B,GAChB,GAAa,OAATF,EACIgB,IACAtiB,EAAQA,EAAMpW,OAAOoW,EAAMwG,OAAOoc,IAAgBj4B,IAAI,SAAUk4B,GAAQ,OAAOC,GAASD,EAAMP,EAAO,UAGxG,GAAa,OAAThB,EACLthB,EAAQA,EAAMrW,MAAM,EAAG,GACnB24B,IACAtiB,EAAQA,EAAMpW,OAAOoW,EAAMwG,OAAOoc,IAAgBj4B,IAAI,SAAUk4B,GAAQ,OAAOC,GAASD,EAAMP,EAAO,UAGxG,GAAa,OAAThB,EAAgB,CACrB,IAAiDuB,EAAxC35B,EAAQ8W,EAAQA,EAAMrW,MAAM,EAAG,GAAK,GAAc,GACvD24B,GAAOM,GAAeC,KACtB7iB,EAAQ,CAAC8iB,GAASD,EAAMP,IAE/B,KACiB,QAAThB,IACLthB,EAAQ,CAgIT,CACHnQ,KAAM,IACNmyB,QAAS,IAjIDM,IACAtiB,EAAQ,CAAC8iB,GAAS9iB,EAAM,GAAIsiB,MAGpC,IACI,IAAK,IAAIS,GAAW9wB,OAAM,EAAQlJ,EAASiX,IAASgjB,EAAYD,EAAQx7B,QAASy7B,EAAUr7B,KAAMq7B,EAAYD,EAAQx7B,OAAQ,EACrHs7B,EAAOG,EAAU37B,OAChB2Y,MAAQzZ,CAChB,CACJ,CACD,MAAO8L,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQ2wB,IAAcA,EAAUr7B,OAASsD,EAAK83B,EAAQzwB,SAASrH,EAAGxF,KAAKs9B,EACtE,CACO,QAAE,GAAI9wB,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CAED,GADA0G,EAAMjH,KAAKkX,GACPjQ,EAAMrJ,QAAU4U,GAAOmlB,gBACvBS,EAAO+B,GAAelzB,EAAOwxB,IAEzB,MAAO,QAGfC,EAAUA,EAAQ0B,cAClB38B,GACR,EACWi7B,GAAS,CAEZ,GAAgB,UADFhkB,IAEV,KACP,CAID,OAHK0jB,IACDA,EAAO+B,GAAelzB,EAAOwxB,KAE5BL,GAAQK,EACFA,IAEJL,CACX,CACA,SAAS+B,GAAelzB,EAAOwxB,GAC3B,IAAIptB,EAAKlJ,EACLk4B,EAAQxwB,GAAKywB,GAAarzB,IAC9B,GAAIozB,EAAMz8B,OAAS4U,GAAOqlB,UACtB,OAAOY,EAAWA,IAAa,KAEnC,IACI,IAAK,IAAI8B,EAAUt6B,EAASo6B,GAAQG,EAAYD,EAAQ97B,QAAS+7B,EAAU37B,KAAM27B,EAAYD,EAAQ97B,OAAQ,CACzG,IAAIg8B,EAAYD,EAAUj8B,MAC1B,GAAIm8B,GAAOD,GACP,OAAOA,CAEd,CACJ,CACD,MAAO1uB,GAASV,EAAM,CAAE9K,MAAOwL,EAAU,CACjC,QACJ,IACQyuB,IAAcA,EAAU37B,OAASsD,EAAKo4B,EAAQ/wB,SAASrH,EAAGxF,KAAK49B,EACtE,CACO,QAAE,GAAIlvB,EAAK,MAAMA,EAAI9K,KAAQ,CACxC,CACD,OAAO,IACX,CACA,SAASyX,GAASogB,GAGd,IAFA,IAAI2B,EAAO3B,EAAK,GACZuC,EAAQZ,EAAKhzB,KACRtJ,EAAI,EAAGA,EAAI26B,EAAKx6B,OAAQH,IAAK,CAClC,IAAIyZ,EAAQkhB,EAAK36B,GAAGyZ,OAAS,EAEzByjB,EADAZ,EAAK7iB,QAAUA,EAAQ,EACf,GAAGpW,OAAOs3B,EAAK36B,GAAGsJ,KAAM,OAAOjG,OAAO65B,GAGtC,GAAG75B,OAAOs3B,EAAK36B,GAAGsJ,KAAM,KAAKjG,OAAO65B,GAEhDZ,EAAO3B,EAAK36B,EACf,CACD,OAAOk9B,CACX,CACA,SAASzB,GAAQd,GACb,OAAOA,EAAKv2B,IAAI,SAAUk4B,GAAQ,OAAOA,EAAKb,UAAY3kB,OAAO,SAAUqmB,EAAKn9B,GAAK,OAAOm9B,EAAMn9B,CAAE,EAAI,EAC5G,CACA,SAASi9B,GAAOtC,GACZ,IAAIyC,EAAM7iB,GAASogB,GACnB,OAAQjH,GAAa2J,iBAAiBD,GAAKj9B,QACvC,KAAK,EACD,MAAM,IAAIqG,MAAM,6CAA6CnD,OAAO+5B,IACxE,KAAK,EACD,OAAO,EACX,QACI,OAAO,EAEnB,CA8DA,SAASb,GAASD,EAAMt8B,GACpB,MAAO,CACHsJ,KAAMgzB,EAAKhzB,KAAO,cAAcjG,OAAOrD,EAAG,KAC1Cy7B,QAASa,EAAKb,QAAU,EAEhC,CACA,SAASY,GAAeC,GACpB,MAAqB,SAAdA,EAAKhzB,OAAoBgzB,EAAKhzB,KAAK0Q,WAAW,IACzD,CACA,SAASohB,KAEL,IADA,IAAI3hB,EAAQ,GACHrT,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCqT,EAAMrT,GAAMlG,UAAUkG,GAE1B,IAAIimB,EAAO5S,EAAMwG,OAAOqd,IACxB,OAAIjR,EAAKlsB,OAAS,EACPksB,EAEJ,IACX,CACA,SAASiR,GAASx8B,GACd,OAAOA,OACX,CACA,SAAS+7B,GAAarzB,EAAOmxB,GACzB,IAAIj2B,EAAIU,EAAIk3B,EAAM7tB,EACdZ,EAAKrG,EAET,YADa,IAATmzB,IAAmBA,EAAO,IACvBr5B,EAAY/B,KAAM,SAAUkI,GAC/B,OAAQA,EAAG9F,OACP,KAAK,EACD,KAAM6H,EAAMrJ,OAAS,GAAI,MAAO,CAAC,EAAa,GAC9CsH,EAAG9F,MAAQ,EACf,KAAK,EACD8F,EAAG5F,KAAKU,KAAK,CAAC,EAAG,EAAG,EAAG,IACvBmC,EAAKlC,EAASgH,EAAM,IAAKpE,EAAKV,EAAG1D,OACjCyG,EAAG9F,MAAQ,EACf,KAAK,EACD,OAAMyD,EAAGhE,KAAa,CAAC,EAAa,IACpCk7B,EAAOl3B,EAAGtE,MACH,CAAC,EAAc0B,EAASq6B,GAAarzB,EAAMpG,MAAM,EAAGoG,EAAMrJ,QAASw6B,EAAKt3B,OAAOi5B,OAC1F,KAAK,EACD70B,EAAG7F,OACH6F,EAAG9F,MAAQ,EACf,KAAK,EAED,OADAyD,EAAKV,EAAG1D,OACD,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAGD,OAFAyN,EAAQhH,EAAG7F,OACXiM,EAAM,CAAE/K,MAAO2L,GACR,CAAC,EAAa,GACzB,KAAK,EACD,IACQrJ,IAAOA,EAAGhE,OAASoG,EAAK9C,EAAGqH,SAASvE,EAAGtI,KAAKwF,EACnD,CACO,QAAE,GAAImJ,EAAK,MAAMA,EAAI/K,KAAQ,CACrC,MAAO,CAAC,GACZ,KAAK,EAAG,MAAO,CAAC,EAAa,IAC7B,KAAK,EAAG,MAAO,CAAC,EAAa63B,GAC7B,KAAK,GACDlzB,EAAG7F,OACH6F,EAAG9F,MAAQ,GACf,KAAK,GAAI,MAAO,CAAC,GAE7B,EACA,CACA,SAASyK,GAAKwwB,GACV,OAAO75B,EAAc,GAAIJ,EAAOi6B,IAAQ,GAAOxwB,KAAK,SAAU3H,EAAG/F,GAAK,OAAO+8B,GAAQh3B,GAAKg3B,GAAQ/8B,EAAG,EACzG,CACA,SAASo8B,GAASH,EAAMrB,EAAOiE,GAC3B,IAAIv9B,EAAGw9B,EAASC,EAKhB,YAJc,IAAVF,IAAoBA,EAAQ,CAC5BG,QAAS,EACTC,QAAS,IAAIrM,MAEVhwB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD,KAAMg5B,EAAKx6B,OAAS,GAAKw6B,EAAKx6B,OAAS4U,GAAOolB,oBAAqB,MAAO,CAAC,EAAa,GACxFn6B,EAAI,EACJ0E,EAAG/C,MAAQ,EACf,KAAK,EACD,OAAM3B,EAAI26B,EAAKx6B,OAAS,EACpBo9B,EAAMG,QAAU3oB,GAAOslB,iBAChB,CAAC,IAEZkD,EAAMG,SAAW,GACjBF,EAAUz6B,EAAc,GAAIJ,EAAOg4B,IAAO,IAClC3kB,OAAOhW,EAAG,GAClBy9B,EAAaljB,GAASijB,GAClBD,EAAMI,QAAQ9O,IAAI4O,GACX,CAAC,GAENR,GAAOO,IAgB7B,SAAc7C,EAAMrB,GAChB,OAAO5F,GAAaxT,cAAc3F,GAASogB,MAAWrB,CAC1D,CAlByCsE,CAAKJ,EAASlE,GAChC,CAAC,EAAakE,GADkC,CAAC,EAAa,IAXlC,CAAC,EAAa,GAarD,KAAK,EAGD,OAFA94B,EAAG9C,OACH27B,EAAMI,QAAQp1B,IAAIk1B,GAAY,GACvB,CAAC,EAAcj7B,EAASs4B,GAAS0C,EAASlE,EAAOiE,KAC5D,KAAK,EACD74B,EAAG9C,OACH8C,EAAG/C,MAAQ,EACf,KAAK,EAED,OADA3B,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAE5B,EACA,CInVA,IACW69B,GAAkB,SAAUn5B,GACnC,IAAIiY,EAAUjY,EAAGiY,QAASyQ,EAAS1oB,EAAG0oB,OAClC0Q,EAAc,GAQlB,OAPA1Q,EAAO9hB,QAAQ,SAAUyyB,GACrB,IAAIC,EAAS5zB,KAAK+J,MAAM4pB,GACxBC,EAAOC,MAAQ,EACK,UAAhBD,EAAO30B,MACPy0B,EAAYv7B,KAAKy7B,EAE7B,GACW,CAAErhB,QAASA,EAASyQ,OAAQ0Q,EACvC,EACWI,GAAe,SAAUx5B,GAChC,IAAIiY,EAAUjY,EAAGiY,QAASyQ,EAAS1oB,EAAG0oB,OAClC0Q,EAAc,GAClB1Q,EAAO9hB,QAAQ,SAAUyyB,GACrB,IAAIC,EAAS5zB,KAAK+J,MAAM4pB,GACJ,UAAhBC,EAAO30B,MACPy0B,EAAYv7B,KAAKy7B,EAE7B,GACI,IAAIG,EAAUL,EAAYhnB,OAAO,SAAUiQ,EAAMqX,GAC7C,IAAIjd,EAAIid,EAAKjd,EAAG1f,EAAI28B,EAAK38B,EAAG8Y,EAAW6jB,EAAK7jB,SAAU8jB,EAAYD,EAAKC,UAEnEC,EAAOD,EAAaA,EAzBL,KA0BfE,EAAI,GAAGl7B,OAAO8d,EAAG,KAAK9d,OAAO5B,EAAG,KAAK4B,OAAOkX,QAA2CA,EAAW,GAAI,KAAKlX,OAAOi7B,GAOtH,OANKvX,EAAKwX,GAINxX,EAAKwX,GAAGN,OAAS,EAHjBlX,EAAKwX,GAAK3+B,EAASA,EAAS,CAAA,EAAIw+B,GAAO,CAAEC,UAAWC,EAAML,MAAO,IAK9DlX,CACV,EAAE,CAAE,GACL,MAAO,CAAEpK,QAASA,EAASyQ,OAAQzuB,OAAO6/B,OAAOL,GACrD,EACIM,GACA,SAAsBv1B,EAAQw1B,GAC1B,IAAI/qB,EAAQpU,KACZA,KAAKo/B,WAAa,SAAUj6B,GACxB,IAAIglB,EAAgBhlB,EAAGglB,cAAeQ,EAAYxlB,EAAGwlB,UAAW0U,EAAal6B,EAAGk6B,WAAYC,EAASn6B,EAAGm6B,OAAQzjB,EAAiB1W,EAAG0W,eAAgB0jB,EAAqBp6B,EAAGo6B,mBAC5K,OAAO,SAAU79B,GACb,GAAIA,EAAEoI,OAASyU,GAAkBihB,MAAjC,CAGA,IAAIp6B,EAAcf,IAClB,GAAKe,EAAL,CAGA,IAAIqoB,EAAWroB,EAAYqoB,SAAUgS,EAAcr6B,EAAYq6B,YAAaC,EAAat6B,EAAYs6B,WAErG,GAAKjS,EAAL,CAGA,IAAI7L,EAAIlgB,EAAEkgB,EAAG1f,EAAIR,EAAEQ,EACnB,QAAUuG,IAANmZ,QAAyBnZ,IAANvG,EAAvB,CAGA,IACI8Y,EADA+hB,EAAOuC,EAAOK,QAAQj+B,EAAEwU,IAE5B,GAAI6mB,EACA,IACI/hB,EAAW8e,GAAOiD,EAAMwC,EAC3B,CACD,MAAOvU,GACH5W,EAAMzK,OAAOzC,MAAM,uCACtB,CAEL,IAAI0U,EAAUD,GAAW8R,EAASC,KAAM7R,GACpCjQ,EAAQ,CACRgW,EAAGA,EAAIxN,EAAM+qB,cAAcS,eAC3B19B,EAAGA,EAAIkS,EAAM+qB,cAAcU,eAC3B7kB,SAAUA,EACV8kB,eAAgBL,EAChBM,cAAeL,EACf9jB,QAASA,EACTkjB,UAAWv0B,KAAKoM,MAChB7M,KAAM,SAENkE,EAAWqxB,IACXrxB,GACAmc,EAAcS,SAAS,CAAED,UAAWA,EAAW/e,MAAO,CAAE9B,KAAM,cAAeqf,KAAMte,KAAKC,UAAUc,IAAUoC,SAAUA,GAxBzH,CAJA,CALA,CAJA,CAuCjB,CACA,EACQhO,KAAK2J,OAASA,EACd3J,KAAKm/B,cAAgBA,CACxB,EC1FE,SAASa,KACZ,IAAI56B,EAAcf,IAClB,OAASe,aAAiD,EAASA,EAAYq6B,cAC1Enf,SAAS2f,iBAAmB3f,SAAS2f,gBAAgBC,cACrD5f,SAASte,MAAQse,SAASte,KAAKk+B,cAChC,CACR,CACO,SAASC,KACZ,IAAI/6B,EAAcf,IAClB,OAASe,aAAiD,EAASA,EAAYs6B,aAC1Epf,SAAS2f,iBAAmB3f,SAAS2f,gBAAgBG,aACrD9f,SAASte,MAAQse,SAASte,KAAKo+B,aAChC,CACR,CCEA,IAAIC,GAAiC,WACjC,SAASA,EAAgBtT,EAASvX,GAC9B,IAAIpQ,EAAcf,IACde,GAAeA,EAAYmG,WAAyD,mBAArCnG,EAAYmG,UAAU+0B,WACrEtgC,KAAKsgC,WAAa,SAAU1kB,EAASvH,GACjC,IACI,GAAIjP,EAAYmG,UAAU+0B,WAAW1kB,EAAS/Q,KAAKC,UAAUuJ,IACzD,OAAO,CAEd,CACD,MAAO3S,GAEN,CACD,OAAO,CACvB,EAGY1B,KAAKsgC,WAAa,WAAc,OAAO,CAAM,EAEjDtgC,KAAKugC,QAAU,SAAU3kB,EAASvH,GAC9B,IAAImsB,EAAM,IAAIC,eAId,OAHAD,EAAInP,KAAK,OAAQzV,GAAS,GAC1B4kB,EAAIE,iBAAiB,SAAU,OAC/BF,EAAIjwB,KAAK1F,KAAKC,UAAUuJ,KACjB,CACnB,EACQrU,KAAK2gC,YAAcx3B,GAAaqM,EAAO3N,WAAY2N,EAAO4F,gBAC1Dpb,KAAKqI,OAASmN,EAAOnN,OACrBrI,KAAK+sB,QAAUA,CAClB,CAcD,OAbAsT,EAAgB5gC,UAAU8Q,KAAO,SAAUvC,EAAUqG,GACjD,IAAIlP,EAAKnF,KAAK+sB,QAASpC,EAAYxlB,EAAGwlB,UAAW7gB,EAAO3E,EAAG2E,KACvDgP,EAAY,IAAIC,gBAAgB,CAChC4U,UAAW3f,EACX4f,WAAY9tB,OAAO6qB,GACnB7gB,KAAMhK,OAAOgK,GACb82B,QAAS5gC,KAAKqI,SAEduT,EAAU,GAAG9X,OAAO9D,KAAK2gC,YAAa,KAAK78B,OAAOgV,EAAU/T,YAGhE/E,KAAKsgC,WAAW1kB,EAASvH,IAAYrU,KAAKugC,QAAQ3kB,EAASvH,EACnE,EACWgsB,CACX,ICnDIQ,GAA+B,WAC/B,SAASA,EAAcC,EAAWtrB,GAC9B,IAAIpB,EAAQpU,KACZA,KAAK8+B,UAAYv0B,KAAKoM,MACtB3W,KAAK+gC,KAAO,SAAUr/B,GAClB0S,EAAM4sB,OAAOt/B,EACzB,EACQ1B,KAAKuQ,KAAO,SAAU8uB,GAAc,OAAO,SAAUl9B,GACjD,IAAIgD,EAAIU,EACJmI,EAAWqxB,IACXj6B,EAAcf,IACde,GAAe4I,GACfoG,EAAM0sB,UAAUvwB,KAAKvC,EAAU,CAC3BoP,QAAS,EACTyQ,OAAQ,CACJ,CACIoT,WAAY7sB,EAAM8sB,YAClBC,WAAY/sB,EAAMgtB,YAClBC,eAAgBjtB,EAAMktB,gBACtBC,gBAAiBntB,EAAMotB,iBACvB1B,eAAgBE,KAChBD,cAAeI,KACfvkB,QAASD,GAAWvW,EAAYqoB,SAASC,KAA8G,QAAvG7nB,EAA+C,QAAzCV,EAAKiP,EAAMoB,OAAOoI,yBAAsC,IAAPzY,OAAgB,EAASA,EAAG0W,sBAAmC,IAAPhW,EAAgBA,EAAK,IACpLi5B,UAAW1qB,EAAM0qB,UACjBh1B,KAAM,YAKzB,GACD9J,KAAKkhC,YAAc,EACnBlhC,KAAKohC,YAAc,EACnBphC,KAAKyhC,gBAAkB,EACvBzhC,KAAK0hC,gBAAkB,EACvB1hC,KAAKshC,gBAAkBnB,KACvBngC,KAAKwhC,iBAAmBxB,KACxBhgC,KAAKwV,OAASA,EACdxV,KAAK8gC,UAAYA,CACpB,CAqED,OApEAD,EAAcc,QAAU,SAAU5U,EAASvX,GACvC,OAAO,IAAIqrB,EAAc,IAAIR,GAAgBtT,EAASvX,GAASA,EACvE,EACIpW,OAAO0J,eAAe+3B,EAAcphC,UAAW,aAAc,CACzDsJ,IAAK,WACD,OAAO/I,KAAKkhC,WACf,EACDj4B,YAAY,EACZC,cAAc,IAElB9J,OAAO0J,eAAe+3B,EAAcphC,UAAW,aAAc,CACzDsJ,IAAK,WACD,OAAO/I,KAAKohC,WACf,EACDn4B,YAAY,EACZC,cAAc,IAElB9J,OAAO0J,eAAe+3B,EAAcphC,UAAW,iBAAkB,CAC7DsJ,IAAK,WACD,OAAO/I,KAAKshC,eACf,EACDr4B,YAAY,EACZC,cAAc,IAElB9J,OAAO0J,eAAe+3B,EAAcphC,UAAW,kBAAmB,CAC9DsJ,IAAK,WACD,OAAO/I,KAAKwhC,gBACf,EACDv4B,YAAY,EACZC,cAAc,IAElB9J,OAAO0J,eAAe+3B,EAAcphC,UAAW,iBAAkB,CAC7DsJ,IAAK,WACD,OAAO/I,KAAKyhC,eACf,EACDx4B,YAAY,EACZC,cAAc,IAElB9J,OAAO0J,eAAe+3B,EAAcphC,UAAW,iBAAkB,CAC7DsJ,IAAK,WACD,OAAO/I,KAAK0hC,eACf,EACDz4B,YAAY,EACZC,cAAc,IAElB23B,EAAcphC,UAAUuhC,OAAS,SAAUt/B,GACvC,IAAIiV,EAAMpM,KAAKoM,MAGf,GAFA3W,KAAKyhC,gBAAkB//B,EAAEkgB,EACzB5hB,KAAK0hC,gBAAkBhgC,EAAEQ,EACrBR,EAAEkgB,EAAI5hB,KAAKkhC,YAAa,CACxB,IAAIU,EAAQzB,KACZngC,KAAKkhC,YAAcx/B,EAAEkgB,EACrB,IAAIyf,EAAiB3/B,EAAEkgB,EAAIggB,EACvBP,EAAiBrhC,KAAKshC,kBACtBthC,KAAKshC,gBAAkBD,GAE3BrhC,KAAK8+B,UAAYnoB,CACpB,CACD,GAAIjV,EAAEQ,EAAIlC,KAAKohC,YAAa,CACxB,IAAIS,EAAS7B,KACbhgC,KAAKohC,YAAc1/B,EAAEQ,EACrB,IAAIq/B,EAAkB7/B,EAAEQ,EAAI2/B,EACxBN,EAAkBvhC,KAAKwhC,mBACvBxhC,KAAKwhC,iBAAmBD,GAE5BvhC,KAAK8+B,UAAYnoB,CACpB,CACT,EACWkqB,CACX,ICtHIiB,GACA,SAA4B38B,GACxB,IAAIwlB,EAAYxlB,EAAGwlB,UAAW3c,EAAW7I,EAAG6I,SAC5ChO,KAAKgO,SAAWA,EAChBhO,KAAK2qB,UAAYA,EACbA,GAAa3c,IACbhO,KAAK+hC,gBvBuEoB,SAAUpX,EAAW3c,GACtD,MAAO,GAAGlK,OAAOkK,EAAU,KAAKlK,OAAO6mB,EAC3C,CuBzEmCqX,CAAwBrX,EAAW3c,GAEjE,ECNDi0B,GACA,WACI,IAAI7tB,EAAQpU,KACZA,KAAKkiC,IAAM,GACXliC,KAAKy1B,YAAc,SAAUC,GAAU,OAAO50B,EAAUsT,OAAO,OAAQ,EAAQ,WAC3E,OAAOrS,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAAG,MAAO,CAAC,EAAa2uB,GAAO2E,EAAQ,EAAG,CACvCzE,QAAS,SAAUS,GACVA,EAAGvC,iBAAiBiG,SAAS,0BAC9B1D,EAAG2D,kBAAkB,wBAAyB,CAC1CC,QAAS,aAGpB,KAET,KAAK,EAAG,MAAO,CAAC,EAAcnwB,EAAG9C,QAErD,EACS,EAAE,EACHrC,KAAKmiC,eAAiB,SAAU95B,GAAU,OAAOvH,EAAUsT,OAAO,OAAQ,EAAQ,WAC9E,IAAIshB,EAAQhE,EACZ,OAAO3vB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD,OAAIpC,KAAKkiC,KAAOliC,KAAKkiC,IAAI75B,GACd,CAAC,EAAcrI,KAAKkiC,IAAI75B,KAEnCqtB,EAAS,GAAG5xB,OAAOuE,EAAOyM,UAAU,EAAG,IAAK,iCACrC,CAAC,EAAa9U,KAAKy1B,YAAYC,KAC1C,KAAK,EAGD,OAFAhE,EAAKvsB,EAAG9C,OACRrC,KAAKkiC,IAAI75B,GAAUqpB,EACZ,CAAC,EAAcA,GAE9C,EACS,EAAE,EACH1xB,KAAKoiC,4BAA8B,SAAUj9B,GACzC,IAAIsC,EAAiBtC,EAAGsC,eAAgBY,EAASlD,EAAGkD,OAAQsiB,EAAYxlB,EAAGwlB,UAC3E,OAAO7pB,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIsd,EAAI2Q,EAAcC,EAA0Bn2B,EAChD,OAAOpK,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAED,OADAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAKmiC,eAAe95B,IAC7C,KAAK,EAGD,OAFAqpB,EAAK7rB,EAAGxD,OACRggC,EAAeviC,OAAO6qB,GACf,CAAC,EAAa+G,EAAG3oB,IAAI,wBAAyBs5B,IACzD,KAAK,EAED,MAAO,CAAC,EAAcC,OADtBA,EAA2Bz8B,EAAGxD,aACmE,EAASigC,EAAyBC,gBACvI,KAAK,EAGD,OAFAp2B,EAAMtG,EAAGxD,OACToF,EAAeT,KAAK,gDAAgDlD,OAAO6mB,EAAW,MAAM7mB,OAAOqI,IAC5F,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc1D,GAEtD,EACA,EACA,EACQzI,KAAKwiC,8BAAgC,SAAUr9B,GAC3C,IAAIsC,EAAiBtC,EAAGsC,eAAgBY,EAASlD,EAAGkD,OAAQsiB,EAAYxlB,EAAGwlB,UAAW4X,EAAiBp9B,EAAGo9B,eAC1G,OAAOzhC,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIsd,EAAI2Q,EAAwCh0B,EAChD,OAAOtM,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAED,OADAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAKmiC,eAAe95B,IAC7C,KAAK,EAGD,OAFAqpB,EAAK7rB,EAAGxD,OACRggC,EAAeviC,OAAO6qB,GACf,CAAC,EAAa+G,EAAGuE,IAAI,wBAAyB,CAC7CsM,eAAgBA,EAChB5X,UAAW0X,EACXI,YAAal4B,KAAKoM,SAE9B,KAAK,EAED,MAAO,CAAC,EADmB9Q,EAAGxD,QAElC,KAAK,EAGD,OAFAgM,EAAMxI,EAAGxD,OACToF,EAAeT,KAAK,kDAAkDlD,OAAO6mB,EAAW,MAAM7mB,OAAOuK,IAC9F,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc5F,GAEtD,EACA,EACA,EACQzI,KAAK0iC,wBAA0B,SAAUv9B,GACrC,IAAIsC,EAAiBtC,EAAGsC,eAAgBY,EAASlD,EAAGkD,OAAQs6B,EAAmBx9B,EAAGw9B,iBAClF,OAAO7hC,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIsd,EAAIkR,EAAqB3S,EAAI4S,EAAuBpiC,EAAGqiC,EAAmBC,EAA0Bz0B,EACxG,OAAOvM,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAED,OADAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAKmiC,eAAe95B,IAC7C,KAAK,EAID,OAHAqpB,EAAK7rB,EAAGxD,OACRugC,EAAsB9iC,OAAO6iC,GAEtB,CAAC,GADR1S,EAAKyB,EAAGD,YAAY,wBAAyB,cACrBa,MAAMsF,UAClC,KAAK,EACDiL,EAAwBh9B,EAAGxD,OAC3B5B,EAAI,EACJoF,EAAGzD,MAAQ,EACf,KAAK,EACD,OAAM3B,EAAIoiC,EAAsBjiC,QAChCkiC,EAAoBD,EAAsBpiC,GAC1CsiC,EAA2Bx4B,KAAKoM,MAAQmsB,EAAkBL,YACpDK,EAAkBnY,YAAciY,GAAuBG,EAlHrD,OAmHD,CAAC,EAAa9S,EAAGqC,MAAM3iB,OAAOmzB,EAAkBnY,YADiE,CAAC,EAAa,IAHtF,CAAC,EAAa,GAKlE,KAAK,EACD9kB,EAAGxD,OACHwD,EAAGzD,MAAQ,EACf,KAAK,EAED,OADA3B,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAawvB,EAAGpuB,MAChC,KAAK,EAED,OADAgE,EAAGxD,OACI,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAiM,EAAMzI,EAAGxD,OACToF,EAAeT,KAAK,uDAAuDlD,OAAOwK,IAC3E,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExC,EACA,EACA,CACK,EAIM00B,GAAoB,IAAIf,GC3IxBgB,GAA4B,SAAU99B,GAC7C,IAAIwlB,EAAYxlB,EAAGwlB,UAAW1L,EAAkB9Z,EAAG8Z,gBAAiBxX,EAAiBtC,EAAGsC,eAAgBY,EAASlD,EAAGkD,OAAQ66B,EAAkB/9B,EAAG+9B,gBACjJ,OAAOpiC,OAAU,OAAQ,OAAQ,EAAQ,WACrC,IAAuBqiC,EAAiDC,EAAiBC,EAAOC,EAChG,OAAOvhC,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAAG,MAAO,CAAC,EAAa4gC,GAAkBN,wBAAwB,CAC/Dj7B,eAAgBA,EAChBY,OAAQA,EACRs6B,iBAAkBhY,KAE1B,KAAK,EAED,OADA9kB,EAAGxD,OACI,CAAC,EAAa2gC,GAAkBZ,4BAA4B,CAC3D36B,eAAgBA,EAChBY,OAAQA,EACRsiB,UAAWA,KAEvB,KAAK,EAED,IAA0B,IADN9kB,EAAGxD,OAEnB,MAAO,CAAC,GAAc,GAE1B8gC,GAAwB,EACxBt9B,EAAGzD,MAAQ,EACf,KAAK,EAED,OADAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAa7B,QAAAC,UAAAU,KAAA,WAAA,OAAAyhC,EAAA,IACzB,KAAK,EAED,MAAO,CAAC,GADRC,EAA4B39B,EAAGxD,OAAQohC,mBACOpjC,EAASA,EAAS,CAAE,EAAE6iC,GAAkB,CAAEQ,KAAMzkB,EAAiB0L,UAAWA,EAAWtiB,OAAQA,EAAQZ,eAAgBA,MACzK,KAAK,EAWD,OAVA27B,EAAkBv9B,EAAGxD,SACE+gC,EAAgBzjB,sBACnCwjB,EAAoE,OAA5CC,EAAgBzjB,oBAAoB3S,KAE3Dg2B,GAAkBR,8BAA8B,CACjD/6B,eAAgBA,EAChBY,OAAQA,EACRsiB,UAAWA,EACX4X,eAAgBY,IAEb,CAAC,EAAa,GACzB,KAAK,EAID,OAHAE,EAAQx9B,EAAGxD,OACXihC,EAAaD,EACb57B,EAAeT,KAAKs8B,EAAWK,SACxB,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAcR,GAE9C,EACA,EACA,ECjCO,SAASS,GAAwB57B,GAEpC,YADgB,IAAZA,IAAsBA,EAAU,CAAE,GAC/B,CACH+B,KAAM,2BACN85B,SAAU,SAAUC,EAAI1+B,EAAa2+B,GACjC,IAAI5+B,EAAIU,EAAIoC,EAERuN,EAASnV,EAASA,EAAS,CAAE,EAAE2H,GAAU+7B,GACzCloB,EAAiBrG,EAAOqG,gBAAkB,GAC1CmoB,EAAgD,QAA/B7+B,EAAKqQ,EAAOwuB,qBAAkC,IAAP7+B,GAAgBA,EACxE8+B,EAAoD,QAAjCp+B,EAAK2P,EAAOyuB,uBAAoC,IAAPp+B,EAAgBA,E7BvB3C,I6BwBjC6X,EAA8D,QAAtCzV,EAAKuN,EAAOkI,4BAAyC,IAAPzV,GAAgBA,EAE1F,IAAK7C,EACD,OAAO,WAEvB,EAIY,IAAI8+B,OAAiBz7B,EAEjB07B,EAAe,qCAIfC,EAAiB,mCAQjBC,EAAgB,WAChB,OAAKj/B,EAAYqoB,UAEVroB,EAAYqoB,SAASC,MADjB,EAE3B,EA8BgB4W,EAAgB,WAChB,IAAIC,EAAaF,IAEjB,QAAuB57B,IAAnBy7B,GAAgCK,IAAeL,EAAgB,CAC/DA,EAAiBK,EACjB,IAAIrY,EA5Be,WACvB,IAAIuT,EAAcr6B,EAAYq6B,YAAaC,EAAat6B,EAAYs6B,WAAYpf,EAAWlb,EAAYkb,SACnGikB,EAAaF,IACbG,EAAe,GAMnB,OALI9mB,IACA8mB,GAAgBlkB,aAA2C,EAASA,EAASmkB,QAAU,IAIpF,CACH/W,KAFc7R,EAAejb,OAAS,EAAI+a,GAAW4oB,EAAY1oB,GAAkB0oB,EAGnFE,MAAOD,EACP1E,eAAgBL,EAChBM,cAAeL,EACf51B,KAAM,mBAE1B,CAYkC46B,GACdZ,EAAG5X,EACN,CACjB,EASgByY,EAA2B,SAAUC,GACrC,IAAIC,EAAgB,WAEhB,IADA,IAAIj+B,EAAO,GACFC,EAAK,EAAGA,EAAKlG,UAAUC,OAAQiG,IACpCD,EAAKC,GAAMlG,UAAUkG,GAGzB,IAAIjF,EAASgjC,EAAe/jC,MAAMb,KAAM4G,GAKxC,OAHKxB,EAAYg/B,IACbE,IAEG1iC,CAC3B,EAGgB,OADAijC,EAAcV,IAAgB,EACvBU,CACvB,EAEgBC,EAAoB,WACpBR,GAChB,EAEY,GAAIN,EAAe,CAEf,IAAIe,EAAsB3/B,EAAY4/B,YAAY,WAC9CV,GACH,EAAEL,GAIH,OAFAK,IAEO,WACCS,GACA3/B,EAAY6/B,cAAcF,EAElD,CACa,CAED,GAAI3/B,EAAY8/B,QAAS,CAGrB,IAAIC,EAAsB//B,EAAY8/B,QAAQE,UAAUtrB,KAAK1U,EAAY8/B,SACrEG,EAAyBjgC,EAAY8/B,QAAQI,aAAaxrB,KAAK1U,EAAY8/B,SA0B/E,OAlBQ9/B,EAAY8/B,QAAQE,UAAUjB,KAKlC/+B,EAAY8/B,QAAQE,UAAYT,EAAyBQ,GAEzD//B,EAAY8/B,QAAQI,aAAeX,EAAyBU,IAKhEjgC,EAAYkrB,iBAAiB,WAAYgU,GAEzCl/B,EAAYkrB,iBAAiB,aAAcwU,GAE3CR,IAEO,WAKHl/B,EAAYg/B,IAAkB,EAE9Bh/B,EAAY+qB,oBAAoB,WAAYmU,GAE5Cl/B,EAAY+qB,oBAAoB,aAAc2U,EAClE,CACa,CAKD,OAFA1/B,EAAYkrB,iBAAiB,aAAcwU,GAC3CR,IACO,WACHl/B,EAAY+qB,oBAAoB,aAAc2U,EAC9D,CACS,EACD98B,QAASA,EAEjB,CAK+B47B,KCxL/B,ICjBWzjC,GAiBAolC,GAaAnlC,GDbPolC,GAA+B,WAC/B,SAASA,IACL,IAAIpxB,EAAQpU,KACZA,KAAK+J,KAAO,oCACZ/J,KAAKylC,qBAAuB,KAC5BzlC,KAAK0lC,WAAa,EAClB1lC,KAAKmjC,uBAAwB,EAE7BnjC,KAAK2lC,aAAe,GAEpB3lC,KAAK4lC,eAAiB,KACtB5lC,KAAK6lC,uBAAyB,SAAUC,GACpC,IAAI1gC,EAAcf,IACde,IACAA,EAAY+qB,oBAAoB,OAAQ/b,EAAM2xB,cAC9C3gC,EAAY+qB,oBAAoB,QAAS/b,EAAM4xB,gBAC9CF,GAAY1gC,EAAYkrB,iBAAiB,OAAQlc,EAAM2xB,eACvDD,GAAY1gC,EAAYkrB,iBAAiB,QAASlc,EAAM4xB,eAGrD5gC,EAAYX,MAAQ,eAAgBW,EAAYX,MAChDW,EAAY+qB,oBAAoB,WAAY/b,EAAM6xB,oBACjDH,GAAY1gC,EAAYkrB,iBAAiB,WAAYlc,EAAM6xB,qBAK5D7gC,EAAY+qB,oBAAoB,eAAgB/b,EAAM6xB,oBACrDH,GAAY1gC,EAAYkrB,iBAAiB,eAAgBlc,EAAM6xB,oBAGpF,EACQjmC,KAAK+lC,aAAe,WAChB3xB,EAAM8xB,YAClB,EACQlmC,KAAKgmC,cAAgB,WAGZ5xB,EAAM+xB,cAAa,EACpC,EAMQnmC,KAAKimC,kBAAoB,SAAUvkC,GAC/B0S,EAAMuxB,aAAa55B,QAAQ,SAAUzC,GACjCA,EAAG5H,EACnB,EACA,EACQ1B,KAAKomC,4BAA8B,SAAUlD,EAAiBmD,EAAQC,GAGlE,YAFe,IAAXD,IAAqBA,GAAS,QACb,IAAjBC,IAA2BA,GAAe,GACvCxlC,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAImyB,EAAmBphC,EACvB,OAAOpD,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EACD,IAAKpC,KAAKwmC,cAAgBxmC,KAAKwmC,YAAY7b,YAAc3qB,KAAKwV,OAO1D,OANIxV,KAAKwmC,cAAgBxmC,KAAKwmC,YAAY7b,UACtC3qB,KAAKyH,eAAed,IAAI,kFAGxB3G,KAAKyH,eAAeT,KAAK,uEAEtB,CAAC,GAGZ,IAAKhH,KAAKwV,OAAOyJ,gBAAiB,CAC9B,IAAIonB,EAKA,OADArmC,KAAKyH,eAAed,IAAI,yEACjB,CAAC,GAJR3G,KAAKyH,eAAed,IAAI,oEAM/B,CAGD,OADA3G,KAAKymC,oBAAsBvD,GACrBljC,KAAKwV,OAAOyJ,iBAAoBjf,KAAKmjC,sBAA+B,CAAC,EAAa,KACxFoD,EAAoBrD,EAAgBt3B,QAEhCxM,OAAO6/B,OAAO7+B,GAAkB2F,SAASwgC,EAAkBG,cAC3DH,OAAoB99B,GAKxBtD,EAAKnF,KACE,CAAC,EAAaijC,GAA0B,CACvCtY,UAAW3qB,KAAKwmC,YAAY7b,UAC5B1L,gBAAiBjf,KAAKwV,OAAOyJ,gBAC7BxX,eAAgBzH,KAAKyH,eACrBY,OAAQrI,KAAKwV,OAAOnN,OACpB66B,gBAAiB,CAAE31B,eAAgB21B,EAAgB31B,eAAgB3B,MAAO26B,OAEtF,KAAK,EAIDphC,EAAGg+B,sBAAwBt9B,EAAGxD,OAE9BrC,KAAKyH,eAAeP,MAAM2D,KAAKC,UAAU,CACrCf,KAAM,iCACNo5B,sBAAuBnjC,KAAKmjC,sBAC5Bv3B,MAAO26B,EACPrD,gBAAiBA,GAClB,KAAM,IACTr9B,EAAGzD,MAAQ,EACf,KAAK,EACD,OAAKikC,GACArmC,KAAK2mC,YAAW,GACd,CAAC,EAAa,IAFD,CAAC,EAAa,GAGtC,KAAK,EACD,OAAML,GAAiBtmC,KAAKylC,qBAA8B,CAAC,EAAa,IAExEzlC,KAAKyH,eAAed,IAAI,6EACjB,CAAC,EAAa3G,KAAKmmC,iBAC9B,KAAK,EACDtgC,EAAGxD,OACHwD,EAAGzD,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,GAExC,EACA,EACA,EACQpC,KAAK4mC,oBAAsB,SAAUC,EAAWC,EAAWC,GAGvD,YAFkB,IAAdD,IAAwBA,EAAY,CAAE,QACnB,IAAnBC,IAA6BA,GAAiB,GAC3CjmC,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAI4yB,EAAWxxB,EAAQyxB,EAAiB96B,EACxC,OAAOpK,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAID,OAHA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtBgkC,OAAYv+B,GACZ+M,EAASxV,KAAKwV,SACEqxB,IAAc3tB,EAAiBguB,UAC/CF,EAAY,CACRxxB,OAAQsH,GAAetH,GACvB4H,QAASgP,IAER2a,EACE,CAAC,EAAa3qB,MADO,CAAC,EAAa,IALuB,CAAC,EAAa,GAOnF,KAAK,EACD6qB,EAAkB9hC,EAAG9C,OACrB2kC,EAAY3mC,EAASA,EAAS,CAAE,EAAE4mC,GAAkBD,GACpD7hC,EAAG/C,MAAQ,EACf,KAAK,EAQD,OANIpC,KAAKylC,sBAAwBzlC,KAAK4lC,eAClC5lC,KAAK4lC,eAAeuB,eAAeN,EAAWxmC,EAASA,EAAS,CAAA,EAAIymC,GAAYE,IAGhFhnC,KAAKyH,eAAeP,MAAM,+CAA+CpD,OAAO+iC,EAAW,kCAExF,CAAC,EAAa,GACzB,KAAK,EAGD,OAFA16B,EAAMhH,EAAG9C,OACTrC,KAAKyH,eAAeP,MAAM,mDAAoDiF,GACvE,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExC,EACA,EACA,EACQnM,KAAKonC,oBAAsB,WACvB,IAAIjiC,EACJ,IACIiP,EAAM3M,eAAed,IAAI,oCACzByN,EAAMqxB,sBAAwBrxB,EAAMqxB,uBACpCrxB,EAAMqxB,qBAAuB,KACK,QAAjCtgC,EAAKiP,EAAMizB,wBAAqC,IAAPliC,GAAyBA,EAAGmiC,MACzE,CACD,MAAO/jC,GACH,IAAIgkC,EAAahkC,EACjB6Q,EAAM3M,eAAeT,KAAK,iDAAiDlD,OAAOyjC,EAAWxiC,YAChG,CACb,EACQ/E,KAAKyH,eAAiB,IAAIkS,EAAmB,IAAItT,EACpD,CA0iBD,OAziBAm/B,EAAc/lC,UAAU+nC,KAAO,SAAUn/B,EAAQL,GAC7C,OAAO/B,EAAcjG,KAAKynC,MAAMp/B,EAAQL,GAChD,EACIw9B,EAAc/lC,UAAUgoC,MAAQ,SAAUp/B,EAAQL,GAC9C,IAAI7C,EAAIU,EAAIoC,EAAIC,EAAIsG,EAAIC,EACxB,OAAO3N,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI4O,EAAIC,EAAIkR,EAAcpB,EAAa1J,EAAckqB,EAAezF,EAAUpc,EAAWoqB,EAAmB5oB,EAAqBwN,EAAgBqb,EAAyB1vB,EAASsvB,EAAYnd,EAAchlB,EAAawiC,EAC1N,OAAO7lC,EAAY/B,KAAM,SAAU8O,GAC/B,OAAQA,EAAG1M,OACP,KAAK,EAMD,OALApC,KAAKyH,eAAiB,IAAIkS,EAAmB3R,EAAQP,gBAAkB,IAAIpB,GAC3EjH,OAAOK,UAAUC,eAAeC,KAAKqI,EAAS,aAC1ChI,KAAKyH,eAAehB,OAAOuB,EAAQ1B,UACvCtG,KAAKwmC,YAAc,IAAI1E,GAAmB,CAAEnX,UAAW3iB,EAAQ2iB,UAAW3c,SAAUhG,EAAQgG,WAC5FY,EAAK5O,KACE,CAAC,EAAa4gB,GAAyCvY,EAAQL,IAC1E,KAAK,EAED,OADA4G,EAAGi5B,sBAAwB/4B,EAAGzM,OACvB,CAAC,EAAarC,KAAK6nC,sBAAsBjpB,wBACpD,KAAK,EACD/P,EAAKC,EAAGzM,OAAQ0d,EAAelR,EAAGkR,aAAcpB,EAAc9P,EAAG8P,YAAa1J,EAAepG,EAAGoG,aAChGjV,KAAKwV,OAASuK,EACd/f,KAAK8nC,YAAY9/B,EAAQ2iB,UAAW5K,EAAcpB,EAAa1J,EAAyC,QAA1B9P,EAAK6C,EAAQoV,eAA4B,IAAPjY,OAAgB,EAASA,EAAGiY,QAASgP,GAAoC,QAA1BvmB,EAAKmC,EAAQoV,eAA4B,IAAPvX,OAAgB,EAASA,EAAGiE,MACzN9B,EAAQ2iB,YAAuD,QAAxC1iB,EAAKjI,KAAKwV,OAAOoI,yBAAsC,IAAP3V,OAAgB,EAASA,EAAGuR,WACnG2lB,EAAgB0B,GAAcc,QAAQ,CAClChX,UAAW3iB,EAAQ2iB,UACnB7gB,KAAM,eACP9J,KAAKwV,QACRxV,KAAK2lC,aAAe,CAACxG,EAAc5uB,KAAKvQ,KAAK+nC,YAAYjuB,KAAK9Z,OAAO8Z,KAAKqlB,IAC1En/B,KAAKgoC,WAAa7I,EAAc4B,KAAKjnB,KAAKqlB,GAC1Cn/B,KAAKioC,aAAe,IAAI/I,GAAal/B,KAAKyH,eAAgB03B,IAE9DzF,EAAW,GAEO,SADlBpc,EAAYtd,KAAKwV,OAAO8H,aACiC,QAA3BpV,EAAK7D,WAAqC,IAAP6D,OAAgB,EAASA,EAAGkpB,aACzF9T,EAAY,SACZtd,KAAKyH,eAAeT,KAAK,8EAE7BhH,KAAKyH,eAAed,IAAI,SAAS7C,OAAOwZ,EAAW,wBACnDxO,EAAG1M,MAAQ,EACf,KAAK,EAED,OADA0M,EAAGxM,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAag2B,GAAoB,CACjCxjB,OAAQxV,KAAKwV,OACbmV,UAAW3qB,KAAKwmC,YAAY7b,UAC5B7gB,KAAM,SACNwT,UAAWA,KAEvB,KAAK,EAGD,OAFAoqB,EAAoB54B,EAAGzM,OACvBq3B,EAAS12B,KAAK,CAAE+G,KAAM,SAAU6vB,QAAS8N,IAClC,CAAC,EAAa,GACzB,KAAK,EAID,OAHA5oB,EAAUhQ,EAAGzM,OACbklC,EAAazoB,EACb9e,KAAKyH,eAAeT,KAAK,wDAAwDlD,OAAOyjC,EAAWxiC,aAC5F,CAAC,EAAa,GACzB,KAAK,EACD,KAA+C,QAAxCyJ,EAAKxO,KAAKwV,OAAOoI,yBAAsC,IAAPpP,OAAgB,EAASA,EAAGgL,SAAU,MAAO,CAAC,EAAa,IAClH8S,EAAiBtsB,KAAKwV,OAAOoI,kBAAkBoX,MAAQ2J,GAAeL,GACtExvB,EAAG1M,MAAQ,EACf,KAAK,EAED,OADA0M,EAAGxM,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,KACf,CAAC,EAAag2B,GAAoB,CACjCxjB,OAAQxV,KAAKwV,OACbmV,UAAW3qB,KAAKwmC,YAAY7b,UAC5B7gB,KAAM,cACNwpB,YAAoE,QAAtD7kB,EAAKzO,KAAKwV,OAAOoI,kBAAkBsqB,qBAAkC,IAAPz5B,EAAgBA,E9BvPtF,I8BwPN8kB,Y9BvPM,I8BwPNjH,eAAgBA,EAChBhP,UAAWA,KAEvB,KAAK,EAGD,OAFAqqB,EAA0B74B,EAAGzM,OAC7Bq3B,EAAS12B,KAAK,CAAE+G,KAAM,cAAe6vB,QAAS+N,IACvC,CAAC,EAAa,IACzB,KAAK,EAID,OAHA1vB,EAAUnJ,EAAGzM,OACbklC,EAAatvB,EACbjY,KAAKyH,eAAeT,KAAK,6DAA6DlD,OAAOyjC,EAAWxiC,aACjG,CAAC,EAAa,IACzB,KAAK,GAQD,OAPA/E,KAAKmqB,cAAgB,IAAKsP,GAAkB3f,KAAKjZ,MAAM44B,GAAmBj2B,EAAc,MAAC,GAASJ,EAAOs2B,IAAW,KAEhH15B,KAAKmoC,iBACLnoC,KAAKmoC,gBAAgBld,YAEzBb,OAAe3hB,EACfrD,EAAcf,IACRrE,KAAKwV,OAAOyI,cAAgB7Y,GAAeA,EAAY+lB,OACtD,CAAC,EAAahqB,QAAAC,UAAAU,KAAA,WAAA,OAAAsmC,EAAA,IADwD,CAAC,EAAa,IAE/F,KAAK,GACDR,EAAqB94B,EAAGzM,OAAQulC,kBAChCxd,EAAewd,EACf94B,EAAG1M,MAAQ,GACf,KAAK,GAED,OADApC,KAAKmoC,gBAAkB,IAAIje,GAAgBlqB,KAAKmqB,cAAenqB,KAAKwV,OAAQxV,KAAK+nC,cAAe3d,GACzF,CAAC,EAAapqB,KAAKqoC,8BAC9B,KAAK,GAID,OAHAv5B,EAAGzM,OACHrC,KAAKyH,eAAed,IAAI,iDACxB3G,KAAK6lC,wBAAuB,GACrB,CAAC,EAAa7lC,KAAKomC,4BAA4B,CAAE74B,eAAgBvF,EAAQuF,iBAAkB,IACtG,KAAK,GAED,OADAuB,EAAGzM,OACI,CAAC,GAEhC,EACA,EACA,EACImjC,EAAc/lC,UAAU6oC,aAAe,SAAU3d,EAAW3c,GACxD,OAAO/H,EAAcjG,KAAKuoC,kBAAkB5d,EAAW3c,GAC/D,EACIw3B,EAAc/lC,UAAU8oC,kBAAoB,SAAU5d,EAAW3c,EAAUhG,GACvE,IAAI7C,EACJ,OAAOrE,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIwoC,EAAmBC,EAAqB1oB,EAC5C,OAAOhe,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAYD,OAXApC,KAAKmjC,uBAAwB,EAC7BnjC,KAAK0oC,8BAA2BjgC,GAChC+/B,EAAoBxoC,KAAKwmC,aAAexmC,KAAKwmC,YAAY7b,YAErD3qB,KAAKkmC,WAAWsC,GAEpBC,EAAsBz6B,GAAYhO,KAAK+nC,cACvC/nC,KAAKwmC,YAAc,IAAI1E,GAAmB,CACtCnX,UAAWA,EACX3c,SAAUy6B,IAERzoC,KAAK6nC,uBAAyBW,EAC7B,CAAC,EAAaxoC,KAAK6nC,sBAAsBjpB,wBADe,CAAC,EAAa,GAEjF,KAAK,EACDmB,EAAgBla,EAAGxD,OAAQ0d,aAC3B/f,KAAKwV,OAASuK,EACdla,EAAGzD,MAAQ,EACf,KAAK,EACD,OAA6B,QAAtB+C,EAAKnF,KAAKwV,cAA2B,IAAPrQ,OAAgB,EAASA,EAAG8Z,iBAC1D,CAAC,EAAajf,KAAKomC,4BAA4B,CAAE74B,eAAgBvF,aAAyC,EAASA,EAAQuF,iBAAkB,GAAO,IADjE,CAAC,EAAa,GAE5G,KAAK,EAED,OADA1H,EAAGxD,OACI,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAarC,KAAKmmC,gBAClC,KAAK,EACDtgC,EAAGxD,OACHwD,EAAGzD,MAAQ,EACf,KAAK,EAAG,MAAO,CAAC,GAEpC,EACA,EACA,EACIojC,EAAc/lC,UAAUkpC,2BAA6B,WACjD,IAAIxjC,EACAqQ,EAASxV,KAAKwV,OACdgxB,EAAcxmC,KAAKwmC,YACvB,IAAKhxB,IAAWgxB,EAEZ,OADAxmC,KAAKyH,eAAeT,KAAK,kFAClB,GAEX,IAAI4hC,EAAe5oC,KAAK6oC,kBACpBC,EAAkB,CAAA,EAmBtB,OAlBIF,KACmBzjC,EAAK,CAAE,GACnBiU,GAAmCotB,EAAYzE,gBAAkByE,EAAYzE,gBAAkB,KADtG+G,EAEI3jC,EACAqQ,EAAOwI,YACP8qB,EAAgBrvB,GAAiC5O,KAAKC,UAAU,CAC5Di+B,QAAS74B,EAAiBsF,EAAOnN,QAAQtD,eAIhD/E,KAAK4mC,oBAAoB1tB,EAAiB8vB,aAAc,CACzDJ,aAAcA,EACdE,gBAAiBA,GACE,KAApB9oC,KAAK0lC,YACgB,KAApB1lC,KAAK0lC,aACL1lC,KAAK0lC,WAAa,GAEtB1lC,KAAK0lC,aACEoD,CACf,EACItD,EAAc/lC,UAAUymC,WAAa,SAAUvb,GAC3C,IAAIxlB,EACA8jC,EAAkBte,IAA0C,QAA3BxlB,EAAKnF,KAAKwmC,mBAAgC,IAAPrhC,OAAgB,EAASA,EAAGwlB,WAChG3c,EAAWhO,KAAK+nC,cACpB/nC,KAAKmqB,eACD8e,GACAj7B,GACAhO,KAAKmqB,cAAciP,0BAA0B,CAAEzO,UAAWse,EAAiBj7B,SAAUA,GACjG,EACIw3B,EAAc/lC,UAAUknC,WAAa,SAAUuC,GAC3C,IAAI/jC,EAEJ,YAD+B,IAA3B+jC,IAAqCA,GAAyB,GAC3DpoC,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIgO,EACJ,OAAOjM,EAAY/B,KAAM,SAAU6F,GAC/B,OAAkC,QAA3BV,EAAKnF,KAAKwmC,mBAAgC,IAAPrhC,OAAgB,EAASA,EAAGwlB,YAItE3c,EAAWhO,KAAK+nC,gBAKhB/nC,KAAKmqB,eAAiB+e,GAA+BlpC,KAAKmqB,cAAckP,iBAAiB,CAAErrB,SAAUA,IAC9F,CAAC,EAAchO,KAAKmmC,kBAJvBnmC,KAAKyH,eAAed,IAAI,2DACjB,CAAC,EAAcxF,QAAQC,aAN9BpB,KAAKyH,eAAed,IAAI,4DACjB,CAAC,EAAcxF,QAAQC,WASlD,EACA,EACA,EACIokC,EAAc/lC,UAAU0pC,aAAe,WACnC,IAAIhkC,EAAIU,EACJujC,EEzZiC5hC,GF0ZV,QAAtBrC,EAAKnF,KAAKwV,cAA2B,IAAPrQ,OAAgB,EAASA,EAAGqC,gBAE3D4hC,GE5ZiC5hC,EF2ZSxH,KAAKwV,OAAOhO,kBE1ZzC,IAAjBA,IAA2BA,EAAetD,GACvC2L,EAAmBI,YAAYzI,IFyZsCsI,cAChCT,cAAc1H,QAEtD,YAA+Bc,IAAxB2gC,EAAoCA,EAA6C,QAAtBvjC,EAAK7F,KAAKwV,cAA2B,IAAP3P,OAAgB,EAASA,EAAG8B,MACpI,EACI69B,EAAc/lC,UAAUopC,gBAAkB,WACtC,IAAK7oC,KAAKwmC,cAAgBxmC,KAAKwV,SAAWxV,KAAKwmC,YAAY7b,UAEvD,OADA3qB,KAAKyH,eAAeT,KAAK,yFAClB,EAEX,IAAKhH,KAAKwV,OAAO+J,eAEb,OADAvf,KAAKyH,eAAed,IAAI,WAAW7C,OAAO9D,KAAKwmC,YAAY7b,UAAW,sHAC/D,EAEX,GAAI3qB,KAAKmpC,eAEL,OADAnpC,KAAKyH,eAAed,IAAI,kBAAkB7C,OAAO9D,KAAKwmC,YAAY7b,UAAW,6CACtE,EAEX,IpCpamCmU,EAAW7hB,EAC9CosB,EoCmaIT,GAAe,EACfjF,EAAU,GACV2F,GAAU,EAGVtpC,KAAKwV,OAAOyJ,gBACPjf,KAAKmjC,uBAONQ,EAAU,iCAAiC7/B,OAAO9D,KAAKwmC,YAAY7b,UAAW,0CAC9E3qB,KAAKyH,eAAed,IAAIg9B,GACxBiF,GAAe,EACfU,GAAU,IATV3F,EAAU,qCAAqC7/B,OAAO9D,KAAKwmC,YAAY7b,UAAW,8CAClF3qB,KAAKyH,eAAed,IAAIg9B,GACxBiF,GAAe,EACfU,GAAU,IpC9aiBxK,EoCwbM9+B,KAAKwmC,YAAY7b,UpCxbZ1N,EoCwbuBjd,KAAKwV,OAAOyH,WpCvbjFosB,EAAan5B,EAAiB4uB,EAAU/5B,YAEZ,GADlBQ,KAAKgkC,IAAIF,GAEK,IACf,IAAUpsB,IoC2bX2rB,GAAe,EACfU,GAAU,IAPV3F,EAAU,kBAAkB7/B,OAAO9D,KAAKwmC,YAAY7b,UAAW,yCAC/D3qB,KAAKyH,eAAed,IAAIg9B,GACxBiF,GAAe,EACfU,GAAU,GAiBlB,OATItpC,KAAK0oC,2BAA6BE,GAAgB5oC,KAAKwV,OAAOyJ,kBACzDjf,KAAK4mC,oBAAoB1tB,EAAiBswB,mBAAoB,CAC/D7F,QAASA,EACThZ,UAAW3qB,KAAKwmC,YAAY7b,UAC5B2e,QAASA,EACTpG,gBAAiBljC,KAAKymC,sBAE1BzmC,KAAK0oC,yBAA2BE,GAE7BA,CACf,EACIpD,EAAc/lC,UAAUgqC,kBAAoB,WACxC,IAAItkC,EAAIU,EAAIoC,EAIRiY,EAAiK,QAAhJjY,EAAyF,QAAnFpC,EAA4B,QAAtBV,EAAKnF,KAAKwV,cAA2B,IAAPrQ,OAAgB,EAASA,EAAGwY,qBAAkC,IAAP9X,OAAgB,EAASA,EAAGqa,qBAAkC,IAAPjY,EAAgBA,EAAK,GAClM,GAA6B,IAAzBiY,EAActf,OAGlB,OAAOsf,CACf,EACIslB,EAAc/lC,UAAUiqC,qBAAuB,WAC3C,IAAIvkC,EAAIU,EAAIoC,EAAIC,EAChB,GAAmJ,kBAA1D,QAAnFrC,EAA4B,QAAtBV,EAAKnF,KAAKwV,cAA2B,IAAPrQ,OAAgB,EAASA,EAAGwY,qBAAkC,IAAP9X,OAAgB,EAASA,EAAG8U,kBACzH,MAAO,IAEX,IAAIG,EAAmG,QAAnF5S,EAA4B,QAAtBD,EAAKjI,KAAKwV,cAA2B,IAAPvN,OAAgB,EAASA,EAAG0V,qBAAkC,IAAPzV,OAAgB,EAASA,EAAG4S,aAC3I,OAAKA,QAAL,CAIR,EACI0qB,EAAc/lC,UAAUkqC,oBAAsB,SAAU9pB,GACpD,IAAI1a,EAAIU,EAAIoC,EAAIC,EAAIsG,EAAIC,EACxB,OAAO3N,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAI4pC,EAASC,EAAmBC,EAAwBC,EACxD,OAAOhoC,EAAY/B,KAAM,SAAU4O,GAC/B,OAAQA,EAAGxM,OACP,KAAK,EACDwnC,EAAU,GAEV,IACIC,EAAoBjG,GAAwB,CACxC/nB,gBAAyG,QAAvFhW,EAA4B,QAAtBV,EAAKnF,KAAKwV,cAA2B,IAAPrQ,OAAgB,EAASA,EAAGyY,yBAAsC,IAAP/X,OAAgB,EAASA,EAAGgW,iBAAmB,GAChKmoB,eAAuC,QAAtB/7B,EAAKjI,KAAKwV,cAA2B,IAAPvN,OAAgB,EAASA,EAAGuV,0BAA2B,EACtGymB,gBAAwC,QAAtB/7B,EAAKlI,KAAKwV,cAA2B,IAAPtN,OAAgB,EAASA,EAAGuV,yBAC5EC,qBAA6C,QAAtBlP,EAAKxO,KAAKwV,cAA2B,IAAPhH,OAAgB,EAASA,EAAGkP,uBAErFksB,EAAQ5mC,KAAK6mC,EAChB,CACD,MAAOtmC,GACHvD,KAAKyH,eAAeT,KAAK,wCAAyCzD,EACrE,CACD,KAAqG,QAA9FkL,EAAKoR,aAAqD,EAASA,EAAc9Y,eAA4B,IAAP0H,OAAgB,EAASA,EAAG+K,SAAU,MAAO,CAAC,EAAa,GACxK5K,EAAGxM,MAAQ,EACf,KAAK,EAED,OADAwM,EAAGtM,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAa7B,QAAAC,UAAAU,KAAA,WAAA,OAAAkoC,EAAA,IACzB,KAAK,EAGD,OAFAF,EAA0Bl7B,EAAGvM,OAAQynC,uBACrCF,EAAQ5mC,KAAK8mC,EAAuB,CAAE5vB,MAAO2F,EAAc9Y,QAAQkjC,UAC5D,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAF,EAAUn7B,EAAGvM,OACbrC,KAAKyH,eAAeT,KAAK,iCAAkC+iC,GACpD,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAcH,EAAQhpC,OAAS,EAAIgpC,OAAUnhC,GAEjF,EACA,EACA,EACI+8B,EAAc/lC,UAAUyqC,kBAAoB,WACxC,OAAOppC,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIy+B,EAAQ0L,EACZ,OAAOpoC,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD,GAAIpC,KAAK4lC,eACL,MAAO,CAAC,EAAc5lC,KAAK4lC,gBAE/BzgC,EAAG/C,MAAQ,EACf,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAa7B,QAAAC,UAAAU,KAAA,WAAA,OAAAsoC,EAAA,IACzB,KAAK,EAGD,OAFA3L,EAAUt5B,EAAG9C,OAAQo8B,OACrBz+B,KAAK4lC,eAAiBnH,EACf,CAAC,EAAcA,GAC1B,KAAK,EAGD,OAFA0L,EAAUhlC,EAAG9C,OACbrC,KAAKyH,eAAeT,KAAK,sCAAuCmjC,GACzD,CAAC,EAAc,MAC1B,KAAK,EAAG,MAAO,CAAC,GAEpC,EACA,EACA,EACI3E,EAAc/lC,UAAU0mC,aAAe,SAAUkE,GAC7C,IAAIllC,EAAIU,EAAIoC,EAAIC,EAAIsG,EAAIC,EAAIG,EAE5B,YAD0B,IAAtBy7B,IAAgCA,GAAoB,GACjDvpC,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIwV,EAAQozB,EAAcje,EAAWib,EAAgBjoB,EAAeC,EAAmBiC,EAAeyqB,EAAOzuB,EAAgBhN,EAAIC,EAAIy7B,EACjIv7B,EACAoF,EAAQpU,KACZ,OAAO+B,EAAY/B,KAAM,SAAUiP,GAC/B,OAAQA,EAAG7M,OACP,KAAK,EAID,OAHAoT,EAASxV,KAAKwV,OACdozB,EAAe5oC,KAAK6oC,kBACpBle,EAAwC,QAA3BxlB,EAAKnF,KAAKwmC,mBAAgC,IAAPrhC,OAAgB,EAASA,EAAGwlB,UACvEie,GAAiBje,GAAcnV,GAGpCxV,KAAKonC,sBACE,CAAC,EAAapnC,KAAKkqC,sBAHf,CAAC,GAIhB,KAAK,EAGD,OAFAtE,EAAiB32B,EAAG5M,QAKb,CAAC,EAAarC,KAAKqoC,8BAFf,CAAC,GAGhB,KAAK,EACDp5B,EAAG5M,OAC8B,QAAhCwD,EAAK7F,KAAKqnC,wBAAqC,IAAPxhC,GAAyBA,EAAGyE,MAAM,SAAUsB,GAC5EwI,EAAMwyB,oBAAoB1tB,EAAiBsxB,cAAe5+B,EAC3F,GACwB+R,EAAgBnI,EAAOmI,cAAeC,EAAoBpI,EAAOoI,kBAAmBiC,EAAgBrK,EAAOqK,cAC3GyqB,GAAS1sB,aAA6D,EAASA,EAAkBpE,SAC3F,CACEixB,iBAAkBzqC,KAAKmqB,gBACW,QAA5BliB,EAAKjI,KAAKioC,oBAAiC,IAAPhgC,OAAgB,EAASA,EAAGm3B,WAAW,CACzEjV,cAAenqB,KAAKmqB,cACpBQ,UAAWA,EACX0U,WAAYr/B,KAAK+nC,YAAYjuB,KAAK9Z,MAClCs/B,OAAQsG,EAAetG,OACvBzjB,eAA4D,QAA3C3T,EAAK0V,EAAkB/B,sBAAmC,IAAP3T,EAAgBA,EAAK,GACzFq3B,mBAAwD,QAAnC/wB,EAAKgH,EAAO6H,yBAAsC,IAAP7O,OAAgB,EAASA,EAAGk8B,eAEpGC,OAAQ3qC,KAAKgoC,YAEf,GACNnsB,GAAkB+B,aAA6D,EAASA,EAAkBpE,UAAYoE,EAAkB/B,eAAiB+B,EAAkB/B,eAAiB,GAC5L7b,KAAKyH,eAAed,IAAI,wCAAwC7C,OAAO6mB,EAAW,MAClF1b,EAAG7M,MAAQ,EACf,KAAK,EAoDD,OAnDA6M,EAAG3M,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtB6L,EAAK7O,KACL8O,EAAK82B,EACL52B,EAAK,CACD47B,KAAM,SAAUh/B,GACZ,GAAIwI,EAAM+0B,eAIN,OAHA/0B,EAAM3M,eAAed,IAAI,kBAAkB7C,OAAO6mB,EAAW,4CAC7DvW,EAAMgzB,2BACNhzB,EAAM8xB,aAGNt6B,EAAM9B,OAAS+gC,GAAeC,OAC9Bl/B,EAAMud,KAAKuE,KAAO/R,GAAW/P,EAAMud,KAAKuE,KAAM7R,IAE9CzH,EAAM+zB,iBAEN/zB,EAAM+zB,gBAAgBtc,aAAajgB,EAAO+e,EAEjD,EACDogB,iBAAkBv1B,EAAO2H,uBACzBmtB,MAAOA,EACPU,eAAe,EACfC,cAAevxB,EACfwxB,W9BhnBH,Y8BinBGhrB,cAAelgB,KAAKypC,oBACpBlsB,sCAAuC/H,EAAO+H,sCAC9C4tB,YAAazwB,EAAO,QAASiD,GAC7BytB,WAAY1wB,EAAO,OAAQiD,GAC3B0tB,iBAAkBrrC,KAAK0pC,uBACvB4B,cAAc,EACdC,eAAgB,CACZC,OAA0C,QAAjC/8B,EAAK+G,EAAO4I,uBAAoC,IAAP3P,OAAgB,EAASA,EAAG+8B,OAC9EC,QAA2C,QAAjC78B,EAAK4G,EAAO4I,uBAAoC,IAAPxP,OAAgB,EAASA,EAAG68B,SAEnFC,aAAc,SAAUnoC,GACpB,IAAIgkC,EAAahkC,EAEjB,GAAIgkC,EAAW5D,QAAQ59B,SAAS,eAAiBwhC,EAAW5D,QAAQ59B,SAAS,iBACzE,MAAMwhC,EAKV,GAAIA,EAAWoE,WACX,MAAMpE,EAIV,OAFAnzB,EAAM3M,eAAeT,KAAK,iCAAkCugC,EAAWxiC,aAEhE,CACV,GAEE,CAAC,EAAa/E,KAAK2pC,oBAAoB9pB,IAClD,KAAK,EAOD,OANAhR,EAAG42B,qBAAuB32B,EAAGjO,WAAM,EAAQ,EAAEmO,EAAG46B,QAAU36B,EAAG5M,OACrD2M,KACHhP,KAAK4mC,oBAAoB1tB,EAAiB0yB,YAC3CvB,GACKrqC,KAAK4mC,oBAAoB1tB,EAAiBguB,SAAUlnC,KAAK6rC,UAE3D,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAtB,EAAUt7B,EAAG5M,OACbrC,KAAKyH,eAAeT,KAAK,uCAAwCujC,GAC1D,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAEpC,EACA,EACA,EACI/E,EAAc/lC,UAAUsoC,YAAc,WAClC,IAAI5iC,EACJ,OAAmC,QAA3BA,EAAKnF,KAAKwmC,mBAAgC,IAAPrhC,OAAgB,EAASA,EAAG6I,QAC/E,EACIw3B,EAAc/lC,UAAUqsC,aAAe,WACnC,IAAI3mC,EACJ,OAAmC,QAA3BA,EAAKnF,KAAKwmC,mBAAgC,IAAPrhC,OAAgB,EAASA,EAAGwlB,SAC/E,EACI6a,EAAc/lC,UAAUytB,MAAQ,SAAUC,GACtC,IAAIhoB,EAEJ,YADiB,IAAbgoB,IAAuBA,GAAW,GAC/BrsB,EAAUd,UAAM,OAAQ,EAAQ,WACnC,OAAO+B,EAAY/B,KAAM,SAAU6F,GAC/B,MAAO,CAAC,EAA4C,QAA7BV,EAAKnF,KAAKmqB,qBAAkC,IAAPhlB,OAAgB,EAASA,EAAG+nB,MAAMC,GAC9G,EACA,EACA,EACIqY,EAAc/lC,UAAUssC,SAAW,WAC/B/rC,KAAK6lC,wBAAuB,GAC5B7lC,KAAKonC,sBACLpnC,KAAKkmC,YACb,EACIV,EAAc/lC,UAAUusC,WAAa,SAAUC,GAC3C,MAAgB,WAAZA,EACO,2CAEK,YAAZA,EACO,2CAEJ,IACf,EACIzG,EAAc/lC,UAAUqoC,YAAc,SAAUnd,EAAW5K,EAAcpB,EAAa1J,EAAci3B,EAAkBC,EAAsBF,GACxI,IAAIG,GAAazhB,aAA6C,EAASA,EAAU5lB,YAAcmL,EAAiBya,EAAU5lB,iBAAc0D,EACxIzI,KAAK6rC,SAAW,CACZ9rB,aAAcA,EACdpB,YAAaA,EACb1J,aAAcA,EACd0V,UAAWA,EACXyhB,UAAWA,EACXnvB,WAAY8C,EAAa9C,WACzBovB,cAAersC,KAAKgsC,WAAWC,GAC/BC,iBAAkBA,EAClBI,kBAAmB,oCACnBH,qBAAsBA,EAElC,EACI3G,EAAc/lC,UAAU4oC,2BAA6B,WACjD,IAAIljC,EAAIU,EAAIoC,EACZ,OAAOnH,EAAUd,UAAM,OAAQ,EAAQ,WACnC,IAAIusC,EAAuBC,EAC3B,OAAOzqC,EAAY/B,KAAM,SAAUkI,GAC/B,OAAQA,EAAG9F,OACP,KAAK,EACD,KAAkJ,QAA1I6F,EAAyF,QAAnFpC,EAA4B,QAAtBV,EAAKnF,KAAKwV,cAA2B,IAAPrQ,OAAgB,EAASA,EAAG0a,qBAAkC,IAAPha,OAAgB,EAASA,EAAG4mC,eAA4B,IAAPxkC,OAAgB,EAASA,EAAGuR,UAAaxZ,KAAKqnC,iBAAmB,MAAO,CAAC,EAAa,GAChPn/B,EAAG9F,MAAQ,EACf,KAAK,EAED,OADA8F,EAAG5F,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAa7B,QAAAC,UAAAU,KAAA,WAAA,OAAA4qC,EAAA,IACzB,KAAK,EAGD,OAFAH,EAAyBrkC,EAAG7F,OAAQsqC,iBACpC3sC,KAAKqnC,iBAAmB,IAAIkF,EACrB,CAAC,EAAa,GACzB,KAAK,EAGD,OAFAC,EAAUtkC,EAAG7F,OACbrC,KAAKyH,eAAeT,KAAK,oDAAqDwlC,GACvE,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAEpC,EACA,EACA,EACWhH,CACX,IG7uBWh8B,GAAe,SAAUojC,GAAiB,OAAO,WACxD,IACIznC,EADSynC,EAAcp3B,QACRpO,KACnB,MAAO,CACHuC,OAF4CxE,EAAGsC,eAG/CnB,SAH0EnB,EAAGmB,SAKrF,GAaAsmC,GAZqB,WACjB,IAAIA,EAAgB,IAAIpH,GACxB,MAAO,CACHgC,KAAMn+B,EAAaujC,EAAcpF,KAAK1tB,KAAK8yB,GAAgB,OAAQpjC,GAAaojC,IAChFxG,4BAA6B/8B,EAAaujC,EAAcxG,4BAA4BtsB,KAAK8yB,GAAgB,6BAA8BpjC,GAAaojC,IACpJtE,aAAcj/B,EAAaujC,EAActE,aAAaxuB,KAAK8yB,GAAgB,eAAgBpjC,GAAaojC,IACxGd,aAAcziC,EAAaujC,EAAcd,aAAahyB,KAAK8yB,GAAgB,eAAgBpjC,GAAaojC,IACxGjE,2BAA4Bt/B,EAAaujC,EAAcjE,2BAA2B7uB,KAAK8yB,GAAgB,6BAA8BpjC,GAAaojC,IAClJ1f,MAAO7jB,EAAaujC,EAAc1f,MAAMpT,KAAK8yB,GAAgB,QAASpjC,GAAaojC,IACnFb,SAAU1iC,EAAaujC,EAAcb,SAASjyB,KAAK8yB,GAAgB,WAAYpjC,GAAaojC,IAEpG,CACeC,GCtBJrF,GAAOoF,GAAcpF,KAAMc,GAAesE,GAActE,aAAcwD,GAAec,GAAcd,aAAcnD,GAA6BiE,GAAcjE,2BAA4Bzb,GAAQ0f,GAAc1f,MAAO6e,GAAWa,GAAcb,SAAU3F,GAA8BwG,GAAcxG,6BHA/S,SAAWjmC,GAEPA,EAAuB,IAAI,OAC3BA,EAA4B,SAAI,WAEhCA,EAAuB,IAAI,OAC3BA,EAA0B,OAAI,UAC9BA,EAA2B,QAAI,WAC/BA,EAA0B,OAAI,UAE9BA,EAA6B,UAAI,aACjCA,EAA8B,WAAI,cAElCA,EAAyB,MAAI,SAC7BA,EAA6B,UAAI,WACpC,CAfD,CAeGA,KAAsBA,GAAoB,CAAE,IAE/C,SAAWolC,GACPA,EAAoC,mBAAI,aACxCA,EAAkC,iBAAI,YACtCA,EAA+B,cAAI,SACnCA,EAA8B,aAAI,eAClCA,EAAkC,iBAAI,YACtCA,EAAyB,QAAI,UAChC,CAPD,CAOGA,KAAoBA,GAAkB,CAAE,IAM3C,SAAWnlC,GACPA,EAA2B,SAAI,YAC/BA,EAAiC,eAAI,iBACrCA,EAA0B,QAAI,gBACjC,CAJD,CAIGA,KAAqBA,GAAmB,CAAA,IIjCpC,MAAM0sC,GAA0B,CACrC3sC,GAAkB4sC,IAClB5sC,GAAkB6sC,SAClB7sC,GAAkB8sC,IAClB9sC,GAAkB+sC,OAClB/sC,GAAkBgtC,QAClBhtC,GAAkBitC,YCPPhhB,GAAU,eCkBVihB,GAoBX,WAAAptC,CAAY+H,GAlBZhI,KAAA+J,KAAOsjC,GAAoBC,WAC3BttC,KAAI8J,KAAG,aAIP9J,KAAMwV,OAAyB,KAG/BxV,KAAA4sC,cAAwC,CACtC1f,MAAOA,GACP4e,aAAcA,GACdnD,2BAA4BA,GAC5BnB,KAAMA,GACNc,aAAcA,GACdyD,SAAUA,GACV3F,4BAA6BA,IAI7BpmC,KAAKgI,QAAY5I,OAAAkB,OAAA,CAAAitC,sBAAsB,GAAUvlC,GACjDhI,KAAKwtC,cAAgBxtC,KAAKgI,OAC3B,CAEK,KAAAylC,CAAMj4B,EAAuBk4B,+DACjC,IAEEl4B,SAAAA,EAAQ/N,eAAed,IAAI,wDAAwDylB,OAEnFpsB,KAAKwV,OAASA,EAEVxV,KAAKgI,QAAQulC,uBACuB,kBAA3B/3B,EAAOm4B,iBACe,IAA3Bn4B,EAAOm4B,kBACTn4B,EAAOm4B,gBAAkB,CACvBC,WAAW,EACXC,kBAAkB,EAClBC,eAAe,EACfC,UAAU,IAIdv4B,EAAOm4B,gBAAevuC,OAAAkB,OAAAlB,OAAAkB,OAAA,GACjBkV,EAAOm4B,iBAAe,CACzBI,UAAU,KAIhB,MACMxgC,GCpEiC/F,EDmEKxH,KAAKwV,OAAOhO,kBClErC,IAAjBA,IAA2BA,EAAe,qBACvCqI,EAAmBI,YAAYzI,IDiEkCsI,cACjCT,cAAc9B,eAEnDvN,KAAKwtC,cAAgB,CACnBhmC,aAAcxH,KAAKwV,OAAOhO,aAC1BwG,SAA+B,QAArB7I,EAAAnF,KAAKgI,QAAQgG,gBAAQ,IAAA7I,EAAAA,EAAInF,KAAKwV,OAAOxH,SAC/CrG,OAAQ3H,KAAKwV,OAAO7N,OACpBgjB,UAAW3qB,KAAKgI,QAAQgmC,qBAAkBvlC,EAAYzI,KAAKwV,OAAOmV,UAClEljB,eAAgBzH,KAAKwV,OAAO/N,eAC5BnB,SAAUtG,KAAKwV,OAAOlP,SACtBe,gBAAiBrH,KAAKwV,OAAOnO,gBAC7BQ,WAAY7H,KAAKwV,OAAO3N,WACxBqV,gBAAiBld,KAAKgI,QAAQkV,kBAA2C,QAAxBrX,EAAA7F,KAAKwV,OAAOP,oBAAY,IAAApP,OAAA,EAAAA,EAAE+B,WAC3EwT,eAAgBpb,KAAKgI,QAAQoT,eAC7B6B,WAAYjd,KAAKgI,QAAQiV,WACzBU,cAAe,CACbuC,wBAAelgB,KAAKgI,QAAQ2V,oCAAeuC,cAC3CpF,uBAAc9a,KAAKgI,QAAQ2V,oCAAe7C,aAC1CI,yBAAgBlb,KAAKgI,QAAQ2V,oCAAezC,eAC5CP,2BAAkB3a,KAAKgI,QAAQ2V,oCAAehD,kBAEhDqD,UAAWhe,KAAKgI,QAAQgW,UACxBb,uBAAwBnd,KAAKgI,QAAQmV,uBACrCC,QAAS,CAAEtT,KAAM,SAAUsT,QAASgP,IACpC/O,kBAAmBrd,KAAKgI,QAAQqV,kBAChCC,UAAWtd,KAAKgI,QAAQsV,UACxBW,aAA2C,QAA7BrP,EAAA5O,KAAKgI,QAAQiW,oBAAgB,IAAArP,EAAAA,UAAAC,EAAA7O,KAAKgI,QAAQmW,mCAAcF,aACtE1Q,eAAgBA,EAChB6Q,gBAAiBpe,KAAKgI,QAAQoW,gBAC9Bb,sCAAuCvd,KAAKgI,QAAQuV,sCACpDK,kBAAmB5d,KAAKgI,QAAQ4V,kBAChCF,qBAAsB1d,KAAKgI,QAAQ0V,qBACnCF,uBAAwBxd,KAAKgI,QAAQwV,uBACrCC,yBAA0Bzd,KAAKgI,QAAQyV,gCAGnCzd,KAAK4sC,cAAcpF,KAAKhyB,EAAOnN,OAAQrI,KAAKwtC,eAAernC,OAClE,CAAC,MAAO5C,GAEPiS,SAAAA,EAAQ/N,eAAelE,MAAM,+CAAgDA,EAAgBogC,UAC9F,CC3G8B,IAAUn8B,GD4G1C,CAEK,kBAAAymC,CAAmBtjB,iDACZ,QAAXxlB,EAAAnF,KAAKwV,cAAM,IAAArQ,GAAAA,EAAEsC,eAAeP,MAC1B,sCAAsCyjB,uBAA+B7qB,OAAOE,KAAK4sC,cAAcd,0BAE3F9rC,KAAK4sC,cAActE,aAAa3d,GAAWxkB,SAClD,CAEK,eAAA+nC,CAAgBvmC,iDACP,QAAbxC,EAAAnF,KAAKwV,cAAQ,IAAArQ,GAAAA,EAAAsC,eAAeP,MAC1B,wBAAwBpH,OAAO6H,eAC7BA,EAAS,2BAA6B,2BAKtCA,EACF3H,KAAK4sC,cAAcb,WAEJ,MAAf/rC,KAAKwV,eAAyBxV,KAAK4sC,cAAcpF,KAAKxnC,KAAKwV,OAAOnN,OAAQrI,KAAKwtC,eAAernC,UAEjG,CAEK,OAAAgoC,CAAQviC,mDACZ,IACE,GAAI5L,KAAKgI,QAAQgmC,gBAAiB,CAChC,MAAMrjB,EAAY3qB,KAAKgI,QAAQgmC,gBAAgBpiC,GAC/C,GAAI+e,EAAW,CAGTA,IAAc3qB,KAAK4sC,cAAcd,uBAC7B9rC,KAAK4sC,cAActE,aAAa3d,GAAWxkB,SAGnD,MAAMioC,EAA6BpuC,KAAK4sC,cAAcjE,6BACtD/8B,EAAMyiC,iBACDjvC,OAAAkB,OAAAlB,OAAAkB,OAAA,CAAA,EAAAsL,EAAMyiC,kBACND,EAEN,CACF,KAAM,CAIL,MAAMzjB,EAAoD,QAAXxlB,EAAAnF,KAAKwV,cAAM,IAAArQ,OAAA,EAAAA,EAAEwlB,UAO5D,GANIA,GAAaA,IAAc3qB,KAAK4sC,cAAcd,uBAC1C9rC,KAAK4sC,cAActE,aAAa3d,GAAWxkB,SAK/CwkB,GAAaA,IAAc/e,EAAMgiB,WAAY,CAC/C,IAAIrgB,EACA3B,EAAM86B,aAAetmC,EAAiBkuC,WACxC/gC,EEjKuB,CAAC3B,IAClC,IAAKA,EAAM2iC,gBACT,OAEF,IAAIC,EAAoB,CAAA,EAaxB,OAZyBpvC,OAAOwF,KAAKgH,EAAM2iC,iBAE1BxiC,QAAS0iC,IACxB,GAAI3B,GAAwB/mC,SAAS0oC,GAAmC,CACtE,MAAMC,EACJ9iC,EAAM2iC,iBAAoB3iC,EAAM2iC,gBAAgBE,GAClDD,EACKpvC,OAAAkB,OAAAlB,OAAAkB,OAAA,GAAAkuC,GACAE,EAEN,IAEIF,GFgJoBG,CAAoB/iC,UAEjC5L,KAAK4sC,cAAcxG,4BAA4B,CAAEx6B,QAAO2B,mBAC9D,MAAM6gC,EAA6BpuC,KAAK4sC,cAAcjE,6BACtD/8B,EAAMyiC,iBACDjvC,OAAAkB,OAAAlB,OAAAkB,OAAA,CAAA,EAAAsL,EAAMyiC,kBACND,EAEN,CACF,CAMD,OAJIxiC,EAAM86B,aAAetmC,EAAiBkuC,UAAY1iC,EAAMyiC,yBACnDziC,EAAMyiC,iBA9J0B,iCAiKlCltC,QAAQC,QAAQwK,EACxB,CAAC,MAAOrI,GAGP,OADW,QAAXsC,EAAA7F,KAAKwV,cAAM,IAAA3P,GAAAA,EAAE4B,eAAelE,MAAM,iDAAkDA,EAAgBogC,WAC7FxiC,QAAQC,QAAQwK,EACxB,GACF,CAEK,QAAAk6B,iDACJ,IACE9lC,KAAK4sC,cAAcb,WAKnB/rC,KAAKwV,OAAS,IACf,CAAC,MAAOjS,GAEI,QAAX4B,EAAAnF,KAAKwV,cAAM,IAAArQ,GAAAA,EAAEsC,eAAelE,MAAM,0CAA2CA,EAAgBogC,UAC9F,GACF,CAED,0BAAAgF,GACE,OAAO3oC,KAAK4sC,cAAcjE,4BAC3B,EAvLM0E,GAAUC,WAAG,2CA0LT,MAAAsB,GACX5mC,GAEO,IAAIqlC,GAAoBrlC,GGjMjC,IAAI/I,GAAgB,SAAUC,EAAGC,GAQ/B,OAPAF,GAAgBG,OAAOC,gBAAkB,CACvCC,UAAW,cACAC,OAAS,SAAUL,EAAGC,GACjCD,EAAEI,UAAYH,CAClB,GAAO,SAAUD,EAAGC,GAChB,IAAK,IAAIK,KAAKL,EAAOC,OAAOK,UAAUC,eAAeC,KAAKR,EAAGK,KAAIN,EAAEM,GAAKL,EAAEK,GAC9E,EACSP,GAAcC,EAAGC,EAC1B,EASA,IAAIkB,GAAW,WAQb,OAPAA,GAAWjB,OAAOkB,QAAU,SAAkBC,GAC5C,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE9C,IAAK,IAAIjB,KADTgB,EAAIG,UAAUF,GACOrB,OAAOK,UAAUC,eAAeC,KAAKa,EAAGhB,KAAIe,EAAEf,GAAKgB,EAAEhB,IAE5E,OAAOe,CACX,EACSF,GAASQ,MAAMb,KAAMW,UAC9B,EAoHA,SAASsC,GAASC,GAChB,IAAI1C,EAAsB,mBAAXmC,QAAyBA,OAAOC,SAC7CO,EAAI3C,GAAK0C,EAAE1C,GACXC,EAAI,EACN,GAAI0C,EAAG,OAAOA,EAAExD,KAAKuD,GACrB,GAAIA,GAAyB,iBAAbA,EAAEtC,OAAqB,MAAO,CAC5Ca,KAAM,WAEJ,OADIyB,GAAKzC,GAAKyC,EAAEtC,SAAQsC,OAAI,GACrB,CACL3B,MAAO2B,GAAKA,EAAEzC,KACdoB,MAAOqB,EAEV,GAEH,MAAM,IAAIrD,UAAUW,EAAI,0BAA4B,kCACtD,CAgC2B,mBAApBuD,iBAAiCA,gBAKxC,IAAI8qC,GACI,KADJA,GAEQ,SAFRA,GAGU,WAHVA,GAIkB,mBAJlBA,GAKW,OALXA,GAMkB,gBANlBA,GAOc,UAPdA,GAQqB,mBARrBA,GASmB,eATnBA,GAU0B,wBAV1BA,GAWsB,kBAXtBA,GAY6B,2BAZ7BA,GAaQ,SAbRA,GAcY,aAdZA,GAec,eAfdA,GAgBsB,uBAhBtBA,GAiBkB,mBAjBlBA,GAkB0B,2BAlB1BA,GAmBa,cAnBbA,GAoBsB,uBAkCtBC,IAAS,UACTC,GAAQ,UAKRC,GAAY,SAAUjV,EAAOkV,QAChB,IAATA,IAAmBA,EAAO,GAM9B,IALA,IAAI9lB,EAvCoB,SAAUhZ,GAGlC,IAFA,IAAIqU,EAAM,GACNhlB,EAAI,EACCiB,EAAI,EAAGA,EAAI0P,EAAIvP,OAAQH,IAAK,CACjC,IAAIsjB,EAAI5T,EAAIE,WAAW5P,GACnBsjB,EAAI,IACJS,EAAIhlB,KAAOukB,EAENA,EAAI,MACTS,EAAIhlB,KAAQukB,GAAK,EAAK,IACtBS,EAAIhlB,KAAY,GAAJukB,EAAU,KAED,QAAX,MAAJA,IACNtjB,EAAI,EAAI0P,EAAIvP,QACwB,QAAX,MAAxBuP,EAAIE,WAAW5P,EAAI,KAEpBsjB,EAAI,QAAgB,KAAJA,IAAe,KAA6B,KAAtB5T,EAAIE,aAAa5P,IACvD+jB,EAAIhlB,KAAQukB,GAAK,GAAM,IACvBS,EAAIhlB,KAASukB,GAAK,GAAM,GAAM,IAC9BS,EAAIhlB,KAASukB,GAAK,EAAK,GAAM,IAC7BS,EAAIhlB,KAAY,GAAJukB,EAAU,MAGtBS,EAAIhlB,KAAQukB,GAAK,GAAM,IACvBS,EAAIhlB,KAASukB,GAAK,EAAK,GAAM,IAC7BS,EAAIhlB,KAAY,GAAJukB,EAAU,IAE7B,CACD,OAAOpe,WAAWjC,KAAK8gB,EAC3B,CAUe0qB,CAAsBnV,GAC7Bn5B,EAASuoB,EAAKvoB,OACduuC,EAAUvuC,GAAU,EACpBwP,EAAO6+B,EAEFxuC,EAAI,EAAGA,EAAI0uC,EAAS1uC,IAAK,CAC9B,IACIu+B,EAAIoQ,GAAUjmB,EADJ1oB,GAAK,GAEnB2P,EAAOi/B,GAAMrQ,EAAG5uB,EACnB,CAED,IAAItL,EAAQqqC,GAAW,EACnBG,EAAK,EACT,OAAQ1uC,EAASkE,GACb,KAAK,EACDwqC,GAAMnmB,EAAKrkB,EAAQ,IAAM,GACzBwqC,GAAMnmB,EAAKrkB,EAAQ,IAAM,EACzBwqC,GAAMnmB,EAAKrkB,GACXwqC,EAAK/pC,KAAKgqC,KAAKD,EAAIR,IACnBQ,EAAKE,GAAWF,EAzBhB,IA2BAl/B,GADAk/B,EAAK/pC,KAAKgqC,KAAKD,EAAIP,IAEnB,MACJ,KAAK,EACDO,GAAMnmB,EAAKrkB,EAAQ,IAAM,EACzBwqC,GAAMnmB,EAAKrkB,GACXwqC,EAAK/pC,KAAKgqC,KAAKD,EAAIR,IACnBQ,EAAKE,GAAWF,EAjChB,IAmCAl/B,GADAk/B,EAAK/pC,KAAKgqC,KAAKD,EAAIP,IAEnB,MACJ,KAAK,EACDO,GAAMnmB,EAAKrkB,GACXwqC,EAAK/pC,KAAKgqC,KAAKD,EAAIR,IACnBQ,EAAKE,GAAWF,EAxChB,IA0CAl/B,GADAk/B,EAAK/pC,KAAKgqC,KAAKD,EAAIP,IAK3B,OAAOU,GADPr/B,GAAQxP,KACgB,CAC5B,EACIyuC,GAAQ,SAAUrQ,EAAG5uB,GACrB,IAAIs/B,EAAU1Q,EACV2Q,EAAav/B,EAOjB,OANAs/B,EAAUnqC,KAAKgqC,KAAKG,EAASZ,IAC7BY,EAAUF,GAAWE,EApDb,IAqDRA,EAAUnqC,KAAKgqC,KAAKG,EAASX,IAE7BY,EAAaH,GADbG,GAAcD,EArDN,KAuDRC,EAAapqC,KAAKgqC,KAAKI,EAtDhB,KACA,UAsDsB,CACjC,EACIF,GAAS,SAAUr/B,GACnB,IAAIu/B,EAAav/B,EAMjB,OALAu/B,GAAcA,IAAe,GAC7BA,EAAapqC,KAAKgqC,KAAKI,GAAa,YACpCA,GAAcA,IAAe,GAC7BA,EAAapqC,KAAKgqC,KAAKI,GAAa,YACpCA,GAAcA,IAAe,EAEjC,EACIH,GAAa,SAAU5tB,EAAGlhB,EAAGkhC,GAM7B,YALc,IAAVA,IAAoBA,EAAQ,IAC5BlhC,EAAIkhC,IACJlhC,GAAQkhC,IAGHhgB,GAAKlhB,GADHkhB,EADC,YAAeggB,EAAQlhC,IAAQ,KAClB,IAAQkhC,EAAQlhC,IAAQ,KACvB,CAC9B,EACI0uC,GAAY,SAAUjmB,EAAMrkB,QACd,IAAVA,IAAoBA,EAAQ,GAChC,IAAIpE,EAAKyoB,EAAKrkB,IAAU,GACnBqkB,EAAKrkB,EAAQ,IAAM,GACnBqkB,EAAKrkB,EAAQ,IAAM,EACpBqkB,EAAKrkB,EAAQ,GACjB,OAAO8qC,GAAalvC,EACxB,EACIkvC,GAAe,SAAUlvC,GACzB,QAAe,SAALA,KAAoB,IACpB,SAAJA,KAAoB,GAChB,MAAJA,IAAmB,GACf,IAAJA,IAAmB,EAC7B,EAEImvC,GAAS,SAAUC,EAAY90B,GAC/B,IAAI7O,EAAKhH,EACT,GAAK6V,GAAgC,IAApBA,EAASpa,OAA1B,CAGA,IACI,IAAK,IAAImvC,EAAa9sC,GAAS+X,GAAWg1B,EAAeD,EAAWtuC,QAASuuC,EAAanuC,KAAMmuC,EAAeD,EAAWtuC,OAAQ,CAC9H,IAAIwuC,EAAkBD,EAAazuC,MACnC,IAAK0uC,IAAoBH,GAAoC,iBAAfA,EAC1C,OAEJA,EAAaA,EAAWG,EAC3B,CACJ,CACD,MAAO1jC,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQyjC,IAAiBA,EAAanuC,OAASsD,EAAK4qC,EAAWvjC,SAASrH,EAAGxF,KAAKowC,EAC/E,CACO,QAAE,GAAI5jC,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CACD,OAAKusC,QACD,CAlBH,CAuBL,EAUII,GAAkB,IAAIpsC,OAPF,kBAO4B,QAAQA,OAL1C,UAK8DA,OAFzD,uBAEkF,OACrGqsC,GAAiC,WACjC,SAASA,EAAgBC,EAAOC,EAAOC,EAAOC,QACvB,IAAfA,IAAyBA,OAAa9nC,GAC1CzI,KAAKowC,MAAQA,EACbpwC,KAAKqwC,MAAQA,EACbrwC,KAAKswC,MAAQA,EACbtwC,KAAKuwC,WAAaA,CACrB,CA4CD,OA3CAJ,EAAgBv7B,MAAQ,SAAUwI,GAC9B,GAAKA,EAAL,CAGA,IAAIozB,EAAa,IAAI90B,OAAOw0B,IAAiBO,KAAKrzB,GAClD,GAAKozB,EAAL,CAGA,IAAIJ,EAAQxzB,OAAO4zB,EAAW,IAC1BH,EAAQzzB,OAAO4zB,EAAW,IAC9B,IAAIE,MAAMN,KAAUM,MAAML,GAK1B,OAAO,IAAIF,EAAgBC,EAAOC,EAFtBzzB,OAAO4zB,EAAW,KAAO,EACpBA,EAAW,SAAM/nC,EAPjC,CAJA,CAaT,EACI0nC,EAAgB1wC,UAAUkxC,UAAY,SAAUC,GAC5C,OAAI5wC,KAAKowC,MAAQQ,EAAMR,MACZ,EACPpwC,KAAKowC,MAAQQ,EAAMR,OACX,EACRpwC,KAAKqwC,MAAQO,EAAMP,MACZ,EACPrwC,KAAKqwC,MAAQO,EAAMP,OACX,EACRrwC,KAAKswC,MAAQM,EAAMN,MACZ,EACPtwC,KAAKswC,MAAQM,EAAMN,OAEnBtwC,KAAKuwC,aAAeK,EAAML,YADlB,GAGPvwC,KAAKuwC,YAAcK,EAAML,WACnB,EACPvwC,KAAKuwC,YAAcK,EAAML,WACrBvwC,KAAKuwC,WAAaK,EAAML,WACjB,EACPvwC,KAAKuwC,WAAaK,EAAML,YAChB,EACL,EAEJ,CACf,EACWJ,CACX,IAEIU,GAAkC,WAClC,SAASA,IACR,CAodD,OAndAA,EAAiBpxC,UAAUqxC,SAAW,SAAU/jB,EAASgkB,GACrD,IAAI5kC,EAAKhH,EACL6rC,EAAU,CAAA,EACVhiB,EAAS,CACTjC,QAASA,EACTnrB,OAAQovC,GAEZ,IACI,IAAK,IAAIC,EAAUhuC,GAAS8tC,GAAQG,EAAYD,EAAQxvC,QAASyvC,EAAUrvC,KAAMqvC,EAAYD,EAAQxvC,OAAQ,CACzG,IAAIiiC,EAAOwN,EAAU3vC,MAEjB4vC,EAAUnxC,KAAKoxC,aAAapiB,EAAQ0U,GACpCyN,IACAH,EAAQtN,EAAK12B,KAAOmkC,EAE3B,CACJ,CACD,MAAO5kC,GAASJ,EAAM,CAAE5I,MAAOgJ,EAAU,CACjC,QACJ,IACQ2kC,IAAcA,EAAUrvC,OAASsD,EAAK8rC,EAAQzkC,SAASrH,EAAGxF,KAAKsxC,EACtE,CACO,QAAE,GAAI9kC,EAAK,MAAMA,EAAI5I,KAAQ,CACxC,CACD,OAAOytC,CACf,EACIH,EAAiBpxC,UAAU2xC,aAAe,SAAUpiB,EAAQ0U,GACxD,IAAIr1B,EAAKlJ,EACLvD,EACJ,IACI,IAAK,IAAIiE,EAAK5C,GAASygC,EAAK2N,UAAWppC,EAAKpC,EAAGpE,QAASwG,EAAGpG,KAAMoG,EAAKpC,EAAGpE,OAAQ,CAC7E,IAAI6vC,EAAUrpC,EAAG1G,MAEjB,GADAK,EAAS5B,KAAKuxC,gBAAgBviB,EAAQ0U,EAAM4N,GAChC,CAER,IAAIzF,EAAWxrC,GAASA,GAASA,GAAS,CAAA,EAAIqjC,EAAKmI,UAAWyF,EAAQzF,UAAWjqC,EAAOiqC,UACxFjqC,EAASvB,GAASA,GAAS,CAAE,EAAEuB,GAAS,CAAEiqC,SAAUA,IACpD,KACH,CACJ,CACJ,CACD,MAAO98B,GAASV,EAAM,CAAE9K,MAAOwL,EAAU,CACjC,QACJ,IACQ9G,IAAOA,EAAGpG,OAASsD,EAAKU,EAAG2G,SAASrH,EAAGxF,KAAKkG,EACnD,CACO,QAAE,GAAIwI,EAAK,MAAMA,EAAI9K,KAAQ,CACxC,CACD,OAAO3B,CACf,EACIivC,EAAiBpxC,UAAU8xC,gBAAkB,SAAUviB,EAAQ0U,EAAM4N,GACjE,IAAIhjC,EAAKnJ,EAAIgb,EAAKta,EAClB,IAAKyrC,EAAQE,WAGT,YAAmB/oC,KADfgpC,EAAazxC,KAAK0xC,OAAO1iB,EAAQsiB,IAE1B5N,EAAKiO,SAASF,QAGrB,EAGR,IAEI,IAAK,IAAIxpC,EAAKhF,GAASquC,EAAQE,YAAatpC,EAAKD,EAAGxG,QAASyG,EAAGrG,KAAMqG,EAAKD,EAAGxG,OAAQ,CAClF,IAoBQgwC,EApBJD,EAAatpC,EAAG3G,MAChBqwC,GAAQ,EACZ,IACI,IAAK,IAAIC,GAAgB1xB,OAAM,EAAQld,GAASuuC,IAAcM,EAAiBD,EAAapwC,QAASqwC,EAAejwC,KAAMiwC,EAAiBD,EAAapwC,OAAQ,CAC5J,IAAIswC,EAAYD,EAAevwC,MAE/B,KADAqwC,EAAQ5xC,KAAKgyC,eAAehjB,EAAQ+iB,IAEhC,KAEP,CACJ,CACD,MAAO3xB,GAASD,EAAM,CAAE5c,MAAO6c,EAAU,CACjC,QACJ,IACQ0xB,IAAmBA,EAAejwC,OAASgE,EAAKgsC,EAAarlC,SAAS3G,EAAGlG,KAAKkyC,EACrF,CACO,QAAE,GAAI1xB,EAAK,MAAMA,EAAI5c,KAAQ,CACxC,CAED,GAAIquC,EAEA,YAAmBnpC,KADfgpC,EAAazxC,KAAK0xC,OAAO1iB,EAAQsiB,IAE1B5N,EAAKiO,SAASF,QAGrB,CAGX,CACJ,CACD,MAAOviC,GAASZ,EAAM,CAAE/K,MAAO2L,EAAU,CACjC,QACJ,IACQhH,IAAOA,EAAGrG,OAASsD,EAAK8C,EAAGuE,SAASrH,EAAGxF,KAAKsI,EACnD,CACO,QAAE,GAAIqG,EAAK,MAAMA,EAAI/K,KAAQ,CACxC,CAET,EACIstC,EAAiBpxC,UAAUuyC,eAAiB,SAAUhjB,EAAQ+iB,GAC1D,IAAIE,EAAYpC,GAAO7gB,EAAQ+iB,EAAU/2B,UAIzC,GAAKi3B,EAGA,IAAIjyC,KAAKkyC,cAAcH,EAAUjvC,IAAK,CACvC,IAAIqvC,EAAsBnyC,KAAKoyC,kBAAkBH,GACjD,QAAKE,GAGEnyC,KAAKqyC,SAASF,EAAqBJ,EAAUjvC,GAAIivC,EAAU9S,OACrE,CAEG,IAAIqT,EAAkBtyC,KAAKuyC,aAAaN,GACxC,YAAwBxpC,IAApB6pC,GACOtyC,KAAKwyC,YAAYF,EAAiBP,EAAUjvC,GAAIivC,EAAU9S,OAKxE,CAjBG,OAAOj/B,KAAKyyC,UAAUV,EAAUjvC,GAAIivC,EAAU9S,OAkB1D,EACI4R,EAAiBpxC,UAAUizC,QAAU,SAAU1lC,GAC3C,OAAOgiC,GAAUhiC,EACzB,EACI6jC,EAAiBpxC,UAAUiyC,OAAS,SAAU1iB,EAAQsiB,GAClD,IAAI7a,EAAKtxB,EAAI4xB,EAAKlxB,EAClB,IAAKyrC,EAAQI,OAGT,OAAOJ,EAAQH,QAGnB,IAAIwB,EAAiB3yC,KAAKuyC,aAAa1C,GAAO7gB,EAAQsiB,EAAQI,OAAO12B,WACrE,IAAK23B,GAA4C,IAA1BA,EAAe/xC,OAGlC,OAAO0wC,EAAQH,QAInB,IAAIyB,EAAY,GAAG9uC,OAAOwtC,EAAQI,OAAOmB,KAAM,KAAK/uC,OAAO6uC,GACvDviC,EAAOpQ,KAAK0yC,QAAQE,GACpBE,EAAkB1iC,EAAO,IACzB2iC,EAAoBxtC,KAAKoT,MAAMvI,EAAO,KAC1C,IACI,IAAK,IAAInI,EAAKhF,GAASquC,EAAQI,OAAOsB,aAAc9qC,EAAKD,EAAGxG,QAASyG,EAAGrG,KAAMqG,EAAKD,EAAGxG,OAAQ,CAC1F,IAAIwxC,EAAa/qC,EAAG3G,MAChB2xC,EAAkBD,EAAWE,MAAM,GACnCC,EAAgBH,EAAWE,MAAM,GACrC,GAAIL,GAAmBI,GACnBJ,EAAkBM,EAClB,IACI,IAAK,IAAI5kC,GAAMuoB,OAAM,EAAQ9zB,GAASgwC,EAAWI,gBAAiB5kC,EAAKD,EAAG/M,QAASgN,EAAG5M,KAAM4M,EAAKD,EAAG/M,OAAQ,CACxG,IAAI6xC,EAAe7kC,EAAGlN,MAClBgyC,EAAoBD,EAAaH,MAAM,GACvCK,EAAkBF,EAAaH,MAAM,GACzC,GAAIJ,GAAqBQ,GACrBR,EAAoBS,EACpB,OAAOF,EAAanC,OAE3B,CACJ,CACD,MAAOsC,GAAS1c,EAAM,CAAExzB,MAAOkwC,EAAU,CACjC,QACJ,IACQhlC,IAAOA,EAAG5M,OAASgE,EAAK2I,EAAGhC,SAAS3G,EAAGlG,KAAK6O,EACnD,CACO,QAAE,GAAIuoB,EAAK,MAAMA,EAAIxzB,KAAQ,CACxC,CAER,CACJ,CACD,MAAOmwC,GAASjd,EAAM,CAAElzB,MAAOmwC,EAAU,CACjC,QACJ,IACQxrC,IAAOA,EAAGrG,OAASsD,EAAK8C,EAAGuE,SAASrH,EAAGxF,KAAKsI,EACnD,CACO,QAAE,GAAIwuB,EAAK,MAAMA,EAAIlzB,KAAQ,CACxC,CACD,OAAO+tC,EAAQH,OACvB,EACIN,EAAiBpxC,UAAUgzC,UAAY,SAAU3vC,EAAI6wC,GACjD,IAAIC,EAAe5zC,KAAK4zC,aAAaD,GACrC,OAAQ7wC,GACJ,KAAK+rC,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACD,OAAO+E,EACX,KAAK/E,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACD,OAAQ+E,EACZ,QACI,OAAO,EAEvB,EACI/C,EAAiBpxC,UAAU4yC,SAAW,SAAUwB,EAAY/wC,EAAI6wC,GAC5D,OAAQ7wC,GACJ,KAAK+rC,GACD,OAAO7uC,KAAK8zC,UAAUD,EAAYF,GACtC,KAAK9E,GACD,OAAQ7uC,KAAK8zC,UAAUD,EAAYF,GACvC,KAAK9E,GACD,OAAO7uC,KAAK+zC,sBAAsBF,EAAYF,GAClD,KAAK9E,GACD,OAAQ7uC,KAAK+zC,sBAAsBF,EAAYF,GACnD,KAAK9E,GACD,OAAO7uC,KAAKg0C,sBAAsBH,EAAYF,GAClD,KAAK9E,GACD,OAAQ7uC,KAAKg0C,sBAAsBH,EAAYF,GACnD,QACI,OAAO,EAEvB,EACI9C,EAAiBpxC,UAAU+yC,YAAc,SAAUP,EAAWnvC,EAAI6wC,GAC9D,IAAIv/B,EAAQpU,KACZ,OAAQ8C,GACJ,KAAK+rC,GACD,OAAO7uC,KAAKi0C,UAAUhC,EAAW0B,GACrC,KAAK9E,GACD,OAAQ7uC,KAAKi0C,UAAUhC,EAAW0B,GACtC,KAAK9E,GACD,OAAO7uC,KAAKk0C,gBAAgBjC,EAAW0B,GAC3C,KAAK9E,GACD,OAAQ7uC,KAAKk0C,gBAAgBjC,EAAW0B,GAC5C,KAAK9E,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACD,OAAO7uC,KAAKm0C,kBAAkBlC,EAAWnvC,EAAI6wC,EAAc,SAAUpyC,GAAS,OAAO6S,EAAMggC,YAAY7yC,EAAO,EAAIvB,KAAKq0C,YAC3H,KAAKxF,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACD,OAAO7uC,KAAKm0C,kBAAkBlC,EAAWnvC,EAAI6wC,EAAc,SAAUpyC,GAAS,OAAO4uC,GAAgBv7B,MAAMrT,EAAO,EAAIvB,KAAKs0C,mBAC/H,KAAKzF,GACD,OAAO7uC,KAAKu0C,aAAatC,EAAW0B,GACxC,KAAK9E,GACD,OAAQ7uC,KAAKu0C,aAAatC,EAAW0B,GACzC,QACI,OAAO,EAEvB,EACI9C,EAAiBpxC,UAAUw0C,UAAY,SAAUhC,EAAW0B,GACxD,GAAI3zC,KAAKw0C,iBAAiBb,GAAe,CACrC,IAAIc,EAAUxC,EAAU33B,cACxB,GAAgB,SAAZm6B,GAAkC,UAAZA,EACtB,OAAOd,EAAa54B,KAAK,SAAUxZ,GAAS,OAAOA,EAAM+Y,gBAAkBm6B,CAAQ,EAE1F,CACD,OAAOd,EAAa54B,KAAK,SAAUxZ,GAAS,OAAO0wC,IAAc1wC,CAAM,EAC/E,EACIsvC,EAAiBpxC,UAAUy0C,gBAAkB,SAAUjC,EAAW0B,GAC9D,IAAI3c,EAAK7xB,EACT,IACI,IAAK,IAAIuvC,EAAiBzxC,GAAS0wC,GAAegB,EAAmBD,EAAejzC,QAASkzC,EAAiB9yC,KAAM8yC,EAAmBD,EAAejzC,OAAQ,CAC1J,IAAImzC,EAAcD,EAAiBpzC,MACnC,GAAI0wC,EAAU33B,cAAcvU,SAAS6uC,EAAYt6B,eAC7C,OAAO,CAEd,CACJ,CACD,MAAOu6B,GAAS7d,EAAM,CAAEzzB,MAAOsxC,EAAU,CACjC,QACJ,IACQF,IAAqBA,EAAiB9yC,OAASsD,EAAKuvC,EAAeloC,SAASrH,EAAGxF,KAAK+0C,EAC3F,CACO,QAAE,GAAI1d,EAAK,MAAMA,EAAIzzB,KAAQ,CACxC,CACD,OAAO,CACf,EACIstC,EAAiBpxC,UAAU00C,kBAAoB,SAAUlC,EAAWnvC,EAAI6wC,EAAcmB,EAAiBC,GACnG,IAAI3gC,EAAQpU,KACRg1C,EAAuBF,EAAgB7C,GACvCgD,EAA0BtB,EACzB9uC,IAAI,SAAU+vC,GACf,OAAOE,EAAgBF,EACnC,GACal0B,OAAO,SAAUk0B,GAClB,YAAuBnsC,IAAhBmsC,CACnB,GACQ,YAA6BnsC,IAAzBusC,GACmC,IAAnCC,EAAwBr0C,OACjB+yC,EAAa54B,KAAK,SAAU65B,GAC/B,OAAOxgC,EAAMigC,WAAWpC,EAAWnvC,EAAI8xC,EACvD,GAGmBK,EAAwBl6B,KAAK,SAAUm6B,GAC1C,OAAOH,EAAeC,EAAsBlyC,EAAIoyC,EAChE,EAEA,EACIrE,EAAiBpxC,UAAU40C,WAAa,SAAUpC,EAAWnvC,EAAI8xC,GAC7D,OAAQ9xC,GACJ,KAAK+rC,GACL,KAAKA,GACD,OAAOoD,EAAY2C,EACvB,KAAK/F,GACL,KAAKA,GACD,OAAOoD,GAAa2C,EACxB,KAAK/F,GACL,KAAKA,GACD,OAAOoD,EAAY2C,EACvB,KAAK/F,GACL,KAAKA,GACD,OAAOoD,GAAa2C,EACxB,QACI,OAAO,EAEvB,EACI/D,EAAiBpxC,UAAU60C,kBAAoB,SAAUrC,EAAWnvC,EAAI8xC,GACpE,IAAIjE,EAAYsB,EAAUtB,UAAUiE,GACpC,OAAQ9xC,GACJ,KAAK+rC,GACL,KAAKA,GACD,OAAO8B,EAAY,EACvB,KAAK9B,GACL,KAAKA,GACD,OAAO8B,GAAa,EACxB,KAAK9B,GACL,KAAKA,GACD,OAAO8B,EAAY,EACvB,KAAK9B,GACL,KAAKA,GACD,OAAO8B,GAAa,EACxB,QACI,OAAO,EAEvB,EACIE,EAAiBpxC,UAAU80C,aAAe,SAAUtC,EAAW0B,GAC3D,OAAOA,EAAa54B,KAAK,SAAU65B,GAC/B,OAAOO,QAAQ,IAAIz5B,OAAOk5B,GAAanE,KAAKwB,GACxD,EACA,EACIpB,EAAiBpxC,UAAUm0C,aAAe,SAAUD,GAChD,OAAOA,EAAa54B,KAAK,SAAU65B,GAC/B,MAAuB,WAAhBA,CACnB,EACA,EACI/D,EAAiBpxC,UAAU+0C,iBAAmB,SAAUb,GACpD,OAAOA,EAAa54B,KAAK,SAAU65B,GAC/B,OAAQA,EAAYt6B,eAChB,IAAK,OACL,IAAK,QACD,OAAO,EACX,QACI,OAAO,EAE3B,EACA,EACIu2B,EAAiBpxC,UAAU20C,YAAc,SAAU7yC,GAC/C,IAAI4D,EACJ,OAAgC,QAAxBA,EAAKyX,OAAOrb,UAA2B,IAAP4D,EAAgBA,OAAKsD,CACrE,EACIooC,EAAiBpxC,UAAU8yC,aAAe,SAAUhxC,GAChD,GAAKA,EAGL,MAAqB,iBAAVA,EACAsJ,KAAKC,UAAUvJ,GAEnBzB,OAAOyB,EACtB,EACIsvC,EAAiBpxC,UAAU2yC,kBAAoB,SAAU7wC,GACrD,IAAI6S,EAAQpU,KACZ,GAAIT,MAAMmN,QAAQnL,GAEd,OADeA,EAEVsD,IAAI,SAAUnD,GAAK,OAAO0S,EAAMm+B,aAAa7wC,KAC7Cgf,OAAOy0B,SAEhB,IAAIC,EAAct1C,OAAOyB,GACzB,IACI,IAAI8zC,EAAcxqC,KAAK+J,MAAMwgC,GAC7B,OAAI71C,MAAMmN,QAAQ2oC,GACC9zC,EAEVsD,IAAI,SAAUnD,GAAK,OAAO0S,EAAMm+B,aAAa7wC,KAC7Cgf,OAAOy0B,cAGZ,CAEP,CACD,MAAOhwC,GACH,MACH,CACT,EACI0rC,EAAiBpxC,UAAUyyC,cAAgB,SAAUpvC,GACjD,OAAQA,GACJ,KAAK+rC,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACD,OAAO,EACX,QACI,OAAO,EAEvB,EACIgC,EAAiBpxC,UAAUq0C,UAAY,SAAUwB,EAAIC,GACjD,IAAIC,EAAK,IAAI/nC,IAAI6nC,GACbG,EAAK,IAAIhoC,IAAI8nC,GACjB,OAAOC,EAAGpnB,OAASqnB,EAAGrnB,MAxqB9B,SAAuB3qB,EAAIC,EAAMC,GAC/B,GAAIA,GAA6B,IAArBhD,UAAUC,OAAc,IAAK,IAA4B0C,EAAxB7C,EAAI,EAAGmD,EAAIF,EAAK9C,OAAYH,EAAImD,EAAGnD,KAC1E6C,GAAQ7C,KAAKiD,IACVJ,IAAIA,EAAK/D,MAAME,UAAUoE,MAAMlE,KAAK+D,EAAM,EAAGjD,IAClD6C,EAAG7C,GAAKiD,EAAKjD,IAGjB,OAAOgD,EAAGK,OAAOR,GAAM/D,MAAME,UAAUoE,MAAMlE,KAAK+D,GACpD,CAgqBsCF,CAAc,GA9rBpD,SAAgBN,EAAGxC,GACjB,IAAIyC,EAAsB,mBAAXR,QAAyBO,EAAEP,OAAOC,UACjD,IAAKO,EAAG,OAAOD,EACf,IACEG,EAEA3B,EAHEjB,EAAI0C,EAAExD,KAAKuD,GAEbI,EAAK,GAEP,IACE,WAAc,IAAN5C,GAAgBA,KAAM,MAAQ2C,EAAI5C,EAAEgB,QAAQI,MAAMyB,EAAGN,KAAKK,EAAE9B,MACrE,CAAC,MAAOgC,GACP7B,EAAI,CACF6B,MAAOA,EAEb,CAAY,QACR,IACMF,IAAMA,EAAExB,OAASsB,EAAI1C,EAAU,SAAI0C,EAAExD,KAAKc,EACpD,CAAc,QACR,GAAIiB,EAAG,MAAMA,EAAE6B,KAChB,CACF,CACD,OAAOD,CACT,CAyqBwDF,CAAOqyC,IAAK,GAAO53B,MAAM,SAAU3b,GAAK,OAAOszC,EAAGlmB,IAAIptB,EAAG,EACjH,EACI2uC,EAAiBpxC,UAAUs0C,sBAAwB,SAAUF,EAAYF,GACrE,IAAIrb,EAAKnzB,EACT,GAAI0uC,EAAWjzC,OAAS+yC,EAAa/yC,OACjC,OAAO,EAEX,IACI,IAAK,IAAI80C,EAAiBzyC,GAAS0wC,GAAegC,EAAmBD,EAAej0C,QAASk0C,EAAiB9zC,KAAM8zC,EAAmBD,EAAej0C,OAAQ,CAC1J,IAAImzC,EAAce,EAAiBp0C,MACnC,IAAKvB,KAAKi0C,UAAUW,EAAaf,GAC7B,OAAO,CAEd,CACJ,CACD,MAAO+B,GAAStd,EAAM,CAAE/0B,MAAOqyC,EAAU,CACjC,QACJ,IACQD,IAAqBA,EAAiB9zC,OAASsD,EAAKuwC,EAAelpC,SAASrH,EAAGxF,KAAK+1C,EAC3F,CACO,QAAE,GAAIpd,EAAK,MAAMA,EAAI/0B,KAAQ,CACxC,CACD,OAAO,CACf,EACIstC,EAAiBpxC,UAAUu0C,sBAAwB,SAAUH,EAAYF,GACrE,IAAIjb,EAAKvzB,EACT,IACI,IAAK,IAAI0wC,EAAiB5yC,GAAS0wC,GAAemC,EAAmBD,EAAep0C,QAASq0C,EAAiBj0C,KAAMi0C,EAAmBD,EAAep0C,OAAQ,CAC1J,IAAImzC,EAAckB,EAAiBv0C,MACnC,GAAIvB,KAAKi0C,UAAUW,EAAaf,GAC5B,OAAO,CAEd,CACJ,CACD,MAAOpb,GAASC,EAAM,CAAEn1B,MAAOk1B,EAAU,CACjC,QACJ,IACQqd,IAAqBA,EAAiBj0C,OAASsD,EAAK0wC,EAAerpC,SAASrH,EAAGxF,KAAKk2C,EAC3F,CACO,QAAE,GAAInd,EAAK,MAAMA,EAAIn1B,KAAQ,CACxC,CACD,OAAO,CACf,EACWstC,CACX,IAqFmC,mBAAhBnnB,aAA6B,IAAIA,YACjB,mBAAhBI,aAA6B,IAAIA,YAGrC,CAAC5kB,IACd,IAAI6wC,EAAM,CAAA,EACV7wC,EAAE6G,QAAQ,CAACgY,EAAGtjB,IAAMs1C,EAAIhyB,GAAKtjB,EAE9B,EAJc,CADAlB,MAAME,UAAUoE,MAAMlE,KADvB,sEAQEG,OAAO8pB,aAAa9P,KAAKha,QACG,mBAApB6F,WAAWjC,MAAsBiC,WAAWjC,KAAKoW,KAAKnU,YA2N9C,SAAUuO,GAEtC,SAAS8hC,EAAWzkC,EAAYoyB,GAC5B,IAAIvvB,EAAQF,EAAOvU,KAAKK,KAAM2jC,IAAY3jC,KAG1C,OAFAoU,EAAM7C,WAAaA,EACnBnS,OAAOC,eAAe+U,EAAO4hC,EAAWv2C,WACjC2U,CACV,EAjsCL,SAAmBlV,EAAGC,GACpB,GAAiB,mBAANA,GAA0B,OAANA,EAAY,MAAM,IAAIU,UAAU,uBAAyBC,OAAOX,GAAK,iCAEpG,SAASY,IACPC,KAAKC,YAAcf,CACpB,CAHDD,GAAcC,EAAGC,GAIjBD,EAAEO,UAAkB,OAANN,EAAaC,OAAOc,OAAOf,IAAMY,EAAGN,UAAYN,EAAEM,UAAW,IAAIM,EACjF,EAorCIH,CAAUo2C,EAAY9hC,EAQzB,CAT+B,CAS9BjN,OC3tCK,ICIH9B,GDHA88B,GACA,WACI,IAAI7tB,EAAQpU,KACZA,KAAKkiC,IAAM,GACXliC,KAAKy1B,YAAc,SAAUC,GAAU,OAAO50B,EAAUsT,OAAO,OAAQ,EAAQ,WAC3E,OAAOrS,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EAAG,MAAO,CAAC,EAAa2uB,GAAO2E,EAAQ,EAAG,CACvCzE,QAAS,SAAUS,GACVA,EAAGvC,iBAAiBiG,SAAS,yBAC9B1D,EAAG2D,kBAAkB,uBAAwB,CACzCC,QAAS,aAGpB,KAET,KAAK,EAAG,MAAO,CAAC,EAAcnwB,EAAG9C,QAErD,EACS,EAAE,EACHrC,KAAKmiC,eAAiB,SAAU95B,GAAU,OAAOvH,EAAUsT,OAAO,OAAQ,EAAQ,WAC9E,IAAIshB,EAAQhE,EACZ,OAAO3vB,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACD,OAAIpC,KAAKkiC,KAAOliC,KAAKkiC,IAAI75B,GACd,CAAC,EAAcrI,KAAKkiC,IAAI75B,KAEnCqtB,EAAS,GAAG5xB,OAAOuE,EAAOyM,UAAU,EAAG,IAAK,kBACrC,CAAC,EAAa9U,KAAKy1B,YAAYC,KAC1C,KAAK,EAGD,OAFAhE,EAAKvsB,EAAG9C,OACRrC,KAAKkiC,IAAI75B,GAAUqpB,EACZ,CAAC,EAAcA,GAE9C,EACS,EAAE,EACH1xB,KAAKi2C,0BAA4B,SAAU9wC,GACvC,IAAIwlB,EAAYxlB,EAAGwlB,UAAWurB,EAAY/wC,EAAG+wC,UAAWC,EAAYhxC,EAAGgxC,UAAW1uC,EAAiBtC,EAAGsC,eAAgBwoB,EAAK9qB,EAAG8qB,GAC9H,OAAOnvB,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIiuB,EAAc+T,EAAaC,EAAYC,EAAgBC,EAAmBC,EAAoBrqC,EAC9FtG,EAAIoC,EACR,OAAOlG,EAAY/B,KAAM,SAAUkI,GAC/B,OAAQA,EAAG9F,OACP,KAAK,EAGD,OAFA8F,EAAG5F,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtBq/B,EAAeviC,OAAO6qB,GACf,CAAC,EAAasF,EAAGqC,MAAMvpB,IAAIs5B,IACtC,KAAK,EAUD,OATA+T,EAAcluC,EAAG7F,OACjBg0C,EAAaD,EAAcA,EAAYC,WAAa,CAAA,EACpDC,EAAiBD,EAAWH,IAAc,GAC1CK,EAAoBl2C,EAASA,EAAS,CAAA,EAAIg2C,KAAcxwC,EAAK,CAAA,GAAOqwC,GAAa71C,EAASA,EAAS,GAAIi2C,KAAkBruC,EAAK,CAAE,GAAKkuC,GAAa,CAAEzP,WAAYwP,GAAajuC,IAAMpC,IACnL2wC,EAAqB,CACjB7rB,UAAW0X,EACXgU,WAAYE,EACZ9T,YAAal4B,KAAKoM,OAEf,CAAC,EAAasZ,EAAGqC,MAAM2D,IAAIugB,IACtC,KAAK,EAED,OADAtuC,EAAG7F,OACI,CAAC,EAAck0C,GAC1B,KAAK,EAGD,OAFApqC,EAAMjE,EAAG7F,OACToF,EAAeT,KAAK,wCAAwClD,OAAO6mB,EAAW,MAAM7mB,OAAOqI,IACpF,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc1D,GAEtD,EACA,EACA,EACQzI,KAAKy2C,2BAA6B,SAAUtxC,GACxC,IAAIw9B,EAAmBx9B,EAAGw9B,iBAAkBl7B,EAAiBtC,EAAGsC,eAAgBwoB,EAAK9qB,EAAG8qB,GACxF,OAAOnvB,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIwuB,EAAqB8T,EAAaj2C,EAAGk2C,EAAS5T,EAA0B10B,EAC5E,OAAOtM,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAGD,OAFAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACtB4/B,EAAsB9iC,OAAO6iC,GACtB,CAAC,EAAa1S,EAAGqC,MAAMsF,UAClC,KAAK,EACD8e,EAAc7wC,EAAGxD,OACjB5B,EAAI,EACJoF,EAAGzD,MAAQ,EACf,KAAK,EACD,OAAM3B,EAAIi2C,EAAY91C,QACtB+1C,EAAUD,EAAYj2C,GACtBsiC,EAA2Bx4B,KAAKoM,MAAQggC,EAAQlU,YAC1CkU,EAAQhsB,YAAciY,GAAuBG,EA1F3C,OA2FD,CAAC,EAAa9S,EAAGqC,MAAM3iB,OAAOgnC,EAAQhsB,YADiE,CAAC,EAAa,IAHtF,CAAC,EAAa,GAKxD,KAAK,EACD9kB,EAAGxD,OACHwD,EAAGzD,MAAQ,EACf,KAAK,EAED,OADA3B,IACO,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAa,GAC7B,KAAK,EAGD,OAFA4N,EAAMxI,EAAGxD,OACToF,EAAeT,KAAK,0DAA0DlD,OAAOuK,IAC9E,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,GAExC,EACA,EACA,EACQrO,KAAK42C,yBAA2B,SAAUzxC,GACtC,IAAIsC,EAAiBtC,EAAGsC,eAAgBkjB,EAAYxlB,EAAGwlB,UAAWurB,EAAY/wC,EAAG+wC,UAAWC,EAAYhxC,EAAGgxC,UAAW9tC,EAASlD,EAAGkD,OAClI,OAAOvH,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIsd,EAAIzB,EAAIsmB,EAAmBjoC,EAC/B,OAAOvM,EAAY/B,KAAM,SAAU6F,GAC/B,OAAQA,EAAGzD,OACP,KAAK,EAED,OADAyD,EAAGvD,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAahD,KAAKmiC,eAAe95B,IAC7C,KAAK,EAGD,OAFAqpB,EAAK7rB,EAAGxD,QACR4tB,EAAKyB,EAAGD,YAAY,uBAAwB,cAIrC,CAAC,EAAazxB,KAAKi2C,0BAA0B,CAC5CtrB,UAAWA,EACXsF,GAAIA,EACJxoB,eAAgBA,EAChByuC,UAAWA,EACXC,UAAWA,KAPR,CAAC,GAShB,KAAK,EAGD,OAFAI,EAAoB1wC,EAAGxD,OAEhB,CAAC,EAAarC,KAAKy2C,2BAA2B,CAAE9T,iBAAkBhY,EAAWsF,GAAIA,EAAIxoB,eAAgBA,KAChH,KAAK,EAGD,OADA5B,EAAGxD,OACI,CAAC,EAAa4tB,EAAGpuB,MAC5B,KAAK,EAED,OADAgE,EAAGxD,OACI,CAAC,EAAck0C,GAC1B,KAAK,EAGD,OAFAjoC,EAAMzI,EAAGxD,OACToF,EAAeT,KAAK,wCAAwClD,OAAO6mB,EAAW,MAAM7mB,OAAOwK,IACpF,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,OAAc7F,GAEtD,EACA,EACA,CACK,EAIMu6B,GAAoB,IAAIf,GEzJ/B4U,GACA,WACI,IAAIziC,EAAQpU,KACZA,KAAKyjC,kBAAoB,SAAUt+B,GAC/B,IAAIkD,EAASlD,EAAGkD,OAAQZ,EAAiBtC,EAAGsC,eAAgBmE,EAAQzG,EAAGyG,MAAO+e,EAAYxlB,EAAGwlB,UAAWpd,EAAiBpI,EAAGoI,eAAgBS,EAAW7I,EAAG6I,SAAU01B,EAAOv+B,EAAGu+B,KAC9K,OAAO5iC,EAAUsT,OAAO,OAAQ,EAAQ,WACpC,IAAIiiC,EAAYxwC,EAAIixC,EAAc/pB,EAClC,OAAOhrB,EAAY/B,KAAM,SAAUiI,GAC/B,OAAQA,EAAG7F,OACP,KAAK,EACD,OAAMwJ,GAASA,EAAMvB,KACd,CAAC,EAAa24B,GAAkB4T,yBAAyB,CACxDnvC,eAAgBA,EAChBY,OAAQA,EACRsiB,UAAWA,EACXurB,UAAWtqC,EAAM86B,WACjByP,UAAWvqC,EAAMvB,QANU,CAAC,EAAa,GAQrD,KAAK,EAED,OADAxE,EAAKoC,EAAG5F,OACD,CAAC,EAAa,GACzB,KAAK,EACDwD,OAAK4C,EACLR,EAAG7F,MAAQ,EACf,KAAK,EAaD,OAXA00C,GADAT,EAAaxwC,IACgB,IAAI4H,IAAIrO,OAAOwF,KAAKyxC,IACjDtpB,EAAU,CACNa,WAAYjD,EACZ/e,MAAOA,EACPmrC,YAAaD,GAAgBv3C,MAAMmE,KAAKozC,GACxCE,KAAM,CACFrpB,UAAW3f,EACXugC,gBAAiBhhC,IAIlB,CAAC,EADUvN,KAAKi3C,iBAAiBnG,SAAS/jB,EAAS,CAAC2W,KAGvF,EACA,EACA,EACQ1jC,KAAKi3C,iBAAmB,IAAIpG,EAC/B,EC7CMpN,GCAU,WACjB,IAAIyT,EAAY,IAAIL,GACpB,MAAO,CACHpT,kBAAmByT,EAAUzT,kBAAkB3pB,KAAKo9B,GAE5D,CACerK,GDN0BpJ,6HEDjB,24NJApB0T,GAAY/3C,OAAO0J,eAEnBsuC,GAAgB,CAACnqC,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMkqC,GAAUlqC,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EACjH+1C,CAAgBrqC,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GACpGg2C,GAAan4C,OAAO0J,eAEpB0uC,GAAiB,CAACvqC,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMsqC,GAAWtqC,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EAClHk2C,CAAiBxqC,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GAEtGm2C,GAAct4C,OAAO0J,eAErB6uC,GAAkB,CAAC1qC,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMyqC,GAAYzqC,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EACnHq2C,CAAkB3qC,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GAC5G,MAAMs2C,GAAsB,CAC1B5d,KAAM,CAAC,aAAc,aAAc,gBAAiB,eACpD6d,WAAY,CAAC,OAAQ,eACrBC,QAAS,CAAC,aAAc,gBAAiB,oBACzCC,iBAAkB,IAEdC,GAAoB,CACxBhe,KAAM,CAAC,WAAY,eACnB6d,WAAY,CAAC,gBACbC,QAAS,GACTC,iBAAkB,CAAC,gBAEfE,GAA2B,CAAA,EAUjC,SAASC,GAAwBnrC,GAC/B,GAAIkrC,GAAyBlrC,GAC3B,OAAOkrC,GAAyBlrC,GAClC,MAAMywB,EAZR,SAA2CzwB,GACzC,IAAImY,EAAKtf,EACT,MAAMuyC,EAAkI,OAAjGvyC,EAA8D,OAAxDsf,EAAoB,MAAd5gB,gBAAqB,EAASA,WAAW8zC,WAAgB,EAASlzB,EAAImzB,iBAAsB,EAASzyC,EAAGlG,KAAKwlB,EAAKnY,GACrK,OAAIorC,GAAiC7zC,WAAW6zC,GACvC7zC,WAAW6zC,QAElB,CAEJ,CAIoBG,CAAkCvrC,IAAQzI,WAAWyI,GACjEwrC,EAAmB/a,EAAUh+B,UAC7Bg5C,EAAgBzrC,KAAO6qC,GAAsBA,GAAoB7qC,QAAO,EACxE0rC,EAAuBvD,QAC3BsD,GACAA,EAAc56B,MACX86B,IACC,IAAIxzB,EAAKtf,EACT,OAAOsvC,QACoG,OAAxGtvC,EAA4E,OAAtEsf,EAAM/lB,OAAOw5C,yBAAyBJ,EAAkBG,SAAqB,EAASxzB,EAAIpc,UAAe,EAASlD,EAAGd,WAAWgB,SAAS,qBAKlJ8yC,EAAc7rC,KAAOirC,GAAoBA,GAAkBjrC,QAAO,EAClE8rC,EAAqB3D,QACzB0D,GAAeA,EAAYh7B,MAExBlJ,IACC,IAAIwQ,EACJ,MAA2C,mBAA7BqzB,EAAiB7jC,KAA+D,OAAnCwQ,EAAMqzB,EAAiB7jC,SAAmB,EAASwQ,EAAIpgB,WAAWgB,SAAS,qBAI5I,GAAI2yC,GAAwBI,EAE1B,OADAZ,GAAyBlrC,GAAOywB,EAAUh+B,UACnCg+B,EAAUh+B,UAEnB,IACE,MAAMs5C,EAAWz4B,SAAS04B,cAAc,UACxC14B,SAASte,KAAKi3C,YAAYF,GAC1B,MAAMG,EAAMH,EAASI,cACrB,IAAKD,EAAK,OAAOzb,EAAUh+B,UAC3B,MAAM25C,EAAkBF,EAAIlsC,GAAKvN,UAEjC,OADA6gB,SAASte,KAAKq3C,YAAYN,GACrBK,EACElB,GAAyBlrC,GAAOosC,EADVZ,CAEjC,CAAI,MACA,OAAOA,CACR,CACH,CACA,MAAMc,GAA2B,CAAA,EACjC,SAASC,GAAuBvsC,EAAKwsC,EAAUb,GAC7C,IAAIxzB,EACJ,MAAMs0B,EAAW,GAAGzsC,KAAOlN,OAAO64C,KAClC,GAAIW,GAAyBG,GAC3B,OAAOH,GAAyBG,GAAU95C,KACxC65C,GAEJ,MAAME,EAAqBvB,GAAwBnrC,GAC7C2sC,EAGA,OAHqBx0B,EAAM/lB,OAAOw5C,yBACtCc,EACAf,SACW,EAASxzB,EAAIpc,IAC1B,OAAK4wC,GACLL,GAAyBG,GAAYE,EAC9BA,EAAkBh6C,KAAK65C,IAFCA,EAASb,EAG1C,CACA,MAAMiB,GAAyB,CAAA,EAC/B,SAASC,GAAqB7sC,EAAKwsC,EAAU7kC,GAC3C,MAAM8kC,EAAW,GAAGzsC,KAAOlN,OAAO6U,KAClC,GAAIilC,GAAuBH,GACzB,OAAOG,GAAuBH,GAAU3/B,KACtC0/B,GAEJ,MACMM,EADqB3B,GAAwBnrC,GACR2H,GAC3C,MAA+B,mBAApBmlC,EAAuCN,EAAS7kC,IAC3DilC,GAAuBH,GAAYK,EAC5BA,EAAgBhgC,KAAK0/B,GAC9B,CAuCA,MAAMO,GAAU,CACdC,WAvCF,SAAsBC,GACpB,OAAOV,GAAuB,OAAQU,EAAI,aAC5C,EAsCEvd,WArCF,SAAsBud,GACpB,OAAOV,GAAuB,OAAQU,EAAI,aAC5C,EAoCE7c,cAnCF,SAAyB6c,GACvB,OAAOV,GAAuB,OAAQU,EAAI,gBAC5C,EAkCEC,YAjCF,SAAuBD,GACrB,OAAOV,GAAuB,OAAQU,EAAI,cAC5C,EAgCE7kB,SA/BF,SAAoB6kB,EAAIrJ,GACtB,OAAOiJ,GAAqB,OAAQI,EAAI,WAAjCJ,CAA6CjJ,EACtD,EA8BEuJ,YA7BF,SAAuBF,GACrB,OAAOJ,GAAqB,OAAQI,EAAI,cAAjCJ,EACT,EA4BEO,KA3BF,SAAgBH,GACd,OAAKA,GAAQ,SAAUA,EAChBV,GAAuB,aAAcU,EAAI,QADb,IAErC,EAyBEI,YAxBF,SAAuBJ,GACrB,OAAOA,EAAGI,WACZ,EAuBEC,WAtBF,SAAsBL,GACpB,OAAKA,GAAQ,eAAgBA,EACtBV,GAAuB,UAAWU,EAAI,cADJ,IAE3C,EAoBEt5B,cAnBF,SAAyBs5B,EAAIx5B,GAC3B,OAAO84B,GAAuB,UAAWU,EAAI,gBAAtCV,CAAuD94B,EAChE,EAkBEqd,iBAjBF,SAA4Bmc,EAAIx5B,GAC9B,OAAO84B,GAAuB,UAAWU,EAAI,mBAAtCV,CAA0D94B,EACnE,EAgBE85B,iBAfF,WACE,OAAOpC,GAAwB,oBAAoBl4C,WACrD,GAyBA,MAAMu6C,GACJ,WAAAv6C,GACE03C,GAAgB33C,KAAM,YAA6B,IAAI+xB,KACvD4lB,GAAgB33C,KAAM,cAA+B,IAAI4uB,QAC1D,CACD,KAAA6rB,CAAMR,GACJ,IAAI90B,EACJ,IAAK80B,EAAI,OAAQ,EAEjB,OADuC,OAA3B90B,EAAMnlB,KAAK06C,QAAQT,SAAe,EAAS90B,EAAIjP,MAC7C,CACf,CACD,OAAAypB,CAAQzpB,GACN,OAAOlW,KAAK26C,UAAU5xC,IAAImN,IAAO,IAClC,CACD,MAAA0kC,GACE,OAAOr7C,MAAMmE,KAAK1D,KAAK26C,UAAU/1C,OAClC,CACD,OAAA81C,CAAQT,GACN,OAAOj6C,KAAK66C,YAAY9xC,IAAIkxC,IAAO,IACpC,CAGD,iBAAAa,CAAkBb,GAChB,MAAM/jC,EAAKlW,KAAKy6C,MAAMR,GACtBj6C,KAAK26C,UAAUhrC,OAAOuG,GAClB+jC,EAAGD,YACLC,EAAGD,WAAWjuC,QACXgvC,GAAc/6C,KAAK86C,kBAAkBC,GAG3C,CACD,GAAAzrB,CAAIpZ,GACF,OAAOlW,KAAK26C,UAAUrrB,IAAIpZ,EAC3B,CACD,OAAA8kC,CAAQC,GACN,OAAOj7C,KAAK66C,YAAYvrB,IAAI2rB,EAC7B,CACD,GAAAxrC,CAAIwqC,EAAIiB,GACN,MAAMhlC,EAAKglC,EAAKhlC,GAChBlW,KAAK26C,UAAU3xC,IAAIkN,EAAI+jC,GACvBj6C,KAAK66C,YAAY7xC,IAAIixC,EAAIiB,EAC1B,CACD,OAAAz1C,CAAQyQ,EAAI+jC,GACV,MAAMkB,EAAUn7C,KAAK2/B,QAAQzpB,GAC7B,GAAIilC,EAAS,CACX,MAAMD,EAAOl7C,KAAK66C,YAAY9xC,IAAIoyC,GAC9BD,GAAMl7C,KAAK66C,YAAY7xC,IAAIixC,EAAIiB,EACpC,CACDl7C,KAAK26C,UAAU3xC,IAAIkN,EAAI+jC,EACxB,CACD,KAAAmB,GACEp7C,KAAK26C,UAA4B,IAAI5oB,IACrC/xB,KAAK66C,YAA8B,IAAIjsB,OACxC,EAMH,SAASysB,GAAkBJ,EAAOh/B,EAAOq/B,GACvC,IAAKL,EAAO,OAAO,EACnB,GAAIA,EAAMjhB,WAAaihB,EAAM/gB,aAC3B,QAAKohB,GACED,GAAkBtB,GAAQrd,WAAWue,GAAQh/B,EAAOq/B,GAE7D,IAAK,IAAIC,EAASN,EAAM3e,UAAU17B,OAAQ26C,KAAY,CACpD,MAAM/gB,EAAYygB,EAAM3e,UAAUif,GAClC,GAAIt/B,EAAMC,KAAKse,GACb,OAAO,CAEV,CACD,QAAK8gB,GACED,GAAkBtB,GAAQrd,WAAWue,GAAQh/B,EAAOq/B,EAC7D,CACA,SAASE,GAA0B55B,GACjC,OAAOA,GAAKA,EAAE65B,YAAcr8C,OAAOK,UAAUC,eAAeC,KAAKiiB,EAAG,WAAaA,EAAW,QAAIA,CAClG,CACA,SAAS85B,GAAwBzB,GAC/B,GAAIA,EAAGwB,WAAY,OAAOxB,EAC1B,IAAI0B,EAAK1B,EAAGtY,QACZ,GAAiB,mBAANga,EAAkB,CAC3B,IAAIC,EAAK,SAASC,IAChB,OAAI77C,gBAAgB67C,EACXC,QAAQC,UAAUJ,EAAIh7C,UAAWX,KAAKC,aAExC07C,EAAG96C,MAAMb,KAAMW,UAC5B,EACIi7C,EAAGn8C,UAAYk8C,EAAGl8C,SACtB,MAASm8C,EAAK,CAAA,EAWZ,OAVAx8C,OAAO0J,eAAe8yC,EAAI,aAAc,CAAEr6C,OAAO,IACjDnC,OAAOwF,KAAKq1C,GAAIluC,QAAQ,SAASizB,GAC/B,IAAI9/B,EAAIE,OAAOw5C,yBAAyBqB,EAAIjb,GAC5C5/B,OAAO0J,eAAe8yC,EAAI5c,EAAG9/B,EAAE6J,IAAM7J,EAAI,CACvC+J,YAAY,EACZF,IAAK,WACH,OAAOkxC,EAAGjb,EACX,GAEP,GACS4c,CACT,CACA,IACII,GADAC,GAAuB,CAAEC,QAAS,CAAA,GAEtC,SAASC,KACP,GAAIH,GAAiC,OAAOC,GAAqBC,QACjEF,GAAkC,EAClC,IAAIp6B,EAAI9hB,OACJI,EAAS,WACX,MAAO,CAAEk8C,kBAAkB,EAAOhB,MAAOx5B,EAAGy6B,KAAMz6B,EAAG06B,IAAK16B,EAAG26B,OAAQ36B,EAAG46B,UAAW56B,EAAG66B,QAAS76B,EAAG86B,OAAQ96B,EAAG+6B,cAAe/6B,EAAGg7B,MAAOh7B,EAAGi7B,IAAKj7B,EAAGk7B,MAAOl7B,EAAGm7B,OAAQn7B,EAAGo7B,KAAMp7B,EAAGq7B,QAASr7B,EAAGs7B,KAAMt7B,EAAGu7B,MAAOv7B,EAAGw7B,KAAMx7B,EAAGy7B,QAASz7B,EAAG07B,MAAO17B,EAAG27B,QAAS37B,EAAG47B,SAAU57B,EAAG67B,OAAQ77B,EAAG87B,UAAW97B,EAAG+7B,OAAQ/7B,EAAGg8B,QAASh8B,EACvT,EAGE,OAFAq6B,GAAqBC,QAAUh8C,IAC/B+7C,GAAqBC,QAAQ2B,aAAe39C,EACrC+7C,GAAqBC,OAC9B,CACA,MAKM4B,GAA+BpC,GAJat8C,OAAO2+C,OAAuB3+C,OAAO0J,eAAe,CACpGxJ,UAAW,KACXqiC,QAH8B,CAAA,GAI7Bh/B,OAAOq7C,YAAa,CAAEz8C,MAAO,aAEhC,IAAI08C,GACAC,GACJ,SAASC,KACP,GAAID,GAA6B,OAAOD,GACxCC,GAA8B,EAC9B,IAAIE,EAAuBjC,KACvBkC,EAAoBP,GACxB,MAAMQ,UAAuBr3C,MAC3B,WAAAhH,CAAY0jC,EAAS4a,EAAMC,EAAQpnC,EAAQqnC,EAAMC,GAC/CC,MAAMhb,GACN3jC,KAAK+J,KAAO,iBACZ/J,KAAK4+C,OAASjb,EACV8a,IACFz+C,KAAKy+C,KAAOA,GAEVrnC,IACFpX,KAAKoX,OAASA,GAEZsnC,IACF1+C,KAAK0+C,OAASA,QAEI,IAATH,QAA0C,IAAXC,IACpB,iBAATD,GACTv+C,KAAKu+C,KAAOA,EACZv+C,KAAKw+C,OAASA,IAEdx+C,KAAKu+C,KAAOA,EAAKA,KACjBv+C,KAAKw+C,OAASD,EAAKC,OACnBx+C,KAAK6+C,QAAUL,EAAOD,KACtBv+C,KAAK8+C,UAAYN,EAAOA,SAG5Bx+C,KAAK++C,aACD93C,MAAM+3C,mBACR/3C,MAAM+3C,kBAAkBh/C,KAAMs+C,EAEjC,CACD,UAAAS,GACE/+C,KAAK2jC,QAAU3jC,KAAK0+C,OAAS1+C,KAAK0+C,OAAS,KAAO,GAClD1+C,KAAK2jC,SAAW3jC,KAAKy+C,KAAOz+C,KAAKy+C,KAAO,mBACf,IAAdz+C,KAAKu+C,OACdv+C,KAAK2jC,SAAW,IAAM3jC,KAAKu+C,KAAO,IAAMv+C,KAAKw+C,QAE/Cx+C,KAAK2jC,SAAW,KAAO3jC,KAAK4+C,MAC7B,CACD,cAAAK,CAAeC,GACb,IAAKl/C,KAAKoX,OAAQ,MAAO,GACzB,IAAIymB,EAAM79B,KAAKoX,OACF,MAAT8nC,IAAeA,EAAQd,EAAKhC,kBAC5BiC,GACEa,IAAOrhB,EAAMwgB,EAAkBxgB,IAErC,IAIIshB,EAAMC,EAJNC,EAAQxhB,EAAI3zB,MAAM,SAClBI,EAAQ/E,KAAKse,IAAI7jB,KAAKu+C,KAAO,EAAG,GAChC3zC,EAAMrF,KAAKgjB,IAAIvoB,KAAKu+C,KAAO,EAAGc,EAAMz+C,QACpC0+C,EAAWx/C,OAAO8K,GAAKhK,OAE3B,GAAIs+C,EAAO,CACT,IAAI7C,KAAEA,EAAIe,KAAEA,EAAIP,IAAEA,GAAQuB,EAAKP,cAAa,GAC5CsB,EAAQh1C,GAASkyC,EAAKQ,EAAI1yC,IAC1Bi1C,EAASj1C,GAASizC,EAAKjzC,EAC/B,MACQg1C,EAAOC,EAASjvC,GAAQA,EAE1B,OAAOkvC,EAAMx7C,MAAMyG,EAAOM,GAAK/F,IAAI,CAAC05C,EAAMgB,KACxC,IAAIC,EAASl1C,EAAQ,EAAIi1C,EACrBE,EAAS,KAAO,IAAMD,GAAQ37C,OAAOy7C,GAAY,MACrD,GAAIE,IAAWx/C,KAAKu+C,KAAM,CACxB,IAAImB,EAAUN,EAAMK,EAAOh6C,QAAQ,MAAO,MAAQ84C,EAAK16C,MAAM,EAAG7D,KAAKw+C,OAAS,GAAG/4C,QAAQ,SAAU,KACnG,OAAO05C,EAAK,KAAOC,EAAMK,GAAUlB,EAAO,MAAQmB,EAAUP,EAAK,IAClE,CACD,MAAO,IAAMC,EAAMK,GAAUlB,IAC5Bv4C,KAAK,KACT,CACD,QAAAjB,GACE,IAAIyM,EAAOxR,KAAKi/C,iBAIhB,OAHIztC,IACFA,EAAO,OAASA,EAAO,MAElBxR,KAAK+J,KAAO,KAAO/J,KAAK2jC,QAAUnyB,CAC1C,EAIH,OAFAysC,GAAmBK,EACnBA,EAAe3c,QAAU2c,EAClBL,EACT,CACA,IACI0B,GAQAC,GACAC,GA+SAC,GACAC,GAaAC,GACAC,GAsUAC,GACAC,GAqBAC,GACAC,GA0BAC,GACAC,GAqHAC,GACAC,GA+MAC,GACAC,GA4TAC,GACAC,GAeAC,GACAC,GAwXAC,GACAC,GA4BAC,GACAC,GAcAC,GACAC,GAmCAC,GACAC,GAsCAC,GACAC,GAsNAC,GACAC,GAwBAC,GACAC,GAoDAC,GACAC,GAuDAC,GACAC,GA0BAC,GACAC,GAmhBAC,GACAC,GAiCAC,GACAC,GAydAC,GACAC,GAmHAC,GACAC,GAyDAC,GACAC,GAuDAC,GACAC,GAj7GAC,GAAY,CAAA,EAEhB,SAASC,KACP,OAAItD,KACJA,GAAuB,EACvBqD,GAAUE,QAAUvgD,OAAO,WAC3BqgD,GAAUG,GAAKxgD,OAAO,OAHWqgD,EAKnC,CAGA,SAASI,KACP,GAAIvD,GAA0B,OAAOD,GACrCC,GAA2B,EAC3B,MAAMwD,EAAc,CAClB14C,MAAO,KACP24C,YAAa,KACbC,cAAe,KACfC,WAAY,KACZC,WAAY,IACZC,WAAY,KACZC,MAAO,KACPC,YAAa,IACbC,aAAc,IACdC,UAAW,GACXC,OAAQ,OACRC,WAAW,GAKb,MAAMC,EACJ,WAAAhkD,CAAYikD,GACVlkD,KAAKkkD,QAAUA,CAChB,CACD,MAAAC,CAAOlJ,EAAO+I,GACZ,IAAIj6C,EAAO,IAAMkxC,EAAMlxC,KACnBq6C,EAASnJ,EAAMmJ,OAASpkD,KAAKqkD,SAASpJ,EAAO,UAAY,GAM7D,QALoC,IAAzBA,EAAMqJ,KAAKC,UACpBx6C,GAAQkxC,EAAMqJ,KAAKC,UACVH,IACTr6C,GAAQ,KAENkxC,EAAMuJ,MACRxkD,KAAKykD,MAAMxJ,EAAOlxC,EAAOq6C,OACpB,CACL,IAAIx5C,GAAOqwC,EAAMqJ,KAAKI,SAAW,KAAOV,EAAY,IAAM,IAC1DhkD,KAAKkkD,QAAQn6C,EAAOq6C,EAASx5C,EAAKqwC,EACnC,CACF,CACD,WAAA0J,CAAY1J,EAAO2J,GACjB,IAAIrjD,EAEFA,EADiB,SAAf05C,EAAMnxC,KACA9J,KAAK6kD,IAAI5J,EAAO,KAAM,cACN,YAAfA,EAAMnxC,KACP9J,KAAK6kD,IAAI5J,EAAO,KAAM,iBACV,WAAX2J,EACD5kD,KAAK6kD,IAAI5J,EAAO,KAAM,cAEtBj7C,KAAK6kD,IAAI5J,EAAO,KAAM,eAEhC,IAAI6J,EAAM7J,EAAMxe,OACZsoB,EAAQ,EACZ,KAAOD,GAAoB,SAAbA,EAAIh7C,MAChBi7C,GAAS,EACTD,EAAMA,EAAIroB,OAEZ,GAAIl7B,EAAMwE,SAAS,MAAO,CACxB,IAAIg+C,EAAS/jD,KAAK6kD,IAAI5J,EAAO,KAAM,UACnC,GAAI8I,EAAOnjD,OACT,IAAK,IAAIY,EAAO,EAAGA,EAAOujD,EAAOvjD,IAAQD,GAASwiD,CAErD,CACD,OAAOxiD,CACR,CACD,KAAAkjD,CAAMxJ,EAAO3wC,GACX,IAEIK,EAFA+5C,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,cACzCj7C,KAAKkkD,QAAQ55C,EAAQo6C,EAAU,IAAKzJ,EAAO,SAEvCA,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,QAC7BZ,KAAKgC,KAAKi5C,GACVtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,UAExBtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,QAAS,aAE/BtwC,GAAO3K,KAAKkkD,QAAQv5C,GACxB3K,KAAKkkD,QAAQ,IAAKjJ,EAAO,MAC1B,CACD,IAAAj5C,CAAKi5C,GACH,IAAI+J,EAAO/J,EAAMuJ,MAAM5jD,OAAS,EAChC,KAAOokD,EAAO,GACmB,YAA3B/J,EAAMuJ,MAAMQ,GAAMl7C,MACtBk7C,GAAQ,EAEV,IAAIhB,EAAYhkD,KAAK6kD,IAAI5J,EAAO,aAChC,IAAK,IAAI/3B,EAAK,EAAGA,EAAK+3B,EAAMuJ,MAAM5jD,OAAQsiB,IAAM,CAC9C,IAAIyZ,EAAQse,EAAMuJ,MAAMthC,GACpBxY,EAAS1K,KAAK6kD,IAAIloB,EAAO,UACzBjyB,GAAQ1K,KAAKkkD,QAAQx5C,GACzB1K,KAAK8K,UAAU6xB,EAAOqoB,IAAS9hC,GAAM8gC,EACtC,CACF,CACD,OAAAvY,CAAQwP,GACN,IAAIgK,EAAOjlD,KAAK6kD,IAAI5J,EAAO,OAAQ,eAC/BiK,EAAQllD,KAAK6kD,IAAI5J,EAAO,QAAS,gBACrCj7C,KAAKkkD,QAAQ,KAAOe,EAAOhK,EAAM9wC,KAAO+6C,EAAQ,KAAMjK,EACvD,CACD,IAAAkK,CAAKlK,EAAO+I,GACV,IAAIU,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,SACrCmK,EAASnK,EAAMhsB,KAAOy1B,EAAU1kD,KAAKqkD,SAASpJ,EAAO,SACrDA,EAAMoK,YACRD,GAAUnK,EAAMqJ,KAAKe,WAAa,eAEhCrB,IAAWoB,GAAU,KACzBplD,KAAKkkD,QAAQkB,EAAQnK,EACtB,CACD,QAAA36B,CAAS26B,GACPj7C,KAAKgC,KAAKi5C,EACX,CACD,GAAA4J,CAAI5J,EAAOqK,EAAKV,GACd,IAAIrjD,EAEJ,GADKqjD,IAAQA,EAASU,GAClBA,IACF/jD,EAAQ05C,EAAMqJ,KAAKgB,QACE,IAAV/jD,GAAuB,OAAOA,EAE3C,IAAIk7B,EAASwe,EAAMxe,OACnB,GAAe,WAAXmoB,EAAqB,CACvB,IAAKnoB,GAA0B,SAAhBA,EAAO3yB,MAAmB2yB,EAAO8oB,QAAUtK,EACxD,MAAO,GAET,GAAIxe,GAA0B,aAAhBA,EAAO3yB,KACnB,MAAO,EAEV,CACD,IAAK2yB,EAAQ,OAAO4mB,EAAYuB,GAChC,IAAIY,EAAQvK,EAAM5gB,OAElB,GADKmrB,EAAMC,WAAUD,EAAMC,SAAW,CAAA,QACA,IAA3BD,EAAMC,SAASb,GACxB,OAAOY,EAAMC,SAASb,GAExB,GAAe,WAAXA,GAAkC,UAAXA,EACzB,OAAO5kD,KAAK2kD,YAAY1J,EAAO2J,GAC1B,CACL,IAAIjwC,EAAS,QApHCxE,EAoHkBy0C,GAnHzB,GAAGc,cAAgBv1C,EAAItM,MAAM,IAoHhC7D,KAAK2U,GACPpT,EAAQvB,KAAK2U,GAAQ6wC,EAAOvK,GAE5BuK,EAAMG,KAAMziC,IAEV,GADA3hB,EAAQ2hB,EAAGohC,KAAKgB,QACK,IAAV/jD,EAAuB,OAAO,GAG9C,CA7HL,IAAoB4O,EAgIhB,YAFqB,IAAV5O,IAAuBA,EAAQ8hD,EAAYuB,IACtDY,EAAMC,SAASb,GAAUrjD,EAClBA,CACR,CACD,cAAAqkD,CAAeJ,GACb,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,OAAS,QACH,IAAlBsiB,EAAGohC,KAAK35C,MAKjB,OAJApJ,EAAQ2hB,EAAGohC,KAAK35C,MACZpJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,gBAAAskD,CAAiBL,EAAOvK,GACtB,IAAI15C,EAeJ,OAdAikD,EAAMM,aAAc5iC,IAClB,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAAwkD,CAAcP,EAAOvK,GACnB,IAAI15C,EAeJ,OAdAikD,EAAMQ,UAAW9iC,IACf,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAA0kD,CAAcT,GACZ,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAgB,SAAZA,EAAGpZ,OACLvI,EAAQ2hB,EAAGohC,KAAKI,aACK,IAAVnjD,GAAuB,OAAO,IAGtCA,CACR,CACD,aAAA2kD,CAAcV,GACZ,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,QAAUthC,EAAGuZ,SAAW+oB,GAASA,EAAMD,QAAUriC,SACxB,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,QAAA4kD,CAASX,GACP,IAAIjkD,EAOJ,OANAikD,EAAMQ,UAAW9iC,IACf,QAA+B,IAApBA,EAAGohC,KAAKI,QAEjB,OADAnjD,EAAQ2hB,EAAGohC,KAAKI,QAAQj/C,QAAQ,UAAW,KACpC,IAGJlE,CACR,CACD,YAAA6kD,CAAaZ,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAA6B,IAApBthC,EAAGshC,MAAM5jD,SACvBW,EAAQ2hB,EAAGohC,KAAK35C,WACK,IAAVpJ,GAAuB,OAAO,IAGtCA,CACR,CACD,SAAA8kD,CAAUb,GACR,GAAIA,EAAMlB,KAAKP,OAAQ,OAAOyB,EAAMlB,KAAKP,OACzC,IAAIxiD,EAYJ,OAXAikD,EAAMG,KAAMziC,IACV,IAAI1jB,EAAI0jB,EAAGuZ,OACX,GAAIj9B,GAAKA,IAAMgmD,GAAShmD,EAAEi9B,QAAUj9B,EAAEi9B,SAAW+oB,QACjB,IAAnBtiC,EAAGohC,KAAK55C,OAAwB,CACzC,IAAI47C,EAAQpjC,EAAGohC,KAAK55C,OAAOR,MAAM,MAGjC,OAFA3I,EAAQ+kD,EAAMA,EAAM1lD,OAAS,GAC7BW,EAAQA,EAAMkE,QAAQ,MAAO,KACtB,CACR,IAGElE,CACR,CACD,YAAAglD,CAAaf,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,QAA2B,SAAjBsiB,EAAG8hC,KAAKl7C,OACzCvI,EAAQ2hB,EAAGohC,KAAKN,eACK,IAAVziD,GAAuB,OAAO,IAGtCA,CACR,CACD,QAAA8iD,CAASpJ,EAAOhsB,GACd,IAAI1tB,EAAQ05C,EAAMhsB,GACd41B,EAAM5J,EAAMqJ,KAAKr1B,GACrB,OAAI41B,GAAOA,EAAItjD,QAAUA,EAChBsjD,EAAIA,IAENtjD,CACR,CACD,IAAA84B,CAAK4gB,GACHj7C,KAAKgC,KAAKi5C,GACNA,EAAMqJ,KAAK35C,OAAO3K,KAAKkkD,QAAQjJ,EAAMqJ,KAAK35C,MAC/C,CACD,IAAAqR,CAAKi/B,GACHj7C,KAAKykD,MAAMxJ,EAAOj7C,KAAKqkD,SAASpJ,EAAO,aACnCA,EAAMqJ,KAAKkC,cACbxmD,KAAKkkD,QAAQjJ,EAAMqJ,KAAKkC,aAAcvL,EAAO,MAEhD,CACD,SAAAnwC,CAAUmwC,EAAO+I,GACf,IAAKhkD,KAAKi7C,EAAMnxC,MACd,MAAM,IAAI7C,MACR,yBAA2Bg0C,EAAMnxC,KAAO,mDAG5C9J,KAAKi7C,EAAMnxC,MAAMmxC,EAAO+I,EACzB,EAIH,OAFApE,GAAgBqE,EAChBA,EAAYtiB,QAAUsiB,EACfrE,EACT,CAGA,SAAS6G,KACP,GAAI1G,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAIkE,EAAcb,KAClB,SAASsD,EAAWzL,EAAOiJ,GACf,IAAID,EAAYC,GACtBp5C,UAAUmwC,EACf,CAGD,OAFA6E,GAAgB4G,EAChBA,EAAW/kB,QAAU+kB,EACd5G,EACT,CAGA,SAAS6G,KACP,GAAI1G,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IAAIiD,QAAEA,EAAOC,GAAEA,GAAOF,KAClB3E,EAAiBH,KACjB8F,EAAcb,KACdsD,EAAaD,KACjB,SAASG,EAAU35C,EAAKwvB,GACtB,IAAIoqB,EAAS,IAAI55C,EAAIhN,YACrB,IAAK,IAAIijB,KAAMjW,EAAK,CAClB,IAAK7N,OAAOK,UAAUC,eAAeC,KAAKsN,EAAKiW,GAC7C,SAEF,GAAW,eAAPA,EAAqB,SACzB,IAAI3hB,EAAQ0L,EAAIiW,GACZpZ,SAAcvI,EACP,WAAP2hB,GAA4B,WAATpZ,EACjB2yB,IAAQoqB,EAAO3jC,GAAMuZ,GACT,WAAPvZ,EACT2jC,EAAO3jC,GAAM3hB,EACJhC,MAAMmN,QAAQnL,GACvBslD,EAAO3jC,GAAM3hB,EAAMsD,IAAK0c,GAAMqlC,EAAUrlC,EAAGslC,KAE9B,WAAT/8C,GAA+B,OAAVvI,IAAgBA,EAAQqlD,EAAUrlD,IAC3DslD,EAAO3jC,GAAM3hB,EAEhB,CACD,OAAOslD,CACR,CACD,MAAMC,EACJ,WAAA7mD,CAAYm6B,EAAW,IACrBp6B,KAAKskD,KAAO,GACZtkD,KAAKkjD,IAAW,EAChBljD,KAAKmjD,IAAM,EACX,IAAK,IAAIp5C,KAAQqwB,EACf,GAAa,UAATrwB,EAAkB,CACpB/J,KAAKwkD,MAAQ,GACb,IAAK,IAAIvJ,KAAS7gB,EAASrwB,GACE,mBAAhBkxC,EAAM8L,MACf/mD,KAAKgZ,OAAOiiC,EAAM8L,SAElB/mD,KAAKgZ,OAAOiiC,EAG1B,MACUj7C,KAAK+J,GAAQqwB,EAASrwB,EAG3B,CACD,UAAAi9C,CAAWzjD,GAET,GADAA,EAAM0jD,YAAcjnD,KAChBuD,EAAM0G,OAASjK,KAAKoX,QAAU,aAAa8E,KAAK3Y,EAAM0G,OAAQ,CAChE,IAAIi9C,EAAKlnD,KAAKoX,OACd7T,EAAM0G,MAAQ1G,EAAM0G,MAAMxE,QACxB,aACA,KAAKyhD,EAAGntB,MAAMr2B,QAAQwjD,EAAG58C,MAAMi0C,QAAQ2I,EAAG58C,MAAMk0C,WAEnD,CACD,OAAOj7C,CACR,CACD,KAAAoH,CAAM8E,GAEJ,OADAzP,KAAKy8B,OAAO0qB,YAAYnnD,KAAMyP,GACvBzP,IACR,CACD,MAAAM,CAAO8mD,EAAY,IACjB,IAAK,IAAIr9C,KAAQq9C,EACfpnD,KAAK+J,GAAQq9C,EAAUr9C,GAEzB,OAAO/J,IACR,CACD,MAAA0K,CAAO+E,GAEL,OADAzP,KAAKy8B,OAAO4qB,aAAarnD,KAAMyP,GACxBzP,IACR,CACD,SAAAsnD,CAAUC,UACDvnD,KAAKskD,KAAK55C,cACV1K,KAAKskD,KAAK35C,MACZ48C,UAAoBvnD,KAAKskD,KAAKI,OACpC,CACD,KAAAqC,CAAMK,EAAY,IAChB,IAAIP,EAASD,EAAU5mD,MACvB,IAAK,IAAI+J,KAAQq9C,EACfP,EAAO98C,GAAQq9C,EAAUr9C,GAE3B,OAAO88C,CACR,CACD,UAAAW,CAAWJ,EAAY,IACrB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO0qB,YAAYnnD,KAAM6mD,GACvBA,CACR,CACD,WAAAY,CAAYL,EAAY,IACtB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO4qB,aAAarnD,KAAM6mD,GACxBA,CACR,CACD,KAAAtjD,CAAMogC,EAASva,EAAO,IACpB,GAAIppB,KAAKoX,OAAQ,CACf,IAAIxM,IAAEA,EAAGN,MAAEA,GAAUtK,KAAK0nD,QAAQt+B,GAClC,OAAOppB,KAAKoX,OAAO2iB,MAAMx2B,MACvBogC,EACA,CAAE6a,OAAQl0C,EAAMk0C,OAAQD,KAAMj0C,EAAMi0C,MACpC,CAAEC,OAAQ5zC,EAAI4zC,OAAQD,KAAM3zC,EAAI2zC,MAChCn1B,EAEH,CACD,OAAO,IAAIk1B,EAAe3a,EAC3B,CACD,iBAAAgkB,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACW,SAAThsB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UAEnB3M,EAAMhsB,GAGjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,UAATA,GAA6B,SAATA,GAA4B,WAATA,GAA8B,cAATA,GAC1E,SAATA,GACEgsB,EAAM4M,cAJ0B,GASvC,CACD,SAAAA,GACE,GAAI7nD,KAAKkjD,GAAU,CACjBljD,KAAKkjD,IAAW,EAChB,IAAIzhD,EAAOzB,KACX,KAAOyB,EAAOA,EAAKg7B,QACjBh7B,EAAKyhD,IAAW,CAEnB,CACF,CACD,IAAAzhD,GACE,IAAKzB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,UAAAuI,CAAW1+B,EAAM2+B,GACf,IAAItjC,EAAMzkB,KAAKoX,OAAO9M,MACtB,GAAI8e,EAAKtkB,MACP2f,EAAMzkB,KAAKgoD,eAAe5+B,EAAKtkB,MAAOijD,QACjC,GAAI3+B,EAAK6+B,KAAM,CAEpB,IAAI1I,GADJwI,EAAuB/nD,KAAK+E,YACMmjD,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IAAe96B,EAAMzkB,KAAKgoD,eAAezI,EAAQwI,GACtD,CACD,OAAOtjC,CACR,CACD,cAAAujC,CAAezI,EAAQwI,GACrB,IAAI3C,EAAS2C,GAAwB/nD,KAAK+E,WACtCy5C,EAASx+C,KAAKoX,OAAO9M,MAAMk0C,OAC3BD,EAAOv+C,KAAKoX,OAAO9M,MAAMi0C,KAC7B,IAAK,IAAIr7B,EAAK,EAAGA,EAAKq8B,EAAQr8B,IACT,OAAfkiC,EAAOliC,IACTs7B,EAAS,EACTD,GAAQ,GAERC,GAAU,EAGd,MAAO,CAAEA,SAAQD,OAClB,CACD,IAAA/2B,GACE,IAAKxnB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,OAAAmI,CAAQt+B,GACN,IAAI9e,EAAQ,CACVk0C,OAAQx+C,KAAKoX,OAAO9M,MAAMk0C,OAC1BD,KAAMv+C,KAAKoX,OAAO9M,MAAMi0C,MAEtB3zC,EAAM5K,KAAKoX,OAAOxM,IAAM,CAC1B4zC,OAAQx+C,KAAKoX,OAAOxM,IAAI4zC,OAAS,EACjCD,KAAMv+C,KAAKoX,OAAOxM,IAAI2zC,MACpB,CACFC,OAAQl0C,EAAMk0C,OAAS,EACvBD,KAAMj0C,EAAMi0C,MAEd,GAAIn1B,EAAK6+B,KAAM,CACb,IAAIF,EAAuB/nD,KAAK+E,WAC5Bw6C,EAASwI,EAAqBG,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IACFj1C,EAAQtK,KAAKgoD,eAAezI,EAAQwI,GACpCn9C,EAAM5K,KAAKgoD,eAAezI,EAASn2B,EAAK6+B,KAAKrnD,OAAQmnD,GAE/D,MACY3+B,EAAK9e,MACPA,EAAQ,CACNk0C,OAAQp1B,EAAK9e,MAAMk0C,OACnBD,KAAMn1B,EAAK9e,MAAMi0C,MAEVn1B,EAAKtkB,QACdwF,EAAQtK,KAAKgoD,eAAe5+B,EAAKtkB,QAE/BskB,EAAKxe,IACPA,EAAM,CACJ4zC,OAAQp1B,EAAKxe,IAAI4zC,OACjBD,KAAMn1B,EAAKxe,IAAI2zC,MAEiB,iBAAlBn1B,EAAK++B,SACrBv9C,EAAM5K,KAAKgoD,eAAe5+B,EAAK++B,UACtB/+B,EAAKtkB,QACd8F,EAAM5K,KAAKgoD,eAAe5+B,EAAKtkB,MAAQ,IAM3C,OAHI8F,EAAI2zC,KAAOj0C,EAAMi0C,MAAQ3zC,EAAI2zC,OAASj0C,EAAMi0C,MAAQ3zC,EAAI4zC,QAAUl0C,EAAMk0C,UAC1E5zC,EAAM,CAAE4zC,OAAQl0C,EAAMk0C,OAAS,EAAGD,KAAMj0C,EAAMi0C,OAEzC,CAAE3zC,MAAKN,QACf,CACD,GAAAu6C,CAAI51B,EAAMm5B,GAER,OADU,IAAInE,GACHY,IAAI7kD,KAAMivB,EAAMm5B,EAC5B,CACD,MAAAC,GAKE,OAJIroD,KAAKy8B,QACPz8B,KAAKy8B,OAAO4c,YAAYr5C,MAE1BA,KAAKy8B,YAAS,EACPz8B,IACR,CACD,WAAAsoD,IAAe9D,GACb,GAAIxkD,KAAKy8B,OAAQ,CACf,IAAI8rB,EAAWvoD,KACXwoD,GAAY,EAChB,IAAK,IAAIvN,KAASuJ,EACZvJ,IAAUj7C,KACZwoD,GAAY,EACHA,GACTxoD,KAAKy8B,OAAO0qB,YAAYoB,EAAUtN,GAClCsN,EAAWtN,GAEXj7C,KAAKy8B,OAAO4qB,aAAakB,EAAUtN,GAGlCuN,GACHxoD,KAAKqoD,QAER,CACD,OAAOroD,IACR,CACD,IAAAq6B,GACE,IAAIouB,EAAUzoD,KACd,KAAOyoD,EAAQhsB,QAAkC,aAAxBgsB,EAAQhsB,OAAO3yB,MACtC2+C,EAAUA,EAAQhsB,OAEpB,OAAOgsB,CACR,CACD,MAAAC,CAAOvmD,EAAGwmD,GACR,IAAIC,EAAQ,CAAA,EACRC,EAAuB,MAAVF,EACjBA,EAASA,GAA0B,IAAI52B,IACvC,IAAI+2B,EAAkB,EACtB,IAAK,IAAI/+C,KAAQ/J,KAAM,CACrB,IAAKZ,OAAOK,UAAUC,eAAeC,KAAKK,KAAM+J,GAC9C,SAEF,GAAa,WAATA,GAA8B,eAATA,EAAuB,SAChD,IAAIxI,EAAQvB,KAAK+J,GACjB,GAAIxK,MAAMmN,QAAQnL,GAChBqnD,EAAM7+C,GAAQxI,EAAMsD,IAAKqe,GACL,iBAAPA,GAAmBA,EAAGwlC,OACxBxlC,EAAGwlC,OAAO,KAAMC,GAEhBzlC,QAGN,GAAqB,iBAAV3hB,GAAsBA,EAAMmnD,OAC5CE,EAAM7+C,GAAQxI,EAAMmnD,OAAO,KAAMC,QAC5B,GAAa,WAAT5+C,EAAmB,CAC5B,IAAIg/C,EAAUJ,EAAO5/C,IAAIxH,EAAMw4B,OAChB,MAAXgvB,IACFA,EAAUD,EACVH,EAAO3/C,IAAIzH,EAAMw4B,MAAO+uB,GACxBA,KAEFF,EAAM7+C,GAAQ,CACZa,IAAKrJ,EAAMqJ,IACXm+C,UACAz+C,MAAO/I,EAAM+I,MAEzB,MACUs+C,EAAM7+C,GAAQxI,CAEjB,CAID,OAHIsnD,IACFD,EAAMD,OAAS,IAAIA,EAAO/jD,QAAQC,IAAKmkD,GAAWA,EAAON,WAEpDE,CACR,CACD,OAAAhB,GAIE,OAHK5nD,KAAKipD,aACRjpD,KAAKipD,WAAa,IAAIt4B,MAAM3wB,KAAMA,KAAK2nD,sBAElC3nD,KAAKipD,UACb,CACD,QAAAlkD,CAASmkD,EAAexC,GAClBwC,EAAap+C,YAAWo+C,EAAeA,EAAap+C,WACxD,IAAI29C,EAAU,GAId,OAHAS,EAAalpD,KAAOkjB,IAClBulC,GAAWvlC,IAENulC,CACR,CACD,IAAAzhD,CAAKyhD,EAASt+C,EAAMif,GAClB,IAAID,EAAO,CAAE4T,KAAM/8B,MACnB,IAAK,IAAIkjB,KAAMkG,EAAMD,EAAKjG,GAAMkG,EAAKlG,GACrC,OAAOulC,EAAQzhD,KAAKmD,EAAMgf,EAC3B,CACD,WAAIggC,GACF,OAAOnpD,IACR,EAIH,OAFAggD,GAAS8G,EACTA,EAAMnlB,QAAUmlB,EACT9G,EACT,CAGA,SAASoJ,KACP,GAAIjJ,GAA0B,OAAOD,GACrCC,GAA2B,EAC3B,IAAI2G,EAAQH,KACZ,MAAM0C,UAAoBvC,EACxB,WAAA7mD,CAAYm6B,GACNA,QAAsC,IAAnBA,EAAS74B,OAAmD,iBAAnB64B,EAAS74B,QACvE64B,EAAW,IAAKA,EAAU74B,MAAOzB,OAAOs6B,EAAS74B,SAEnDo9C,MAAMvkB,GACNp6B,KAAK8J,KAAO,MACb,CACD,YAAIw/C,GACF,OAAOtpD,KAAKivB,KAAKxU,WAAW,OAA0B,MAAjBza,KAAKivB,KAAK,EAChD,EAIH,OAFAixB,GAAgBmJ,EAChBA,EAAY1nB,QAAU0nB,EACfnJ,EACT,CAGA,SAASqJ,KACP,GAAIlJ,GAAwB,OAAOD,GACnCC,GAAyB,EAqBzB,OADAD,GAAc,CAAEoJ,OARH,CAACp7B,EAAO,MACnB,IAAIlY,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAfc,mEAeoB,GAAhB3Q,KAAKC,SAAgB,GAEzC,OAAO0Q,GAEeuzC,eAlBH,CAACC,EAAUC,EAAc,KACrC,CAACv7B,EAAOu7B,KACb,IAAIzzC,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAAMwzC,EAASnkD,KAAKC,SAAWkkD,EAAS9oD,OAAS,GAEnD,OAAOsV,IAYJkqC,EACT,CAGA,SAASwJ,KACP,GAAIrJ,GAA0B,OAAOD,GACrCC,GAA2B,EAC3B,IAAIsJ,kBAAEA,EAAiBC,mBAAEA,GAAuBhM,IAC5CiM,WAAEA,EAAUC,aAAEA,GAAiBlM,IAC/BmM,QAAEA,EAAOjkD,KAAEA,GAAS83C,GAQxB,MAAMoM,EACJ,WAAAjqD,CAAY49B,EAAKzU,GACf,IAAiB,IAAbA,EAAKvkB,IAAe,OACxB7E,KAAKmqD,eAAetsB,GACpB79B,KAAKoqD,OAASpqD,KAAKqqD,UAAUrqD,KAAKsqD,WAAY,SAC9C,IAAI9iC,EAAO4B,EAAKvkB,IAAMukB,EAAKvkB,IAAI2iB,UAAO,EAClCrd,EAAOnK,KAAKuqD,QAAQnhC,EAAK1lB,KAAM8jB,IAC9BxnB,KAAKwqD,SAAWphC,EAAK1lB,OACxB1D,KAAKwqD,QAAUphC,EAAK1lB,MAElB1D,KAAKwqD,UAASxqD,KAAKq6B,KAAO4vB,EAAQjqD,KAAKwqD,UACvCrgD,IAAMnK,KAAKmK,KAAOA,EACvB,CACD,QAAAsgD,GAIE,OAHKzqD,KAAK0qD,gBACR1qD,KAAK0qD,cAAgB,IAAIb,EAAkB7pD,KAAKmK,OAE3CnK,KAAK0qD,aACb,CACD,YAAAC,CAAaxgD,GAKX,GAFiB,0CAEF+R,KAAK/R,IADV,2BACuB+R,KAAK/R,GACpC,OAAOygD,mBAAmBzgD,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,SAEzD,GAPqB,iDAOFsb,KAAK/R,IANV,kCAM2B+R,KAAK/R,GAC5C,OAnCcgG,EAmCIhG,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,QAlC/CmqD,OACKA,OAAOrnD,KAAKyM,EAAK,UAAUpL,WAE3BP,OAAOwmD,KAAK76C,GAJvB,IAAoBA,EAqChB,IAAI86C,EAAW9gD,EAAKynC,MAAM,mCAAmC,GAC7D,MAAM,IAAI3qC,MAAM,mCAAqCgkD,EACtD,CACD,gBAAAC,CAAiBC,GACf,OAAOA,EAAgB1lD,QAAQ,8BAA+B,IAAI2E,MACnE,CACD,KAAAghD,CAAMvmD,GACJ,MAAmB,iBAARA,IACoB,iBAAjBA,EAAIwmD,UAAkD,iBAAlBxmD,EAAIymD,WAA0B/rD,MAAMmN,QAAQ7H,EAAI0mD,UACnG,CACD,cAAApB,CAAetsB,GACb,IAAI2tB,EAAW3tB,EAAI+T,MAAM,gCACzB,IAAK4Z,EAAU,OACf,IAAIlhD,EAAQuzB,EAAI4tB,YAAYD,EAASzoD,OACjC6H,EAAMizB,EAAIqqB,QAAQ,KAAM59C,GACxBA,GAAS,GAAKM,GAAO,IACvB5K,KAAKsqD,WAAatqD,KAAKkrD,iBAAiBrtB,EAAI/oB,UAAUxK,EAAOM,IAEhE,CACD,QAAA8gD,CAAStwB,GAEP,GADAp7B,KAAKq6B,KAAO4vB,EAAQ7uB,GAChB2uB,EAAW3uB,GAEb,OADAp7B,KAAKwqD,QAAUpvB,EACR4uB,EAAa5uB,EAAM,SAASr2B,WAAWqF,MAEjD,CACD,OAAAmgD,CAAQ9L,EAAMj3B,GACZ,IAAa,IAATA,EAAgB,OAAO,EAC3B,GAAIA,EAAM,CACR,GAAoB,iBAATA,EACT,OAAOA,EACF,GAAoB,mBAATA,EAWX,IAAIA,aAAgBqiC,EACzB,OAAOC,EAAmB6B,cAAcnkC,GAAMziB,WACzC,GAAIyiB,aAAgBsiC,EACzB,OAAOtiC,EAAKziB,WACP,GAAI/E,KAAKorD,MAAM5jC,GACpB,OAAO3c,KAAKC,UAAU0c,GAEtB,MAAM,IAAIvgB,MACR,2CAA6CugB,EAAKziB,WAErD,CArBsC,CACrC,IAAI6mD,EAAWpkC,EAAKi3B,GACpB,GAAImN,EAAU,CACZ,IAAI/mD,EAAM7E,KAAK0rD,SAASE,GACxB,IAAK/mD,EACH,MAAM,IAAIoC,MACR,uCAAyC2kD,EAAS7mD,YAGtD,OAAOF,CACR,CACX,CAWA,KAAa,IAAI7E,KAAKoqD,OACd,OAAOpqD,KAAK2qD,aAAa3qD,KAAKsqD,YACzB,GAAItqD,KAAKsqD,WAAY,CAC1B,IAAIzlD,EAAM7E,KAAKsqD,WAEf,OADI7L,IAAM55C,EAAMmB,EAAKikD,EAAQxL,GAAO55C,IAC7B7E,KAAK0rD,SAAS7mD,EACtB,EACF,CACD,SAAAwlD,CAAUjF,EAAQ96C,GAChB,QAAK86C,GACEA,EAAOyF,OAAO,EAAGvgD,EAAM1J,UAAY0J,CAC3C,CACD,WAAAuhD,GACE,SAAU7rD,KAAKyqD,WAAWqB,gBAAkB9rD,KAAKyqD,WAAWqB,eAAelrD,OAAS,EACrF,EAIH,OAFA0/C,GAAgB4J,EAChBA,EAAYvoB,QAAUuoB,EACf5J,EACT,CAGA,SAASyL,KACP,GAAItL,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,IAAIoJ,kBAAEA,EAAiBC,mBAAEA,GAAuBhM,IAC5CkO,cAAEA,EAAaC,cAAEA,GAAkBnO,IACnCoO,WAAEA,EAAU9qD,QAAEA,GAAY08C,IAC1B0L,OAAEA,GAA2BD,KAC7BlL,EAAoBP,GACpBQ,EAAiBH,KACjB+L,EAAcN,KACduC,EAAkBxpD,OAAO,mBACzBypD,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ/zC,GAAW8qD,GACvC,MAAMI,EACJ,WAAArsD,CAAY49B,EAAKzU,EAAO,IACtB,GAAIyU,SAA6D,iBAARA,IAAqBA,EAAI94B,SAChF,MAAM,IAAIkC,MAAM,oBAAoB42B,2BAgBtC,GAdA79B,KAAK69B,IAAMA,EAAI94B,WACK,WAAhB/E,KAAK69B,IAAI,IAAmC,MAAhB79B,KAAK69B,IAAI,IACvC79B,KAAKusD,QAAS,EACdvsD,KAAK69B,IAAM79B,KAAK69B,IAAIh6B,MAAM,IAE1B7D,KAAKusD,QAAS,EAEZnjC,EAAK1lB,QACF2oD,GAAiB,YAAYnwC,KAAKkN,EAAK1lB,OAASwoD,EAAW9iC,EAAK1lB,MACnE1D,KAAKy+C,KAAOr1B,EAAK1lB,KAEjB1D,KAAKy+C,KAAOr9C,EAAQgoB,EAAK1lB,OAGzB2oD,GAAiBD,EAAoB,CACvC,IAAIvnD,EAAM,IAAIqlD,EAAYlqD,KAAK69B,IAAKzU,GACpC,GAAIvkB,EAAIsF,KAAM,CACZnK,KAAK6E,IAAMA,EACX,IAAI45C,EAAO55C,EAAI4lD,WAAWhM,MACrBz+C,KAAKy+C,MAAQA,IAAMz+C,KAAKy+C,KAAOz+C,KAAKwsD,WAAW/N,GACrD,CACF,CACIz+C,KAAKy+C,OACRz+C,KAAKkW,GAAK,cAAgBszC,EAAO,GAAK,KAEpCxpD,KAAK6E,MAAK7E,KAAK6E,IAAI45C,KAAOz+C,KAAK0D,KACpC,CACD,KAAAH,CAAMogC,EAAS4a,EAAMC,EAAQp1B,EAAO,CAAA,GAClC,IAAIq/B,EAAS5J,EAASC,EACtB,GAAIP,GAAwB,iBAATA,EAAmB,CACpC,IAAIj0C,EAAQi0C,EACR3zC,EAAM4zC,EACV,GAA4B,iBAAjBl0C,EAAMmiD,OAAqB,CACpC,IAAIhoC,EAAMzkB,KAAK0sD,WAAWpiD,EAAMmiD,QAChClO,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACvB,MACUpO,EAAOj0C,EAAMi0C,KACbC,EAASl0C,EAAMk0C,OAEjB,GAA0B,iBAAf5zC,EAAI6hD,OAAqB,CAClC,IAAIhoC,EAAMzkB,KAAK0sD,WAAW9hD,EAAI6hD,QAC9B5N,EAAUp6B,EAAI85B,KACdO,EAAYr6B,EAAIkoC,GAC1B,MACU9N,EAAUj0C,EAAI2zC,KACdO,EAAYl0C,EAAI4zC,MAE1B,MAAa,IAAKA,EAAQ,CAClB,IAAI/5B,EAAMzkB,KAAK0sD,WAAWnO,GAC1BA,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACd,CACD,IAAIC,EAAS5sD,KAAK4sD,OAAOrO,EAAMC,EAAQK,EAASC,GA2BhD,OAzBE2J,EADEmE,EACQ,IAAItO,EACZ3a,OACmB,IAAnBipB,EAAO/N,QAAqB+N,EAAOrO,KAAO,CAAEC,OAAQoO,EAAOpO,OAAQD,KAAMqO,EAAOrO,WAC7D,IAAnBqO,EAAO/N,QAAqB+N,EAAOpO,OAAS,CAAEA,OAAQoO,EAAO9N,UAAWP,KAAMqO,EAAO/N,SACrF+N,EAAOx1C,OACPw1C,EAAOnO,KACPr1B,EAAKs1B,QAGG,IAAIJ,EACZ3a,OACY,IAAZkb,EAAqBN,EAAO,CAAEC,SAAQD,aAC1B,IAAZM,EAAqBL,EAAS,CAAEA,OAAQM,EAAWP,KAAMM,GACzD7+C,KAAK69B,IACL79B,KAAKy+C,KACLr1B,EAAKs1B,QAGT+J,EAAQ1uB,MAAQ,CAAEykB,SAAQM,YAAWD,UAASN,OAAMnnC,OAAQpX,KAAK69B,KAC7D79B,KAAKy+C,OACHwN,IACFxD,EAAQ1uB,MAAMzM,IAAM2+B,EAAcjsD,KAAKy+C,MAAM15C,YAE/C0jD,EAAQ1uB,MAAM0kB,KAAOz+C,KAAKy+C,MAErBgK,CACR,CACD,UAAAiE,CAAWD,GACT,IAAII,EAAUC,EACd,GAAK9sD,KAAKmsD,GAURW,EAAc9sD,KAAKmsD,OAVO,CAC1B,IAAI9M,EAAQr/C,KAAK69B,IAAI3zB,MAAM,MAC3B4iD,EAAc,IAAIvtD,MAAM8/C,EAAMz+C,QAC9B,IAAImsD,EAAY,EAChB,IAAK,IAAI7pC,EAAK,EAAG8pC,EAAK3N,EAAMz+C,OAAQsiB,EAAK8pC,EAAI9pC,IAC3C4pC,EAAY5pC,GAAM6pC,EAClBA,GAAa1N,EAAMn8B,GAAItiB,OAAS,EAElCZ,KAAKmsD,GAAmBW,CAChC,CAGMD,EAAWC,EAAYA,EAAYlsD,OAAS,GAC5C,IAAI2nB,EAAM,EACV,GAAIkkC,GAAUI,EACZtkC,EAAMukC,EAAYlsD,OAAS,MACtB,CACL,IACIqsD,EADAppC,EAAMipC,EAAYlsD,OAAS,EAE/B,KAAO2nB,EAAM1E,GAEX,GADAopC,EAAM1kC,GAAO1E,EAAM0E,GAAO,GACtBkkC,EAASK,EAAYG,GACvBppC,EAAMopC,EAAM,MACP,MAAIR,GAAUK,EAAYG,EAAM,IAEhC,CACL1kC,EAAM0kC,EACN,KACD,CAJC1kC,EAAM0kC,EAAM,CAIb,CAEJ,CACD,MAAO,CACLN,IAAKF,EAASK,EAAYvkC,GAAO,EACjCg2B,KAAMh2B,EAAM,EAEf,CACD,UAAAikC,CAAW/N,GACT,MAAI,YAAYviC,KAAKuiC,GACZA,EAEFr9C,EAAQpB,KAAK6E,IAAI4lD,WAAWyC,YAAcltD,KAAK6E,IAAIw1B,MAAQ,IAAKokB,EACxE,CACD,MAAAmO,CAAOrO,EAAMC,EAAQK,EAASC,GAC5B,IAAK9+C,KAAK6E,IAAK,OAAO,EACtB,IAGIpB,EAIA0pD,EAPA1C,EAAWzqD,KAAK6E,IAAI4lD,WACpB/mD,EAAO+mD,EAAS2C,oBAAoB,CAAE5O,SAAQD,SAClD,IAAK76C,EAAK0T,OAAQ,OAAO,EAEF,iBAAZynC,IACTp7C,EAAKgnD,EAAS2C,oBAAoB,CAAE5O,OAAQM,EAAWP,KAAMM,KAI7DsO,EADEjB,EAAWxoD,EAAK0T,QACR60C,EAAcvoD,EAAK0T,QAEnB,IAAIgU,IACZ1nB,EAAK0T,OACLpX,KAAK6E,IAAI4lD,WAAWyC,YAAcjB,EAAcjsD,KAAK6E,IAAI2lD,UAG7D,IAAI/B,EAAU,CACZjK,OAAQ96C,EAAK86C,OACbM,UAAWr7C,GAAMA,EAAG+6C,OACpBK,QAASp7C,GAAMA,EAAG86C,KAClBA,KAAM76C,EAAK66C,KACXjxB,IAAK6/B,EAAQpoD,YAEf,GAAyB,UAArBooD,EAAQE,SAAsB,CAChC,IAAIrB,EAGF,MAAM,IAAI/kD,MAAM,yDAFhBwhD,EAAQhK,KAAOuN,EAAcmB,EAIhC,CACD,IAAI/1C,EAASqzC,EAAS6C,iBAAiB5pD,EAAK0T,QAE5C,OADIA,IAAQqxC,EAAQrxC,OAASA,GACtBqxC,CACR,CACD,MAAAC,GACE,IAAInwC,EAAO,CAAA,EACX,IAAK,IAAIxO,IAAQ,CAAC,SAAU,MAAO,OAAQ,MACvB,MAAd/J,KAAK+J,KACPwO,EAAKxO,GAAQ/J,KAAK+J,IAStB,OANI/J,KAAK6E,MACP0T,EAAK1T,IAAM,IAAK7E,KAAK6E,KACjB0T,EAAK1T,IAAI6lD,gBACXnyC,EAAK1T,IAAI6lD,mBAAgB,IAGtBnyC,CACR,CACD,QAAI7U,GACF,OAAO1D,KAAKy+C,MAAQz+C,KAAKkW,EAC1B,EAOH,OALAsqC,GAAU8L,EACVA,EAAM3qB,QAAU2qB,EACZjO,GAAqBA,EAAkBkP,eACzClP,EAAkBkP,cAAcjB,GAE3B9L,EACT,CAGA,SAASgN,KACP,GAAI7M,GAA2B,OAAOD,GACtCC,GAA4B,EAC5B,IAAIkJ,kBAAEA,EAAiBC,mBAAEA,GAAuBhM,IAC5CmM,QAAEA,EAAOwD,SAAEA,EAAQrsD,QAAEA,EAAOssD,IAAEA,GAAQ5P,IACtCmO,cAAEA,GAAkBnO,GACpBwO,EAAQP,KACRK,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ8U,GAAW7oD,GAAWqsD,GAAYC,GAiT9D,OADAhN,GA/SA,MACE,WAAAzgD,CAAYymD,EAAYlB,EAAOp8B,EAAMukC,GACnC3tD,KAAK8K,UAAY47C,EACjB1mD,KAAK4tD,QAAUxkC,EAAKvkB,KAAO,CAAA,EAC3B7E,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,IAAM8vB,EACX3tD,KAAK6tD,YAAcF,EACnB3tD,KAAK8tD,cAAgB9tD,KAAK4tD,QAAQlqD,MAAQ1D,KAAK4tD,QAAQG,SACvD/tD,KAAKguD,iBAAmC,IAAIj8B,IAC5C/xB,KAAKiuD,cAAgC,IAAIl8B,IACzC/xB,KAAKkuD,aAA+B,IAAIn8B,GACzC,CACD,aAAAo8B,GACE,IAAIC,EAEFA,EADEpuD,KAAKquD,WACG,gCAAkCruD,KAAKsuD,SAAStuD,KAAK6E,IAAIE,YACvB,iBAA5B/E,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WACqB,mBAA5BtqD,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WAAWtqD,KAAKopB,KAAK3lB,GAAIzD,KAAKq6B,MAE3Cr6B,KAAKuuD,aAAe,OAEhC,IAAIC,EAAM,KACNxuD,KAAK69B,IAAI93B,SAAS,UAASyoD,EAAM,QACrCxuD,KAAK69B,KAAO2wB,EAAM,wBAA0BJ,EAAU,KACvD,CACD,aAAAK,GACE,IAAK,IAAIjnC,KAAQxnB,KAAK0uD,WAAY,CAChC,IAEI7pD,EAFAnB,EAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK5T,EAAKi3B,OACjC+G,EAAQh+B,EAAK6S,MAAQ4vB,EAAQziC,EAAKi3B,OAEF,IAAhCz+C,KAAK4tD,QAAQ9B,gBACfjnD,EAAM,IAAIglD,EAAkBriC,EAAKrd,MAC7BtF,EAAIinD,iBACNjnD,EAAIinD,eAAiB,OAGvBjnD,EAAM2iB,EAAKijC,WAEbzqD,KAAK6E,IAAI+pD,eAAe/pD,EAAKnB,EAAM1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKoqB,IACzD,CACF,CACD,eAAAqJ,GACE,IAAgC,IAA5B7uD,KAAK4tD,QAAQtD,WACjB,GAAItqD,KAAKq6B,KAAM,CACb,IAAI4gB,EACJ,IAAK,IAAI/3B,EAAKljB,KAAKq6B,KAAKmqB,MAAM5jD,OAAS,EAAGsiB,GAAM,EAAGA,IACjD+3B,EAAQj7C,KAAKq6B,KAAKmqB,MAAMthC,GACL,YAAf+3B,EAAMnxC,MACwC,IAA9CmxC,EAAM9wC,KAAK+9C,QAAQ,wBACrBloD,KAAKq6B,KAAKgf,YAAYn2B,EAGlC,MAAiBljB,KAAK69B,MACd79B,KAAK69B,IAAM79B,KAAK69B,IAAIp4B,QAAQ,2BAA4B,IAE3D,CACD,QAAAqpD,GAEE,GADA9uD,KAAK6uD,kBACDxC,GAAiBD,GAAsBpsD,KAAKorD,QAC9C,OAAOprD,KAAK+uD,cACP,CACL,IAAItG,EAAU,GAId,OAHAzoD,KAAK8K,UAAU9K,KAAKq6B,KAAOnX,IACzBulC,GAAWvlC,IAEN,CAACulC,EACT,CACF,CACD,WAAAsG,GACE,GAAI/uD,KAAKq6B,KACPr6B,KAAKgvD,sBACA,GAA+B,IAA3BhvD,KAAK0uD,WAAW9tD,OAAc,CACvC,IAAI4mB,EAAOxnB,KAAK0uD,WAAW,GAAGjE,WAC9BjjC,EAAKi3B,KAAOz+C,KAAKuuD,aACjBvuD,KAAK6E,IAAMilD,EAAmB6B,cAAcnkC,EAAM,CAChDynC,sBAAsB,GAEhC,MACQjvD,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExBjvD,KAAK6E,IAAIqqD,WAAW,CAClBC,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQpX,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,gBAMrE,OAHI1D,KAAKqvD,oBAAoBrvD,KAAKsvD,oBAC9BtvD,KAAKq6B,MAAQr6B,KAAK0uD,WAAW9tD,OAAS,GAAGZ,KAAKyuD,gBAC9CzuD,KAAKuvD,gBAAgBvvD,KAAKmuD,gBAC1BnuD,KAAKquD,WACA,CAACruD,KAAK69B,KAEN,CAAC79B,KAAK69B,IAAK79B,KAAK6E,IAE1B,CACD,cAAAmqD,GACEhvD,KAAK69B,IAAM,GACX79B,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExB,IAQI5P,EAAO2F,EARPzG,EAAO,EACPC,EAAS,EACTgR,EAAW,cACXC,EAAU,CACZN,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQ,IAGVpX,KAAK8K,UAAU9K,KAAKq6B,KAAM,CAAClqB,EAAK8qC,EAAOnxC,KAyBrC,GAxBA9J,KAAK69B,KAAO1tB,EACR8qC,GAAkB,QAATnxC,IACX2lD,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EAChCvD,EAAM7jC,QAAU6jC,EAAM7jC,OAAO9M,OAC/BmlD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAO9M,MAAMi0C,KAC3CkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAO9M,MAAMk0C,OAAS,EACtDx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1Bx+C,KAAK6E,IAAIqqD,WAAWO,KAGxBpQ,EAAQlvC,EAAIyhC,MAAM,OACdyN,GACFd,GAAQc,EAAMz+C,OACdokD,EAAO70C,EAAIs7C,YAAY,MACvBjN,EAASruC,EAAIvP,OAASokD,GAEtBxG,GAAUruC,EAAIvP,OAEZq6C,GAAkB,UAATnxC,EAAkB,CAC7B,IAAItK,EAAIy7C,EAAMxe,QAAU,CAAE6nB,KAAM,CAAE,IACH,SAAfrJ,EAAMnxC,MAAkC,WAAfmxC,EAAMnxC,OAAsBmxC,EAAMuJ,QACzDvJ,IAAUz7C,EAAEwlD,OAAQxlD,EAAE8kD,KAAKN,YACvC/I,EAAM7jC,QAAU6jC,EAAM7jC,OAAOxM,KAC/B6kD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAOxM,IAAI2zC,KACzCkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAOxM,IAAI4zC,OAAS,EACpDiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1BiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,IAGzB,GAEJ,CACD,YAAAF,GACE,QAAIvvD,KAAKquD,kBAG8B,IAA5BruD,KAAK4tD,QAAQtD,WACftqD,KAAK4tD,QAAQtD,YAElBtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGonC,YAG1C,CACD,QAAA+D,GACE,QAAmC,IAAxBruD,KAAK4tD,QAAQxD,OACtB,OAAOpqD,KAAK4tD,QAAQxD,OAEtB,IAAIE,EAAatqD,KAAK4tD,QAAQtD,WAC9B,YAA0B,IAAfA,IAA6C,IAAfA,MAGrCtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGknC,QAG1C,CACD,KAAAgB,GACE,YAA6B,IAAlBprD,KAAKopB,KAAKvkB,MACV7E,KAAKopB,KAAKvkB,IAEd7E,KAAK0uD,WAAW9tD,OAAS,CACjC,CACD,gBAAAyuD,GACE,YAA2C,IAAhCrvD,KAAK4tD,QAAQ9B,eACf9rD,KAAK4tD,QAAQ9B,gBAElB9rD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAG2oC,cAG1C,CACD,UAAA0C,GACE,OAAIvuD,KAAKopB,KAAK3lB,GACLzD,KAAKo7B,KAAKp7B,KAAKopB,KAAK3lB,IAClBzD,KAAKopB,KAAK1lB,KACZ1D,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,MAEpB,QAEV,CACD,IAAA03B,CAAKqjB,GACH,GAAIz+C,KAAK4tD,QAAQG,SAAU,OAAOtP,EAClC,GAA2B,KAAvBA,EAAKpuC,WAAW,GAAW,OAAOouC,EACtC,GAAI,YAAYviC,KAAKuiC,GAAO,OAAOA,EACnC,IAAIkR,EAAS3vD,KAAKiuD,cAAcllD,IAAI01C,GACpC,GAAIkR,EAAQ,OAAOA,EACnB,IAAIjsD,EAAO1D,KAAKopB,KAAK3lB,GAAKwmD,EAAQjqD,KAAKopB,KAAK3lB,IAAM,IACX,iBAA5BzD,KAAK4tD,QAAQtD,aACtB5mD,EAAOumD,EAAQ7oD,EAAQsC,EAAM1D,KAAK4tD,QAAQtD,cAE5C,IAAIlvB,EAAOqyB,EAAS/pD,EAAM+6C,GAE1B,OADAz+C,KAAKiuD,cAAcjlD,IAAIy1C,EAAMrjB,GACtBA,CACR,CACD,QAAAszB,GACE,IAAK1uD,KAAK4vD,aAER,GADA5vD,KAAK4vD,aAAe,GAChB5vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,QAAU6jC,EAAM7jC,OAAO2iB,MAAMl1B,IAAK,CAC1C,IAAIA,EAAMo2C,EAAM7jC,OAAO2iB,MAAMl1B,IACxB7E,KAAK4vD,aAAa7pD,SAASlB,IAC9B7E,KAAK4vD,aAAa5sD,KAAK6B,EAE1B,QAEE,CACL,IAAImkD,EAAS,IAAIsD,EAAMtsD,KAAK6tD,YAAa7tD,KAAKopB,MAC1C4/B,EAAOnkD,KAAK7E,KAAK4vD,aAAa5sD,KAAKgmD,EAAOnkD,IAC/C,CAEH,OAAO7E,KAAK4vD,YACb,CACD,iBAAAN,GACE,IAAIO,EAAU,CAAA,EACd,GAAI7vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,OAAQ,CAChB,IAAI1T,EAAOu3C,EAAM7jC,OAAO2iB,MAAMr2B,KAC9B,GAAIA,IAASmsD,EAAQnsD,GAAO,CAC1BmsD,EAAQnsD,IAAQ,EAChB,IAAIypD,EAAUntD,KAAK8tD,aAAe9tD,KAAK8vD,UAAUpsD,GAAQ1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK13B,IAC9E1D,KAAK6E,IAAIkrD,iBAAiB5C,EAASlS,EAAM7jC,OAAO2iB,MAAM8D,IACvD,CACF,SAEE,GAAI79B,KAAK69B,IAAK,CACnB,IAAIn6B,EAAO1D,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,cACpE1D,KAAK6E,IAAIkrD,iBAAiBrsD,EAAM1D,KAAK69B,IACtC,CACF,CACD,UAAA6xB,CAAWzU,GACT,OAAIj7C,KAAK4tD,QAAQlqD,KACR1D,KAAK2uD,MAAM3uD,KAAK4tD,QAAQlqD,MACtB1D,KAAK8tD,aACP9tD,KAAK8vD,UAAU7U,EAAM7jC,OAAO2iB,MAAMr2B,MAElC1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK6f,EAAM7jC,OAAO2iB,MAAMr2B,MAElD,CACD,QAAA4qD,CAASn+C,GACP,OAAI46C,OACKA,OAAOrnD,KAAKyM,GAAKpL,SAAS,UAE1BP,OAAOwrD,KAAKC,SAASp3C,mBAAmB1I,IAElD,CACD,SAAA2/C,CAAU10B,GACR,IAAIu0B,EAAS3vD,KAAKguD,iBAAiBjlD,IAAIqyB,GACvC,GAAIu0B,EAAQ,OAAOA,EACnB,GAAI1D,EAAe,CACjB,IAAIiE,EAAUjE,EAAc7wB,GAAMr2B,WAElC,OADA/E,KAAKguD,iBAAiBhlD,IAAIoyB,EAAM80B,GACzBA,CACf,CACQ,MAAM,IAAIjpD,MACR,+DAGL,CACD,KAAA0nD,CAAMvzB,GACJ,IAAIu0B,EAAS3vD,KAAKkuD,aAAanlD,IAAIqyB,GACnC,GAAIu0B,EAAQ,OAAOA,EACP,OAARjC,IACFtyB,EAAOA,EAAK31B,QAAQ,MAAO,MAE7B,IAAI6nB,EAAM6iC,UAAU/0B,GAAM31B,QAAQ,QAASoT,oBAE3C,OADA7Y,KAAKkuD,aAAallD,IAAIoyB,EAAM9N,GACrBA,CACR,EAIL,CAGA,SAAS8iC,KACP,GAAIvP,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAAIiG,EAAQH,KACZ,MAAM0J,UAAgBvJ,EACpB,WAAA7mD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,SACb,EAIH,OAFA82C,GAAYyP,EACZA,EAAQ1uB,QAAU0uB,EACXzP,EACT,CAGA,SAAS0P,KACP,GAAIvP,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAIInsC,EAAO27C,EAAMC,EAAQC,GAJrBvN,QAAEA,EAAOC,GAAEA,GAAOF,KAClBoG,EAAcD,KACdiH,EAAUD,KACVtJ,EAAQH,KAEZ,SAAS+J,EAAYlM,GACnB,OAAOA,EAAM3/C,IAAKqe,IACZA,EAAGshC,QAAOthC,EAAGshC,MAAQkM,EAAYxtC,EAAGshC,eACjCthC,EAAG9L,OACH8L,GAEV,CACD,SAASytC,EAAY1V,GAEnB,GADAA,EAAMiI,IAAW,EACbjI,EAAMkO,QAAQ3E,MAChB,IAAK,IAAIthC,KAAM+3B,EAAMkO,QAAQ3E,MAC3BmM,EAAYztC,EAGjB,CACD,MAAM0tC,UAAkB9J,EACtB,MAAA9tC,IAAU63C,GACR,IAAK,IAAIl0B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKglD,MACvC,IAAK,IAAI/J,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMxhD,KAAKi4C,EAClD,CAED,OADAj7C,KAAK6nD,YACE7nD,IACR,CACD,SAAAsnD,CAAUC,GAER,GADA5I,MAAM2I,UAAUC,GACZvnD,KAAKwkD,MACP,IAAK,IAAIvJ,KAASj7C,KAAKwkD,MAAOvJ,EAAMqM,UAAUC,EAEjD,CACD,IAAAwJ,CAAK96C,GACH,IAAKjW,KAAKmpD,QAAQ3E,MAAO,OACzB,IACIjF,EAAQkJ,EADR7lD,EAAW5C,KAAKgxD,cAEpB,KAAOhxD,KAAKixD,QAAQruD,GAAY5C,KAAKmpD,QAAQ3E,MAAM5jD,SACjD2+C,EAASv/C,KAAKixD,QAAQruD,GACtB6lD,EAAUxyC,EAASjW,KAAKmpD,QAAQ3E,MAAMjF,GAASA,IAC/B,IAAZkJ,IACJzoD,KAAKixD,QAAQruD,IAAa,EAG5B,cADO5C,KAAKixD,QAAQruD,GACb6lD,CACR,CACD,KAAA5qC,CAAMk0B,GACJ,OAAO/xC,KAAKwkD,MAAM3mC,MAAMk0B,EACzB,CACD,WAAAif,GACOhxD,KAAKkxD,WAAUlxD,KAAKkxD,SAAW,GAC/BlxD,KAAKixD,UAASjxD,KAAKixD,QAAU,CAAA,GAClCjxD,KAAKkxD,UAAY,EACjB,IAAItuD,EAAW5C,KAAKkxD,SAEpB,OADAlxD,KAAKixD,QAAQruD,GAAY,EAClBA,CACR,CACD,iBAAA+kD,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACGA,EAAMhsB,GAEE,SAATA,GAAmC,iBAATA,GAAqBA,EAAKxU,WAAW,QACjE,IAAI7T,IACFq0C,EAAMhsB,MACRroB,EAAK/B,IAAKqe,GACO,mBAAPA,EACF,CAACyZ,EAAO4iB,IAAWr8B,EAAGyZ,EAAMirB,UAAWrI,GAEvCr8B,IAKG,UAAT+L,GAA6B,SAATA,EACrB6U,GACCmX,EAAMhsB,GACX,CAAC0N,KAAUiU,IAAU9M,EAAGnH,EAAMirB,aAAchX,IAG9B,SAAT3hB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UACR,UAAT34B,EACFgsB,EAAMuJ,MAAM3/C,IAAKqe,GAAOA,EAAG0kC,WAChB,UAAT34B,GAA6B,SAATA,EACtBgsB,EAAMhsB,GAAM24B,UAEZ3M,EAAMhsB,GA1BNgsB,EAAMhsB,GA6BjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,WAATA,GAA8B,aAATA,GAC1CgsB,EAAM4M,cAH0B,GAQvC,CACD,KAAA/iD,CAAM63B,GACJ,MAAqB,iBAAVA,EAA2BA,GAClCA,EAAMwsB,UAASxsB,EAAQA,EAAMwsB,SAC1BnpD,KAAKmpD,QAAQ3E,MAAM0D,QAAQvrB,GACnC,CACD,WAAAwqB,CAAYgK,EAAO1hD,GACjB,IAII8vC,EAJA6R,EAAapxD,KAAK8E,MAAMqsD,GACxB3M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,IAAaC,UAChED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAa,EAAG,EAAGnW,GAEtE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,EAAa7R,IACfv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,YAAAqnD,CAAa8J,EAAO1hD,GAClB,IAKI8vC,EALA6R,EAAapxD,KAAK8E,MAAMqsD,GACxBrnD,EAAsB,IAAfsnD,GAAmB,UAC1B5M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,GAAatnD,GAAMunD,UACtED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAY,EAAGnW,GAElE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,GAAc7R,IAChBv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,SAAA8wD,CAAUtM,EAAO8M,GACf,GAAqB,iBAAV9M,EACTA,EAAQkM,EAAY97C,EAAM4vC,GAAOA,YAC5B,QAAqB,IAAVA,EAChBA,EAAQ,QACH,GAAIjlD,MAAMmN,QAAQ83C,GAAQ,CAC/BA,EAAQA,EAAM3gD,MAAM,GACpB,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAmB,SAAfshC,EAAM16C,MAAiC,aAAd9J,KAAK8J,KAAqB,CAC5D06C,EAAQA,EAAMA,MAAM3gD,MAAM,GAC1B,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAIshC,EAAM16C,KACf06C,EAAQ,CAACA,QACJ,GAAIA,EAAMv1B,KAAM,CACrB,QAA2B,IAAhBu1B,EAAMjjD,MACf,MAAM,IAAI0F,MAAM,0CACgB,iBAAhBu9C,EAAMjjD,QACtBijD,EAAMjjD,MAAQzB,OAAO0kD,EAAMjjD,QAE7BijD,EAAQ,CAAC,IAAI6E,EAAY7E,GACjC,MAAa,GAAIA,EAAMxpC,SACfwpC,EAAQ,CAAC,IAAI+L,EAAK/L,SACb,GAAIA,EAAMz6C,KACfy6C,EAAQ,CAAC,IAAIgM,EAAOhM,QACf,KAAIA,EAAMr6C,KAGf,MAAM,IAAIlD,MAAM,sCAFhBu9C,EAAQ,CAAC,IAAI6L,EAAQ7L,GAGtB,CAcD,OAbgBA,EAAM3/C,IAAKqe,IACpBA,EAAGigC,IAAKyN,EAAUW,QAAQruC,IAC/BA,EAAKA,EAAGimC,SACD1sB,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,GACjCA,EAAGggC,IAAUyN,EAAYztC,QACC,IAAnBA,EAAGohC,KAAK55C,QACb4mD,QAAwC,IAAvBA,EAAOhN,KAAK55C,SAC/BwY,EAAGohC,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAAOjF,QAAQ,MAAO,KAGvDyd,EAAGuZ,OAASz8B,KAAKmpD,QACVjmC,GAGV,CACD,OAAAsuC,IAAWX,GACTA,EAAWA,EAASQ,UACpB,IAAK,IAAI10B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKulD,MAAO,WAAW8L,UACzD,IAAK,IAAIpW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMiN,QAAQxW,GACpD,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClBjxD,KAAKixD,QAAQ/6C,GAAMlW,KAAKixD,QAAQ/6C,GAAMsuC,EAAM5jD,MAE/C,CAED,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,IAAAgD,CAAK25B,GAGH,OAFAA,EAAMF,OAASz8B,KACfA,KAAKmpD,QAAQ3E,MAAMxhD,KAAK25B,GACjB38B,IACR,CACD,SAAA0xD,GACE,IAAK,IAAIzW,KAASj7C,KAAKmpD,QAAQ3E,MAAOvJ,EAAMxe,YAAS,EAGrD,OAFAz8B,KAAKmpD,QAAQ3E,MAAQ,GACrBxkD,KAAK6nD,YACE7nD,IACR,CACD,WAAAq5C,CAAY1c,GAIV,IAAI4iB,EAHJ5iB,EAAQ38B,KAAK8E,MAAM63B,GACnB38B,KAAKmpD,QAAQ3E,MAAM7nB,GAAOF,YAAS,EACnCz8B,KAAKmpD,QAAQ3E,MAAM/tC,OAAOkmB,EAAO,GAEjC,IAAK,IAAIzmB,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBqpC,GAAU5iB,IACZ38B,KAAKixD,QAAQ/6C,GAAMqpC,EAAS,GAIhC,OADAv/C,KAAK6nD,YACE7nD,IACR,CACD,aAAA2xD,CAAcC,EAASxoC,EAAMnT,GAW3B,OAVKA,IACHA,EAAWmT,EACXA,EAAO,CAAA,GAETppB,KAAKgmD,UAAWb,IACV/7B,EAAKyoC,QAAUzoC,EAAKyoC,MAAM9rD,SAASo/C,EAAKl2B,OACxC7F,EAAK0oC,OAAS3M,EAAK5jD,MAAMwE,SAASqjB,EAAK0oC,QAC3C3M,EAAK5jD,MAAQ4jD,EAAK5jD,MAAMkE,QAAQmsD,EAAS37C,MAE3CjW,KAAK6nD,YACE7nD,IACR,CACD,IAAA+a,CAAKg3B,GACH,OAAO/xC,KAAKwkD,MAAMzpC,KAAKg3B,EACxB,CACD,IAAA4T,CAAK1vC,GACH,OAAOjW,KAAK+wD,KAAK,CAACp0B,EAAOzZ,KACvB,IAAIulC,EACJ,IACEA,EAAUxyC,EAAS0mB,EAAOzZ,EAC3B,CAAC,MAAO6uC,GACP,MAAMp1B,EAAMqqB,WAAW+K,EACxB,CAID,OAHgB,IAAZtJ,GAAqB9rB,EAAMgpB,OAC7B8C,EAAU9rB,EAAMgpB,KAAK1vC,IAEhBwyC,GAEV,CACD,WAAAuJ,CAAYjoD,EAAMkM,GAChB,OAAKA,EAQDlM,aAAgB2R,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqBC,EAAKmS,KAAKygB,EAAM5yB,MAC7C,OAAOkM,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqB6yB,EAAM5yB,OAASA,EAC5C,OAAOkM,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWlM,EACJ/J,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,YAAA4iC,CAAa7vC,GACX,OAAOjW,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,YAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,IAG5B,CACD,SAAA8iC,CAAU/2B,EAAMhZ,GACd,OAAKA,EAQDgZ,aAAgBvT,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBmlB,EAAK/S,KAAKygB,EAAM1N,MAC3C,OAAOhZ,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM1N,OAASA,EAC1C,OAAOhZ,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWgZ,EACJjvB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAA+uC,CAAUj3C,EAAU/E,GAClB,OAAKA,EAQD+E,aAAoBU,OACf1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBkR,EAASkB,KAAKygB,EAAM3hB,UAC/C,OAAO/E,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM3hB,WAAaA,EAC9C,OAAO/E,EAAS0mB,EAAOzZ,MAhBzBjN,EAAW+E,EACJhb,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAIqiC,GACF,GAAKvlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAM,EAC3B,CACD,QAAIQ,GACF,GAAKhlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAMxkD,KAAKmpD,QAAQ3E,MAAM5jD,OAAS,EACvD,EAmCH,OAjCAgwD,EAAUsB,cAAiBC,IACzBv9C,EAAQu9C,GAEVvB,EAAUwB,aAAgBD,IACxB5B,EAAO4B,GAETvB,EAAUyB,eAAkBF,IAC1B3B,EAAS2B,GAEXvB,EAAU0B,aAAgBH,IACxB1B,EAAO0B,GAETrR,GAAc8P,EACdA,EAAUjvB,QAAUivB,EACpBA,EAAUW,QAAWtW,IACA,WAAfA,EAAMnxC,KACR1K,OAAOC,eAAe47C,EAAOuV,EAAO/wD,WACZ,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOsV,EAAK9wD,WACV,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoO,EAAY5pD,WACjB,YAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoV,EAAQ5wD,WACb,SAAfw7C,EAAMnxC,MACf1K,OAAOC,eAAe47C,EAAOwV,EAAKhxD,WAEpCw7C,EAAMkI,IAAM,EACRlI,EAAMuJ,OACRvJ,EAAMuJ,MAAMz4C,QAAS4wB,IACnBi0B,EAAUW,QAAQ50B,MAIjBmkB,EACT,CAGA,SAASyR,KACP,GAAItR,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IACIuR,EAAYC,EADZ7B,EAAYN,KAEhB,MAAMoC,UAAkB9B,EACtB,WAAA3wD,CAAYm6B,GACVukB,MAAM,CAAE70C,KAAM,cAAeswB,IACxBp6B,KAAKwkD,QACRxkD,KAAKwkD,MAAQ,GAEhB,CACD,QAAAmO,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAUH,OARA4nD,EAAUE,mBAAsBT,IAC9BK,EAAaL,GAEfO,EAAUG,kBAAqBV,IAC7BM,EAAYN,GAEdnR,GAAe0R,EACfA,EAAU/wB,QAAU+wB,EACb1R,EACT,CAGA,SAAS8R,KACP,GAAI3R,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IAAI4R,EAAU,CAAA,EAQd,OAPA7R,GAAa,SAAmBvd,GAC1BovB,EAAQpvB,KACZovB,EAAQpvB,IAAW,EACI,oBAAZ58B,SAA2BA,QAAQC,MAC5CD,QAAQC,KAAK28B,GAEnB,CAEA,CAGA,SAASqvB,KACP,GAAI3R,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,MAAM4R,EACJ,WAAAhzD,CAAYkK,EAAMif,EAAO,IAGvB,GAFAppB,KAAK8J,KAAO,UACZ9J,KAAKmK,KAAOA,EACRif,EAAK2T,MAAQ3T,EAAK2T,KAAK3lB,OAAQ,CACjC,IAAI+7B,EAAQ/pB,EAAK2T,KAAK2qB,QAAQt+B,GAC9BppB,KAAKu+C,KAAOpL,EAAM7oC,MAAMi0C,KACxBv+C,KAAKw+C,OAASrL,EAAM7oC,MAAMk0C,OAC1Bx+C,KAAK6+C,QAAU1L,EAAMvoC,IAAI2zC,KACzBv+C,KAAK8+C,UAAY3L,EAAMvoC,IAAI4zC,MAC5B,CACD,IAAK,IAAIx3B,KAAOoC,EAAMppB,KAAKgnB,GAAOoC,EAAKpC,EACxC,CACD,QAAAjiB,GACE,OAAI/E,KAAK+8B,KACA/8B,KAAK+8B,KAAKx5B,MAAMvD,KAAKmK,KAAM,CAChCrF,MAAO9E,KAAK8E,MACZ45C,OAAQ1+C,KAAK0+C,OACbuJ,KAAMjoD,KAAKioD,OACVtkB,QAED3jC,KAAK0+C,OACA1+C,KAAK0+C,OAAS,KAAO1+C,KAAKmK,KAE5BnK,KAAKmK,IACb,EAIH,OAFAi3C,GAAY6R,EACZA,EAAQtxB,QAAUsxB,EACX7R,EACT,CAGA,SAAS8R,KACP,GAAI3R,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAI0R,EAAUD,KACd,MAAMG,EACJ,WAAAlzD,CAAYmzD,EAAY5N,EAAOp8B,GAC7BppB,KAAKqzD,UAAYD,EACjBpzD,KAAKszD,SAAW,GAChBtzD,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,SAAM,EACX79B,KAAK6E,SAAM,CACZ,CACD,QAAAE,GACE,OAAO/E,KAAK69B,GACb,CACD,IAAA72B,CAAKmD,EAAMif,EAAO,IACXA,EAAKs1B,QACJ1+C,KAAKuzD,YAAcvzD,KAAKuzD,WAAWC,gBACrCpqC,EAAKs1B,OAAS1+C,KAAKuzD,WAAWC,eAGlC,IAAIC,EAAW,IAAIR,EAAQ9oD,EAAMif,GAEjC,OADAppB,KAAKszD,SAAStwD,KAAKywD,GACZA,CACR,CACD,QAAAC,GACE,OAAO1zD,KAAKszD,SAAS5yC,OAAQwC,GAAmB,YAAZA,EAAGpZ,KACxC,CACD,WAAIskD,GACF,OAAOpuD,KAAK69B,GACb,EAIH,OAFAyjB,GAAW6R,EACXA,EAAOxxB,QAAUwxB,EACV7R,EACT,CA0NA,SAASqS,KACP,GAAIhS,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIiP,EAAYN,KAChB,MAAME,UAAeI,EACnB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,QACb,CACD,MAAAkP,IAAU63C,GAER,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM3lC,UAAU63C,EACxB,CACD,OAAAW,IAAWX,GAET,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM6S,WAAWX,EACzB,EAKH,OAHAnP,GAAW8O,EACXA,EAAO7uB,QAAU6uB,EACjBI,EAAUyB,eAAe7B,GAClB9O,EACT,CAGA,SAASkS,KACP,GAAI/R,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IACI2Q,EAAYC,EADZ7B,EAAYN,KAEhB,MAAMG,UAAaG,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,SAAAsM,CAAUn0B,EAAO20B,EAAQxnD,GACvB,IAAI06C,EAAQ7F,MAAMmS,UAAUn0B,GAC5B,GAAI20B,EACF,GAAa,YAATxnD,EACE9J,KAAKwkD,MAAM5jD,OAAS,EACtB0wD,EAAOhN,KAAK55C,OAAS1K,KAAKwkD,MAAM,GAAGF,KAAK55C,cAEjC4mD,EAAOhN,KAAK55C,YAEhB,GAAI1K,KAAKulD,QAAU+L,EACxB,IAAK,IAAIrW,KAASuJ,EAChBvJ,EAAMqJ,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAItC,OAAO85C,CACR,CACD,WAAAnL,CAAY1c,EAAOk3B,GACjB,IAAItU,EAASv/C,KAAK8E,MAAM63B,GAIxB,OAHKk3B,GAAqB,IAAXtU,GAAgBv/C,KAAKwkD,MAAM5jD,OAAS,IACjDZ,KAAKwkD,MAAM,GAAGF,KAAK55C,OAAS1K,KAAKwkD,MAAMjF,GAAQ+E,KAAK55C,QAE/Ci0C,MAAMtF,YAAY1c,EAC1B,CACD,QAAAg2B,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAWH,OATA2lD,EAAKmC,mBAAsBT,IACzBK,EAAaL,GAEf1B,EAAKoC,kBAAqBV,IACxBM,EAAYN,GAEdvQ,GAAS6O,EACTA,EAAK9uB,QAAU8uB,EACfG,EAAU0B,aAAa7B,GAChB7O,EACT,CAGA,SAASkS,KACP,GAAI/R,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IAAIj1B,EAAO,CACTinC,MAAM3O,GACGt4B,EAAK5iB,MAAMk7C,EAAQ,CAAC,MAAM,GAEnC4O,MAAM5O,GAEGt4B,EAAK5iB,MAAMk7C,EADL,CAAC,IAAK,KAAM,OAG3B,KAAAl7C,CAAMk7C,EAAQ6O,EAAYjP,GACxB,IAAIkP,EAAQ,GACRx4B,EAAU,GACVxxB,GAAQ,EACRulB,EAAO,EACP0kC,GAAU,EACVC,EAAY,GACZn4B,GAAS,EACb,IAAK,IAAIo4B,KAAUjP,EACbnpB,EACFA,GAAS,EACW,OAAXo4B,EACTp4B,GAAS,EACAk4B,EACLE,IAAWD,IACbD,GAAU,GAEQ,MAAXE,GAA6B,MAAXA,GAC3BF,GAAU,EACVC,EAAYC,GACQ,MAAXA,EACT5kC,GAAQ,EACY,MAAX4kC,EACL5kC,EAAO,IAAGA,GAAQ,GACJ,IAATA,GACLwkC,EAAWluD,SAASsuD,KAASnqD,GAAQ,GAEvCA,GACc,KAAZwxB,GAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACvCsxB,EAAU,GACVxxB,GAAQ,GAERwxB,GAAW24B,EAIf,OADIrP,GAAoB,KAAZtpB,IAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACxC8pD,CACR,GAIH,OAFApS,GAAWh1B,EACXA,EAAK6U,QAAU7U,EACRg1B,EACT,CAGA,SAASwS,KACP,GAAIrS,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IAAI2O,EAAYN,KACZxjC,EAAOgnC,KACX,MAAMvD,UAAaK,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,aAAI/jC,GACF,OAAOqM,EAAKinC,MAAM/zD,KAAKgb,SACxB,CACD,aAAIyF,CAAUwe,GACZ,IAAI2S,EAAQ5xC,KAAKgb,SAAWhb,KAAKgb,SAAS42B,MAAM,QAAU,KACtD8b,EAAM9b,EAAQA,EAAM,GAAK,IAAM5xC,KAAK6kD,IAAI,UAAW,cACvD7kD,KAAKgb,SAAWikB,EAAOj5B,KAAK0nD,EAC7B,EAKH,OAHA1L,GAASuO,EACTA,EAAK5uB,QAAU4uB,EACfK,EAAUwB,aAAa7B,GAChBvO,EACT,CAGA,SAASuS,KACP,GAAIpS,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIkH,EAAcD,KACdoL,EA5XN,WACE,GAAI/S,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,MAAMgT,EAAe,IAAIpkD,WAAW,GAC9BqkD,EAAe,IAAIrkD,WAAW,GAC9BskD,EAAY,KAAKtkD,WAAW,GAC5BukD,EAAQ,IAAIvkD,WAAW,GACvBwkD,EAAU,KAAKxkD,WAAW,GAC1BykD,EAAQ,IAAIzkD,WAAW,GACvB0kD,EAAO,KAAK1kD,WAAW,GACvB2kD,EAAM,KAAI3kD,WAAW,GACrB4kD,EAAK,KAAK5kD,WAAW,GACrB6kD,EAAc,IAAI7kD,WAAW,GAC7B8kD,EAAe,IAAI9kD,WAAW,GAC9B+kD,EAAmB,IAAI/kD,WAAW,GAClCglD,EAAoB,IAAIhlD,WAAW,GACnCilD,EAAa,IAAIjlD,WAAW,GAC5BklD,EAAc,IAAIllD,WAAW,GAC7BmlD,EAAY,IAAInlD,WAAW,GAC3BolD,EAAW,IAAIplD,WAAW,GAC1BqlD,EAAQ,IAAIrlD,WAAW,GACvBslD,EAAK,IAAItlD,WAAW,GACpBulD,EAAY,6BACZC,EAAc,wCACdC,EAAiB,gBACjBC,EAAgB,WA0LtB,OAzLAvU,GAAa,SAAmBwH,EAAQhhD,EAAU,CAAA,GAChD,IAEIwJ,EAAM/P,EAAMu0D,EAAO5H,EAASnyB,EAC5BxgB,EAASw6C,EAAWzuC,EAAMyyB,EAAIic,EAH9Br4B,EAAMmrB,EAAOnrB,IAAIs4B,UACjBtC,EAAS7rD,EAAQouD,aAGjBx1D,EAASi9B,EAAIj9B,OACb6jB,EAAM,EACN4xC,EAAS,GACTC,EAAW,GAIf,SAASC,EAASC,GAChB,MAAMxN,EAAOzlD,MAAM,YAAcizD,EAAM/xC,EACxC,CAoKD,MAAO,CACLgyC,KAJF,SAAcC,GACZJ,EAAStzD,KAAK0zD,EACf,EAGCC,UArKF,WACE,OAA2B,IAApBL,EAAS11D,QAAgB6jB,GAAO7jB,CACxC,EAoKCg2D,UAnKF,SAAmBxtC,GACjB,GAAIktC,EAAS11D,OAAQ,OAAO01D,EAASvzD,MACrC,GAAI0hB,GAAO7jB,EAAQ,OACnB,IAAIi2D,IAAiBztC,GAAOA,EAAKytC,eAEjC,OADArlD,EAAOqsB,EAAIxtB,WAAWoU,GACdjT,GACN,KAAKqjD,EACL,KAAKC,EACL,KAAKE,EACL,KAAKC,EACL,KAAKF,EACHtzD,EAAOgjB,EACP,GACEhjB,GAAQ,EACR+P,EAAOqsB,EAAIxtB,WAAW5O,SACf+P,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,GACvFmB,EAAe,CAAC,QAASr4B,EAAIh6B,MAAM4gB,EAAKhjB,IACxCgjB,EAAMhjB,EAAO,EACb,MAEF,KAAKyzD,EACL,KAAKC,EACL,KAAKG,EACL,KAAKC,EACL,KAAKG,EACL,KAAKF,EACL,KAAKH,EAAmB,CACtB,IAAIyB,EAAch3D,OAAO8pB,aAAapY,GACtC0kD,EAAe,CAACY,EAAaA,EAAaryC,GAC1C,KACD,CACD,KAAK2wC,EAGH,GAFA5tC,EAAO6uC,EAAOz1D,OAASy1D,EAAOtzD,MAAM,GAAK,GACzCk3C,EAAKpc,EAAIxtB,WAAWoU,EAAM,GACb,QAAT+C,GAAkByyB,IAAOwa,GAAgBxa,IAAOya,GAAgBza,IAAO6a,GAAS7a,IAAO4a,GAAW5a,IAAO+a,GAAO/a,IAAO8a,GAAQ9a,IAAOgb,EAAI,CAC5IxzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ,IAAKzmD,EAAO,IACjB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EACP,KAClB,CACkB8xC,EAAS,UAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,WAAYr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC3DgjB,EAAMhjB,CAClB,MACYA,EAAOo8B,EAAIqqB,QAAQ,IAAKzjC,EAAM,GAC9B2pC,EAAUvwB,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,IAClB,IAAVA,GAAeq0D,EAAe55C,KAAKkyC,GACrC8H,EAAe,CAAC,IAAK,IAAKzxC,IAE1ByxC,EAAe,CAAC,WAAY9H,EAAS3pC,EAAKhjB,GAC1CgjB,EAAMhjB,GAGV,MAEF,KAAKgzD,EACL,KAAKC,EACHsB,EAAQxkD,IAASijD,EAAe,IAAM,IACtChzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ8N,EAAOv0D,EAAO,IACnB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EAAM,EACb,KAChB,CACgB8xC,EAAS,SAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,SAAUr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACzDgjB,EAAMhjB,EACN,MAEF,KAAKk0D,EACHC,EAAUmB,UAAYtyC,EAAM,EAC5BmxC,EAAU15C,KAAK2hB,GAEbp8B,EAD0B,IAAxBm0D,EAAUmB,UACLl5B,EAAIj9B,OAAS,EAEbg1D,EAAUmB,UAAY,EAE/Bb,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,EACN,MAEF,KAAKkzD,EAGH,IAFAlzD,EAAOgjB,EACPwX,GAAS,EACF4B,EAAIxtB,WAAW5O,EAAO,KAAOkzD,GAClClzD,GAAQ,EACRw6B,GAAUA,EAGZ,GADAzqB,EAAOqsB,EAAIxtB,WAAW5O,EAAO,GACzBw6B,GAAUzqB,IAASojD,GAASpjD,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,IAC5GtzD,GAAQ,EACJs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,KAAQ,CACxC,KAAOs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,EAAO,KAC1CA,GAAQ,EAENo8B,EAAIxtB,WAAW5O,EAAO,KAAOqzD,IAC/BrzD,GAAQ,EAEX,CAEHy0D,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvDgjB,EAAMhjB,EACN,MAEF,QACM+P,IAASojD,GAAS/2B,EAAIxtB,WAAWoU,EAAM,KAAOgxC,GAChDh0D,EAAOo8B,EAAIqqB,QAAQ,KAAMzjC,EAAM,GAAK,EACvB,IAAThjB,IACEoyD,GAAUgD,EACZp1D,EAAOo8B,EAAIj9B,OAEX21D,EAAS,YAGbL,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,IAENo0D,EAAYkB,UAAYtyC,EAAM,EAC9BoxC,EAAY35C,KAAK2hB,GAEfp8B,EAD4B,IAA1Bo0D,EAAYkB,UACPl5B,EAAIj9B,OAAS,EAEbi1D,EAAYkB,UAAY,EAEjCb,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvD40D,EAAOrzD,KAAKkzD,GACZzxC,EAAMhjB,GAMZ,OADAgjB,IACOyxC,CACR,EAQCe,SA7KF,WACE,OAAOxyC,CACR,EA6KL,CAEA,CAwKkByyC,GACZ7G,EAAUD,KACVI,EAASmD,KACTlD,EAAOmD,KACPrD,EAAO+D,KACX,MAAM6C,EAAwB,CAC5BC,OAAO,EACPpD,OAAO,GAqgBT,OADA9R,GA3fA,MACE,WAAAjiD,CAAY+oD,GACVhpD,KAAK+5B,MAAQivB,EACbhpD,KAAKq6B,KAAO,IAAIo2B,EAChBzwD,KAAK07B,QAAU17B,KAAKq6B,KACpBr6B,KAAKq3D,OAAS,GACdr3D,KAAKgkD,WAAY,EACjBhkD,KAAKs3D,kBACLt3D,KAAKq6B,KAAKjjB,OAAS,CAAE2iB,MAAOivB,EAAQ1+C,MAAO,CAAEk0C,OAAQ,EAAGD,KAAM,EAAGkO,OAAQ,GAC1E,CACD,MAAAtI,CAAOuS,GACL,IAMI5sD,EACA0d,EACAyE,EARAgvB,EAAQ,IAAIuV,EAChBvV,EAAMlxC,KAAO2sD,EAAM,GAAG7yD,MAAM,GACT,KAAfo3C,EAAMlxC,MACR/J,KAAKu3D,cAActc,EAAOyb,GAE5B12D,KAAKwnC,KAAKyT,EAAOyb,EAAM,IAIvB,IAAI1R,GAAO,EACP3zB,GAAO,EACP+yB,EAAS,GACToT,EAAW,GACf,MAAQx3D,KAAKw0D,UAAUmC,aAAa,CAUlC,GARA7sD,GADA4sD,EAAQ12D,KAAKw0D,UAAUoC,aACV,GACA,MAAT9sD,GAAyB,MAATA,EAClB0tD,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,KACjB,MAATA,GAAgB0tD,EAAS52D,OAAS,EAC3C42D,EAASx0D,KAAK,KACL8G,IAAS0tD,EAASA,EAAS52D,OAAS,IAC7C42D,EAASz0D,MAEa,IAApBy0D,EAAS52D,OAAc,CACzB,GAAa,MAATkJ,EAAc,CAChBmxC,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAC1Czb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKgkD,WAAY,EACjB,KACZ,CAAiB,GAAa,MAATl6C,EAAc,CACvBunB,GAAO,EACP,KACZ,CAAiB,GAAa,MAATvnB,EAAc,CACvB,GAAIs6C,EAAOxjD,OAAS,EAAG,CAGrB,IAFAqrB,EAAQm4B,EAAOxjD,OAAS,EACxB4mB,EAAO48B,EAAOn4B,GACPzE,GAAoB,UAAZA,EAAK,IAClBA,EAAO48B,IAASn4B,GAEdzE,IACFyzB,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYjwC,EAAK,IAAMA,EAAK,IACpDyzB,EAAM7jC,OAAOxM,IAAI6hD,SAEpB,CACDzsD,KAAK4K,IAAI8rD,GACT,KACZ,CACYtS,EAAOphD,KAAK0zD,EAExB,MACUtS,EAAOphD,KAAK0zD,GAEd,GAAI12D,KAAKw0D,UAAUmC,YAAa,CAC9B3R,GAAO,EACP,KACD,CACF,CACD/J,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBtT,GAC/CA,EAAOxjD,QACTq6C,EAAMqJ,KAAKC,UAAYvkD,KAAK23D,2BAA2BvT,GACvDpkD,KAAK6kD,IAAI5J,EAAO,SAAUmJ,GACtBY,IACF0R,EAAQtS,EAAOA,EAAOxjD,OAAS,GAC/Bq6C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKq3D,OAASpc,EAAMqJ,KAAKI,QACzBzJ,EAAMqJ,KAAKI,QAAU,MAGvBzJ,EAAMqJ,KAAKC,UAAY,GACvBtJ,EAAMmJ,OAAS,IAEb/yB,IACF4pB,EAAMuJ,MAAQ,GACdxkD,KAAK07B,QAAUuf,EAElB,CACD,oBAAA2c,CAAqBC,GACnB,IAAIlU,EAAQ3jD,KAAK2jD,MAAMkU,GACvB,IAAc,IAAVlU,EAAiB,OACrB,IACI+S,EADAoB,EAAU,EAEd,IAAK,IAAIv2C,EAAIoiC,EAAQ,EAAGpiC,GAAK,IAC3Bm1C,EAAQmB,EAAOt2C,GACE,UAAbm1C,EAAM,KACRoB,GAAW,EACK,IAAZA,IAJwBv2C,KAOhC,MAAMvhB,KAAK+5B,MAAMx2B,MACf,mBACa,SAAbmzD,EAAM,GAAgBA,EAAM,GAAK,EAAIA,EAAM,GAE9C,CACD,KAAA/S,CAAMkU,GACJ,IACInB,EAAO5sD,EAAM0d,EADbgwC,EAAW,EAEf,IAAK,IAAKt0C,EAAI/I,KAAY09C,EAAOjyD,UAAW,CAS1C,GARA8wD,EAAQv8C,EACRrQ,EAAO4sD,EAAM,GACA,MAAT5sD,IACF0tD,GAAY,GAED,MAAT1tD,IACF0tD,GAAY,GAEG,IAAbA,GAA2B,MAAT1tD,EAAc,CAClC,GAAK0d,EAEE,IAAgB,SAAZA,EAAK,IAA6B,WAAZA,EAAK,GACpC,SAEA,OAAOtE,CACR,CALCljB,KAAK+3D,YAAYrB,EAMpB,CACDlvC,EAAOkvC,CACR,CACD,OAAO,CACR,CACD,OAAAjrB,CAAQirB,GACN,IAAIzb,EAAQ,IAAIoV,EAChBrwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjB,IAAItiD,EAAOusD,EAAM,GAAG7yD,MAAM,GAAI,GAC9B,GAAI,QAAQqY,KAAK/R,GACf8wC,EAAM9wC,KAAO,GACb8wC,EAAMqJ,KAAKW,KAAO96C,EAClB8wC,EAAMqJ,KAAKY,MAAQ,OACd,CACL,IAAItT,EAAQznC,EAAKynC,MAAM,wBACvBqJ,EAAM9wC,KAAOynC,EAAM,GACnBqJ,EAAMqJ,KAAKW,KAAOrT,EAAM,GACxBqJ,EAAMqJ,KAAKY,MAAQtT,EAAM,EAC1B,CACF,CACD,eAAA0lB,GACEt3D,KAAKw0D,UAAYA,EAAUx0D,KAAK+5B,MACjC,CACD,IAAAorB,CAAK0S,EAAQG,GACX,IAAI/c,EAAQ,IAAIoO,EAChBrpD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B,IAuBInB,EAvBA1R,EAAO6S,EAAOA,EAAOj3D,OAAS,GASlC,IARgB,MAAZokD,EAAK,KACPhlD,KAAKgkD,WAAY,EACjB6T,EAAO90D,OAETk4C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YACtBzS,EAAK,IAAMA,EAAK,IAtKtB,SAA8B6S,GAC5B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAC9C,IAAIwzC,EAAQmB,EAAO30C,GACfuB,EAAMiyC,EAAM,IAAMA,EAAM,GAC5B,GAAIjyC,EAAK,OAAOA,CACjB,CACF,CAgK2BwzC,CAAqBJ,IAE7C5c,EAAM7jC,OAAOxM,IAAI6hD,SACO,SAAjBoL,EAAO,GAAG,IACO,IAAlBA,EAAOj3D,QAAcZ,KAAKk4D,YAAYL,GAC1C5c,EAAMqJ,KAAK55C,QAAUmtD,EAAO5rC,QAAQ,GAItC,IAFAgvB,EAAM7jC,OAAO9M,MAAQtK,KAAKy3D,YAAYI,EAAO,GAAG,IAChD5c,EAAMhsB,KAAO,GACN4oC,EAAOj3D,QAAQ,CACpB,IAAIkJ,EAAO+tD,EAAO,GAAG,GACrB,GAAa,MAAT/tD,GAAyB,UAATA,GAA6B,YAATA,EACtC,MAEFmxC,EAAMhsB,MAAQ4oC,EAAO5rC,QAAQ,EAC9B,CAGD,IAFAgvB,EAAMqJ,KAAKI,QAAU,GAEdmT,EAAOj3D,QAAQ,CAEpB,GADA81D,EAAQmB,EAAO5rC,QACE,MAAbyqC,EAAM,GAAY,CACpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,GAC5B,KACV,CAC2B,SAAbA,EAAM,IAAiB,KAAKx6C,KAAKw6C,EAAM,KACzC12D,KAAKk4D,YAAY,CAACxB,IAEpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,EAE/B,CACqB,MAAlBzb,EAAMhsB,KAAK,IAAgC,MAAlBgsB,EAAMhsB,KAAK,KACtCgsB,EAAMqJ,KAAK55C,QAAUuwC,EAAMhsB,KAAK,GAChCgsB,EAAMhsB,KAAOgsB,EAAMhsB,KAAKprB,MAAM,IAEhC,IACIpC,EADA02D,EAAc,GAElB,KAAON,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB02D,EAAYn1D,KAAK60D,EAAO5rC,SAE1BjsB,KAAKo4D,wBAAwBP,GAC7B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAE9C,GADAwzC,EAAQmB,EAAO30C,GACgB,eAA3BwzC,EAAM,GAAGp8C,cAAgC,CAC3C2gC,EAAMoK,WAAY,EAClB,IAAID,EAASplD,KAAKq4D,WAAWR,EAAQ30C,GACrCkiC,EAASplD,KAAKs4D,cAAcT,GAAUzS,EACvB,gBAAXA,IAA0BnK,EAAMqJ,KAAKe,UAAYD,GACrD,KACD,CAAM,GAA+B,cAA3BsR,EAAM,GAAGp8C,cAA+B,CACjD,IAAIi+C,EAAQV,EAAOh0D,MAAM,GACrBsM,EAAM,GACV,IAAK,IAAIoR,EAAI2B,EAAI3B,EAAI,EAAGA,IAAK,CAC3B,IAAIzX,EAAOyuD,EAAMh3C,GAAG,GACpB,GAAgC,IAA5BpR,EAAI/F,OAAO89C,QAAQ,MAAuB,UAATp+C,EACnC,MAEFqG,EAAMooD,EAAMx1D,MAAM,GAAKoN,CACxB,CAC+B,IAA5BA,EAAI/F,OAAO89C,QAAQ,OACrBjN,EAAMoK,WAAY,EAClBpK,EAAMqJ,KAAKe,UAAYl1C,EACvB0nD,EAASU,EAEZ,CACD,GAAiB,UAAb7B,EAAM,IAA+B,YAAbA,EAAM,GAChC,KAEH,CACamB,EAAO98C,KAAMmI,GAAiB,UAAVA,EAAG,IAA4B,YAAVA,EAAG,MAExD+3B,EAAMqJ,KAAKI,SAAWyT,EAAYtzD,IAAKqe,GAAOA,EAAG,IAAIld,KAAK,IAC1DmyD,EAAc,IAEhBn4D,KAAK6kD,IAAI5J,EAAO,QAASkd,EAAYr0D,OAAO+zD,GAASG,GACjD/c,EAAM15C,MAAMwE,SAAS,OAASiyD,GAChCh4D,KAAK43D,qBAAqBC,EAE7B,CACD,WAAAE,CAAYrB,GACV,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,CACD,SAAA43D,CAAU9B,GACR,IAAIzb,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAMjgC,SAAW,GACjBigC,EAAMqJ,KAAKI,QAAU,GACrB1kD,KAAK07B,QAAUuf,CAChB,CACD,GAAArwC,CAAI8rD,GACE12D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAKgkD,WAAY,EACjBhkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq3D,OAAS,GACVr3D,KAAK07B,QAAQe,QACfz8B,KAAK07B,QAAQtkB,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IACjD12D,KAAK07B,QAAQtkB,OAAOxM,IAAI6hD,SACxBzsD,KAAK07B,QAAU17B,KAAK07B,QAAQe,QAE5Bz8B,KAAKy4D,gBAAgB/B,EAExB,CACD,OAAAgC,GACM14D,KAAK07B,QAAQe,QAAQz8B,KAAK24D,gBAC1B34D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq6B,KAAKjjB,OAAOxM,IAAM5K,KAAKy3D,YAAYz3D,KAAKw0D,UAAUyC,WACxD,CACD,aAAA2B,CAAclC,GAEZ,GADA12D,KAAKq3D,QAAUX,EAAM,GACjB12D,KAAK07B,QAAQ8oB,MAAO,CACtB,IAAIh9B,EAAOxnB,KAAK07B,QAAQ8oB,MAAMxkD,KAAK07B,QAAQ8oB,MAAM5jD,OAAS,GACtD4mB,GAAsB,SAAdA,EAAK1d,OAAoB0d,EAAK88B,KAAKkC,eAC7Ch/B,EAAK88B,KAAKkC,aAAexmD,KAAKq3D,OAC9Br3D,KAAKq3D,OAAS,GAEjB,CACF,CAED,WAAAI,CAAYhL,GACV,IAAIhoC,EAAMzkB,KAAK+5B,MAAM2yB,WAAWD,GAChC,MAAO,CACLjO,OAAQ/5B,EAAIkoC,IACZpO,KAAM95B,EAAI85B,KACVkO,SAEH,CACD,IAAAjlB,CAAKyT,EAAOwR,GACVzsD,KAAK07B,QAAQ14B,KAAKi4C,GAClBA,EAAM7jC,OAAS,CACb2iB,MAAO/5B,KAAK+5B,MACZzvB,MAAOtK,KAAKy3D,YAAYhL,IAE1BxR,EAAMqJ,KAAK55C,OAAS1K,KAAKq3D,OACzBr3D,KAAKq3D,OAAS,GACK,YAAfpc,EAAMnxC,OAAoB9J,KAAKgkD,WAAY,EAChD,CACD,KAAApT,CAAMtmC,GACJ,IAAIM,GAAM,EACNd,EAAO,KACP65C,GAAQ,EACRkV,EAAU,KACVrB,EAAW,GACXQ,EAAiB1tD,EAAM,GAAGmQ,WAAW,MACrCo9C,EAAS,GACTnB,EAAQpsD,EACZ,KAAOosD,GAAO,CAGZ,GAFA5sD,EAAO4sD,EAAM,GACbmB,EAAO70D,KAAK0zD,GACC,MAAT5sD,GAAyB,MAATA,EACb+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,UAC9B,GAAIkuD,GAAkBrU,GAAkB,MAAT75C,EAC/B+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAK,UACT,GAAwB,IAApBw0D,EAAS52D,OAAc,CAChC,GAAa,MAATkJ,EAAc,CAChB,GAAI65C,EAEF,YADA3jD,KAAKmlD,KAAK0S,EAAQG,GAGlB,KAEd,CAAiB,GAAa,MAATluD,EAET,YADA9J,KAAKgc,KAAK67C,GAEL,GAAa,MAAT/tD,EAAc,CACvB9J,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAC3B6H,GAAM,EACN,KACZ,CAA8B,MAATd,IACT65C,GAAQ,EAEpB,MAAmB75C,IAAS0tD,EAASA,EAAS52D,OAAS,KAC7C42D,EAASz0D,MACe,IAApBy0D,EAAS52D,SAAci4D,EAAU,OAEvCnC,EAAQ12D,KAAKw0D,UAAUoC,WACxB,CAGD,GAFI52D,KAAKw0D,UAAUmC,cAAa/rD,GAAM,GAClC4sD,EAAS52D,OAAS,GAAGZ,KAAK84D,gBAAgBD,GAC1CjuD,GAAO+4C,EAAO,CAChB,IAAKqU,EACH,KAAOH,EAAOj3D,SACZ81D,EAAQmB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAV81D,GAA+B,YAAVA,IACzB12D,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAG/B/C,KAAKmlD,KAAK0S,EAAQG,EAC1B,MACQh4D,KAAKk4D,YAAYL,EAEpB,CACD,KAAAjjD,GACE,IAAI8hD,EACJ,MAAQ12D,KAAKw0D,UAAUmC,aAErB,OADAD,EAAQ12D,KAAKw0D,UAAUoC,YACfF,EAAM,IACZ,IAAK,QACH12D,KAAKq3D,QAAUX,EAAM,GACrB,MACF,IAAK,IACH12D,KAAK44D,cAAclC,GACnB,MACF,IAAK,IACH12D,KAAK4K,IAAI8rD,GACT,MACF,IAAK,UACH12D,KAAKyrC,QAAQirB,GACb,MACF,IAAK,UACH12D,KAAKmkD,OAAOuS,GACZ,MACF,IAAK,IACH12D,KAAKw4D,UAAU9B,GACf,MACF,QACE12D,KAAK4wC,MAAM8lB,GAIjB12D,KAAK04D,SACN,CACD,uBAAAN,GACC,CACD,GAAAvT,CAAI5J,EAAOhsB,EAAM4oC,EAAQG,GACvB,IAAItB,EAAO5sD,EAIPrI,EAAM+lB,EAHN5mB,EAASi3D,EAAOj3D,OAChBW,EAAQ,GACRw3D,GAAQ,EAEZ,IAAK,IAAI71C,EAAK,EAAGA,EAAKtiB,EAAQsiB,GAAM,EAClCwzC,EAAQmB,EAAO30C,GACfpZ,EAAO4sD,EAAM,GACA,UAAT5sD,GAAoBoZ,IAAOtiB,EAAS,GAAMo3D,EAE1B,YAATluD,GACT0d,EAAOqwC,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QAC5CzhB,EAAOo2D,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QACvCi0C,EAAsB3vC,IAAU2vC,EAAsB11D,IACjC,MAApBF,EAAMsC,OAAO,GAMjBk1D,GAAQ,EAHNx3D,GAASm1D,EAAM,IAMnBn1D,GAASm1D,EAAM,GAdfqC,GAAQ,EAiBZ,IAAKA,EAAO,CACV,IAAIlU,EAAMgT,EAAOtgD,OAAO,CAAC8V,EAAKnK,IAAOmK,EAAMnK,EAAG,GAAI,IAClD+3B,EAAMqJ,KAAKr1B,GAAQ,CAAE41B,MAAKtjD,QAC3B,CACD05C,EAAMhsB,GAAQ1tB,CACf,CACD,IAAAya,CAAK67C,GACHA,EAAO90D,MACP,IAAIk4C,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B5c,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBG,GACnD73D,KAAK6kD,IAAI5J,EAAO,WAAY4c,GAC5B73D,KAAK07B,QAAUuf,CAChB,CACD,wBAAAyc,CAAyBG,GACvB,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,GAA+C,YAAlBA,IACjC3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CAED,0BAAAM,CAA2BE,GACzB,IAAIp2D,EACA41D,EAAS,GACb,KAAOQ,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB41D,GAAUQ,EAAO5rC,QAAQ,GAE3B,OAAOorC,CACR,CACD,aAAAiB,CAAcT,GACZ,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,IACJ3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CACD,UAAAgB,CAAWR,EAAQn0D,GACjB,IAAI+kD,EAAU,GACd,IAAK,IAAIvlC,EAAKxf,EAAMwf,EAAK20C,EAAOj3D,OAAQsiB,IACtCulC,GAAWoP,EAAO30C,GAAI,GAGxB,OADA20C,EAAOphD,OAAO/S,EAAMm0D,EAAOj3D,OAAS8C,GAC7B+kD,CACR,CACD,aAAAkQ,GACE,IAAIl0C,EAAMzkB,KAAK07B,QAAQtkB,OAAO9M,MAC9B,MAAMtK,KAAK+5B,MAAMx2B,MAAM,iBAAkBkhB,EAAI85B,KAAM95B,EAAI+5B,OACxD,CACD,eAAAsa,CAAgBD,GACd,MAAM74D,KAAK+5B,MAAMx2B,MACf,mBACA,CAAEkpD,OAAQoM,EAAQ,IAClB,CAAEpM,OAAQoM,EAAQ,GAAK,GAE1B,CACD,eAAAJ,CAAgB/B,GACd,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAK,GAExB,CACD,WAAAwB,CAAYL,GACV,MAAM73D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQoL,EAAO,GAAG,IACpB,CAAEpL,OAAQoL,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAGj3D,QAEzC,CACD,aAAA22D,CAActc,EAAOyb,GACnB,MAAM12D,KAAK+5B,MAAMx2B,MACf,uBACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,GAGIshD,EACT,CAGA,SAAS+W,KACP,GAAI5W,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,IAAIuO,EAAYN,KACZ4I,EAAS3E,KACTjI,EAAQP,KACZ,SAASn3C,EAAMipB,EAAKzU,GAClB,IAAI4/B,EAAS,IAAIsD,EAAMzuB,EAAKzU,GACxB+vC,EAAU,IAAID,EAAOlQ,GACzB,IACEmQ,EAAQvkD,OACT,CAAC,MAAOm9C,GAYP,KAX6B,eAAzBqH,QAAQC,IAAIC,UACE,mBAAZvH,EAAGhoD,MAA6Bqf,GAAQA,EAAK1lB,OAC3C,WAAWwY,KAAKkN,EAAK1lB,MACvBquD,EAAGpuB,SAAW,iGACL,UAAUznB,KAAKkN,EAAK1lB,MAC7BquD,EAAGpuB,SAAW,iGACL,WAAWznB,KAAKkN,EAAK1lB,QAC9BquD,EAAGpuB,SAAW,mGAIdouB,CACP,CACD,OAAOoH,EAAQ9+B,IAChB,CAID,OAHA+nB,GAAYxtC,EACZA,EAAM+sB,QAAU/sB,EAChBg8C,EAAUsB,cAAct9C,GACjBwtC,EACT,CAGA,SAASmX,KACP,GAAIhX,GAAyB,OAAOD,GACpCC,GAA0B,EAC1B,IAAIW,QAAEA,EAAOC,GAAEA,GAAOF,KAClBuW,EAAehM,KACf9G,EAAaD,KACbmK,EAAYN,KACZoC,EAAYH,KACZkH,EAAY3G,KACZK,EAASD,KACTt+C,EAAQqkD,KACRxI,EAAOmD,KACX,MAAM8F,EAAqB,CACzBvV,OAAQ,SACR1Y,QAAS,UACT0Z,KAAM,cACN7kC,SAAU,WACV+Z,KAAM,OACNre,KAAM,QAEF29C,EAAe,CACnBnJ,QAAQ,EACRoJ,YAAY,EACZvJ,SAAS,EACTwJ,aAAa,EACbxQ,aAAa,EACbyQ,iBAAiB,EACjBC,UAAU,EACVC,cAAc,EACdC,MAAM,EACNC,UAAU,EACV1G,eAAe,EACf2G,SAAS,EACT1J,MAAM,EACN2J,UAAU,EACV7J,MAAM,EACN8J,UAAU,GAENC,EAAe,CACnBL,MAAM,EACNzG,eAAe,EACf2G,SAAS,GAGX,SAASI,EAAUttD,GACjB,MAAsB,iBAARA,GAAwC,mBAAbA,EAAInL,IAC9C,CACD,SAAS04D,EAAUvf,GACjB,IAAIjuC,GAAM,EACNlD,EAAO4vD,EAAmBze,EAAMnxC,MAMpC,MALmB,SAAfmxC,EAAMnxC,KACRkD,EAAMiuC,EAAMhsB,KAAK3U,cACO,WAAf2gC,EAAMnxC,OACfkD,EAAMiuC,EAAMlxC,KAAKuQ,eAEftN,GAAOiuC,EAAMjiC,OACR,CACLlP,EACAA,EAAO,IAAMkD,EAfF,EAiBXlD,EAAO,OACPA,EAAO,QAAUkD,GAEVA,EACF,CAAClD,EAAMA,EAAO,IAAMkD,EAAKlD,EAAO,OAAQA,EAAO,QAAUkD,GACvDiuC,EAAMjiC,OACR,CAAClP,EAvBK,EAuBWA,EAAO,QAExB,CAACA,EAAMA,EAAO,OAExB,CACD,SAAS2wD,EAAQxf,GACf,IAAIptB,EAQJ,OANEA,EADiB,aAAfotB,EAAMnxC,KACC,CAAC,WA/BG,EA+BmB,gBACR,SAAfmxC,EAAMnxC,KACN,CAAC,OAjCG,EAiCe,YAEnB0wD,EAAUvf,GAEd,CACLyf,WAAY,EACZ7sC,SACAjrB,SAAU,EACVm6B,KAAMke,EACN0f,aAAc,EACdC,SAAU,GAEb,CACD,SAASC,EAAW5f,GAGlB,OAFAA,EAAMiI,IAAW,EACbjI,EAAMuJ,OAAOvJ,EAAMuJ,MAAMz4C,QAASmX,GAAO23C,EAAW33C,IACjD+3B,CACR,CACD,IAAI6f,EAAW,CAAA,EACf,MAAMtI,EACJ,WAAAvyD,CAAYmzD,EAAYv1B,EAAKzU,GAG3B,IAAIo8B,EACJ,GAHAxlD,KAAK+6D,aAAc,EACnB/6D,KAAKg7D,WAAY,EAEE,iBAARn9B,GAA4B,OAARA,GAA8B,SAAbA,EAAI/zB,MAAgC,aAAb+zB,EAAI/zB,KAEpE,GAAI+zB,aAAe20B,GAAc30B,aAAes1B,EACrD3N,EAAQqV,EAAWh9B,EAAIxD,MACnBwD,EAAIh5B,WACkB,IAAbukB,EAAKvkB,MAAqBukB,EAAKvkB,IAAM,IAC3CukB,EAAKvkB,IAAIulD,SAAQhhC,EAAKvkB,IAAIulD,QAAS,GACxChhC,EAAKvkB,IAAI2iB,KAAOqW,EAAIh5B,SAEjB,CACL,IAAIs0D,EAAUvkD,EACVwU,EAAK6xC,SAAQ9B,EAAU/vC,EAAK6xC,OAAOrmD,OACnCwU,EAAK8xC,SAAQ/B,EAAU/vC,EAAK8xC,QAC5B/B,EAAQvkD,QAAOukD,EAAUA,EAAQvkD,OACrC,IACE4wC,EAAQ2T,EAAQt7B,EAAKzU,EACtB,CAAC,MAAO7lB,GACPvD,KAAKg7D,WAAY,EACjBh7D,KAAKuD,MAAQA,CACd,CACGiiD,IAAUA,EAAMrC,IAClByN,EAAUW,QAAQ/L,EAErB,MAtBCA,EAAQqV,EAAWh9B,GAuBrB79B,KAAK4B,OAAS,IAAIuxD,EAAOC,EAAY5N,EAAOp8B,GAC5CppB,KAAKm7D,QAAU,IAAKL,EAAUM,QAASN,EAAUl5D,OAAQ5B,KAAK4B,QAC9D5B,KAAK4pC,QAAU5pC,KAAKqzD,UAAUzpB,QAAQ/kC,IAAK65C,GACnB,iBAAXA,GAAuBA,EAAOyb,QAChC,IAAKzb,KAAWA,EAAOyb,QAAQn6D,KAAK4B,SAEpC88C,EAGZ,CACD,KAAAtsB,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACvCvD,KAAKg7D,UAAkB75D,QAAQC,QAAQpB,KAAK4B,SAC3C5B,KAAKq7D,aACRr7D,KAAKq7D,WAAar7D,KAAKs7D,YAElBt7D,KAAKq7D,WACb,CACD,MAAME,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,aAAAC,GACE,MAAM,IAAIx0D,MAAM,uDACjB,CACD,WAAAy0D,CAAYn4D,EAAO03C,GACjB,IAAIyD,EAAS1+C,KAAK4B,OAAO2xD,WACzB,IAGE,GAFItY,GAAOA,EAAM+L,WAAWzjD,GAC5BvD,KAAKuD,MAAQA,EACM,mBAAfA,EAAMwG,MAA8BxG,EAAMm7C,QAGvC,GAAIA,EAAOid,gBACa,eAAzBvC,QAAQC,IAAIC,SAA2B,CACzC,IAAIhsB,EAAaoR,EAAO8U,cACpBoI,EAAYld,EAAOid,eACnBE,EAAa77D,KAAK4B,OAAOyxD,UAAUj2C,QACnCw+B,EAAKggB,EAAU1xD,MAAM,KACrB/K,EAAI08D,EAAW3xD,MAAM,MACrB0xC,EAAG,KAAOz8C,EAAE,IAAMo4B,SAASqkB,EAAG,IAAMrkB,SAASp4B,EAAE,MACjD4H,QAAQxD,MACN,sEAAwEs4D,EAAa,SAAWvuB,EAAa,SAAWsuB,EAAY,mDAGzI,OAdDr4D,EAAMm7C,OAASA,EAAO8U,cACtBjwD,EAAMw7C,YAeT,CAAC,MAAO/zB,GACHjkB,SAAWA,QAAQxD,OAAOwD,QAAQxD,MAAMynB,EAC7C,CACD,OAAOznB,CACR,CACD,eAAAu4D,GACE97D,KAAKwN,UAAY,GACjB,IAAIiC,EAAM,CAACivC,EAAQ50C,EAAMg6B,KAClB9jC,KAAKwN,UAAU1D,KAAO9J,KAAKwN,UAAU1D,GAAQ,IAClD9J,KAAKwN,UAAU1D,GAAM9G,KAAK,CAAC07C,EAAQ5a,KAErC,IAAK,IAAI4a,KAAU1+C,KAAK4pC,QACtB,GAAsB,iBAAX8U,EACT,IAAK,IAAI9yC,KAAS8yC,EAAQ,CACxB,IAAKib,EAAa/tD,IAAU,SAASsQ,KAAKtQ,GACxC,MAAM,IAAI3E,MACR,iBAAiB2E,QAAY8yC,EAAO8U,yCAAyCxzD,KAAKqzD,UAAUj2C,iBAGhG,IAAKk9C,EAAa1uD,GAChB,GAA6B,iBAAlB8yC,EAAO9yC,GAChB,IAAK,IAAI8U,KAAUg+B,EAAO9yC,GAEtB6D,EAAIivC,EADS,MAAXh+B,EACU9U,EAIVA,EAAQ,IAAM8U,EAAOpG,cAJJokC,EAAO9yC,GAAO8U,QASH,mBAAlBg+B,EAAO9yC,IACvB6D,EAAIivC,EAAQ9yC,EAAO8yC,EAAO9yC,GAG/B,CAGL5L,KAAK+7D,YAAc38D,OAAOwF,KAAK5E,KAAKwN,WAAW5M,OAAS,CACzD,CACD,cAAM06D,GACJt7D,KAAK0+C,OAAS,EACd,IAAK,IAAIx7B,EAAK,EAAGA,EAAKljB,KAAK4pC,QAAQhpC,OAAQsiB,IAAM,CAC/C,IAAIw7B,EAAS1+C,KAAK4pC,QAAQ1mB,GACtB/c,EAAUnG,KAAKg8D,UAAUtd,GAC7B,GAAI6b,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO5C,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CAEJ,CAED,GADAvD,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IAAU,CACtBsC,EAAMtC,IAAW,EACjB,IAAIj5C,EAAQ,CAACwwD,EAAQjV,IACrB,KAAOv7C,EAAMrJ,OAAS,GAAG,CACvB,IAAIuF,EAAUnG,KAAKi8D,UAAUhyD,GAC7B,GAAIswD,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO4rD,GACP,IAAI9W,EAAQhxC,EAAMA,EAAMrJ,OAAS,GAAGm8B,KACpC,MAAM/8B,KAAK07D,YAAY3J,EAAI9W,EAC5B,CAEJ,CACF,CACD,GAAIj7C,KAAKwN,UAAU0sD,SACjB,IAAK,IAAKxb,EAAQwd,KAAYl8D,KAAKwN,UAAU0sD,SAAU,CACrDl6D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAmB,aAAf8G,EAAM17C,KAAqB,CAC7B,IAAIqyD,EAAQ3W,EAAMhB,MAAM3/C,IACrBu3D,GAAYF,EAAQE,EAASp8D,KAAKm7D,gBAE/Bh6D,QAAQksB,IAAI8uC,EAClC,YACsBD,EAAQ1W,EAAOxlD,KAAKm7D,QAE7B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EACxB,CACF,CAEJ,CAED,OADA/xD,KAAKg7D,WAAY,EACVh7D,KAAK8K,WACb,CACD,SAAAkxD,CAAUtd,GACR1+C,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAsB,iBAAXA,GAAuBA,EAAOub,KAAM,CAC7C,GAA8B,aAA1Bj6D,KAAK4B,OAAOy4B,KAAKvwB,KAAqB,CACxC,IAAIqyD,EAAQn8D,KAAK4B,OAAOy4B,KAAKmqB,MAAM3/C,IAChC2gD,GAAU9G,EAAOub,KAAKzU,EAAOxlD,KAAKm7D,UAErC,OAAIZ,EAAU4B,EAAM,IACXh7D,QAAQksB,IAAI8uC,GAEdA,CACR,CACD,OAAOzd,EAAOub,KAAKj6D,KAAK4B,OAAOy4B,KAAMr6B,KAAKm7D,QACpD,CAAe,GAAsB,mBAAXzc,EAChB,OAAOA,EAAO1+C,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAExC,CAAC,MAAO2B,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CACF,CACD,SAAAuH,GACE,GAAI9K,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAK+6D,YAAa,OAAO/6D,KAAK4B,OAClC5B,KAAK+6D,aAAc,EACnB/6D,KAAKq8D,OACL,IAAIjzC,EAAOppB,KAAK4B,OAAOwnB,KACnBjZ,EAAMu2C,EACNt9B,EAAK6xC,SAAQ9qD,EAAMiZ,EAAK6xC,OAAOnwD,WAC/Bse,EAAKkzC,cAAansD,EAAMiZ,EAAKkzC,aAC7BnsD,EAAIrF,YAAWqF,EAAMA,EAAIrF,WAC7B,IACIqe,EADM,IAAIqwC,EAAarpD,EAAKnQ,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAAOwnB,MAC/C0lC,WAGf,OAFA9uD,KAAK4B,OAAOi8B,IAAM1U,EAAK,GACvBnpB,KAAK4B,OAAOiD,IAAMskB,EAAK,GAChBnpB,KAAK4B,MACb,CACD,IAAAy6D,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAKg7D,UAAW,OAAOh7D,KAAK4B,OAEhC,GADA5B,KAAKg7D,WAAY,EACbh7D,KAAKq7D,WACP,MAAMr7D,KAAKy7D,gBAEb,IAAK,IAAI/c,KAAU1+C,KAAK4pC,QAAS,CAE/B,GAAI2wB,EADUv6D,KAAKg8D,UAAUtd,IAE3B,MAAM1+C,KAAKy7D,eAEd,CAED,GADAz7D,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IACZsC,EAAMtC,IAAW,EACjBljD,KAAKu8D,SAAS/W,GAEhB,GAAIxlD,KAAKwN,UAAU0sD,SACjB,GAAmB,aAAf1U,EAAM17C,KACR,IAAK,IAAIsyD,KAAW5W,EAAMhB,MACxBxkD,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAUkC,QAG1Cp8D,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAU1U,EAG7C,CACD,OAAOxlD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKopB,MACnBqwC,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK69B,GACb,CACD,SAAA2+B,CAAU5B,EAAU3f,GAClB,IAAK,IAAKyD,EAAQwd,KAAYtB,EAAU,CAEtC,IAAIz0D,EADJnG,KAAK4B,OAAO2xD,WAAa7U,EAEzB,IACEv4C,EAAU+1D,EAAQjhB,EAAOj7C,KAAKm7D,QAC/B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAAMkO,QAClC,CACD,GAAmB,SAAflO,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAC/D,OAAO,EAET,GAAI89B,EAAUp0D,GACZ,MAAMnG,KAAKy7D,eAEd,CACF,CACD,SAAAQ,CAAUhyD,GACR,IAAIyyD,EAASzyD,EAAMA,EAAMrJ,OAAS,IAC5Bm8B,KAAMke,EAAK2f,SAAEA,GAAa8B,EAChC,GAAmB,SAAfzhB,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAE/D,YADAxyB,EAAMlH,MAGR,GAAI63D,EAASh6D,OAAS,GAAK87D,EAAO/B,aAAeC,EAASh6D,OAAQ,CAChE,IAAK89C,EAAQwd,GAAWtB,EAAS8B,EAAO/B,cACxC+B,EAAO/B,cAAgB,EACnB+B,EAAO/B,eAAiBC,EAASh6D,SACnC87D,EAAO9B,SAAW,GAClB8B,EAAO/B,aAAe,GAExB36D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,OAAOwd,EAAQjhB,EAAM2M,UAAW5nD,KAAKm7D,QACtC,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAC5B,CACF,CACD,GAAwB,IAApByhB,EAAO95D,SAAgB,CACzB,IACI+5B,EADA/5B,EAAW85D,EAAO95D,SAEtB,KAAO+5B,EAAQse,EAAMuJ,MAAMvJ,EAAMgW,QAAQruD,KAEvC,GADAq4C,EAAMgW,QAAQruD,IAAa,GACtB+5B,EAAMumB,GAGT,OAFAvmB,EAAMumB,IAAW,OACjBj5C,EAAMjH,KAAKy3D,EAAQ99B,IAIvB+/B,EAAO95D,SAAW,SACXq4C,EAAMgW,QAAQruD,EACtB,CACD,IAAIirB,EAAS6uC,EAAO7uC,OACpB,KAAO6uC,EAAOhC,WAAa7sC,EAAOjtB,QAAQ,CACxC,IAAIgL,EAAQiiB,EAAO6uC,EAAOhC,YAE1B,GADAgC,EAAOhC,YAAc,EAxWV,IAyWP9uD,EAKF,YAJIqvC,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,SAC7Bq6C,EAAMiI,IAAW,EACjBwZ,EAAO95D,SAAWq4C,EAAM+V,gBAGrB,GAAIhxD,KAAKwN,UAAU5B,GAExB,YADA8wD,EAAO9B,SAAW56D,KAAKwN,UAAU5B,GAGpC,CACD3B,EAAMlH,KACP,CACD,QAAAw5D,CAASthB,GACPA,EAAMiI,IAAW,EACjB,IAAIr1B,EAAS2sC,EAAUvf,GACvB,IAAK,IAAIrvC,KAASiiB,EAChB,GA1XW,IA0XPjiB,EACEqvC,EAAMuJ,OACRvJ,EAAM8V,KAAMp0B,IACLA,EAAMumB,IAAUljD,KAAKu8D,SAAS5/B,SAGlC,CACL,IAAIi+B,EAAW56D,KAAKwN,UAAU5B,GAC9B,GAAIgvD,GACE56D,KAAKw8D,UAAU5B,EAAU3f,EAAM2M,WAAY,MAElD,CAEJ,CACD,QAAA8L,GACE,OAAO1zD,KAAKq8D,OAAO3I,UACpB,CACD,WAAItF,GACF,OAAOpuD,KAAK8K,YAAYsjD,OACzB,CACD,OAAIvwB,GACF,OAAO79B,KAAK8K,YAAY+yB,GACzB,CACD,OAAIh5B,GACF,OAAO7E,KAAK8K,YAAYjG,GACzB,CACD,YAAIyuD,GACF,OAAOtzD,KAAKq8D,OAAO/I,QACpB,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,OAAOr6B,KAAKq8D,OAAOhiC,IACpB,CACD,IAAK13B,OAAOq7C,eACV,MAAO,YACR,EASH,OAPAwU,EAAWmK,gBAAmBxK,IAC5B2I,EAAW3I,GAEb7P,GAAekQ,EACfA,EAAW7wB,QAAU6wB,EACrB/B,EAAKmC,mBAAmBJ,GACxBE,EAAUE,mBAAmBJ,GACtBlQ,EACT,CAuHA,SAASsa,KACP,GAAIja,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAIka,EAvHN,WACE,GAAIpa,GAA2B,OAAOD,GACtCC,GAA4B,EAC5B,IAAI+W,EAAehM,KACf9G,EAAaD,KACbgT,EAAY3G,KACZl+C,EAAQqkD,KACZ,MAAM9F,EAASD,KACf,MAAM2J,EACJ,WAAA58D,CAAYmzD,EAAYv1B,EAAKzU,GAO3B,IAAIo8B,EANJ3nB,EAAMA,EAAI94B,WACV/E,KAAK+6D,aAAc,EACnB/6D,KAAK88D,WAAa1J,EAClBpzD,KAAK+8D,KAAOl/B,EACZ79B,KAAKg9D,MAAQ5zC,EACbppB,KAAKi9D,UAAO,EAEZ,IAAI9sD,EAAMu2C,EACV1mD,KAAK4B,OAAS,IAAIuxD,EAAOnzD,KAAK88D,WAAYtX,EAAOxlD,KAAKg9D,OACtDh9D,KAAK4B,OAAOi8B,IAAMA,EAClB,IAAIq/B,EAAQl9D,KACZZ,OAAO0J,eAAe9I,KAAK4B,OAAQ,OAAQ,CACzCmH,IAAG,IACMm0D,EAAM7iC,OAGjB,IAAIx1B,EAAM,IAAI20D,EAAarpD,EAAKq1C,EAAOxlD,KAAKg9D,MAAOn/B,GACnD,GAAIh5B,EAAIumD,QAAS,CACf,IAAK+R,EAAcC,GAAgBv4D,EAAIiqD,WACnCqO,IACFn9D,KAAK4B,OAAOi8B,IAAMs/B,GAEhBC,IACFp9D,KAAK4B,OAAOiD,IAAMu4D,EAE5B,MACQv4D,EAAIgqD,kBACJ7uD,KAAK4B,OAAOi8B,IAAMh5B,EAAIg5B,GAEzB,CACD,KAAAzL,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACpCpC,QAAQC,QAAQpB,KAAK4B,OAC7B,CACD,MAAM25D,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,IAAAa,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,OAAOvD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKg9D,OACnBvD,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK+8D,IACb,CACD,QAAArJ,GACE,MAAO,EACR,CACD,WAAItF,GACF,OAAOpuD,KAAK4B,OAAOi8B,GACpB,CACD,OAAIA,GACF,OAAO79B,KAAK4B,OAAOi8B,GACpB,CACD,OAAIh5B,GACF,OAAO7E,KAAK4B,OAAOiD,GACpB,CACD,YAAIyuD,GACF,MAAO,EACR,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,GAAIr6B,KAAKq9D,MACP,OAAOr9D,KAAKq9D,MAEd,IAAI7X,EACA2T,EAAUvkD,EACd,IACE4wC,EAAQ2T,EAAQn5D,KAAK+8D,KAAM/8D,KAAKg9D,MACjC,CAAC,MAAOz5D,GACPvD,KAAKuD,MAAQA,CACd,CACD,GAAIvD,KAAKuD,MACP,MAAMvD,KAAKuD,MAGX,OADAvD,KAAKq9D,MAAQ7X,EACNA,CAEV,CACD,IAAK7iD,OAAOq7C,eACV,MAAO,cACR,EAIH,OAFAwE,GAAiBqa,EACjBA,EAAal7B,QAAUk7B,EAChBra,EACT,CAMqB8a,GACf9K,EAAa+G,KACb7G,EAAYH,KACZ9B,EAAOmD,KACX,MAAMnB,EACJ,WAAAxyD,CAAY2pC,EAAU,IACpB5pC,KAAKod,QAAU,SACfpd,KAAK4pC,QAAU5pC,KAAK8wD,UAAUlnB,EAC/B,CACD,SAAAknB,CAAUlnB,GACR,IAAI2zB,EAAa,GACjB,IAAK,IAAIr6C,KAAM0mB,EAMb,IALmB,IAAf1mB,EAAGk4C,QACLl4C,EAAKA,IACIA,EAAGk4C,UACZl4C,EAAKA,EAAGk4C,SAEQ,iBAAPl4C,GAAmB3jB,MAAMmN,QAAQwW,EAAG0mB,SAC7C2zB,EAAaA,EAAWz5D,OAAOof,EAAG0mB,cAC7B,GAAkB,iBAAP1mB,GAAmBA,EAAGswC,cACtC+J,EAAWv6D,KAAKkgB,QACX,GAAkB,mBAAPA,EAChBq6C,EAAWv6D,KAAKkgB,OACX,IAAkB,iBAAPA,IAAoBA,EAAGtO,QAASsO,EAAGpY,UAOnD,MAAM,IAAI7D,MAAMic,EAAK,4BANrB,GAA6B,eAAzBk2C,QAAQC,IAAIC,SACd,MAAM,IAAIryD,MACR,iKAKL,CAEH,OAAOs2D,CACR,CACD,OAAAnE,CAAQv7B,EAAKzU,EAAO,IAClB,OAAKppB,KAAK4pC,QAAQhpC,QAAWwoB,EAAK8xC,QAAW9xC,EAAKkzC,aAAgBlzC,EAAK6xC,OAG9D,IAAIzI,EAAWxyD,KAAM69B,EAAKzU,GAF1B,IAAIyzC,EAAa78D,KAAM69B,EAAKzU,EAItC,CACD,GAAAo0C,CAAI9e,GAEF,OADA1+C,KAAK4pC,QAAU5pC,KAAK4pC,QAAQ9lC,OAAO9D,KAAK8wD,UAAU,CAACpS,KAC5C1+C,IACR,EAMH,OAJA0iD,GAAc+P,EACdA,EAAU9wB,QAAU8wB,EACpBhC,EAAKoC,kBAAkBJ,GACvBC,EAAUG,kBAAkBJ,GACrB/P,EACT,CAkJA,MAAM+a,GAA4BjiB,GAvFlC,WACE,GAAIuH,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAAIzE,EAAiBH,KACjBkL,EAAcD,KACdoJ,EAAa+G,KACb3I,EAAYN,KACZmC,EAAYmK,KACZlW,EAAaD,KACbiX,EAjEN,WACE,GAAI7a,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IAAIwG,EAAcD,KACdc,EAAcN,KACdyG,EAAUD,KACVI,EAASmD,KACTrH,EAAQP,KACR0E,EAAOmD,KACPrD,EAAO+D,KACX,SAASoJ,EAASnlD,EAAMowC,GACtB,GAAIppD,MAAMmN,QAAQ6L,GAAO,OAAOA,EAAK1T,IAAKo1C,GAAOyjB,EAASzjB,IAC1D,IAAM0O,OAAQgV,KAAcvjC,GAAa7hB,EACzC,GAAIolD,EAAW,CACbhV,EAAS,GACT,IAAK,IAAIK,KAAU2U,EAAW,CAC5B,IAAIC,EAAgB,IAAK5U,EAAQ1pD,UAAWgtD,EAAM7sD,WAC9Cm+D,EAAc/4D,MAChB+4D,EAAc/4D,IAAM,IACf+4D,EAAc/4D,IACjBvF,UAAW4qD,EAAYzqD,YAG3BkpD,EAAO3lD,KAAK46D,EACb,CACF,CAID,GAHIxjC,EAASoqB,QACXpqB,EAASoqB,MAAQjsC,EAAKisC,MAAM3/C,IAAKo1C,GAAOyjB,EAASzjB,EAAI0O,KAEnDvuB,EAAShjB,OAAQ,CACnB,IAAI2xC,QAAEA,KAAY3xC,GAAWgjB,EAAShjB,OACtCgjB,EAAShjB,OAASA,EACH,MAAX2xC,IACF3uB,EAAShjB,OAAO2iB,MAAQ4uB,EAAOI,GAElC,CACD,GAAsB,SAAlB3uB,EAAStwB,KACX,OAAO,IAAI2mD,EAAKr2B,GACX,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIu/C,EAAYjvB,GAClB,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIymD,EAAKn2B,GACX,GAAsB,YAAlBA,EAAStwB,KAClB,OAAO,IAAIumD,EAAQj2B,GACd,GAAsB,WAAlBA,EAAStwB,KAClB,OAAO,IAAI0mD,EAAOp2B,GAElB,MAAM,IAAInzB,MAAM,sBAAwBsR,EAAKzO,KAEhD,CAGD,OAFA84C,GAAe8a,EACfA,EAAS/7B,QAAU+7B,EACZ9a,EACT,CAYiBib,GACXnL,EAAYH,KACZU,EAAUD,KACV3C,EAAUD,KACVI,EAASmD,KACTR,EAASD,KACT5G,EAAQP,KACRn3C,EAAQqkD,KACRnsC,EAAOgnC,KACPvD,EAAO+D,KACP7D,EAAOmD,KACP9M,EAAQH,KACZ,SAASmU,KAAYlxB,GAInB,OAHuB,IAAnBA,EAAQhpC,QAAgBrB,MAAMmN,QAAQk9B,EAAQ,MAChDA,EAAUA,EAAQ,IAEb,IAAI6oB,EAAU7oB,EACtB,CA0DD,OAzDAkxB,EAASpc,OAAS,SAAgB30C,EAAM+zD,GACtC,IAkBIvF,EAlBAwF,GAAiB,EACrB,SAASC,KAAWp3D,GACdG,SAAWA,QAAQC,OAAS+2D,IAC9BA,GAAiB,EACjBh3D,QAAQC,KACN+C,EAAO,qHAELqvD,QAAQC,IAAI4E,MAAQ7E,QAAQC,IAAI4E,KAAKxjD,WAAW,OAClD1T,QAAQC,KACN+C,EAAO,uEAIb,IAAIm0D,EAAcJ,KAAel3D,GAGjC,OAFAs3D,EAAY1K,cAAgBzpD,EAC5Bm0D,EAAYvC,gBAAiB,IAAIlJ,GAAYr1C,QACtC8gD,CACR,CAWD,OATA9+D,OAAO0J,eAAek1D,EAAS,UAAW,CACxCj1D,IAAG,KACIwvD,IAAOA,EAAQyF,KACbzF,KAGXyF,EAAQ5E,QAAU,SAASv7B,EAAKsgC,EAAaC,GAC3C,OAAOtD,EAAS,CAACkD,EAAQI,KAAchF,QAAQv7B,EAAKsgC,EAC1D,EACWH,CACX,EACElD,EAAShwD,UAAY47C,EACrBoU,EAASlmD,MAAQA,EACjBkmD,EAAS4C,SAAWA,EACpB5C,EAAShuC,KAAOA,EAChBguC,EAASrvB,QAAWrR,GAAa,IAAIi2B,EAAQj2B,GAC7C0gC,EAASuD,OAAUjkC,GAAa,IAAIo2B,EAAOp2B,GAC3C0gC,EAAS3V,KAAQ/qB,GAAa,IAAIivB,EAAYjvB,GAC9C0gC,EAAS9+C,KAAQoe,GAAa,IAAIm2B,EAAKn2B,GACvC0gC,EAASzgC,KAAQD,GAAa,IAAIq2B,EAAKr2B,GACvC0gC,EAASx6C,SAAY8Z,GAAa,IAAIs4B,EAAUt4B,GAChD0gC,EAASxc,eAAiBA,EAC1Bwc,EAASzR,YAAcA,EACvByR,EAASlK,UAAYA,EACrBkK,EAASrI,UAAYA,EACrBqI,EAASf,SAAWrH,EACpBoI,EAASzK,QAAUA,EACnByK,EAAS7H,QAAUA,EACnB6H,EAAStK,OAASA,EAClBsK,EAAS3H,OAASA,EAClB2H,EAASxO,MAAQA,EACjBwO,EAASvK,KAAOA,EAChBuK,EAASrK,KAAOA,EAChBqK,EAAS7gC,KAAO6sB,EAChB0L,EAAWmK,gBAAgB7B,GAC3BhY,GAAcgY,EACdA,EAASn5B,QAAUm5B,EACZhY,EACT,CACuBwb,IAEdC,GAACzzD,UACDyzD,GAACb,SACDa,GAAC7f,OACD6f,GAAC3pD,MACD2pD,GAACzxC,KACDyxC,GAACj+C,SACDi+C,GAAC9yB,QACD8yB,GAACF,OACDE,GAACviD,KACDuiD,GAACpZ,KACDoZ,GAAClkC,KACDkkC,GAACjgB,eACDigB,GAAClV,YACDkV,GAAC3N,UACD2N,GAAC9L,UACD8L,GAACxE,SACDwE,GAAClO,QACDkO,GAACtL,QACDsL,GAAC/N,OACD+N,GAACpL,OACDoL,GAACjS,MACDiS,GAAChO,KACDgO,GAAC9N,KACD8N,GAACtkC,KACV,IAAIukC,GAAcp/D,OAAO0J,eAErB21D,GAAkB,CAACxxD,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMuxD,GAAYvxD,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EACnHm9D,CAAkBzxD,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GAC5G,SAASo9D,GAAwB/8C,GAC/B,OAAOA,GAAKA,EAAE65B,YAAcr8C,OAAOK,UAAUC,eAAeC,KAAKiiB,EAAG,WAAaA,EAAW,QAAIA,CAClG,CACA,SAASg9C,GAAsB3kB,GAC7B,GAAIA,EAAGwB,WAAY,OAAOxB,EAC1B,IAAI0B,EAAK1B,EAAGtY,QACZ,GAAiB,mBAANga,EAAkB,CAC3B,IAAIC,EAAK,SAASC,IAChB,OAAI77C,gBAAgB67C,EACXC,QAAQC,UAAUJ,EAAIh7C,UAAWX,KAAKC,aAExC07C,EAAG96C,MAAMb,KAAMW,UAC5B,EACIi7C,EAAGn8C,UAAYk8C,EAAGl8C,SACtB,MAASm8C,EAAK,CAAA,EAWZ,OAVAx8C,OAAO0J,eAAe8yC,EAAI,aAAc,CAAEr6C,OAAO,IACjDnC,OAAOwF,KAAKq1C,GAAIluC,QAAQ,SAASizB,GAC/B,IAAI9/B,EAAIE,OAAOw5C,yBAAyBqB,EAAIjb,GAC5C5/B,OAAO0J,eAAe8yC,EAAI5c,EAAG9/B,EAAE6J,IAAM7J,EAAI,CACvC+J,YAAY,EACZF,IAAK,WACH,OAAOkxC,EAAGjb,EACX,GAEP,GACS4c,CACT,CACA,IACIijB,GADAC,GAAqB,CAAE5iB,QAAS,CAAA,GAEpC,SAAS6iB,KACP,GAAIF,GAA+B,OAAOC,GAAmB5iB,QAC7D2iB,GAAgC,EAChC,IAAIj9C,EAAI9hB,OACJI,EAAS,WACX,MAAO,CAAEk8C,kBAAkB,EAAOhB,MAAOx5B,EAAGy6B,KAAMz6B,EAAG06B,IAAK16B,EAAG26B,OAAQ36B,EAAG46B,UAAW56B,EAAG66B,QAAS76B,EAAG86B,OAAQ96B,EAAG+6B,cAAe/6B,EAAGg7B,MAAOh7B,EAAGi7B,IAAKj7B,EAAGk7B,MAAOl7B,EAAGm7B,OAAQn7B,EAAGo7B,KAAMp7B,EAAGq7B,QAASr7B,EAAGs7B,KAAMt7B,EAAGu7B,MAAOv7B,EAAGw7B,KAAMx7B,EAAGy7B,QAASz7B,EAAG07B,MAAO17B,EAAG27B,QAAS37B,EAAG47B,SAAU57B,EAAG67B,OAAQ77B,EAAG87B,UAAW97B,EAAG+7B,OAAQ/7B,EAAGg8B,QAASh8B,EACvT,EAGE,OAFAk9C,GAAmB5iB,QAAUh8C,IAC7B4+D,GAAmB5iB,QAAQ2B,aAAe39C,EACnC4+D,GAAmB5iB,OAC5B,CACA,MAKM8iB,GAA6BJ,GAJax/D,OAAO2+C,OAAuB3+C,OAAO0J,eAAe,CAClGxJ,UAAW,KACXqiC,QAH4B,CAAA,GAI3Bh/B,OAAOq7C,YAAa,CAAEz8C,MAAO,aAEhC,IAAI09D,GACAC,GACJ,SAASC,KACP,GAAID,GAA2B,OAAOD,GACtCC,GAA4B,EAC5B,IAAI9gB,EAAuB2gB,KACvB1gB,EAAoB2gB,GACxB,MAAM1gB,UAAuBr3C,MAC3B,WAAAhH,CAAY0jC,EAAS4a,EAAMC,EAAQpnC,EAAQqnC,EAAMC,GAC/CC,MAAMhb,GACN3jC,KAAK+J,KAAO,iBACZ/J,KAAK4+C,OAASjb,EACV8a,IACFz+C,KAAKy+C,KAAOA,GAEVrnC,IACFpX,KAAKoX,OAASA,GAEZsnC,IACF1+C,KAAK0+C,OAASA,QAEI,IAATH,QAA0C,IAAXC,IACpB,iBAATD,GACTv+C,KAAKu+C,KAAOA,EACZv+C,KAAKw+C,OAASA,IAEdx+C,KAAKu+C,KAAOA,EAAKA,KACjBv+C,KAAKw+C,OAASD,EAAKC,OACnBx+C,KAAK6+C,QAAUL,EAAOD,KACtBv+C,KAAK8+C,UAAYN,EAAOA,SAG5Bx+C,KAAK++C,aACD93C,MAAM+3C,mBACR/3C,MAAM+3C,kBAAkBh/C,KAAMs+C,EAEjC,CACD,UAAAS,GACE/+C,KAAK2jC,QAAU3jC,KAAK0+C,OAAS1+C,KAAK0+C,OAAS,KAAO,GAClD1+C,KAAK2jC,SAAW3jC,KAAKy+C,KAAOz+C,KAAKy+C,KAAO,mBACf,IAAdz+C,KAAKu+C,OACdv+C,KAAK2jC,SAAW,IAAM3jC,KAAKu+C,KAAO,IAAMv+C,KAAKw+C,QAE/Cx+C,KAAK2jC,SAAW,KAAO3jC,KAAK4+C,MAC7B,CACD,cAAAK,CAAeC,GACb,IAAKl/C,KAAKoX,OAAQ,MAAO,GACzB,IAAIymB,EAAM79B,KAAKoX,OACF,MAAT8nC,IAAeA,EAAQd,EAAKhC,kBAC5BiC,GACEa,IAAOrhB,EAAMwgB,EAAkBxgB,IAErC,IAIIshB,EAAMC,EAJNC,EAAQxhB,EAAI3zB,MAAM,SAClBI,EAAQ/E,KAAKse,IAAI7jB,KAAKu+C,KAAO,EAAG,GAChC3zC,EAAMrF,KAAKgjB,IAAIvoB,KAAKu+C,KAAO,EAAGc,EAAMz+C,QACpC0+C,EAAWx/C,OAAO8K,GAAKhK,OAE3B,GAAIs+C,EAAO,CACT,IAAI7C,KAAEA,EAAIe,KAAEA,EAAIP,IAAEA,GAAQuB,EAAKP,cAAa,GAC5CsB,EAAQh1C,GAASkyC,EAAKQ,EAAI1yC,IAC1Bi1C,EAASj1C,GAASizC,EAAKjzC,EAC/B,MACQg1C,EAAOC,EAASjvC,GAAQA,EAE1B,OAAOkvC,EAAMx7C,MAAMyG,EAAOM,GAAK/F,IAAI,CAAC05C,EAAMgB,KACxC,IAAIC,EAASl1C,EAAQ,EAAIi1C,EACrBE,EAAS,KAAO,IAAMD,GAAQ37C,OAAOy7C,GAAY,MACrD,GAAIE,IAAWx/C,KAAKu+C,KAAM,CACxB,IAAImB,EAAUN,EAAMK,EAAOh6C,QAAQ,MAAO,MAAQ84C,EAAK16C,MAAM,EAAG7D,KAAKw+C,OAAS,GAAG/4C,QAAQ,SAAU,KACnG,OAAO05C,EAAK,KAAOC,EAAMK,GAAUlB,EAAO,MAAQmB,EAAUP,EAAK,IAClE,CACD,MAAO,IAAMC,EAAMK,GAAUlB,IAC5Bv4C,KAAK,KACT,CACD,QAAAjB,GACE,IAAIyM,EAAOxR,KAAKi/C,iBAIhB,OAHIztC,IACFA,EAAO,OAASA,EAAO,MAElBxR,KAAK+J,KAAO,KAAO/J,KAAK2jC,QAAUnyB,CAC1C,EAIH,OAFAytD,GAAiB3gB,EACjBA,EAAe3c,QAAU2c,EAClB2gB,EACT,CACA,IACIG,GAQA9C,GACA+C,GA+SAC,GACAC,GAaAxiC,GACAyiC,GAsUAC,GACAC,GAqBAC,GACAC,GA0BAC,GACAC,GAqHA/lC,GACAgmC,GA+MAC,GACAC,GA4TAx0B,GACAy0B,GAeAC,GACAC,GAwXAC,GACAC,GA4BAC,GACAC,GAcAC,GACAC,GAmCA9+D,GACA++D,GAsCAC,GACAC,GAsNAxC,GACAyC,GAwBAzmC,GACA0mC,GAoDAC,GACAC,GAuDAjlD,GACAklD,GA0BAhG,GACAiG,GAmhBAC,GACAC,GAiCAC,GACAC,GAydAC,GACAC,GAmHApO,GACAqO,GAyDAC,GACAC,GAuDAC,GACAC,GAj7GAC,GAAU,CAAA,EAEd,SAASC,KACP,OAAI5C,KACJA,GAAqB,EACrB2C,GAAQ7e,QAAUvgD,OAAO,WACzBo/D,GAAQ5e,GAAKxgD,OAAO,OAHWo/D,EAKjC,CAGA,SAASE,KACP,GAAI5C,GAAwB,OAAO/C,GACnC+C,GAAyB,EACzB,MAAMhc,EAAc,CAClB14C,MAAO,KACP24C,YAAa,KACbC,cAAe,KACfC,WAAY,KACZC,WAAY,IACZC,WAAY,KACZC,MAAO,KACPC,YAAa,IACbC,aAAc,IACdC,UAAW,GACXC,OAAQ,OACRC,WAAW,GAKb,MAAMC,EACJ,WAAAhkD,CAAYikD,GACVlkD,KAAKkkD,QAAUA,CAChB,CACD,MAAAC,CAAOlJ,EAAO+I,GACZ,IAAIj6C,EAAO,IAAMkxC,EAAMlxC,KACnBq6C,EAASnJ,EAAMmJ,OAASpkD,KAAKqkD,SAASpJ,EAAO,UAAY,GAM7D,QALoC,IAAzBA,EAAMqJ,KAAKC,UACpBx6C,GAAQkxC,EAAMqJ,KAAKC,UACVH,IACTr6C,GAAQ,KAENkxC,EAAMuJ,MACRxkD,KAAKykD,MAAMxJ,EAAOlxC,EAAOq6C,OACpB,CACL,IAAIx5C,GAAOqwC,EAAMqJ,KAAKI,SAAW,KAAOV,EAAY,IAAM,IAC1DhkD,KAAKkkD,QAAQn6C,EAAOq6C,EAASx5C,EAAKqwC,EACnC,CACF,CACD,WAAA0J,CAAY1J,EAAO2J,GACjB,IAAIrjD,EAEFA,EADiB,SAAf05C,EAAMnxC,KACA9J,KAAK6kD,IAAI5J,EAAO,KAAM,cACN,YAAfA,EAAMnxC,KACP9J,KAAK6kD,IAAI5J,EAAO,KAAM,iBACV,WAAX2J,EACD5kD,KAAK6kD,IAAI5J,EAAO,KAAM,cAEtBj7C,KAAK6kD,IAAI5J,EAAO,KAAM,eAEhC,IAAI6J,EAAM7J,EAAMxe,OACZsoB,EAAQ,EACZ,KAAOD,GAAoB,SAAbA,EAAIh7C,MAChBi7C,GAAS,EACTD,EAAMA,EAAIroB,OAEZ,GAAIl7B,EAAMwE,SAAS,MAAO,CACxB,IAAIg+C,EAAS/jD,KAAK6kD,IAAI5J,EAAO,KAAM,UACnC,GAAI8I,EAAOnjD,OACT,IAAK,IAAIY,EAAO,EAAGA,EAAOujD,EAAOvjD,IAAQD,GAASwiD,CAErD,CACD,OAAOxiD,CACR,CACD,KAAAkjD,CAAMxJ,EAAO3wC,GACX,IAEIK,EAFA+5C,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,cACzCj7C,KAAKkkD,QAAQ55C,EAAQo6C,EAAU,IAAKzJ,EAAO,SAEvCA,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,QAC7BZ,KAAKgC,KAAKi5C,GACVtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,UAExBtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,QAAS,aAE/BtwC,GAAO3K,KAAKkkD,QAAQv5C,GACxB3K,KAAKkkD,QAAQ,IAAKjJ,EAAO,MAC1B,CACD,IAAAj5C,CAAKi5C,GACH,IAAI+J,EAAO/J,EAAMuJ,MAAM5jD,OAAS,EAChC,KAAOokD,EAAO,GACmB,YAA3B/J,EAAMuJ,MAAMQ,GAAMl7C,MACtBk7C,GAAQ,EAEV,IAAIhB,EAAYhkD,KAAK6kD,IAAI5J,EAAO,aAChC,IAAK,IAAI/3B,EAAK,EAAGA,EAAK+3B,EAAMuJ,MAAM5jD,OAAQsiB,IAAM,CAC9C,IAAIyZ,EAAQse,EAAMuJ,MAAMthC,GACpBxY,EAAS1K,KAAK6kD,IAAIloB,EAAO,UACzBjyB,GAAQ1K,KAAKkkD,QAAQx5C,GACzB1K,KAAK8K,UAAU6xB,EAAOqoB,IAAS9hC,GAAM8gC,EACtC,CACF,CACD,OAAAvY,CAAQwP,GACN,IAAIgK,EAAOjlD,KAAK6kD,IAAI5J,EAAO,OAAQ,eAC/BiK,EAAQllD,KAAK6kD,IAAI5J,EAAO,QAAS,gBACrCj7C,KAAKkkD,QAAQ,KAAOe,EAAOhK,EAAM9wC,KAAO+6C,EAAQ,KAAMjK,EACvD,CACD,IAAAkK,CAAKlK,EAAO+I,GACV,IAAIU,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,SACrCmK,EAASnK,EAAMhsB,KAAOy1B,EAAU1kD,KAAKqkD,SAASpJ,EAAO,SACrDA,EAAMoK,YACRD,GAAUnK,EAAMqJ,KAAKe,WAAa,eAEhCrB,IAAWoB,GAAU,KACzBplD,KAAKkkD,QAAQkB,EAAQnK,EACtB,CACD,QAAA36B,CAAS26B,GACPj7C,KAAKgC,KAAKi5C,EACX,CACD,GAAA4J,CAAI5J,EAAOqK,EAAKV,GACd,IAAIrjD,EAEJ,GADKqjD,IAAQA,EAASU,GAClBA,IACF/jD,EAAQ05C,EAAMqJ,KAAKgB,QACE,IAAV/jD,GAAuB,OAAOA,EAE3C,IAAIk7B,EAASwe,EAAMxe,OACnB,GAAe,WAAXmoB,EAAqB,CACvB,IAAKnoB,GAA0B,SAAhBA,EAAO3yB,MAAmB2yB,EAAO8oB,QAAUtK,EACxD,MAAO,GAET,GAAIxe,GAA0B,aAAhBA,EAAO3yB,KACnB,MAAO,EAEV,CACD,IAAK2yB,EAAQ,OAAO4mB,EAAYuB,GAChC,IAAIY,EAAQvK,EAAM5gB,OAElB,GADKmrB,EAAMC,WAAUD,EAAMC,SAAW,CAAA,QACA,IAA3BD,EAAMC,SAASb,GACxB,OAAOY,EAAMC,SAASb,GAExB,GAAe,WAAXA,GAAkC,UAAXA,EACzB,OAAO5kD,KAAK2kD,YAAY1J,EAAO2J,GAC1B,CACL,IAAIjwC,EAAS,QApHCxE,EAoHkBy0C,GAnHzB,GAAGc,cAAgBv1C,EAAItM,MAAM,IAoHhC7D,KAAK2U,GACPpT,EAAQvB,KAAK2U,GAAQ6wC,EAAOvK,GAE5BuK,EAAMG,KAAMziC,IAEV,GADA3hB,EAAQ2hB,EAAGohC,KAAKgB,QACK,IAAV/jD,EAAuB,OAAO,GAG9C,CA7HL,IAAoB4O,EAgIhB,YAFqB,IAAV5O,IAAuBA,EAAQ8hD,EAAYuB,IACtDY,EAAMC,SAASb,GAAUrjD,EAClBA,CACR,CACD,cAAAqkD,CAAeJ,GACb,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,OAAS,QACH,IAAlBsiB,EAAGohC,KAAK35C,MAKjB,OAJApJ,EAAQ2hB,EAAGohC,KAAK35C,MACZpJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,gBAAAskD,CAAiBL,EAAOvK,GACtB,IAAI15C,EAeJ,OAdAikD,EAAMM,aAAc5iC,IAClB,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAAwkD,CAAcP,EAAOvK,GACnB,IAAI15C,EAeJ,OAdAikD,EAAMQ,UAAW9iC,IACf,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAA0kD,CAAcT,GACZ,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAgB,SAAZA,EAAGpZ,OACLvI,EAAQ2hB,EAAGohC,KAAKI,aACK,IAAVnjD,GAAuB,OAAO,IAGtCA,CACR,CACD,aAAA2kD,CAAcV,GACZ,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,QAAUthC,EAAGuZ,SAAW+oB,GAASA,EAAMD,QAAUriC,SACxB,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,QAAA4kD,CAASX,GACP,IAAIjkD,EAOJ,OANAikD,EAAMQ,UAAW9iC,IACf,QAA+B,IAApBA,EAAGohC,KAAKI,QAEjB,OADAnjD,EAAQ2hB,EAAGohC,KAAKI,QAAQj/C,QAAQ,UAAW,KACpC,IAGJlE,CACR,CACD,YAAA6kD,CAAaZ,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAA6B,IAApBthC,EAAGshC,MAAM5jD,SACvBW,EAAQ2hB,EAAGohC,KAAK35C,WACK,IAAVpJ,GAAuB,OAAO,IAGtCA,CACR,CACD,SAAA8kD,CAAUb,GACR,GAAIA,EAAMlB,KAAKP,OAAQ,OAAOyB,EAAMlB,KAAKP,OACzC,IAAIxiD,EAYJ,OAXAikD,EAAMG,KAAMziC,IACV,IAAI1jB,EAAI0jB,EAAGuZ,OACX,GAAIj9B,GAAKA,IAAMgmD,GAAShmD,EAAEi9B,QAAUj9B,EAAEi9B,SAAW+oB,QACjB,IAAnBtiC,EAAGohC,KAAK55C,OAAwB,CACzC,IAAI47C,EAAQpjC,EAAGohC,KAAK55C,OAAOR,MAAM,MAGjC,OAFA3I,EAAQ+kD,EAAMA,EAAM1lD,OAAS,GAC7BW,EAAQA,EAAMkE,QAAQ,MAAO,KACtB,CACR,IAGElE,CACR,CACD,YAAAglD,CAAaf,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,QAA2B,SAAjBsiB,EAAG8hC,KAAKl7C,OACzCvI,EAAQ2hB,EAAGohC,KAAKN,eACK,IAAVziD,GAAuB,OAAO,IAGtCA,CACR,CACD,QAAA8iD,CAASpJ,EAAOhsB,GACd,IAAI1tB,EAAQ05C,EAAMhsB,GACd41B,EAAM5J,EAAMqJ,KAAKr1B,GACrB,OAAI41B,GAAOA,EAAItjD,QAAUA,EAChBsjD,EAAIA,IAENtjD,CACR,CACD,IAAA84B,CAAK4gB,GACHj7C,KAAKgC,KAAKi5C,GACNA,EAAMqJ,KAAK35C,OAAO3K,KAAKkkD,QAAQjJ,EAAMqJ,KAAK35C,MAC/C,CACD,IAAAqR,CAAKi/B,GACHj7C,KAAKykD,MAAMxJ,EAAOj7C,KAAKqkD,SAASpJ,EAAO,aACnCA,EAAMqJ,KAAKkC,cACbxmD,KAAKkkD,QAAQjJ,EAAMqJ,KAAKkC,aAAcvL,EAAO,MAEhD,CACD,SAAAnwC,CAAUmwC,EAAO+I,GACf,IAAKhkD,KAAKi7C,EAAMnxC,MACd,MAAM,IAAI7C,MACR,yBAA2Bg0C,EAAMnxC,KAAO,mDAG5C9J,KAAKi7C,EAAMnxC,MAAMmxC,EAAO+I,EACzB,EAIH,OAFAsY,GAAcrY,EACdA,EAAYtiB,QAAUsiB,EACfqY,EACT,CAGA,SAAS4F,KACP,GAAI3C,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAAItb,EAAcge,KAClB,SAASvb,EAAWzL,EAAOiJ,GACf,IAAID,EAAYC,GACtBp5C,UAAUmwC,EACf,CAGD,OAFAqkB,GAAc5Y,EACdA,EAAW/kB,QAAU+kB,EACd4Y,EACT,CAGA,SAAS6C,KACP,GAAI3C,GAAiB,OAAOziC,GAC5ByiC,GAAkB,EAClB,IAAItc,QAAEA,EAAOC,GAAEA,GAAO6e,KAClB1jB,EAAiB6gB,KACjBlb,EAAcge,KACdvb,EAAawb,KACjB,SAAStb,EAAU35C,EAAKwvB,GACtB,IAAIoqB,EAAS,IAAI55C,EAAIhN,YACrB,IAAK,IAAIijB,KAAMjW,EAAK,CAClB,IAAK7N,OAAOK,UAAUC,eAAeC,KAAKsN,EAAKiW,GAC7C,SAEF,GAAW,eAAPA,EAAqB,SACzB,IAAI3hB,EAAQ0L,EAAIiW,GACZpZ,SAAcvI,EACP,WAAP2hB,GAA4B,WAATpZ,EACjB2yB,IAAQoqB,EAAO3jC,GAAMuZ,GACT,WAAPvZ,EACT2jC,EAAO3jC,GAAM3hB,EACJhC,MAAMmN,QAAQnL,GACvBslD,EAAO3jC,GAAM3hB,EAAMsD,IAAK0c,GAAMqlC,EAAUrlC,EAAGslC,KAE9B,WAAT/8C,GAA+B,OAAVvI,IAAgBA,EAAQqlD,EAAUrlD,IAC3DslD,EAAO3jC,GAAM3hB,EAEhB,CACD,OAAOslD,CACR,CACD,MAAMC,EACJ,WAAA7mD,CAAYm6B,EAAW,IACrBp6B,KAAKskD,KAAO,GACZtkD,KAAKkjD,IAAW,EAChBljD,KAAKmjD,IAAM,EACX,IAAK,IAAIp5C,KAAQqwB,EACf,GAAa,UAATrwB,EAAkB,CACpB/J,KAAKwkD,MAAQ,GACb,IAAK,IAAIvJ,KAAS7gB,EAASrwB,GACE,mBAAhBkxC,EAAM8L,MACf/mD,KAAKgZ,OAAOiiC,EAAM8L,SAElB/mD,KAAKgZ,OAAOiiC,EAG1B,MACUj7C,KAAK+J,GAAQqwB,EAASrwB,EAG3B,CACD,UAAAi9C,CAAWzjD,GAET,GADAA,EAAM0jD,YAAcjnD,KAChBuD,EAAM0G,OAASjK,KAAKoX,QAAU,aAAa8E,KAAK3Y,EAAM0G,OAAQ,CAChE,IAAIi9C,EAAKlnD,KAAKoX,OACd7T,EAAM0G,MAAQ1G,EAAM0G,MAAMxE,QACxB,aACA,KAAKyhD,EAAGntB,MAAMr2B,QAAQwjD,EAAG58C,MAAMi0C,QAAQ2I,EAAG58C,MAAMk0C,WAEnD,CACD,OAAOj7C,CACR,CACD,KAAAoH,CAAM8E,GAEJ,OADAzP,KAAKy8B,OAAO0qB,YAAYnnD,KAAMyP,GACvBzP,IACR,CACD,MAAAM,CAAO8mD,EAAY,IACjB,IAAK,IAAIr9C,KAAQq9C,EACfpnD,KAAK+J,GAAQq9C,EAAUr9C,GAEzB,OAAO/J,IACR,CACD,MAAA0K,CAAO+E,GAEL,OADAzP,KAAKy8B,OAAO4qB,aAAarnD,KAAMyP,GACxBzP,IACR,CACD,SAAAsnD,CAAUC,UACDvnD,KAAKskD,KAAK55C,cACV1K,KAAKskD,KAAK35C,MACZ48C,UAAoBvnD,KAAKskD,KAAKI,OACpC,CACD,KAAAqC,CAAMK,EAAY,IAChB,IAAIP,EAASD,EAAU5mD,MACvB,IAAK,IAAI+J,KAAQq9C,EACfP,EAAO98C,GAAQq9C,EAAUr9C,GAE3B,OAAO88C,CACR,CACD,UAAAW,CAAWJ,EAAY,IACrB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO0qB,YAAYnnD,KAAM6mD,GACvBA,CACR,CACD,WAAAY,CAAYL,EAAY,IACtB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO4qB,aAAarnD,KAAM6mD,GACxBA,CACR,CACD,KAAAtjD,CAAMogC,EAASva,EAAO,IACpB,GAAIppB,KAAKoX,OAAQ,CACf,IAAIxM,IAAEA,EAAGN,MAAEA,GAAUtK,KAAK0nD,QAAQt+B,GAClC,OAAOppB,KAAKoX,OAAO2iB,MAAMx2B,MACvBogC,EACA,CAAE6a,OAAQl0C,EAAMk0C,OAAQD,KAAMj0C,EAAMi0C,MACpC,CAAEC,OAAQ5zC,EAAI4zC,OAAQD,KAAM3zC,EAAI2zC,MAChCn1B,EAEH,CACD,OAAO,IAAIk1B,EAAe3a,EAC3B,CACD,iBAAAgkB,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACW,SAAThsB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UAEnB3M,EAAMhsB,GAGjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,UAATA,GAA6B,SAATA,GAA4B,WAATA,GAA8B,cAATA,GAC1E,SAATA,GACEgsB,EAAM4M,cAJ0B,GASvC,CACD,SAAAA,GACE,GAAI7nD,KAAKkjD,GAAU,CACjBljD,KAAKkjD,IAAW,EAChB,IAAIzhD,EAAOzB,KACX,KAAOyB,EAAOA,EAAKg7B,QACjBh7B,EAAKyhD,IAAW,CAEnB,CACF,CACD,IAAAzhD,GACE,IAAKzB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,UAAAuI,CAAW1+B,EAAM2+B,GACf,IAAItjC,EAAMzkB,KAAKoX,OAAO9M,MACtB,GAAI8e,EAAKtkB,MACP2f,EAAMzkB,KAAKgoD,eAAe5+B,EAAKtkB,MAAOijD,QACjC,GAAI3+B,EAAK6+B,KAAM,CAEpB,IAAI1I,GADJwI,EAAuB/nD,KAAK+E,YACMmjD,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IAAe96B,EAAMzkB,KAAKgoD,eAAezI,EAAQwI,GACtD,CACD,OAAOtjC,CACR,CACD,cAAAujC,CAAezI,EAAQwI,GACrB,IAAI3C,EAAS2C,GAAwB/nD,KAAK+E,WACtCy5C,EAASx+C,KAAKoX,OAAO9M,MAAMk0C,OAC3BD,EAAOv+C,KAAKoX,OAAO9M,MAAMi0C,KAC7B,IAAK,IAAIr7B,EAAK,EAAGA,EAAKq8B,EAAQr8B,IACT,OAAfkiC,EAAOliC,IACTs7B,EAAS,EACTD,GAAQ,GAERC,GAAU,EAGd,MAAO,CAAEA,SAAQD,OAClB,CACD,IAAA/2B,GACE,IAAKxnB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,OAAAmI,CAAQt+B,GACN,IAAI9e,EAAQ,CACVk0C,OAAQx+C,KAAKoX,OAAO9M,MAAMk0C,OAC1BD,KAAMv+C,KAAKoX,OAAO9M,MAAMi0C,MAEtB3zC,EAAM5K,KAAKoX,OAAOxM,IAAM,CAC1B4zC,OAAQx+C,KAAKoX,OAAOxM,IAAI4zC,OAAS,EACjCD,KAAMv+C,KAAKoX,OAAOxM,IAAI2zC,MACpB,CACFC,OAAQl0C,EAAMk0C,OAAS,EACvBD,KAAMj0C,EAAMi0C,MAEd,GAAIn1B,EAAK6+B,KAAM,CACb,IAAIF,EAAuB/nD,KAAK+E,WAC5Bw6C,EAASwI,EAAqBG,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IACFj1C,EAAQtK,KAAKgoD,eAAezI,EAAQwI,GACpCn9C,EAAM5K,KAAKgoD,eAAezI,EAASn2B,EAAK6+B,KAAKrnD,OAAQmnD,GAE/D,MACY3+B,EAAK9e,MACPA,EAAQ,CACNk0C,OAAQp1B,EAAK9e,MAAMk0C,OACnBD,KAAMn1B,EAAK9e,MAAMi0C,MAEVn1B,EAAKtkB,QACdwF,EAAQtK,KAAKgoD,eAAe5+B,EAAKtkB,QAE/BskB,EAAKxe,IACPA,EAAM,CACJ4zC,OAAQp1B,EAAKxe,IAAI4zC,OACjBD,KAAMn1B,EAAKxe,IAAI2zC,MAEiB,iBAAlBn1B,EAAK++B,SACrBv9C,EAAM5K,KAAKgoD,eAAe5+B,EAAK++B,UACtB/+B,EAAKtkB,QACd8F,EAAM5K,KAAKgoD,eAAe5+B,EAAKtkB,MAAQ,IAM3C,OAHI8F,EAAI2zC,KAAOj0C,EAAMi0C,MAAQ3zC,EAAI2zC,OAASj0C,EAAMi0C,MAAQ3zC,EAAI4zC,QAAUl0C,EAAMk0C,UAC1E5zC,EAAM,CAAE4zC,OAAQl0C,EAAMk0C,OAAS,EAAGD,KAAMj0C,EAAMi0C,OAEzC,CAAE3zC,MAAKN,QACf,CACD,GAAAu6C,CAAI51B,EAAMm5B,GAER,OADU,IAAInE,GACHY,IAAI7kD,KAAMivB,EAAMm5B,EAC5B,CACD,MAAAC,GAKE,OAJIroD,KAAKy8B,QACPz8B,KAAKy8B,OAAO4c,YAAYr5C,MAE1BA,KAAKy8B,YAAS,EACPz8B,IACR,CACD,WAAAsoD,IAAe9D,GACb,GAAIxkD,KAAKy8B,OAAQ,CACf,IAAI8rB,EAAWvoD,KACXwoD,GAAY,EAChB,IAAK,IAAIvN,KAASuJ,EACZvJ,IAAUj7C,KACZwoD,GAAY,EACHA,GACTxoD,KAAKy8B,OAAO0qB,YAAYoB,EAAUtN,GAClCsN,EAAWtN,GAEXj7C,KAAKy8B,OAAO4qB,aAAakB,EAAUtN,GAGlCuN,GACHxoD,KAAKqoD,QAER,CACD,OAAOroD,IACR,CACD,IAAAq6B,GACE,IAAIouB,EAAUzoD,KACd,KAAOyoD,EAAQhsB,QAAkC,aAAxBgsB,EAAQhsB,OAAO3yB,MACtC2+C,EAAUA,EAAQhsB,OAEpB,OAAOgsB,CACR,CACD,MAAAC,CAAOvmD,EAAGwmD,GACR,IAAIC,EAAQ,CAAA,EACRC,EAAuB,MAAVF,EACjBA,EAASA,GAA0B,IAAI52B,IACvC,IAAI+2B,EAAkB,EACtB,IAAK,IAAI/+C,KAAQ/J,KAAM,CACrB,IAAKZ,OAAOK,UAAUC,eAAeC,KAAKK,KAAM+J,GAC9C,SAEF,GAAa,WAATA,GAA8B,eAATA,EAAuB,SAChD,IAAIxI,EAAQvB,KAAK+J,GACjB,GAAIxK,MAAMmN,QAAQnL,GAChBqnD,EAAM7+C,GAAQxI,EAAMsD,IAAKqe,GACL,iBAAPA,GAAmBA,EAAGwlC,OACxBxlC,EAAGwlC,OAAO,KAAMC,GAEhBzlC,QAGN,GAAqB,iBAAV3hB,GAAsBA,EAAMmnD,OAC5CE,EAAM7+C,GAAQxI,EAAMmnD,OAAO,KAAMC,QAC5B,GAAa,WAAT5+C,EAAmB,CAC5B,IAAIg/C,EAAUJ,EAAO5/C,IAAIxH,EAAMw4B,OAChB,MAAXgvB,IACFA,EAAUD,EACVH,EAAO3/C,IAAIzH,EAAMw4B,MAAO+uB,GACxBA,KAEFF,EAAM7+C,GAAQ,CACZa,IAAKrJ,EAAMqJ,IACXm+C,UACAz+C,MAAO/I,EAAM+I,MAEzB,MACUs+C,EAAM7+C,GAAQxI,CAEjB,CAID,OAHIsnD,IACFD,EAAMD,OAAS,IAAIA,EAAO/jD,QAAQC,IAAKmkD,GAAWA,EAAON,WAEpDE,CACR,CACD,OAAAhB,GAIE,OAHK5nD,KAAKipD,aACRjpD,KAAKipD,WAAa,IAAIt4B,MAAM3wB,KAAMA,KAAK2nD,sBAElC3nD,KAAKipD,UACb,CACD,QAAAlkD,CAASmkD,EAAexC,GAClBwC,EAAap+C,YAAWo+C,EAAeA,EAAap+C,WACxD,IAAI29C,EAAU,GAId,OAHAS,EAAalpD,KAAOkjB,IAClBulC,GAAWvlC,IAENulC,CACR,CACD,IAAAzhD,CAAKyhD,EAASt+C,EAAMif,GAClB,IAAID,EAAO,CAAE4T,KAAM/8B,MACnB,IAAK,IAAIkjB,KAAMkG,EAAMD,EAAKjG,GAAMkG,EAAKlG,GACrC,OAAOulC,EAAQzhD,KAAKmD,EAAMgf,EAC3B,CACD,WAAIggC,GACF,OAAOnpD,IACR,EAIH,OAFA+8B,GAAO+pB,EACPA,EAAMnlB,QAAUmlB,EACT/pB,EACT,CAGA,SAASqlC,KACP,GAAI1C,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAI5Y,EAAQqb,KACZ,MAAM9Y,UAAoBvC,EACxB,WAAA7mD,CAAYm6B,GACNA,QAAsC,IAAnBA,EAAS74B,OAAmD,iBAAnB64B,EAAS74B,QACvE64B,EAAW,IAAKA,EAAU74B,MAAOzB,OAAOs6B,EAAS74B,SAEnDo9C,MAAMvkB,GACNp6B,KAAK8J,KAAO,MACb,CACD,YAAIw/C,GACF,OAAOtpD,KAAKivB,KAAKxU,WAAW,OAA0B,MAAjBza,KAAKivB,KAAK,EAChD,EAIH,OAFAwwC,GAAcpW,EACdA,EAAY1nB,QAAU0nB,EACfoW,EACT,CAGA,SAAS4C,KACP,GAAIzC,GAAsB,OAAOD,GACjCC,GAAuB,EAqBvB,OADAD,GAAY,CAAEnW,OARD,CAACp7B,EAAO,MACnB,IAAIlY,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAfc,mEAeoB,GAAhB3Q,KAAKC,SAAgB,GAEzC,OAAO0Q,GAEauzC,eAlBD,CAACC,EAAUC,EAAc,KACrC,CAACv7B,EAAOu7B,KACb,IAAIzzC,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAAMwzC,EAASnkD,KAAKC,SAAWkkD,EAAS9oD,OAAS,GAEnD,OAAOsV,IAYJypD,EACT,CAGA,SAAS2C,KACP,GAAIxC,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAIjW,kBAAEA,EAAiBC,mBAAEA,GAAuBkV,IAC5CjV,WAAEA,EAAUC,aAAEA,GAAiBgV,IAC/B/U,QAAEA,EAAOjkD,KAAEA,GAASg5D,GAQxB,MAAM9U,EACJ,WAAAjqD,CAAY49B,EAAKzU,GACf,IAAiB,IAAbA,EAAKvkB,IAAe,OACxB7E,KAAKmqD,eAAetsB,GACpB79B,KAAKoqD,OAASpqD,KAAKqqD,UAAUrqD,KAAKsqD,WAAY,SAC9C,IAAI9iC,EAAO4B,EAAKvkB,IAAMukB,EAAKvkB,IAAI2iB,UAAO,EAClCrd,EAAOnK,KAAKuqD,QAAQnhC,EAAK1lB,KAAM8jB,IAC9BxnB,KAAKwqD,SAAWphC,EAAK1lB,OACxB1D,KAAKwqD,QAAUphC,EAAK1lB,MAElB1D,KAAKwqD,UAASxqD,KAAKq6B,KAAO4vB,EAAQjqD,KAAKwqD,UACvCrgD,IAAMnK,KAAKmK,KAAOA,EACvB,CACD,QAAAsgD,GAIE,OAHKzqD,KAAK0qD,gBACR1qD,KAAK0qD,cAAgB,IAAIb,EAAkB7pD,KAAKmK,OAE3CnK,KAAK0qD,aACb,CACD,YAAAC,CAAaxgD,GAKX,GAFiB,0CAEF+R,KAAK/R,IADV,2BACuB+R,KAAK/R,GACpC,OAAOygD,mBAAmBzgD,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,SAEzD,GAPqB,iDAOFsb,KAAK/R,IANV,kCAM2B+R,KAAK/R,GAC5C,OAnCcgG,EAmCIhG,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,QAlC/CmqD,OACKA,OAAOrnD,KAAKyM,EAAK,UAAUpL,WAE3BP,OAAOwmD,KAAK76C,GAJvB,IAAoBA,EAqChB,IAAI86C,EAAW9gD,EAAKynC,MAAM,mCAAmC,GAC7D,MAAM,IAAI3qC,MAAM,mCAAqCgkD,EACtD,CACD,gBAAAC,CAAiBC,GACf,OAAOA,EAAgB1lD,QAAQ,8BAA+B,IAAI2E,MACnE,CACD,KAAAghD,CAAMvmD,GACJ,MAAmB,iBAARA,IACoB,iBAAjBA,EAAIwmD,UAAkD,iBAAlBxmD,EAAIymD,WAA0B/rD,MAAMmN,QAAQ7H,EAAI0mD,UACnG,CACD,cAAApB,CAAetsB,GACb,IAAI2tB,EAAW3tB,EAAI+T,MAAM,gCACzB,IAAK4Z,EAAU,OACf,IAAIlhD,EAAQuzB,EAAI4tB,YAAYD,EAASzoD,OACjC6H,EAAMizB,EAAIqqB,QAAQ,KAAM59C,GACxBA,GAAS,GAAKM,GAAO,IACvB5K,KAAKsqD,WAAatqD,KAAKkrD,iBAAiBrtB,EAAI/oB,UAAUxK,EAAOM,IAEhE,CACD,QAAA8gD,CAAStwB,GAEP,GADAp7B,KAAKq6B,KAAO4vB,EAAQ7uB,GAChB2uB,EAAW3uB,GAEb,OADAp7B,KAAKwqD,QAAUpvB,EACR4uB,EAAa5uB,EAAM,SAASr2B,WAAWqF,MAEjD,CACD,OAAAmgD,CAAQ9L,EAAMj3B,GACZ,IAAa,IAATA,EAAgB,OAAO,EAC3B,GAAIA,EAAM,CACR,GAAoB,iBAATA,EACT,OAAOA,EACF,GAAoB,mBAATA,EAWX,IAAIA,aAAgBqiC,EACzB,OAAOC,EAAmB6B,cAAcnkC,GAAMziB,WACzC,GAAIyiB,aAAgBsiC,EACzB,OAAOtiC,EAAKziB,WACP,GAAI/E,KAAKorD,MAAM5jC,GACpB,OAAO3c,KAAKC,UAAU0c,GAEtB,MAAM,IAAIvgB,MACR,2CAA6CugB,EAAKziB,WAErD,CArBsC,CACrC,IAAI6mD,EAAWpkC,EAAKi3B,GACpB,GAAImN,EAAU,CACZ,IAAI/mD,EAAM7E,KAAK0rD,SAASE,GACxB,IAAK/mD,EACH,MAAM,IAAIoC,MACR,uCAAyC2kD,EAAS7mD,YAGtD,OAAOF,CACR,CACX,CAWA,KAAa,IAAI7E,KAAKoqD,OACd,OAAOpqD,KAAK2qD,aAAa3qD,KAAKsqD,YACzB,GAAItqD,KAAKsqD,WAAY,CAC1B,IAAIzlD,EAAM7E,KAAKsqD,WAEf,OADI7L,IAAM55C,EAAMmB,EAAKikD,EAAQxL,GAAO55C,IAC7B7E,KAAK0rD,SAAS7mD,EACtB,EACF,CACD,SAAAwlD,CAAUjF,EAAQ96C,GAChB,QAAK86C,GACEA,EAAOyF,OAAO,EAAGvgD,EAAM1J,UAAY0J,CAC3C,CACD,WAAAuhD,GACE,SAAU7rD,KAAKyqD,WAAWqB,gBAAkB9rD,KAAKyqD,WAAWqB,eAAelrD,OAAS,EACrF,EAIH,OAFAi/D,GAAc3V,EACdA,EAAYvoB,QAAUuoB,EACf2V,EACT,CAGA,SAAS0C,KACP,GAAIxC,GAAkB,OAAOhmC,GAC7BgmC,GAAmB,EACnB,IAAIlW,kBAAEA,EAAiBC,mBAAEA,GAAuBkV,IAC5ChT,cAAEA,EAAaC,cAAEA,GAAkB+S,IACnC9S,WAAEA,EAAU9qD,QAAEA,GAAY49D,IAC1BxV,OAAEA,GAA2B6Y,KAC7BhkB,EAAoB2gB,GACpB1gB,EAAiB6gB,KACjBjV,EAAcoY,KACdnW,EAAkBxpD,OAAO,mBACzBypD,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ/zC,GAAW8qD,GACvC,MAAMI,EACJ,WAAArsD,CAAY49B,EAAKzU,EAAO,IACtB,GAAIyU,SAA6D,iBAARA,IAAqBA,EAAI94B,SAChF,MAAM,IAAIkC,MAAM,oBAAoB42B,2BAgBtC,GAdA79B,KAAK69B,IAAMA,EAAI94B,WACK,WAAhB/E,KAAK69B,IAAI,IAAmC,MAAhB79B,KAAK69B,IAAI,IACvC79B,KAAKusD,QAAS,EACdvsD,KAAK69B,IAAM79B,KAAK69B,IAAIh6B,MAAM,IAE1B7D,KAAKusD,QAAS,EAEZnjC,EAAK1lB,QACF2oD,GAAiB,YAAYnwC,KAAKkN,EAAK1lB,OAASwoD,EAAW9iC,EAAK1lB,MACnE1D,KAAKy+C,KAAOr1B,EAAK1lB,KAEjB1D,KAAKy+C,KAAOr9C,EAAQgoB,EAAK1lB,OAGzB2oD,GAAiBD,EAAoB,CACvC,IAAIvnD,EAAM,IAAIqlD,EAAYlqD,KAAK69B,IAAKzU,GACpC,GAAIvkB,EAAIsF,KAAM,CACZnK,KAAK6E,IAAMA,EACX,IAAI45C,EAAO55C,EAAI4lD,WAAWhM,MACrBz+C,KAAKy+C,MAAQA,IAAMz+C,KAAKy+C,KAAOz+C,KAAKwsD,WAAW/N,GACrD,CACF,CACIz+C,KAAKy+C,OACRz+C,KAAKkW,GAAK,cAAgBszC,EAAO,GAAK,KAEpCxpD,KAAK6E,MAAK7E,KAAK6E,IAAI45C,KAAOz+C,KAAK0D,KACpC,CACD,KAAAH,CAAMogC,EAAS4a,EAAMC,EAAQp1B,EAAO,CAAA,GAClC,IAAIq/B,EAAS5J,EAASC,EACtB,GAAIP,GAAwB,iBAATA,EAAmB,CACpC,IAAIj0C,EAAQi0C,EACR3zC,EAAM4zC,EACV,GAA4B,iBAAjBl0C,EAAMmiD,OAAqB,CACpC,IAAIhoC,EAAMzkB,KAAK0sD,WAAWpiD,EAAMmiD,QAChClO,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACvB,MACUpO,EAAOj0C,EAAMi0C,KACbC,EAASl0C,EAAMk0C,OAEjB,GAA0B,iBAAf5zC,EAAI6hD,OAAqB,CAClC,IAAIhoC,EAAMzkB,KAAK0sD,WAAW9hD,EAAI6hD,QAC9B5N,EAAUp6B,EAAI85B,KACdO,EAAYr6B,EAAIkoC,GAC1B,MACU9N,EAAUj0C,EAAI2zC,KACdO,EAAYl0C,EAAI4zC,MAE1B,MAAa,IAAKA,EAAQ,CAClB,IAAI/5B,EAAMzkB,KAAK0sD,WAAWnO,GAC1BA,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACd,CACD,IAAIC,EAAS5sD,KAAK4sD,OAAOrO,EAAMC,EAAQK,EAASC,GA2BhD,OAzBE2J,EADEmE,EACQ,IAAItO,EACZ3a,OACmB,IAAnBipB,EAAO/N,QAAqB+N,EAAOrO,KAAO,CAAEC,OAAQoO,EAAOpO,OAAQD,KAAMqO,EAAOrO,WAC7D,IAAnBqO,EAAO/N,QAAqB+N,EAAOpO,OAAS,CAAEA,OAAQoO,EAAO9N,UAAWP,KAAMqO,EAAO/N,SACrF+N,EAAOx1C,OACPw1C,EAAOnO,KACPr1B,EAAKs1B,QAGG,IAAIJ,EACZ3a,OACY,IAAZkb,EAAqBN,EAAO,CAAEC,SAAQD,aAC1B,IAAZM,EAAqBL,EAAS,CAAEA,OAAQM,EAAWP,KAAMM,GACzD7+C,KAAK69B,IACL79B,KAAKy+C,KACLr1B,EAAKs1B,QAGT+J,EAAQ1uB,MAAQ,CAAEykB,SAAQM,YAAWD,UAASN,OAAMnnC,OAAQpX,KAAK69B,KAC7D79B,KAAKy+C,OACHwN,IACFxD,EAAQ1uB,MAAMzM,IAAM2+B,EAAcjsD,KAAKy+C,MAAM15C,YAE/C0jD,EAAQ1uB,MAAM0kB,KAAOz+C,KAAKy+C,MAErBgK,CACR,CACD,UAAAiE,CAAWD,GACT,IAAII,EAAUC,EACd,GAAK9sD,KAAKmsD,GAURW,EAAc9sD,KAAKmsD,OAVO,CAC1B,IAAI9M,EAAQr/C,KAAK69B,IAAI3zB,MAAM,MAC3B4iD,EAAc,IAAIvtD,MAAM8/C,EAAMz+C,QAC9B,IAAImsD,EAAY,EAChB,IAAK,IAAI7pC,EAAK,EAAG8pC,EAAK3N,EAAMz+C,OAAQsiB,EAAK8pC,EAAI9pC,IAC3C4pC,EAAY5pC,GAAM6pC,EAClBA,GAAa1N,EAAMn8B,GAAItiB,OAAS,EAElCZ,KAAKmsD,GAAmBW,CAChC,CAGMD,EAAWC,EAAYA,EAAYlsD,OAAS,GAC5C,IAAI2nB,EAAM,EACV,GAAIkkC,GAAUI,EACZtkC,EAAMukC,EAAYlsD,OAAS,MACtB,CACL,IACIqsD,EADAppC,EAAMipC,EAAYlsD,OAAS,EAE/B,KAAO2nB,EAAM1E,GAEX,GADAopC,EAAM1kC,GAAO1E,EAAM0E,GAAO,GACtBkkC,EAASK,EAAYG,GACvBppC,EAAMopC,EAAM,MACP,MAAIR,GAAUK,EAAYG,EAAM,IAEhC,CACL1kC,EAAM0kC,EACN,KACD,CAJC1kC,EAAM0kC,EAAM,CAIb,CAEJ,CACD,MAAO,CACLN,IAAKF,EAASK,EAAYvkC,GAAO,EACjCg2B,KAAMh2B,EAAM,EAEf,CACD,UAAAikC,CAAW/N,GACT,MAAI,YAAYviC,KAAKuiC,GACZA,EAEFr9C,EAAQpB,KAAK6E,IAAI4lD,WAAWyC,YAAcltD,KAAK6E,IAAIw1B,MAAQ,IAAKokB,EACxE,CACD,MAAAmO,CAAOrO,EAAMC,EAAQK,EAASC,GAC5B,IAAK9+C,KAAK6E,IAAK,OAAO,EACtB,IAGIpB,EAIA0pD,EAPA1C,EAAWzqD,KAAK6E,IAAI4lD,WACpB/mD,EAAO+mD,EAAS2C,oBAAoB,CAAE5O,SAAQD,SAClD,IAAK76C,EAAK0T,OAAQ,OAAO,EAEF,iBAAZynC,IACTp7C,EAAKgnD,EAAS2C,oBAAoB,CAAE5O,OAAQM,EAAWP,KAAMM,KAI7DsO,EADEjB,EAAWxoD,EAAK0T,QACR60C,EAAcvoD,EAAK0T,QAEnB,IAAIgU,IACZ1nB,EAAK0T,OACLpX,KAAK6E,IAAI4lD,WAAWyC,YAAcjB,EAAcjsD,KAAK6E,IAAI2lD,UAG7D,IAAI/B,EAAU,CACZjK,OAAQ96C,EAAK86C,OACbM,UAAWr7C,GAAMA,EAAG+6C,OACpBK,QAASp7C,GAAMA,EAAG86C,KAClBA,KAAM76C,EAAK66C,KACXjxB,IAAK6/B,EAAQpoD,YAEf,GAAyB,UAArBooD,EAAQE,SAAsB,CAChC,IAAIrB,EAGF,MAAM,IAAI/kD,MAAM,yDAFhBwhD,EAAQhK,KAAOuN,EAAcmB,EAIhC,CACD,IAAI/1C,EAASqzC,EAAS6C,iBAAiB5pD,EAAK0T,QAE5C,OADIA,IAAQqxC,EAAQrxC,OAASA,GACtBqxC,CACR,CACD,MAAAC,GACE,IAAInwC,EAAO,CAAA,EACX,IAAK,IAAIxO,IAAQ,CAAC,SAAU,MAAO,OAAQ,MACvB,MAAd/J,KAAK+J,KACPwO,EAAKxO,GAAQ/J,KAAK+J,IAStB,OANI/J,KAAK6E,MACP0T,EAAK1T,IAAM,IAAK7E,KAAK6E,KACjB0T,EAAK1T,IAAI6lD,gBACXnyC,EAAK1T,IAAI6lD,mBAAgB,IAGtBnyC,CACR,CACD,QAAI7U,GACF,OAAO1D,KAAKy+C,MAAQz+C,KAAKkW,EAC1B,EAOH,OALA6jB,GAAQuyB,EACRA,EAAM3qB,QAAU2qB,EACZjO,GAAqBA,EAAkBkP,eACzClP,EAAkBkP,cAAcjB,GAE3BvyB,EACT,CAGA,SAASyoC,KACP,GAAIvC,GAAyB,OAAOD,GACpCC,GAA0B,EAC1B,IAAIpW,kBAAEA,EAAiBC,mBAAEA,GAAuBkV,IAC5C/U,QAAEA,EAAOwD,SAAEA,EAAQrsD,QAAEA,EAAOssD,IAAEA,GAAQsR,IACtC/S,cAAEA,GAAkB+S,GACpB1S,EAAQiW,KACRnW,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ8U,GAAW7oD,GAAWqsD,GAAYC,GAiT9D,OADAsS,GA/SA,MACE,WAAA//D,CAAYymD,EAAYlB,EAAOp8B,EAAMukC,GACnC3tD,KAAK8K,UAAY47C,EACjB1mD,KAAK4tD,QAAUxkC,EAAKvkB,KAAO,CAAA,EAC3B7E,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,IAAM8vB,EACX3tD,KAAK6tD,YAAcF,EACnB3tD,KAAK8tD,cAAgB9tD,KAAK4tD,QAAQlqD,MAAQ1D,KAAK4tD,QAAQG,SACvD/tD,KAAKguD,iBAAmC,IAAIj8B,IAC5C/xB,KAAKiuD,cAAgC,IAAIl8B,IACzC/xB,KAAKkuD,aAA+B,IAAIn8B,GACzC,CACD,aAAAo8B,GACE,IAAIC,EAEFA,EADEpuD,KAAKquD,WACG,gCAAkCruD,KAAKsuD,SAAStuD,KAAK6E,IAAIE,YACvB,iBAA5B/E,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WACqB,mBAA5BtqD,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WAAWtqD,KAAKopB,KAAK3lB,GAAIzD,KAAKq6B,MAE3Cr6B,KAAKuuD,aAAe,OAEhC,IAAIC,EAAM,KACNxuD,KAAK69B,IAAI93B,SAAS,UAASyoD,EAAM,QACrCxuD,KAAK69B,KAAO2wB,EAAM,wBAA0BJ,EAAU,KACvD,CACD,aAAAK,GACE,IAAK,IAAIjnC,KAAQxnB,KAAK0uD,WAAY,CAChC,IAEI7pD,EAFAnB,EAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK5T,EAAKi3B,OACjC+G,EAAQh+B,EAAK6S,MAAQ4vB,EAAQziC,EAAKi3B,OAEF,IAAhCz+C,KAAK4tD,QAAQ9B,gBACfjnD,EAAM,IAAIglD,EAAkBriC,EAAKrd,MAC7BtF,EAAIinD,iBACNjnD,EAAIinD,eAAiB,OAGvBjnD,EAAM2iB,EAAKijC,WAEbzqD,KAAK6E,IAAI+pD,eAAe/pD,EAAKnB,EAAM1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKoqB,IACzD,CACF,CACD,eAAAqJ,GACE,IAAgC,IAA5B7uD,KAAK4tD,QAAQtD,WACjB,GAAItqD,KAAKq6B,KAAM,CACb,IAAI4gB,EACJ,IAAK,IAAI/3B,EAAKljB,KAAKq6B,KAAKmqB,MAAM5jD,OAAS,EAAGsiB,GAAM,EAAGA,IACjD+3B,EAAQj7C,KAAKq6B,KAAKmqB,MAAMthC,GACL,YAAf+3B,EAAMnxC,MACwC,IAA9CmxC,EAAM9wC,KAAK+9C,QAAQ,wBACrBloD,KAAKq6B,KAAKgf,YAAYn2B,EAGlC,MAAiBljB,KAAK69B,MACd79B,KAAK69B,IAAM79B,KAAK69B,IAAIp4B,QAAQ,2BAA4B,IAE3D,CACD,QAAAqpD,GAEE,GADA9uD,KAAK6uD,kBACDxC,GAAiBD,GAAsBpsD,KAAKorD,QAC9C,OAAOprD,KAAK+uD,cACP,CACL,IAAItG,EAAU,GAId,OAHAzoD,KAAK8K,UAAU9K,KAAKq6B,KAAOnX,IACzBulC,GAAWvlC,IAEN,CAACulC,EACT,CACF,CACD,WAAAsG,GACE,GAAI/uD,KAAKq6B,KACPr6B,KAAKgvD,sBACA,GAA+B,IAA3BhvD,KAAK0uD,WAAW9tD,OAAc,CACvC,IAAI4mB,EAAOxnB,KAAK0uD,WAAW,GAAGjE,WAC9BjjC,EAAKi3B,KAAOz+C,KAAKuuD,aACjBvuD,KAAK6E,IAAMilD,EAAmB6B,cAAcnkC,EAAM,CAChDynC,sBAAsB,GAEhC,MACQjvD,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExBjvD,KAAK6E,IAAIqqD,WAAW,CAClBC,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQpX,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,gBAMrE,OAHI1D,KAAKqvD,oBAAoBrvD,KAAKsvD,oBAC9BtvD,KAAKq6B,MAAQr6B,KAAK0uD,WAAW9tD,OAAS,GAAGZ,KAAKyuD,gBAC9CzuD,KAAKuvD,gBAAgBvvD,KAAKmuD,gBAC1BnuD,KAAKquD,WACA,CAACruD,KAAK69B,KAEN,CAAC79B,KAAK69B,IAAK79B,KAAK6E,IAE1B,CACD,cAAAmqD,GACEhvD,KAAK69B,IAAM,GACX79B,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExB,IAQI5P,EAAO2F,EARPzG,EAAO,EACPC,EAAS,EACTgR,EAAW,cACXC,EAAU,CACZN,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQ,IAGVpX,KAAK8K,UAAU9K,KAAKq6B,KAAM,CAAClqB,EAAK8qC,EAAOnxC,KAyBrC,GAxBA9J,KAAK69B,KAAO1tB,EACR8qC,GAAkB,QAATnxC,IACX2lD,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EAChCvD,EAAM7jC,QAAU6jC,EAAM7jC,OAAO9M,OAC/BmlD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAO9M,MAAMi0C,KAC3CkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAO9M,MAAMk0C,OAAS,EACtDx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1Bx+C,KAAK6E,IAAIqqD,WAAWO,KAGxBpQ,EAAQlvC,EAAIyhC,MAAM,OACdyN,GACFd,GAAQc,EAAMz+C,OACdokD,EAAO70C,EAAIs7C,YAAY,MACvBjN,EAASruC,EAAIvP,OAASokD,GAEtBxG,GAAUruC,EAAIvP,OAEZq6C,GAAkB,UAATnxC,EAAkB,CAC7B,IAAItK,EAAIy7C,EAAMxe,QAAU,CAAE6nB,KAAM,CAAE,IACH,SAAfrJ,EAAMnxC,MAAkC,WAAfmxC,EAAMnxC,OAAsBmxC,EAAMuJ,QACzDvJ,IAAUz7C,EAAEwlD,OAAQxlD,EAAE8kD,KAAKN,YACvC/I,EAAM7jC,QAAU6jC,EAAM7jC,OAAOxM,KAC/B6kD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAOxM,IAAI2zC,KACzCkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAOxM,IAAI4zC,OAAS,EACpDiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1BiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,IAGzB,GAEJ,CACD,YAAAF,GACE,QAAIvvD,KAAKquD,kBAG8B,IAA5BruD,KAAK4tD,QAAQtD,WACftqD,KAAK4tD,QAAQtD,YAElBtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGonC,YAG1C,CACD,QAAA+D,GACE,QAAmC,IAAxBruD,KAAK4tD,QAAQxD,OACtB,OAAOpqD,KAAK4tD,QAAQxD,OAEtB,IAAIE,EAAatqD,KAAK4tD,QAAQtD,WAC9B,YAA0B,IAAfA,IAA6C,IAAfA,MAGrCtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGknC,QAG1C,CACD,KAAAgB,GACE,YAA6B,IAAlBprD,KAAKopB,KAAKvkB,MACV7E,KAAKopB,KAAKvkB,IAEd7E,KAAK0uD,WAAW9tD,OAAS,CACjC,CACD,gBAAAyuD,GACE,YAA2C,IAAhCrvD,KAAK4tD,QAAQ9B,eACf9rD,KAAK4tD,QAAQ9B,gBAElB9rD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAG2oC,cAG1C,CACD,UAAA0C,GACE,OAAIvuD,KAAKopB,KAAK3lB,GACLzD,KAAKo7B,KAAKp7B,KAAKopB,KAAK3lB,IAClBzD,KAAKopB,KAAK1lB,KACZ1D,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,MAEpB,QAEV,CACD,IAAA03B,CAAKqjB,GACH,GAAIz+C,KAAK4tD,QAAQG,SAAU,OAAOtP,EAClC,GAA2B,KAAvBA,EAAKpuC,WAAW,GAAW,OAAOouC,EACtC,GAAI,YAAYviC,KAAKuiC,GAAO,OAAOA,EACnC,IAAIkR,EAAS3vD,KAAKiuD,cAAcllD,IAAI01C,GACpC,GAAIkR,EAAQ,OAAOA,EACnB,IAAIjsD,EAAO1D,KAAKopB,KAAK3lB,GAAKwmD,EAAQjqD,KAAKopB,KAAK3lB,IAAM,IACX,iBAA5BzD,KAAK4tD,QAAQtD,aACtB5mD,EAAOumD,EAAQ7oD,EAAQsC,EAAM1D,KAAK4tD,QAAQtD,cAE5C,IAAIlvB,EAAOqyB,EAAS/pD,EAAM+6C,GAE1B,OADAz+C,KAAKiuD,cAAcjlD,IAAIy1C,EAAMrjB,GACtBA,CACR,CACD,QAAAszB,GACE,IAAK1uD,KAAK4vD,aAER,GADA5vD,KAAK4vD,aAAe,GAChB5vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,QAAU6jC,EAAM7jC,OAAO2iB,MAAMl1B,IAAK,CAC1C,IAAIA,EAAMo2C,EAAM7jC,OAAO2iB,MAAMl1B,IACxB7E,KAAK4vD,aAAa7pD,SAASlB,IAC9B7E,KAAK4vD,aAAa5sD,KAAK6B,EAE1B,QAEE,CACL,IAAImkD,EAAS,IAAIsD,EAAMtsD,KAAK6tD,YAAa7tD,KAAKopB,MAC1C4/B,EAAOnkD,KAAK7E,KAAK4vD,aAAa5sD,KAAKgmD,EAAOnkD,IAC/C,CAEH,OAAO7E,KAAK4vD,YACb,CACD,iBAAAN,GACE,IAAIO,EAAU,CAAA,EACd,GAAI7vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,OAAQ,CAChB,IAAI1T,EAAOu3C,EAAM7jC,OAAO2iB,MAAMr2B,KAC9B,GAAIA,IAASmsD,EAAQnsD,GAAO,CAC1BmsD,EAAQnsD,IAAQ,EAChB,IAAIypD,EAAUntD,KAAK8tD,aAAe9tD,KAAK8vD,UAAUpsD,GAAQ1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK13B,IAC9E1D,KAAK6E,IAAIkrD,iBAAiB5C,EAASlS,EAAM7jC,OAAO2iB,MAAM8D,IACvD,CACF,SAEE,GAAI79B,KAAK69B,IAAK,CACnB,IAAIn6B,EAAO1D,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,cACpE1D,KAAK6E,IAAIkrD,iBAAiBrsD,EAAM1D,KAAK69B,IACtC,CACF,CACD,UAAA6xB,CAAWzU,GACT,OAAIj7C,KAAK4tD,QAAQlqD,KACR1D,KAAK2uD,MAAM3uD,KAAK4tD,QAAQlqD,MACtB1D,KAAK8tD,aACP9tD,KAAK8vD,UAAU7U,EAAM7jC,OAAO2iB,MAAMr2B,MAElC1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK6f,EAAM7jC,OAAO2iB,MAAMr2B,MAElD,CACD,QAAA4qD,CAASn+C,GACP,OAAI46C,OACKA,OAAOrnD,KAAKyM,GAAKpL,SAAS,UAE1BP,OAAOwrD,KAAKC,SAASp3C,mBAAmB1I,IAElD,CACD,SAAA2/C,CAAU10B,GACR,IAAIu0B,EAAS3vD,KAAKguD,iBAAiBjlD,IAAIqyB,GACvC,GAAIu0B,EAAQ,OAAOA,EACnB,GAAI1D,EAAe,CACjB,IAAIiE,EAAUjE,EAAc7wB,GAAMr2B,WAElC,OADA/E,KAAKguD,iBAAiBhlD,IAAIoyB,EAAM80B,GACzBA,CACf,CACQ,MAAM,IAAIjpD,MACR,+DAGL,CACD,KAAA0nD,CAAMvzB,GACJ,IAAIu0B,EAAS3vD,KAAKkuD,aAAanlD,IAAIqyB,GACnC,GAAIu0B,EAAQ,OAAOA,EACP,OAARjC,IACFtyB,EAAOA,EAAK31B,QAAQ,MAAO,MAE7B,IAAI6nB,EAAM6iC,UAAU/0B,GAAM31B,QAAQ,QAASoT,oBAE3C,OADA7Y,KAAKkuD,aAAallD,IAAIoyB,EAAM9N,GACrBA,CACR,EAIL,CAGA,SAASm1C,KACP,GAAIvC,GAAoB,OAAOz0B,GAC/By0B,GAAqB,EACrB,IAAIpZ,EAAQqb,KACZ,MAAM9R,UAAgBvJ,EACpB,WAAA7mD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,SACb,EAIH,OAFA2hC,GAAU4kB,EACVA,EAAQ1uB,QAAU0uB,EACX5kB,EACT,CAGA,SAASi3B,KACP,GAAItC,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAIIxrD,EAAO27C,EAAMC,EAAQC,GAJrBvN,QAAEA,EAAOC,GAAEA,GAAO6e,KAClB3Y,EAAc+Y,KACd/R,EAAUoS,KACV3b,EAAQqb,KAEZ,SAASzR,EAAYlM,GACnB,OAAOA,EAAM3/C,IAAKqe,IACZA,EAAGshC,QAAOthC,EAAGshC,MAAQkM,EAAYxtC,EAAGshC,eACjCthC,EAAG9L,OACH8L,GAEV,CACD,SAASytC,EAAY1V,GAEnB,GADAA,EAAMiI,IAAW,EACbjI,EAAMkO,QAAQ3E,MAChB,IAAK,IAAIthC,KAAM+3B,EAAMkO,QAAQ3E,MAC3BmM,EAAYztC,EAGjB,CACD,MAAM0tC,UAAkB9J,EACtB,MAAA9tC,IAAU63C,GACR,IAAK,IAAIl0B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKglD,MACvC,IAAK,IAAI/J,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMxhD,KAAKi4C,EAClD,CAED,OADAj7C,KAAK6nD,YACE7nD,IACR,CACD,SAAAsnD,CAAUC,GAER,GADA5I,MAAM2I,UAAUC,GACZvnD,KAAKwkD,MACP,IAAK,IAAIvJ,KAASj7C,KAAKwkD,MAAOvJ,EAAMqM,UAAUC,EAEjD,CACD,IAAAwJ,CAAK96C,GACH,IAAKjW,KAAKmpD,QAAQ3E,MAAO,OACzB,IACIjF,EAAQkJ,EADR7lD,EAAW5C,KAAKgxD,cAEpB,KAAOhxD,KAAKixD,QAAQruD,GAAY5C,KAAKmpD,QAAQ3E,MAAM5jD,SACjD2+C,EAASv/C,KAAKixD,QAAQruD,GACtB6lD,EAAUxyC,EAASjW,KAAKmpD,QAAQ3E,MAAMjF,GAASA,IAC/B,IAAZkJ,IACJzoD,KAAKixD,QAAQruD,IAAa,EAG5B,cADO5C,KAAKixD,QAAQruD,GACb6lD,CACR,CACD,KAAA5qC,CAAMk0B,GACJ,OAAO/xC,KAAKwkD,MAAM3mC,MAAMk0B,EACzB,CACD,WAAAif,GACOhxD,KAAKkxD,WAAUlxD,KAAKkxD,SAAW,GAC/BlxD,KAAKixD,UAASjxD,KAAKixD,QAAU,CAAA,GAClCjxD,KAAKkxD,UAAY,EACjB,IAAItuD,EAAW5C,KAAKkxD,SAEpB,OADAlxD,KAAKixD,QAAQruD,GAAY,EAClBA,CACR,CACD,iBAAA+kD,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACGA,EAAMhsB,GAEE,SAATA,GAAmC,iBAATA,GAAqBA,EAAKxU,WAAW,QACjE,IAAI7T,IACFq0C,EAAMhsB,MACRroB,EAAK/B,IAAKqe,GACO,mBAAPA,EACF,CAACyZ,EAAO4iB,IAAWr8B,EAAGyZ,EAAMirB,UAAWrI,GAEvCr8B,IAKG,UAAT+L,GAA6B,SAATA,EACrB6U,GACCmX,EAAMhsB,GACX,CAAC0N,KAAUiU,IAAU9M,EAAGnH,EAAMirB,aAAchX,IAG9B,SAAT3hB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UACR,UAAT34B,EACFgsB,EAAMuJ,MAAM3/C,IAAKqe,GAAOA,EAAG0kC,WAChB,UAAT34B,GAA6B,SAATA,EACtBgsB,EAAMhsB,GAAM24B,UAEZ3M,EAAMhsB,GA1BNgsB,EAAMhsB,GA6BjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,WAATA,GAA8B,aAATA,GAC1CgsB,EAAM4M,cAH0B,GAQvC,CACD,KAAA/iD,CAAM63B,GACJ,MAAqB,iBAAVA,EAA2BA,GAClCA,EAAMwsB,UAASxsB,EAAQA,EAAMwsB,SAC1BnpD,KAAKmpD,QAAQ3E,MAAM0D,QAAQvrB,GACnC,CACD,WAAAwqB,CAAYgK,EAAO1hD,GACjB,IAII8vC,EAJA6R,EAAapxD,KAAK8E,MAAMqsD,GACxB3M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,IAAaC,UAChED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAa,EAAG,EAAGnW,GAEtE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,EAAa7R,IACfv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,YAAAqnD,CAAa8J,EAAO1hD,GAClB,IAKI8vC,EALA6R,EAAapxD,KAAK8E,MAAMqsD,GACxBrnD,EAAsB,IAAfsnD,GAAmB,UAC1B5M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,GAAatnD,GAAMunD,UACtED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAY,EAAGnW,GAElE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,GAAc7R,IAChBv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,SAAA8wD,CAAUtM,EAAO8M,GACf,GAAqB,iBAAV9M,EACTA,EAAQkM,EAAY97C,EAAM4vC,GAAOA,YAC5B,QAAqB,IAAVA,EAChBA,EAAQ,QACH,GAAIjlD,MAAMmN,QAAQ83C,GAAQ,CAC/BA,EAAQA,EAAM3gD,MAAM,GACpB,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAmB,SAAfshC,EAAM16C,MAAiC,aAAd9J,KAAK8J,KAAqB,CAC5D06C,EAAQA,EAAMA,MAAM3gD,MAAM,GAC1B,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAIshC,EAAM16C,KACf06C,EAAQ,CAACA,QACJ,GAAIA,EAAMv1B,KAAM,CACrB,QAA2B,IAAhBu1B,EAAMjjD,MACf,MAAM,IAAI0F,MAAM,0CACgB,iBAAhBu9C,EAAMjjD,QACtBijD,EAAMjjD,MAAQzB,OAAO0kD,EAAMjjD,QAE7BijD,EAAQ,CAAC,IAAI6E,EAAY7E,GACjC,MAAa,GAAIA,EAAMxpC,SACfwpC,EAAQ,CAAC,IAAI+L,EAAK/L,SACb,GAAIA,EAAMz6C,KACfy6C,EAAQ,CAAC,IAAIgM,EAAOhM,QACf,KAAIA,EAAMr6C,KAGf,MAAM,IAAIlD,MAAM,sCAFhBu9C,EAAQ,CAAC,IAAI6L,EAAQ7L,GAGtB,CAcD,OAbgBA,EAAM3/C,IAAKqe,IACpBA,EAAGigC,IAAKyN,EAAUW,QAAQruC,IAC/BA,EAAKA,EAAGimC,SACD1sB,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,GACjCA,EAAGggC,IAAUyN,EAAYztC,QACC,IAAnBA,EAAGohC,KAAK55C,QACb4mD,QAAwC,IAAvBA,EAAOhN,KAAK55C,SAC/BwY,EAAGohC,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAAOjF,QAAQ,MAAO,KAGvDyd,EAAGuZ,OAASz8B,KAAKmpD,QACVjmC,GAGV,CACD,OAAAsuC,IAAWX,GACTA,EAAWA,EAASQ,UACpB,IAAK,IAAI10B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKulD,MAAO,WAAW8L,UACzD,IAAK,IAAIpW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMiN,QAAQxW,GACpD,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClBjxD,KAAKixD,QAAQ/6C,GAAMlW,KAAKixD,QAAQ/6C,GAAMsuC,EAAM5jD,MAE/C,CAED,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,IAAAgD,CAAK25B,GAGH,OAFAA,EAAMF,OAASz8B,KACfA,KAAKmpD,QAAQ3E,MAAMxhD,KAAK25B,GACjB38B,IACR,CACD,SAAA0xD,GACE,IAAK,IAAIzW,KAASj7C,KAAKmpD,QAAQ3E,MAAOvJ,EAAMxe,YAAS,EAGrD,OAFAz8B,KAAKmpD,QAAQ3E,MAAQ,GACrBxkD,KAAK6nD,YACE7nD,IACR,CACD,WAAAq5C,CAAY1c,GAIV,IAAI4iB,EAHJ5iB,EAAQ38B,KAAK8E,MAAM63B,GACnB38B,KAAKmpD,QAAQ3E,MAAM7nB,GAAOF,YAAS,EACnCz8B,KAAKmpD,QAAQ3E,MAAM/tC,OAAOkmB,EAAO,GAEjC,IAAK,IAAIzmB,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBqpC,GAAU5iB,IACZ38B,KAAKixD,QAAQ/6C,GAAMqpC,EAAS,GAIhC,OADAv/C,KAAK6nD,YACE7nD,IACR,CACD,aAAA2xD,CAAcC,EAASxoC,EAAMnT,GAW3B,OAVKA,IACHA,EAAWmT,EACXA,EAAO,CAAA,GAETppB,KAAKgmD,UAAWb,IACV/7B,EAAKyoC,QAAUzoC,EAAKyoC,MAAM9rD,SAASo/C,EAAKl2B,OACxC7F,EAAK0oC,OAAS3M,EAAK5jD,MAAMwE,SAASqjB,EAAK0oC,QAC3C3M,EAAK5jD,MAAQ4jD,EAAK5jD,MAAMkE,QAAQmsD,EAAS37C,MAE3CjW,KAAK6nD,YACE7nD,IACR,CACD,IAAA+a,CAAKg3B,GACH,OAAO/xC,KAAKwkD,MAAMzpC,KAAKg3B,EACxB,CACD,IAAA4T,CAAK1vC,GACH,OAAOjW,KAAK+wD,KAAK,CAACp0B,EAAOzZ,KACvB,IAAIulC,EACJ,IACEA,EAAUxyC,EAAS0mB,EAAOzZ,EAC3B,CAAC,MAAO6uC,GACP,MAAMp1B,EAAMqqB,WAAW+K,EACxB,CAID,OAHgB,IAAZtJ,GAAqB9rB,EAAMgpB,OAC7B8C,EAAU9rB,EAAMgpB,KAAK1vC,IAEhBwyC,GAEV,CACD,WAAAuJ,CAAYjoD,EAAMkM,GAChB,OAAKA,EAQDlM,aAAgB2R,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqBC,EAAKmS,KAAKygB,EAAM5yB,MAC7C,OAAOkM,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqB6yB,EAAM5yB,OAASA,EAC5C,OAAOkM,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWlM,EACJ/J,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,YAAA4iC,CAAa7vC,GACX,OAAOjW,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,YAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,IAG5B,CACD,SAAA8iC,CAAU/2B,EAAMhZ,GACd,OAAKA,EAQDgZ,aAAgBvT,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBmlB,EAAK/S,KAAKygB,EAAM1N,MAC3C,OAAOhZ,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM1N,OAASA,EAC1C,OAAOhZ,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWgZ,EACJjvB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAA+uC,CAAUj3C,EAAU/E,GAClB,OAAKA,EAQD+E,aAAoBU,OACf1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBkR,EAASkB,KAAKygB,EAAM3hB,UAC/C,OAAO/E,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM3hB,WAAaA,EAC9C,OAAO/E,EAAS0mB,EAAOzZ,MAhBzBjN,EAAW+E,EACJhb,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAIqiC,GACF,GAAKvlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAM,EAC3B,CACD,QAAIQ,GACF,GAAKhlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAMxkD,KAAKmpD,QAAQ3E,MAAM5jD,OAAS,EACvD,EAmCH,OAjCAgwD,EAAUsB,cAAiBC,IACzBv9C,EAAQu9C,GAEVvB,EAAUwB,aAAgBD,IACxB5B,EAAO4B,GAETvB,EAAUyB,eAAkBF,IAC1B3B,EAAS2B,GAEXvB,EAAU0B,aAAgBH,IACxB1B,EAAO0B,GAETgO,GAAYvP,EACZA,EAAUjvB,QAAUivB,EACpBA,EAAUW,QAAWtW,IACA,WAAfA,EAAMnxC,KACR1K,OAAOC,eAAe47C,EAAOuV,EAAO/wD,WACZ,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOsV,EAAK9wD,WACV,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoO,EAAY5pD,WACjB,YAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoV,EAAQ5wD,WACb,SAAfw7C,EAAMnxC,MACf1K,OAAOC,eAAe47C,EAAOwV,EAAKhxD,WAEpCw7C,EAAMkI,IAAM,EACRlI,EAAMuJ,OACRvJ,EAAMuJ,MAAMz4C,QAAS4wB,IACnBi0B,EAAUW,QAAQ50B,MAIjBwjC,EACT,CAGA,SAASwC,KACP,GAAIrC,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IACI9N,EAAYC,EADZ7B,EAAY8R,KAEhB,MAAMhQ,UAAkB9B,EACtB,WAAA3wD,CAAYm6B,GACVukB,MAAM,CAAE70C,KAAM,cAAeswB,IACxBp6B,KAAKwkD,QACRxkD,KAAKwkD,MAAQ,GAEhB,CACD,QAAAmO,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAUH,OARA4nD,EAAUE,mBAAsBT,IAC9BK,EAAaL,GAEfO,EAAUG,kBAAqBV,IAC7BM,EAAYN,GAEdkO,GAAa3N,EACbA,EAAU/wB,QAAU+wB,EACb2N,EACT,CAGA,SAASuC,KACP,GAAIpC,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIzN,EAAU,CAAA,EAQd,OAPAwN,GAAW,SAAmB58B,GACxBovB,EAAQpvB,KACZovB,EAAQpvB,IAAW,EACI,oBAAZ58B,SAA2BA,QAAQC,MAC5CD,QAAQC,KAAK28B,GAEnB,CAEA,CAGA,SAASk/B,KACP,GAAInC,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,MAAMzN,EACJ,WAAAhzD,CAAYkK,EAAMif,EAAO,IAGvB,GAFAppB,KAAK8J,KAAO,UACZ9J,KAAKmK,KAAOA,EACRif,EAAK2T,MAAQ3T,EAAK2T,KAAK3lB,OAAQ,CACjC,IAAI+7B,EAAQ/pB,EAAK2T,KAAK2qB,QAAQt+B,GAC9BppB,KAAKu+C,KAAOpL,EAAM7oC,MAAMi0C,KACxBv+C,KAAKw+C,OAASrL,EAAM7oC,MAAMk0C,OAC1Bx+C,KAAK6+C,QAAU1L,EAAMvoC,IAAI2zC,KACzBv+C,KAAK8+C,UAAY3L,EAAMvoC,IAAI4zC,MAC5B,CACD,IAAK,IAAIx3B,KAAOoC,EAAMppB,KAAKgnB,GAAOoC,EAAKpC,EACxC,CACD,QAAAjiB,GACE,OAAI/E,KAAK+8B,KACA/8B,KAAK+8B,KAAKx5B,MAAMvD,KAAKmK,KAAM,CAChCrF,MAAO9E,KAAK8E,MACZ45C,OAAQ1+C,KAAK0+C,OACbuJ,KAAMjoD,KAAKioD,OACVtkB,QAED3jC,KAAK0+C,OACA1+C,KAAK0+C,OAAS,KAAO1+C,KAAKmK,KAE5BnK,KAAKmK,IACb,EAIH,OAFAs2D,GAAUxN,EACVA,EAAQtxB,QAAUsxB,EACXwN,EACT,CAGA,SAASqC,KACP,GAAInC,GAAmB,OAAO/+D,GAC9B++D,GAAoB,EACpB,IAAI1N,EAAU4P,KACd,MAAM1P,EACJ,WAAAlzD,CAAYmzD,EAAY5N,EAAOp8B,GAC7BppB,KAAKqzD,UAAYD,EACjBpzD,KAAKszD,SAAW,GAChBtzD,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,SAAM,EACX79B,KAAK6E,SAAM,CACZ,CACD,QAAAE,GACE,OAAO/E,KAAK69B,GACb,CACD,IAAA72B,CAAKmD,EAAMif,EAAO,IACXA,EAAKs1B,QACJ1+C,KAAKuzD,YAAcvzD,KAAKuzD,WAAWC,gBACrCpqC,EAAKs1B,OAAS1+C,KAAKuzD,WAAWC,eAGlC,IAAIC,EAAW,IAAIR,EAAQ9oD,EAAMif,GAEjC,OADAppB,KAAKszD,SAAStwD,KAAKywD,GACZA,CACR,CACD,QAAAC,GACE,OAAO1zD,KAAKszD,SAAS5yC,OAAQwC,GAAmB,YAAZA,EAAGpZ,KACxC,CACD,WAAIskD,GACF,OAAOpuD,KAAK69B,GACb,EAIH,OAFAj8B,GAASuxD,EACTA,EAAOxxB,QAAUwxB,EACVvxD,EACT,CA0NA,SAASmhE,KACP,GAAIjC,GAAmB,OAAOzC,GAC9ByC,GAAoB,EACpB,IAAIlQ,EAAY8R,KAChB,MAAMlS,UAAeI,EACnB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,QACb,CACD,MAAAkP,IAAU63C,GAER,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM3lC,UAAU63C,EACxB,CACD,OAAAW,IAAWX,GAET,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM6S,WAAWX,EACzB,EAKH,OAHAwN,GAAS7N,EACTA,EAAO7uB,QAAU6uB,EACjBI,EAAUyB,eAAe7B,GAClB6N,EACT,CAGA,SAAS2E,KACP,GAAIjC,GAAiB,OAAO1mC,GAC5B0mC,GAAkB,EAClB,IACIvO,EAAYC,EADZ7B,EAAY8R,KAEhB,MAAMjS,UAAaG,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,SAAAsM,CAAUn0B,EAAO20B,EAAQxnD,GACvB,IAAI06C,EAAQ7F,MAAMmS,UAAUn0B,GAC5B,GAAI20B,EACF,GAAa,YAATxnD,EACE9J,KAAKwkD,MAAM5jD,OAAS,EACtB0wD,EAAOhN,KAAK55C,OAAS1K,KAAKwkD,MAAM,GAAGF,KAAK55C,cAEjC4mD,EAAOhN,KAAK55C,YAEhB,GAAI1K,KAAKulD,QAAU+L,EACxB,IAAK,IAAIrW,KAASuJ,EAChBvJ,EAAMqJ,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAItC,OAAO85C,CACR,CACD,WAAAnL,CAAY1c,EAAOk3B,GACjB,IAAItU,EAASv/C,KAAK8E,MAAM63B,GAIxB,OAHKk3B,GAAqB,IAAXtU,GAAgBv/C,KAAKwkD,MAAM5jD,OAAS,IACjDZ,KAAKwkD,MAAM,GAAGF,KAAK55C,OAAS1K,KAAKwkD,MAAMjF,GAAQ+E,KAAK55C,QAE/Ci0C,MAAMtF,YAAY1c,EAC1B,CACD,QAAAg2B,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAWH,OATA2lD,EAAKmC,mBAAsBT,IACzBK,EAAaL,GAEf1B,EAAKoC,kBAAqBV,IACxBM,EAAYN,GAEd93B,GAAOo2B,EACPA,EAAK9uB,QAAU8uB,EACfG,EAAU0B,aAAa7B,GAChBp2B,EACT,CAGA,SAAS4oC,KACP,GAAIhC,GAAiB,OAAOD,GAC5BC,GAAkB,EAClB,IAAIn0C,EAAO,CACTinC,MAAM3O,GACGt4B,EAAK5iB,MAAMk7C,EAAQ,CAAC,MAAM,GAEnC4O,MAAM5O,GAEGt4B,EAAK5iB,MAAMk7C,EADL,CAAC,IAAK,KAAM,OAG3B,KAAAl7C,CAAMk7C,EAAQ6O,EAAYjP,GACxB,IAAIkP,EAAQ,GACRx4B,EAAU,GACVxxB,GAAQ,EACRulB,EAAO,EACP0kC,GAAU,EACVC,EAAY,GACZn4B,GAAS,EACb,IAAK,IAAIo4B,KAAUjP,EACbnpB,EACFA,GAAS,EACW,OAAXo4B,EACTp4B,GAAS,EACAk4B,EACLE,IAAWD,IACbD,GAAU,GAEQ,MAAXE,GAA6B,MAAXA,GAC3BF,GAAU,EACVC,EAAYC,GACQ,MAAXA,EACT5kC,GAAQ,EACY,MAAX4kC,EACL5kC,EAAO,IAAGA,GAAQ,GACJ,IAATA,GACLwkC,EAAWluD,SAASsuD,KAASnqD,GAAQ,GAEvCA,GACc,KAAZwxB,GAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACvCsxB,EAAU,GACVxxB,GAAQ,GAERwxB,GAAW24B,EAIf,OADIrP,GAAoB,KAAZtpB,IAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACxC8pD,CACR,GAIH,OAFA8M,GAASl0C,EACTA,EAAK6U,QAAU7U,EACRk0C,EACT,CAGA,SAASkC,KACP,GAAIhC,GAAiB,OAAOllD,GAC5BklD,GAAkB,EAClB,IAAItQ,EAAY8R,KACZ51C,EAAOm2C,KACX,MAAM1S,UAAaK,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,aAAI/jC,GACF,OAAOqM,EAAKinC,MAAM/zD,KAAKgb,SACxB,CACD,aAAIyF,CAAUwe,GACZ,IAAI2S,EAAQ5xC,KAAKgb,SAAWhb,KAAKgb,SAAS42B,MAAM,QAAU,KACtD8b,EAAM9b,EAAQA,EAAM,GAAK,IAAM5xC,KAAK6kD,IAAI,UAAW,cACvD7kD,KAAKgb,SAAWikB,EAAOj5B,KAAK0nD,EAC7B,EAKH,OAHA1xC,GAAOu0C,EACPA,EAAK5uB,QAAU4uB,EACfK,EAAUwB,aAAa7B,GAChBv0C,EACT,CAGA,SAASmnD,KACP,GAAIhC,GAAmB,OAAOjG,GAC9BiG,GAAoB,EACpB,IAAI9X,EAAc+Y,KACd5N,EA5XN,WACE,GAAIqM,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,MAAMpM,EAAe,IAAIpkD,WAAW,GAC9BqkD,EAAe,IAAIrkD,WAAW,GAC9BskD,EAAY,KAAKtkD,WAAW,GAC5BukD,EAAQ,IAAIvkD,WAAW,GACvBwkD,EAAU,KAAKxkD,WAAW,GAC1BykD,EAAQ,IAAIzkD,WAAW,GACvB0kD,EAAO,KAAK1kD,WAAW,GACvB2kD,EAAM,KAAI3kD,WAAW,GACrB4kD,EAAK,KAAK5kD,WAAW,GACrB6kD,EAAc,IAAI7kD,WAAW,GAC7B8kD,EAAe,IAAI9kD,WAAW,GAC9B+kD,EAAmB,IAAI/kD,WAAW,GAClCglD,EAAoB,IAAIhlD,WAAW,GACnCilD,EAAa,IAAIjlD,WAAW,GAC5BklD,EAAc,IAAIllD,WAAW,GAC7BmlD,EAAY,IAAInlD,WAAW,GAC3BolD,EAAW,IAAIplD,WAAW,GAC1BqlD,EAAQ,IAAIrlD,WAAW,GACvBslD,EAAK,IAAItlD,WAAW,GACpBulD,EAAY,6BACZC,EAAc,wCACdC,EAAiB,gBACjBC,EAAgB,WA0LtB,OAzLA6K,GAAW,SAAmB5X,EAAQhhD,EAAU,CAAA,GAC9C,IAEIwJ,EAAM/P,EAAMu0D,EAAO5H,EAASnyB,EAC5BxgB,EAASw6C,EAAWzuC,EAAMyyB,EAAIic,EAH9Br4B,EAAMmrB,EAAOnrB,IAAIs4B,UACjBtC,EAAS7rD,EAAQouD,aAGjBx1D,EAASi9B,EAAIj9B,OACb6jB,EAAM,EACN4xC,EAAS,GACTC,EAAW,GAIf,SAASC,EAASC,GAChB,MAAMxN,EAAOzlD,MAAM,YAAcizD,EAAM/xC,EACxC,CAoKD,MAAO,CACLgyC,KAJF,SAAcC,GACZJ,EAAStzD,KAAK0zD,EACf,EAGCC,UArKF,WACE,OAA2B,IAApBL,EAAS11D,QAAgB6jB,GAAO7jB,CACxC,EAoKCg2D,UAnKF,SAAmBxtC,GACjB,GAAIktC,EAAS11D,OAAQ,OAAO01D,EAASvzD,MACrC,GAAI0hB,GAAO7jB,EAAQ,OACnB,IAAIi2D,IAAiBztC,GAAOA,EAAKytC,eAEjC,OADArlD,EAAOqsB,EAAIxtB,WAAWoU,GACdjT,GACN,KAAKqjD,EACL,KAAKC,EACL,KAAKE,EACL,KAAKC,EACL,KAAKF,EACHtzD,EAAOgjB,EACP,GACEhjB,GAAQ,EACR+P,EAAOqsB,EAAIxtB,WAAW5O,SACf+P,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,GACvFmB,EAAe,CAAC,QAASr4B,EAAIh6B,MAAM4gB,EAAKhjB,IACxCgjB,EAAMhjB,EAAO,EACb,MAEF,KAAKyzD,EACL,KAAKC,EACL,KAAKG,EACL,KAAKC,EACL,KAAKG,EACL,KAAKF,EACL,KAAKH,EAAmB,CACtB,IAAIyB,EAAch3D,OAAO8pB,aAAapY,GACtC0kD,EAAe,CAACY,EAAaA,EAAaryC,GAC1C,KACD,CACD,KAAK2wC,EAGH,GAFA5tC,EAAO6uC,EAAOz1D,OAASy1D,EAAOtzD,MAAM,GAAK,GACzCk3C,EAAKpc,EAAIxtB,WAAWoU,EAAM,GACb,QAAT+C,GAAkByyB,IAAOwa,GAAgBxa,IAAOya,GAAgBza,IAAO6a,GAAS7a,IAAO4a,GAAW5a,IAAO+a,GAAO/a,IAAO8a,GAAQ9a,IAAOgb,EAAI,CAC5IxzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ,IAAKzmD,EAAO,IACjB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EACP,KAClB,CACkB8xC,EAAS,UAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,WAAYr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC3DgjB,EAAMhjB,CAClB,MACYA,EAAOo8B,EAAIqqB,QAAQ,IAAKzjC,EAAM,GAC9B2pC,EAAUvwB,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,IAClB,IAAVA,GAAeq0D,EAAe55C,KAAKkyC,GACrC8H,EAAe,CAAC,IAAK,IAAKzxC,IAE1ByxC,EAAe,CAAC,WAAY9H,EAAS3pC,EAAKhjB,GAC1CgjB,EAAMhjB,GAGV,MAEF,KAAKgzD,EACL,KAAKC,EACHsB,EAAQxkD,IAASijD,EAAe,IAAM,IACtChzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ8N,EAAOv0D,EAAO,IACnB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EAAM,EACb,KAChB,CACgB8xC,EAAS,SAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,SAAUr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACzDgjB,EAAMhjB,EACN,MAEF,KAAKk0D,EACHC,EAAUmB,UAAYtyC,EAAM,EAC5BmxC,EAAU15C,KAAK2hB,GAEbp8B,EAD0B,IAAxBm0D,EAAUmB,UACLl5B,EAAIj9B,OAAS,EAEbg1D,EAAUmB,UAAY,EAE/Bb,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,EACN,MAEF,KAAKkzD,EAGH,IAFAlzD,EAAOgjB,EACPwX,GAAS,EACF4B,EAAIxtB,WAAW5O,EAAO,KAAOkzD,GAClClzD,GAAQ,EACRw6B,GAAUA,EAGZ,GADAzqB,EAAOqsB,EAAIxtB,WAAW5O,EAAO,GACzBw6B,GAAUzqB,IAASojD,GAASpjD,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,IAC5GtzD,GAAQ,EACJs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,KAAQ,CACxC,KAAOs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,EAAO,KAC1CA,GAAQ,EAENo8B,EAAIxtB,WAAW5O,EAAO,KAAOqzD,IAC/BrzD,GAAQ,EAEX,CAEHy0D,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvDgjB,EAAMhjB,EACN,MAEF,QACM+P,IAASojD,GAAS/2B,EAAIxtB,WAAWoU,EAAM,KAAOgxC,GAChDh0D,EAAOo8B,EAAIqqB,QAAQ,KAAMzjC,EAAM,GAAK,EACvB,IAAThjB,IACEoyD,GAAUgD,EACZp1D,EAAOo8B,EAAIj9B,OAEX21D,EAAS,YAGbL,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,IAENo0D,EAAYkB,UAAYtyC,EAAM,EAC9BoxC,EAAY35C,KAAK2hB,GAEfp8B,EAD4B,IAA1Bo0D,EAAYkB,UACPl5B,EAAIj9B,OAAS,EAEbi1D,EAAYkB,UAAY,EAEjCb,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvD40D,EAAOrzD,KAAKkzD,GACZzxC,EAAMhjB,GAMZ,OADAgjB,IACOyxC,CACR,EAQCe,SA7KF,WACE,OAAOxyC,CACR,EA6KL,CAEA,CAwKkB2+C,GACZ/S,EAAUoS,KACVjS,EAASuS,KACTtS,EAAOuS,KACPzS,EAAO2S,KACX,MAAM/L,EAAwB,CAC5BC,OAAO,EACPpD,OAAO,GAqgBT,OADAkH,GA3fA,MACE,WAAAj7D,CAAY+oD,GACVhpD,KAAK+5B,MAAQivB,EACbhpD,KAAKq6B,KAAO,IAAIo2B,EAChBzwD,KAAK07B,QAAU17B,KAAKq6B,KACpBr6B,KAAKq3D,OAAS,GACdr3D,KAAKgkD,WAAY,EACjBhkD,KAAKs3D,kBACLt3D,KAAKq6B,KAAKjjB,OAAS,CAAE2iB,MAAOivB,EAAQ1+C,MAAO,CAAEk0C,OAAQ,EAAGD,KAAM,EAAGkO,OAAQ,GAC1E,CACD,MAAAtI,CAAOuS,GACL,IAMI5sD,EACA0d,EACAyE,EARAgvB,EAAQ,IAAIuV,EAChBvV,EAAMlxC,KAAO2sD,EAAM,GAAG7yD,MAAM,GACT,KAAfo3C,EAAMlxC,MACR/J,KAAKu3D,cAActc,EAAOyb,GAE5B12D,KAAKwnC,KAAKyT,EAAOyb,EAAM,IAIvB,IAAI1R,GAAO,EACP3zB,GAAO,EACP+yB,EAAS,GACToT,EAAW,GACf,MAAQx3D,KAAKw0D,UAAUmC,aAAa,CAUlC,GARA7sD,GADA4sD,EAAQ12D,KAAKw0D,UAAUoC,aACV,GACA,MAAT9sD,GAAyB,MAATA,EAClB0tD,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,KACjB,MAATA,GAAgB0tD,EAAS52D,OAAS,EAC3C42D,EAASx0D,KAAK,KACL8G,IAAS0tD,EAASA,EAAS52D,OAAS,IAC7C42D,EAASz0D,MAEa,IAApBy0D,EAAS52D,OAAc,CACzB,GAAa,MAATkJ,EAAc,CAChBmxC,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAC1Czb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKgkD,WAAY,EACjB,KACZ,CAAiB,GAAa,MAATl6C,EAAc,CACvBunB,GAAO,EACP,KACZ,CAAiB,GAAa,MAATvnB,EAAc,CACvB,GAAIs6C,EAAOxjD,OAAS,EAAG,CAGrB,IAFAqrB,EAAQm4B,EAAOxjD,OAAS,EACxB4mB,EAAO48B,EAAOn4B,GACPzE,GAAoB,UAAZA,EAAK,IAClBA,EAAO48B,IAASn4B,GAEdzE,IACFyzB,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYjwC,EAAK,IAAMA,EAAK,IACpDyzB,EAAM7jC,OAAOxM,IAAI6hD,SAEpB,CACDzsD,KAAK4K,IAAI8rD,GACT,KACZ,CACYtS,EAAOphD,KAAK0zD,EAExB,MACUtS,EAAOphD,KAAK0zD,GAEd,GAAI12D,KAAKw0D,UAAUmC,YAAa,CAC9B3R,GAAO,EACP,KACD,CACF,CACD/J,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBtT,GAC/CA,EAAOxjD,QACTq6C,EAAMqJ,KAAKC,UAAYvkD,KAAK23D,2BAA2BvT,GACvDpkD,KAAK6kD,IAAI5J,EAAO,SAAUmJ,GACtBY,IACF0R,EAAQtS,EAAOA,EAAOxjD,OAAS,GAC/Bq6C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKq3D,OAASpc,EAAMqJ,KAAKI,QACzBzJ,EAAMqJ,KAAKI,QAAU,MAGvBzJ,EAAMqJ,KAAKC,UAAY,GACvBtJ,EAAMmJ,OAAS,IAEb/yB,IACF4pB,EAAMuJ,MAAQ,GACdxkD,KAAK07B,QAAUuf,EAElB,CACD,oBAAA2c,CAAqBC,GACnB,IAAIlU,EAAQ3jD,KAAK2jD,MAAMkU,GACvB,IAAc,IAAVlU,EAAiB,OACrB,IACI+S,EADAoB,EAAU,EAEd,IAAK,IAAIv2C,EAAIoiC,EAAQ,EAAGpiC,GAAK,IAC3Bm1C,EAAQmB,EAAOt2C,GACE,UAAbm1C,EAAM,KACRoB,GAAW,EACK,IAAZA,IAJwBv2C,KAOhC,MAAMvhB,KAAK+5B,MAAMx2B,MACf,mBACa,SAAbmzD,EAAM,GAAgBA,EAAM,GAAK,EAAIA,EAAM,GAE9C,CACD,KAAA/S,CAAMkU,GACJ,IACInB,EAAO5sD,EAAM0d,EADbgwC,EAAW,EAEf,IAAK,IAAKt0C,EAAI/I,KAAY09C,EAAOjyD,UAAW,CAS1C,GARA8wD,EAAQv8C,EACRrQ,EAAO4sD,EAAM,GACA,MAAT5sD,IACF0tD,GAAY,GAED,MAAT1tD,IACF0tD,GAAY,GAEG,IAAbA,GAA2B,MAAT1tD,EAAc,CAClC,GAAK0d,EAEE,IAAgB,SAAZA,EAAK,IAA6B,WAAZA,EAAK,GACpC,SAEA,OAAOtE,CACR,CALCljB,KAAK+3D,YAAYrB,EAMpB,CACDlvC,EAAOkvC,CACR,CACD,OAAO,CACR,CACD,OAAAjrB,CAAQirB,GACN,IAAIzb,EAAQ,IAAIoV,EAChBrwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjB,IAAItiD,EAAOusD,EAAM,GAAG7yD,MAAM,GAAI,GAC9B,GAAI,QAAQqY,KAAK/R,GACf8wC,EAAM9wC,KAAO,GACb8wC,EAAMqJ,KAAKW,KAAO96C,EAClB8wC,EAAMqJ,KAAKY,MAAQ,OACd,CACL,IAAItT,EAAQznC,EAAKynC,MAAM,wBACvBqJ,EAAM9wC,KAAOynC,EAAM,GACnBqJ,EAAMqJ,KAAKW,KAAOrT,EAAM,GACxBqJ,EAAMqJ,KAAKY,MAAQtT,EAAM,EAC1B,CACF,CACD,eAAA0lB,GACEt3D,KAAKw0D,UAAYA,EAAUx0D,KAAK+5B,MACjC,CACD,IAAAorB,CAAK0S,EAAQG,GACX,IAAI/c,EAAQ,IAAIoO,EAChBrpD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B,IAuBInB,EAvBA1R,EAAO6S,EAAOA,EAAOj3D,OAAS,GASlC,IARgB,MAAZokD,EAAK,KACPhlD,KAAKgkD,WAAY,EACjB6T,EAAO90D,OAETk4C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YACtBzS,EAAK,IAAMA,EAAK,IAtKtB,SAA8B6S,GAC5B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAC9C,IAAIwzC,EAAQmB,EAAO30C,GACfuB,EAAMiyC,EAAM,IAAMA,EAAM,GAC5B,GAAIjyC,EAAK,OAAOA,CACjB,CACF,CAgK2BwzC,CAAqBJ,IAE7C5c,EAAM7jC,OAAOxM,IAAI6hD,SACO,SAAjBoL,EAAO,GAAG,IACO,IAAlBA,EAAOj3D,QAAcZ,KAAKk4D,YAAYL,GAC1C5c,EAAMqJ,KAAK55C,QAAUmtD,EAAO5rC,QAAQ,GAItC,IAFAgvB,EAAM7jC,OAAO9M,MAAQtK,KAAKy3D,YAAYI,EAAO,GAAG,IAChD5c,EAAMhsB,KAAO,GACN4oC,EAAOj3D,QAAQ,CACpB,IAAIkJ,EAAO+tD,EAAO,GAAG,GACrB,GAAa,MAAT/tD,GAAyB,UAATA,GAA6B,YAATA,EACtC,MAEFmxC,EAAMhsB,MAAQ4oC,EAAO5rC,QAAQ,EAC9B,CAGD,IAFAgvB,EAAMqJ,KAAKI,QAAU,GAEdmT,EAAOj3D,QAAQ,CAEpB,GADA81D,EAAQmB,EAAO5rC,QACE,MAAbyqC,EAAM,GAAY,CACpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,GAC5B,KACV,CAC2B,SAAbA,EAAM,IAAiB,KAAKx6C,KAAKw6C,EAAM,KACzC12D,KAAKk4D,YAAY,CAACxB,IAEpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,EAE/B,CACqB,MAAlBzb,EAAMhsB,KAAK,IAAgC,MAAlBgsB,EAAMhsB,KAAK,KACtCgsB,EAAMqJ,KAAK55C,QAAUuwC,EAAMhsB,KAAK,GAChCgsB,EAAMhsB,KAAOgsB,EAAMhsB,KAAKprB,MAAM,IAEhC,IACIpC,EADA02D,EAAc,GAElB,KAAON,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB02D,EAAYn1D,KAAK60D,EAAO5rC,SAE1BjsB,KAAKo4D,wBAAwBP,GAC7B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAE9C,GADAwzC,EAAQmB,EAAO30C,GACgB,eAA3BwzC,EAAM,GAAGp8C,cAAgC,CAC3C2gC,EAAMoK,WAAY,EAClB,IAAID,EAASplD,KAAKq4D,WAAWR,EAAQ30C,GACrCkiC,EAASplD,KAAKs4D,cAAcT,GAAUzS,EACvB,gBAAXA,IAA0BnK,EAAMqJ,KAAKe,UAAYD,GACrD,KACD,CAAM,GAA+B,cAA3BsR,EAAM,GAAGp8C,cAA+B,CACjD,IAAIi+C,EAAQV,EAAOh0D,MAAM,GACrBsM,EAAM,GACV,IAAK,IAAIoR,EAAI2B,EAAI3B,EAAI,EAAGA,IAAK,CAC3B,IAAIzX,EAAOyuD,EAAMh3C,GAAG,GACpB,GAAgC,IAA5BpR,EAAI/F,OAAO89C,QAAQ,MAAuB,UAATp+C,EACnC,MAEFqG,EAAMooD,EAAMx1D,MAAM,GAAKoN,CACxB,CAC+B,IAA5BA,EAAI/F,OAAO89C,QAAQ,OACrBjN,EAAMoK,WAAY,EAClBpK,EAAMqJ,KAAKe,UAAYl1C,EACvB0nD,EAASU,EAEZ,CACD,GAAiB,UAAb7B,EAAM,IAA+B,YAAbA,EAAM,GAChC,KAEH,CACamB,EAAO98C,KAAMmI,GAAiB,UAAVA,EAAG,IAA4B,YAAVA,EAAG,MAExD+3B,EAAMqJ,KAAKI,SAAWyT,EAAYtzD,IAAKqe,GAAOA,EAAG,IAAIld,KAAK,IAC1DmyD,EAAc,IAEhBn4D,KAAK6kD,IAAI5J,EAAO,QAASkd,EAAYr0D,OAAO+zD,GAASG,GACjD/c,EAAM15C,MAAMwE,SAAS,OAASiyD,GAChCh4D,KAAK43D,qBAAqBC,EAE7B,CACD,WAAAE,CAAYrB,GACV,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,CACD,SAAA43D,CAAU9B,GACR,IAAIzb,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAMjgC,SAAW,GACjBigC,EAAMqJ,KAAKI,QAAU,GACrB1kD,KAAK07B,QAAUuf,CAChB,CACD,GAAArwC,CAAI8rD,GACE12D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAKgkD,WAAY,EACjBhkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq3D,OAAS,GACVr3D,KAAK07B,QAAQe,QACfz8B,KAAK07B,QAAQtkB,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IACjD12D,KAAK07B,QAAQtkB,OAAOxM,IAAI6hD,SACxBzsD,KAAK07B,QAAU17B,KAAK07B,QAAQe,QAE5Bz8B,KAAKy4D,gBAAgB/B,EAExB,CACD,OAAAgC,GACM14D,KAAK07B,QAAQe,QAAQz8B,KAAK24D,gBAC1B34D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq6B,KAAKjjB,OAAOxM,IAAM5K,KAAKy3D,YAAYz3D,KAAKw0D,UAAUyC,WACxD,CACD,aAAA2B,CAAclC,GAEZ,GADA12D,KAAKq3D,QAAUX,EAAM,GACjB12D,KAAK07B,QAAQ8oB,MAAO,CACtB,IAAIh9B,EAAOxnB,KAAK07B,QAAQ8oB,MAAMxkD,KAAK07B,QAAQ8oB,MAAM5jD,OAAS,GACtD4mB,GAAsB,SAAdA,EAAK1d,OAAoB0d,EAAK88B,KAAKkC,eAC7Ch/B,EAAK88B,KAAKkC,aAAexmD,KAAKq3D,OAC9Br3D,KAAKq3D,OAAS,GAEjB,CACF,CAED,WAAAI,CAAYhL,GACV,IAAIhoC,EAAMzkB,KAAK+5B,MAAM2yB,WAAWD,GAChC,MAAO,CACLjO,OAAQ/5B,EAAIkoC,IACZpO,KAAM95B,EAAI85B,KACVkO,SAEH,CACD,IAAAjlB,CAAKyT,EAAOwR,GACVzsD,KAAK07B,QAAQ14B,KAAKi4C,GAClBA,EAAM7jC,OAAS,CACb2iB,MAAO/5B,KAAK+5B,MACZzvB,MAAOtK,KAAKy3D,YAAYhL,IAE1BxR,EAAMqJ,KAAK55C,OAAS1K,KAAKq3D,OACzBr3D,KAAKq3D,OAAS,GACK,YAAfpc,EAAMnxC,OAAoB9J,KAAKgkD,WAAY,EAChD,CACD,KAAApT,CAAMtmC,GACJ,IAAIM,GAAM,EACNd,EAAO,KACP65C,GAAQ,EACRkV,EAAU,KACVrB,EAAW,GACXQ,EAAiB1tD,EAAM,GAAGmQ,WAAW,MACrCo9C,EAAS,GACTnB,EAAQpsD,EACZ,KAAOosD,GAAO,CAGZ,GAFA5sD,EAAO4sD,EAAM,GACbmB,EAAO70D,KAAK0zD,GACC,MAAT5sD,GAAyB,MAATA,EACb+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,UAC9B,GAAIkuD,GAAkBrU,GAAkB,MAAT75C,EAC/B+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAK,UACT,GAAwB,IAApBw0D,EAAS52D,OAAc,CAChC,GAAa,MAATkJ,EAAc,CAChB,GAAI65C,EAEF,YADA3jD,KAAKmlD,KAAK0S,EAAQG,GAGlB,KAEd,CAAiB,GAAa,MAATluD,EAET,YADA9J,KAAKgc,KAAK67C,GAEL,GAAa,MAAT/tD,EAAc,CACvB9J,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAC3B6H,GAAM,EACN,KACZ,CAA8B,MAATd,IACT65C,GAAQ,EAEpB,MAAmB75C,IAAS0tD,EAASA,EAAS52D,OAAS,KAC7C42D,EAASz0D,MACe,IAApBy0D,EAAS52D,SAAci4D,EAAU,OAEvCnC,EAAQ12D,KAAKw0D,UAAUoC,WACxB,CAGD,GAFI52D,KAAKw0D,UAAUmC,cAAa/rD,GAAM,GAClC4sD,EAAS52D,OAAS,GAAGZ,KAAK84D,gBAAgBD,GAC1CjuD,GAAO+4C,EAAO,CAChB,IAAKqU,EACH,KAAOH,EAAOj3D,SACZ81D,EAAQmB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAV81D,GAA+B,YAAVA,IACzB12D,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAG/B/C,KAAKmlD,KAAK0S,EAAQG,EAC1B,MACQh4D,KAAKk4D,YAAYL,EAEpB,CACD,KAAAjjD,GACE,IAAI8hD,EACJ,MAAQ12D,KAAKw0D,UAAUmC,aAErB,OADAD,EAAQ12D,KAAKw0D,UAAUoC,YACfF,EAAM,IACZ,IAAK,QACH12D,KAAKq3D,QAAUX,EAAM,GACrB,MACF,IAAK,IACH12D,KAAK44D,cAAclC,GACnB,MACF,IAAK,IACH12D,KAAK4K,IAAI8rD,GACT,MACF,IAAK,UACH12D,KAAKyrC,QAAQirB,GACb,MACF,IAAK,UACH12D,KAAKmkD,OAAOuS,GACZ,MACF,IAAK,IACH12D,KAAKw4D,UAAU9B,GACf,MACF,QACE12D,KAAK4wC,MAAM8lB,GAIjB12D,KAAK04D,SACN,CACD,uBAAAN,GACC,CACD,GAAAvT,CAAI5J,EAAOhsB,EAAM4oC,EAAQG,GACvB,IAAItB,EAAO5sD,EAIPrI,EAAM+lB,EAHN5mB,EAASi3D,EAAOj3D,OAChBW,EAAQ,GACRw3D,GAAQ,EAEZ,IAAK,IAAI71C,EAAK,EAAGA,EAAKtiB,EAAQsiB,GAAM,EAClCwzC,EAAQmB,EAAO30C,GACfpZ,EAAO4sD,EAAM,GACA,UAAT5sD,GAAoBoZ,IAAOtiB,EAAS,GAAMo3D,EAE1B,YAATluD,GACT0d,EAAOqwC,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QAC5CzhB,EAAOo2D,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QACvCi0C,EAAsB3vC,IAAU2vC,EAAsB11D,IACjC,MAApBF,EAAMsC,OAAO,GAMjBk1D,GAAQ,EAHNx3D,GAASm1D,EAAM,IAMnBn1D,GAASm1D,EAAM,GAdfqC,GAAQ,EAiBZ,IAAKA,EAAO,CACV,IAAIlU,EAAMgT,EAAOtgD,OAAO,CAAC8V,EAAKnK,IAAOmK,EAAMnK,EAAG,GAAI,IAClD+3B,EAAMqJ,KAAKr1B,GAAQ,CAAE41B,MAAKtjD,QAC3B,CACD05C,EAAMhsB,GAAQ1tB,CACf,CACD,IAAAya,CAAK67C,GACHA,EAAO90D,MACP,IAAIk4C,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B5c,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBG,GACnD73D,KAAK6kD,IAAI5J,EAAO,WAAY4c,GAC5B73D,KAAK07B,QAAUuf,CAChB,CACD,wBAAAyc,CAAyBG,GACvB,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,GAA+C,YAAlBA,IACjC3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CAED,0BAAAM,CAA2BE,GACzB,IAAIp2D,EACA41D,EAAS,GACb,KAAOQ,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB41D,GAAUQ,EAAO5rC,QAAQ,GAE3B,OAAOorC,CACR,CACD,aAAAiB,CAAcT,GACZ,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,IACJ3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CACD,UAAAgB,CAAWR,EAAQn0D,GACjB,IAAI+kD,EAAU,GACd,IAAK,IAAIvlC,EAAKxf,EAAMwf,EAAK20C,EAAOj3D,OAAQsiB,IACtCulC,GAAWoP,EAAO30C,GAAI,GAGxB,OADA20C,EAAOphD,OAAO/S,EAAMm0D,EAAOj3D,OAAS8C,GAC7B+kD,CACR,CACD,aAAAkQ,GACE,IAAIl0C,EAAMzkB,KAAK07B,QAAQtkB,OAAO9M,MAC9B,MAAMtK,KAAK+5B,MAAMx2B,MAAM,iBAAkBkhB,EAAI85B,KAAM95B,EAAI+5B,OACxD,CACD,eAAAsa,CAAgBD,GACd,MAAM74D,KAAK+5B,MAAMx2B,MACf,mBACA,CAAEkpD,OAAQoM,EAAQ,IAClB,CAAEpM,OAAQoM,EAAQ,GAAK,GAE1B,CACD,eAAAJ,CAAgB/B,GACd,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAK,GAExB,CACD,WAAAwB,CAAYL,GACV,MAAM73D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQoL,EAAO,GAAG,IACpB,CAAEpL,OAAQoL,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAGj3D,QAEzC,CACD,aAAA22D,CAActc,EAAOyb,GACnB,MAAM12D,KAAK+5B,MAAMx2B,MACf,uBACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,GAGIs6D,EACT,CAGA,SAASmI,KACP,GAAIhC,GAAkB,OAAOD,GAC7BC,GAAmB,EACnB,IAAIzQ,EAAY8R,KACZxJ,EAASiK,KACT7W,EAAQiW,KACZ,SAAS3tD,EAAMipB,EAAKzU,GAClB,IAAI4/B,EAAS,IAAIsD,EAAMzuB,EAAKzU,GACxB+vC,EAAU,IAAID,EAAOlQ,GACzB,IACEmQ,EAAQvkD,OACT,CAAC,MAAOm9C,GAYP,KAX6B,eAAzBqH,QAAQC,IAAIC,UACE,mBAAZvH,EAAGhoD,MAA6Bqf,GAAQA,EAAK1lB,OAC3C,WAAWwY,KAAKkN,EAAK1lB,MACvBquD,EAAGpuB,SAAW,iGACL,UAAUznB,KAAKkN,EAAK1lB,MAC7BquD,EAAGpuB,SAAW,iGACL,WAAWznB,KAAKkN,EAAK1lB,QAC9BquD,EAAGpuB,SAAW,mGAIdouB,CACP,CACD,OAAOoH,EAAQ9+B,IAChB,CAID,OAHA+mC,GAAUxsD,EACVA,EAAM+sB,QAAU/sB,EAChBg8C,EAAUsB,cAAct9C,GACjBwsD,EACT,CAGA,SAASkC,KACP,GAAI/B,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IAAIre,QAAEA,EAAOC,GAAEA,GAAO6e,KAClBxI,EAAegJ,KACf9b,EAAawb,KACbtR,EAAY8R,KACZhQ,EAAYiQ,KACZlJ,EAAYmJ,KACZzP,EAAS2P,KACTluD,EAAQyuD,KACR5S,EAAOuS,KACX,MAAMtJ,EAAqB,CACzBvV,OAAQ,SACR1Y,QAAS,UACT0Z,KAAM,cACN7kC,SAAU,WACV+Z,KAAM,OACNre,KAAM,QAEF29C,EAAe,CACnBnJ,QAAQ,EACRoJ,YAAY,EACZvJ,SAAS,EACTwJ,aAAa,EACbxQ,aAAa,EACbyQ,iBAAiB,EACjBC,UAAU,EACVC,cAAc,EACdC,MAAM,EACNC,UAAU,EACV1G,eAAe,EACf2G,SAAS,EACT1J,MAAM,EACN2J,UAAU,EACV7J,MAAM,EACN8J,UAAU,GAENC,EAAe,CACnBL,MAAM,EACNzG,eAAe,EACf2G,SAAS,GAGX,SAASI,EAAUttD,GACjB,MAAsB,iBAARA,GAAwC,mBAAbA,EAAInL,IAC9C,CACD,SAAS04D,EAAUvf,GACjB,IAAIjuC,GAAM,EACNlD,EAAO4vD,EAAmBze,EAAMnxC,MAMpC,MALmB,SAAfmxC,EAAMnxC,KACRkD,EAAMiuC,EAAMhsB,KAAK3U,cACO,WAAf2gC,EAAMnxC,OACfkD,EAAMiuC,EAAMlxC,KAAKuQ,eAEftN,GAAOiuC,EAAMjiC,OACR,CACLlP,EACAA,EAAO,IAAMkD,EAfF,EAiBXlD,EAAO,OACPA,EAAO,QAAUkD,GAEVA,EACF,CAAClD,EAAMA,EAAO,IAAMkD,EAAKlD,EAAO,OAAQA,EAAO,QAAUkD,GACvDiuC,EAAMjiC,OACR,CAAClP,EAvBK,EAuBWA,EAAO,QAExB,CAACA,EAAMA,EAAO,OAExB,CACD,SAAS2wD,EAAQxf,GACf,IAAIptB,EAQJ,OANEA,EADiB,aAAfotB,EAAMnxC,KACC,CAAC,WA/BG,EA+BmB,gBACR,SAAfmxC,EAAMnxC,KACN,CAAC,OAjCG,EAiCe,YAEnB0wD,EAAUvf,GAEd,CACLyf,WAAY,EACZ7sC,SACAjrB,SAAU,EACVm6B,KAAMke,EACN0f,aAAc,EACdC,SAAU,GAEb,CACD,SAASC,EAAW5f,GAGlB,OAFAA,EAAMiI,IAAW,EACbjI,EAAMuJ,OAAOvJ,EAAMuJ,MAAMz4C,QAASmX,GAAO23C,EAAW33C,IACjD+3B,CACR,CACD,IAAI6f,EAAW,CAAA,EACf,MAAMtI,EACJ,WAAAvyD,CAAYmzD,EAAYv1B,EAAKzU,GAG3B,IAAIo8B,EACJ,GAHAxlD,KAAK+6D,aAAc,EACnB/6D,KAAKg7D,WAAY,EAEE,iBAARn9B,GAA4B,OAARA,GAA8B,SAAbA,EAAI/zB,MAAgC,aAAb+zB,EAAI/zB,KAEpE,GAAI+zB,aAAe20B,GAAc30B,aAAes1B,EACrD3N,EAAQqV,EAAWh9B,EAAIxD,MACnBwD,EAAIh5B,WACkB,IAAbukB,EAAKvkB,MAAqBukB,EAAKvkB,IAAM,IAC3CukB,EAAKvkB,IAAIulD,SAAQhhC,EAAKvkB,IAAIulD,QAAS,GACxChhC,EAAKvkB,IAAI2iB,KAAOqW,EAAIh5B,SAEjB,CACL,IAAIs0D,EAAUvkD,EACVwU,EAAK6xC,SAAQ9B,EAAU/vC,EAAK6xC,OAAOrmD,OACnCwU,EAAK8xC,SAAQ/B,EAAU/vC,EAAK8xC,QAC5B/B,EAAQvkD,QAAOukD,EAAUA,EAAQvkD,OACrC,IACE4wC,EAAQ2T,EAAQt7B,EAAKzU,EACtB,CAAC,MAAO7lB,GACPvD,KAAKg7D,WAAY,EACjBh7D,KAAKuD,MAAQA,CACd,CACGiiD,IAAUA,EAAMrC,IAClByN,EAAUW,QAAQ/L,EAErB,MAtBCA,EAAQqV,EAAWh9B,GAuBrB79B,KAAK4B,OAAS,IAAIuxD,EAAOC,EAAY5N,EAAOp8B,GAC5CppB,KAAKm7D,QAAU,IAAKL,EAAUM,QAASN,EAAUl5D,OAAQ5B,KAAK4B,QAC9D5B,KAAK4pC,QAAU5pC,KAAKqzD,UAAUzpB,QAAQ/kC,IAAK65C,GACnB,iBAAXA,GAAuBA,EAAOyb,QAChC,IAAKzb,KAAWA,EAAOyb,QAAQn6D,KAAK4B,SAEpC88C,EAGZ,CACD,KAAAtsB,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACvCvD,KAAKg7D,UAAkB75D,QAAQC,QAAQpB,KAAK4B,SAC3C5B,KAAKq7D,aACRr7D,KAAKq7D,WAAar7D,KAAKs7D,YAElBt7D,KAAKq7D,WACb,CACD,MAAME,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,aAAAC,GACE,MAAM,IAAIx0D,MAAM,uDACjB,CACD,WAAAy0D,CAAYn4D,EAAO03C,GACjB,IAAIyD,EAAS1+C,KAAK4B,OAAO2xD,WACzB,IAGE,GAFItY,GAAOA,EAAM+L,WAAWzjD,GAC5BvD,KAAKuD,MAAQA,EACM,mBAAfA,EAAMwG,MAA8BxG,EAAMm7C,QAGvC,GAAIA,EAAOid,gBACa,eAAzBvC,QAAQC,IAAIC,SAA2B,CACzC,IAAIhsB,EAAaoR,EAAO8U,cACpBoI,EAAYld,EAAOid,eACnBE,EAAa77D,KAAK4B,OAAOyxD,UAAUj2C,QACnCw+B,EAAKggB,EAAU1xD,MAAM,KACrB/K,EAAI08D,EAAW3xD,MAAM,MACrB0xC,EAAG,KAAOz8C,EAAE,IAAMo4B,SAASqkB,EAAG,IAAMrkB,SAASp4B,EAAE,MACjD4H,QAAQxD,MACN,sEAAwEs4D,EAAa,SAAWvuB,EAAa,SAAWsuB,EAAY,mDAGzI,OAdDr4D,EAAMm7C,OAASA,EAAO8U,cACtBjwD,EAAMw7C,YAeT,CAAC,MAAO/zB,GACHjkB,SAAWA,QAAQxD,OAAOwD,QAAQxD,MAAMynB,EAC7C,CACD,OAAOznB,CACR,CACD,eAAAu4D,GACE97D,KAAKwN,UAAY,GACjB,IAAIiC,EAAM,CAACivC,EAAQ50C,EAAMg6B,KAClB9jC,KAAKwN,UAAU1D,KAAO9J,KAAKwN,UAAU1D,GAAQ,IAClD9J,KAAKwN,UAAU1D,GAAM9G,KAAK,CAAC07C,EAAQ5a,KAErC,IAAK,IAAI4a,KAAU1+C,KAAK4pC,QACtB,GAAsB,iBAAX8U,EACT,IAAK,IAAI9yC,KAAS8yC,EAAQ,CACxB,IAAKib,EAAa/tD,IAAU,SAASsQ,KAAKtQ,GACxC,MAAM,IAAI3E,MACR,iBAAiB2E,QAAY8yC,EAAO8U,yCAAyCxzD,KAAKqzD,UAAUj2C,iBAGhG,IAAKk9C,EAAa1uD,GAChB,GAA6B,iBAAlB8yC,EAAO9yC,GAChB,IAAK,IAAI8U,KAAUg+B,EAAO9yC,GAEtB6D,EAAIivC,EADS,MAAXh+B,EACU9U,EAIVA,EAAQ,IAAM8U,EAAOpG,cAJJokC,EAAO9yC,GAAO8U,QASH,mBAAlBg+B,EAAO9yC,IACvB6D,EAAIivC,EAAQ9yC,EAAO8yC,EAAO9yC,GAG/B,CAGL5L,KAAK+7D,YAAc38D,OAAOwF,KAAK5E,KAAKwN,WAAW5M,OAAS,CACzD,CACD,cAAM06D,GACJt7D,KAAK0+C,OAAS,EACd,IAAK,IAAIx7B,EAAK,EAAGA,EAAKljB,KAAK4pC,QAAQhpC,OAAQsiB,IAAM,CAC/C,IAAIw7B,EAAS1+C,KAAK4pC,QAAQ1mB,GACtB/c,EAAUnG,KAAKg8D,UAAUtd,GAC7B,GAAI6b,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO5C,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CAEJ,CAED,GADAvD,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IAAU,CACtBsC,EAAMtC,IAAW,EACjB,IAAIj5C,EAAQ,CAACwwD,EAAQjV,IACrB,KAAOv7C,EAAMrJ,OAAS,GAAG,CACvB,IAAIuF,EAAUnG,KAAKi8D,UAAUhyD,GAC7B,GAAIswD,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO4rD,GACP,IAAI9W,EAAQhxC,EAAMA,EAAMrJ,OAAS,GAAGm8B,KACpC,MAAM/8B,KAAK07D,YAAY3J,EAAI9W,EAC5B,CAEJ,CACF,CACD,GAAIj7C,KAAKwN,UAAU0sD,SACjB,IAAK,IAAKxb,EAAQwd,KAAYl8D,KAAKwN,UAAU0sD,SAAU,CACrDl6D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAmB,aAAf8G,EAAM17C,KAAqB,CAC7B,IAAIqyD,EAAQ3W,EAAMhB,MAAM3/C,IACrBu3D,GAAYF,EAAQE,EAASp8D,KAAKm7D,gBAE/Bh6D,QAAQksB,IAAI8uC,EAClC,YACsBD,EAAQ1W,EAAOxlD,KAAKm7D,QAE7B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EACxB,CACF,CAEJ,CAED,OADA/xD,KAAKg7D,WAAY,EACVh7D,KAAK8K,WACb,CACD,SAAAkxD,CAAUtd,GACR1+C,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAsB,iBAAXA,GAAuBA,EAAOub,KAAM,CAC7C,GAA8B,aAA1Bj6D,KAAK4B,OAAOy4B,KAAKvwB,KAAqB,CACxC,IAAIqyD,EAAQn8D,KAAK4B,OAAOy4B,KAAKmqB,MAAM3/C,IAChC2gD,GAAU9G,EAAOub,KAAKzU,EAAOxlD,KAAKm7D,UAErC,OAAIZ,EAAU4B,EAAM,IACXh7D,QAAQksB,IAAI8uC,GAEdA,CACR,CACD,OAAOzd,EAAOub,KAAKj6D,KAAK4B,OAAOy4B,KAAMr6B,KAAKm7D,QACpD,CAAe,GAAsB,mBAAXzc,EAChB,OAAOA,EAAO1+C,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAExC,CAAC,MAAO2B,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CACF,CACD,SAAAuH,GACE,GAAI9K,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAK+6D,YAAa,OAAO/6D,KAAK4B,OAClC5B,KAAK+6D,aAAc,EACnB/6D,KAAKq8D,OACL,IAAIjzC,EAAOppB,KAAK4B,OAAOwnB,KACnBjZ,EAAMu2C,EACNt9B,EAAK6xC,SAAQ9qD,EAAMiZ,EAAK6xC,OAAOnwD,WAC/Bse,EAAKkzC,cAAansD,EAAMiZ,EAAKkzC,aAC7BnsD,EAAIrF,YAAWqF,EAAMA,EAAIrF,WAC7B,IACIqe,EADM,IAAIqwC,EAAarpD,EAAKnQ,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAAOwnB,MAC/C0lC,WAGf,OAFA9uD,KAAK4B,OAAOi8B,IAAM1U,EAAK,GACvBnpB,KAAK4B,OAAOiD,IAAMskB,EAAK,GAChBnpB,KAAK4B,MACb,CACD,IAAAy6D,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAKg7D,UAAW,OAAOh7D,KAAK4B,OAEhC,GADA5B,KAAKg7D,WAAY,EACbh7D,KAAKq7D,WACP,MAAMr7D,KAAKy7D,gBAEb,IAAK,IAAI/c,KAAU1+C,KAAK4pC,QAAS,CAE/B,GAAI2wB,EADUv6D,KAAKg8D,UAAUtd,IAE3B,MAAM1+C,KAAKy7D,eAEd,CAED,GADAz7D,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IACZsC,EAAMtC,IAAW,EACjBljD,KAAKu8D,SAAS/W,GAEhB,GAAIxlD,KAAKwN,UAAU0sD,SACjB,GAAmB,aAAf1U,EAAM17C,KACR,IAAK,IAAIsyD,KAAW5W,EAAMhB,MACxBxkD,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAUkC,QAG1Cp8D,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAU1U,EAG7C,CACD,OAAOxlD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKopB,MACnBqwC,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK69B,GACb,CACD,SAAA2+B,CAAU5B,EAAU3f,GAClB,IAAK,IAAKyD,EAAQwd,KAAYtB,EAAU,CAEtC,IAAIz0D,EADJnG,KAAK4B,OAAO2xD,WAAa7U,EAEzB,IACEv4C,EAAU+1D,EAAQjhB,EAAOj7C,KAAKm7D,QAC/B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAAMkO,QAClC,CACD,GAAmB,SAAflO,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAC/D,OAAO,EAET,GAAI89B,EAAUp0D,GACZ,MAAMnG,KAAKy7D,eAEd,CACF,CACD,SAAAQ,CAAUhyD,GACR,IAAIyyD,EAASzyD,EAAMA,EAAMrJ,OAAS,IAC5Bm8B,KAAMke,EAAK2f,SAAEA,GAAa8B,EAChC,GAAmB,SAAfzhB,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAE/D,YADAxyB,EAAMlH,MAGR,GAAI63D,EAASh6D,OAAS,GAAK87D,EAAO/B,aAAeC,EAASh6D,OAAQ,CAChE,IAAK89C,EAAQwd,GAAWtB,EAAS8B,EAAO/B,cACxC+B,EAAO/B,cAAgB,EACnB+B,EAAO/B,eAAiBC,EAASh6D,SACnC87D,EAAO9B,SAAW,GAClB8B,EAAO/B,aAAe,GAExB36D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,OAAOwd,EAAQjhB,EAAM2M,UAAW5nD,KAAKm7D,QACtC,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAC5B,CACF,CACD,GAAwB,IAApByhB,EAAO95D,SAAgB,CACzB,IACI+5B,EADA/5B,EAAW85D,EAAO95D,SAEtB,KAAO+5B,EAAQse,EAAMuJ,MAAMvJ,EAAMgW,QAAQruD,KAEvC,GADAq4C,EAAMgW,QAAQruD,IAAa,GACtB+5B,EAAMumB,GAGT,OAFAvmB,EAAMumB,IAAW,OACjBj5C,EAAMjH,KAAKy3D,EAAQ99B,IAIvB+/B,EAAO95D,SAAW,SACXq4C,EAAMgW,QAAQruD,EACtB,CACD,IAAIirB,EAAS6uC,EAAO7uC,OACpB,KAAO6uC,EAAOhC,WAAa7sC,EAAOjtB,QAAQ,CACxC,IAAIgL,EAAQiiB,EAAO6uC,EAAOhC,YAE1B,GADAgC,EAAOhC,YAAc,EAxWV,IAyWP9uD,EAKF,YAJIqvC,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,SAC7Bq6C,EAAMiI,IAAW,EACjBwZ,EAAO95D,SAAWq4C,EAAM+V,gBAGrB,GAAIhxD,KAAKwN,UAAU5B,GAExB,YADA8wD,EAAO9B,SAAW56D,KAAKwN,UAAU5B,GAGpC,CACD3B,EAAMlH,KACP,CACD,QAAAw5D,CAASthB,GACPA,EAAMiI,IAAW,EACjB,IAAIr1B,EAAS2sC,EAAUvf,GACvB,IAAK,IAAIrvC,KAASiiB,EAChB,GA1XW,IA0XPjiB,EACEqvC,EAAMuJ,OACRvJ,EAAM8V,KAAMp0B,IACLA,EAAMumB,IAAUljD,KAAKu8D,SAAS5/B,SAGlC,CACL,IAAIi+B,EAAW56D,KAAKwN,UAAU5B,GAC9B,GAAIgvD,GACE56D,KAAKw8D,UAAU5B,EAAU3f,EAAM2M,WAAY,MAElD,CAEJ,CACD,QAAA8L,GACE,OAAO1zD,KAAKq8D,OAAO3I,UACpB,CACD,WAAItF,GACF,OAAOpuD,KAAK8K,YAAYsjD,OACzB,CACD,OAAIvwB,GACF,OAAO79B,KAAK8K,YAAY+yB,GACzB,CACD,OAAIh5B,GACF,OAAO7E,KAAK8K,YAAYjG,GACzB,CACD,YAAIyuD,GACF,OAAOtzD,KAAKq8D,OAAO/I,QACpB,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,OAAOr6B,KAAKq8D,OAAOhiC,IACpB,CACD,IAAK13B,OAAOq7C,eACV,MAAO,YACR,EASH,OAPAwU,EAAWmK,gBAAmBxK,IAC5B2I,EAAW3I,GAEbmP,GAAa9O,EACbA,EAAW7wB,QAAU6wB,EACrB/B,EAAKmC,mBAAmBJ,GACxBE,EAAUE,mBAAmBJ,GACtB8O,EACT,CAuHA,SAASiC,KACP,GAAI7B,GAAsB,OAAOrO,GACjCqO,GAAuB,EACvB,IAAI7E,EAvHN,WACE,GAAI4E,GAAyB,OAAOD,GACpCC,GAA0B,EAC1B,IAAIjI,EAAegJ,KACf9b,EAAawb,KACbzI,EAAYmJ,KACZhuD,EAAQyuD,KACZ,MAAMlQ,EAAS2P,KACf,MAAMjG,EACJ,WAAA58D,CAAYmzD,EAAYv1B,EAAKzU,GAO3B,IAAIo8B,EANJ3nB,EAAMA,EAAI94B,WACV/E,KAAK+6D,aAAc,EACnB/6D,KAAK88D,WAAa1J,EAClBpzD,KAAK+8D,KAAOl/B,EACZ79B,KAAKg9D,MAAQ5zC,EACbppB,KAAKi9D,UAAO,EAEZ,IAAI9sD,EAAMu2C,EACV1mD,KAAK4B,OAAS,IAAIuxD,EAAOnzD,KAAK88D,WAAYtX,EAAOxlD,KAAKg9D,OACtDh9D,KAAK4B,OAAOi8B,IAAMA,EAClB,IAAIq/B,EAAQl9D,KACZZ,OAAO0J,eAAe9I,KAAK4B,OAAQ,OAAQ,CACzCmH,IAAG,IACMm0D,EAAM7iC,OAGjB,IAAIx1B,EAAM,IAAI20D,EAAarpD,EAAKq1C,EAAOxlD,KAAKg9D,MAAOn/B,GACnD,GAAIh5B,EAAIumD,QAAS,CACf,IAAK+R,EAAcC,GAAgBv4D,EAAIiqD,WACnCqO,IACFn9D,KAAK4B,OAAOi8B,IAAMs/B,GAEhBC,IACFp9D,KAAK4B,OAAOiD,IAAMu4D,EAE5B,MACQv4D,EAAIgqD,kBACJ7uD,KAAK4B,OAAOi8B,IAAMh5B,EAAIg5B,GAEzB,CACD,KAAAzL,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACpCpC,QAAQC,QAAQpB,KAAK4B,OAC7B,CACD,MAAM25D,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,IAAAa,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,OAAOvD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKg9D,OACnBvD,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK+8D,IACb,CACD,QAAArJ,GACE,MAAO,EACR,CACD,WAAItF,GACF,OAAOpuD,KAAK4B,OAAOi8B,GACpB,CACD,OAAIA,GACF,OAAO79B,KAAK4B,OAAOi8B,GACpB,CACD,OAAIh5B,GACF,OAAO7E,KAAK4B,OAAOiD,GACpB,CACD,YAAIyuD,GACF,MAAO,EACR,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,GAAIr6B,KAAKq9D,MACP,OAAOr9D,KAAKq9D,MAEd,IAAI7X,EACA2T,EAAUvkD,EACd,IACE4wC,EAAQ2T,EAAQn5D,KAAK+8D,KAAM/8D,KAAKg9D,MACjC,CAAC,MAAOz5D,GACPvD,KAAKuD,MAAQA,CACd,CACD,GAAIvD,KAAKuD,MACP,MAAMvD,KAAKuD,MAGX,OADAvD,KAAKq9D,MAAQ7X,EACNA,CAEV,CACD,IAAK7iD,OAAOq7C,eACV,MAAO,cACR,EAIH,OAFAwjB,GAAe3E,EACfA,EAAal7B,QAAUk7B,EAChB2E,EACT,CAMqBgC,GACfhR,EAAa8Q,KACb5Q,EAAYiQ,KACZlS,EAAOuS,KACX,MAAMvQ,EACJ,WAAAxyD,CAAY2pC,EAAU,IACpB5pC,KAAKod,QAAU,SACfpd,KAAK4pC,QAAU5pC,KAAK8wD,UAAUlnB,EAC/B,CACD,SAAAknB,CAAUlnB,GACR,IAAI2zB,EAAa,GACjB,IAAK,IAAIr6C,KAAM0mB,EAMb,IALmB,IAAf1mB,EAAGk4C,QACLl4C,EAAKA,IACIA,EAAGk4C,UACZl4C,EAAKA,EAAGk4C,SAEQ,iBAAPl4C,GAAmB3jB,MAAMmN,QAAQwW,EAAG0mB,SAC7C2zB,EAAaA,EAAWz5D,OAAOof,EAAG0mB,cAC7B,GAAkB,iBAAP1mB,GAAmBA,EAAGswC,cACtC+J,EAAWv6D,KAAKkgB,QACX,GAAkB,mBAAPA,EAChBq6C,EAAWv6D,KAAKkgB,OACX,IAAkB,iBAAPA,IAAoBA,EAAGtO,QAASsO,EAAGpY,UAOnD,MAAM,IAAI7D,MAAMic,EAAK,4BANrB,GAA6B,eAAzBk2C,QAAQC,IAAIC,SACd,MAAM,IAAIryD,MACR,iKAKL,CAEH,OAAOs2D,CACR,CACD,OAAAnE,CAAQv7B,EAAKzU,EAAO,IAClB,OAAKppB,KAAK4pC,QAAQhpC,QAAWwoB,EAAK8xC,QAAW9xC,EAAKkzC,aAAgBlzC,EAAK6xC,OAG9D,IAAIzI,EAAWxyD,KAAM69B,EAAKzU,GAF1B,IAAIyzC,EAAa78D,KAAM69B,EAAKzU,EAItC,CACD,GAAAo0C,CAAI9e,GAEF,OADA1+C,KAAK4pC,QAAU5pC,KAAK4pC,QAAQ9lC,OAAO9D,KAAK8wD,UAAU,CAACpS,KAC5C1+C,IACR,EAMH,OAJAqzD,GAAYZ,EACZA,EAAU9wB,QAAU8wB,EACpBhC,EAAKoC,kBAAkBJ,GACvBC,EAAUG,kBAAkBJ,GACrBY,EACT,CAkJA,MAAM+H,GAA0BuD,GAvFhC,WACE,GAAImD,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,IAAIxjB,EAAiB6gB,KACjB9V,EAAc+Y,KACd5P,EAAa8Q,KACb1S,EAAY8R,KACZjQ,EAAY8Q,KACZ7c,EAAawb,KACbxE,EAjEN,WACE,GAAIkE,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIvY,EAAc+Y,KACdlY,EAAcoY,KACdjS,EAAUoS,KACVjS,EAASuS,KACTzW,EAAQiW,KACR9R,EAAOuS,KACPzS,EAAO2S,KACX,SAASxF,EAASnlD,EAAMowC,GACtB,GAAIppD,MAAMmN,QAAQ6L,GAAO,OAAOA,EAAK1T,IAAKo1C,GAAOyjB,EAASzjB,IAC1D,IAAM0O,OAAQgV,KAAcvjC,GAAa7hB,EACzC,GAAIolD,EAAW,CACbhV,EAAS,GACT,IAAK,IAAIK,KAAU2U,EAAW,CAC5B,IAAIC,EAAgB,IAAK5U,EAAQ1pD,UAAWgtD,EAAM7sD,WAC9Cm+D,EAAc/4D,MAChB+4D,EAAc/4D,IAAM,IACf+4D,EAAc/4D,IACjBvF,UAAW4qD,EAAYzqD,YAG3BkpD,EAAO3lD,KAAK46D,EACb,CACF,CAID,GAHIxjC,EAASoqB,QACXpqB,EAASoqB,MAAQjsC,EAAKisC,MAAM3/C,IAAKo1C,GAAOyjB,EAASzjB,EAAI0O,KAEnDvuB,EAAShjB,OAAQ,CACnB,IAAI2xC,QAAEA,KAAY3xC,GAAWgjB,EAAShjB,OACtCgjB,EAAShjB,OAASA,EACH,MAAX2xC,IACF3uB,EAAShjB,OAAO2iB,MAAQ4uB,EAAOI,GAElC,CACD,GAAsB,SAAlB3uB,EAAStwB,KACX,OAAO,IAAI2mD,EAAKr2B,GACX,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIu/C,EAAYjvB,GAClB,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIymD,EAAKn2B,GACX,GAAsB,YAAlBA,EAAStwB,KAClB,OAAO,IAAIumD,EAAQj2B,GACd,GAAsB,WAAlBA,EAAStwB,KAClB,OAAO,IAAI0mD,EAAOp2B,GAElB,MAAM,IAAInzB,MAAM,sBAAwBsR,EAAKzO,KAEhD,CAGD,OAFA63D,GAAajE,EACbA,EAAS/7B,QAAU+7B,EACZiE,EACT,CAYiB8B,GACX/Q,EAAYiQ,KACZ1P,EAAU4P,KACVxS,EAAUoS,KACVjS,EAASuS,KACT5P,EAAS2P,KACTxW,EAAQiW,KACR3tD,EAAQyuD,KACRv2C,EAAOm2C,KACP1S,EAAO2S,KACPzS,EAAOuS,KACPlc,EAAQqb,KACZ,SAASrH,KAAYlxB,GAInB,OAHuB,IAAnBA,EAAQhpC,QAAgBrB,MAAMmN,QAAQk9B,EAAQ,MAChDA,EAAUA,EAAQ,IAEb,IAAI6oB,EAAU7oB,EACtB,CA0DD,OAzDAkxB,EAASpc,OAAS,SAAgB30C,EAAM+zD,GACtC,IAkBIvF,EAlBAwF,GAAiB,EACrB,SAASC,KAAWp3D,GACdG,SAAWA,QAAQC,OAAS+2D,IAC9BA,GAAiB,EACjBh3D,QAAQC,KACN+C,EAAO,qHAELqvD,QAAQC,IAAI4E,MAAQ7E,QAAQC,IAAI4E,KAAKxjD,WAAW,OAClD1T,QAAQC,KACN+C,EAAO,uEAIb,IAAIm0D,EAAcJ,KAAel3D,GAGjC,OAFAs3D,EAAY1K,cAAgBzpD,EAC5Bm0D,EAAYvC,gBAAiB,IAAIlJ,GAAYr1C,QACtC8gD,CACR,CAWD,OATA9+D,OAAO0J,eAAek1D,EAAS,UAAW,CACxCj1D,IAAG,KACIwvD,IAAOA,EAAQyF,KACbzF,KAGXyF,EAAQ5E,QAAU,SAASv7B,EAAKsgC,EAAaC,GAC3C,OAAOtD,EAAS,CAACkD,EAAQI,KAAchF,QAAQv7B,EAAKsgC,EAC1D,EACWH,CACX,EACElD,EAAShwD,UAAY47C,EACrBoU,EAASlmD,MAAQA,EACjBkmD,EAAS4C,SAAWA,EACpB5C,EAAShuC,KAAOA,EAChBguC,EAASrvB,QAAWrR,GAAa,IAAIi2B,EAAQj2B,GAC7C0gC,EAASuD,OAAUjkC,GAAa,IAAIo2B,EAAOp2B,GAC3C0gC,EAAS3V,KAAQ/qB,GAAa,IAAIivB,EAAYjvB,GAC9C0gC,EAAS9+C,KAAQoe,GAAa,IAAIm2B,EAAKn2B,GACvC0gC,EAASzgC,KAAQD,GAAa,IAAIq2B,EAAKr2B,GACvC0gC,EAASx6C,SAAY8Z,GAAa,IAAIs4B,EAAUt4B,GAChD0gC,EAASxc,eAAiBA,EAC1Bwc,EAASzR,YAAcA,EACvByR,EAASlK,UAAYA,EACrBkK,EAASrI,UAAYA,EACrBqI,EAASf,SAAWrH,EACpBoI,EAASzK,QAAUA,EACnByK,EAAS7H,QAAUA,EACnB6H,EAAStK,OAASA,EAClBsK,EAAS3H,OAASA,EAClB2H,EAASxO,MAAQA,EACjBwO,EAASvK,KAAOA,EAChBuK,EAASrK,KAAOA,EAChBqK,EAAS7gC,KAAO6sB,EAChB0L,EAAWmK,gBAAgB7B,GAC3B+G,GAAY/G,EACZA,EAASn5B,QAAUm5B,EACZ+G,EACT,CACqB6B,IAEdC,GAAC74D,UACD64D,GAACjG,SACDiG,GAACjlB,OACDilB,GAAC/uD,MACD+uD,GAAC72C,KACD62C,GAACrjD,SACDqjD,GAACl4B,QACDk4B,GAACtF,OACDsF,GAAC3nD,KACD2nD,GAACxe,KACDwe,GAACtpC,KACDspC,GAACrlB,eACDqlB,GAACta,YACDsa,GAAC/S,UACD+S,GAAClR,UACDkR,GAAC5J,SACD4J,GAACtT,QACDsT,GAAC1Q,QACD0Q,GAACnT,OACDmT,GAACxQ,OACDwQ,GAACrX,MACDqX,GAACpT,KACDoT,GAAClT,KACDkT,GAAC1pC,KACR,MAAM2pC,GAEJ,WAAA3jE,IAAe4jE,GACbpF,GAAgBz+D,KAAM,gBAAiB,MACvCy+D,GAAgBz+D,KAAM,aAAc,MACpCy+D,GAAgBz+D,KAAM,iBACtBy+D,GAAgBz+D,KAAM,aAAc,MACpCy+D,GAAgBz+D,KAAM,YAAa,MACnCy+D,GAAgBz+D,KAAM,kBAAmB,MACzCy+D,GAAgBz+D,KAAM,cAAe,MACrCy+D,GAAgBz+D,KAAM,eAAgB,GACtCy+D,GAAgBz+D,KAAM,YAAa,GACnCy+D,GAAgBz+D,KAAM,YACtBy+D,GAAgBz+D,KAAM,YACtBy+D,GAAgBz+D,KAAM,aACvB,CACD,cAAIg6C,GACF,MAAM8pB,EAAc,GACpB,IAAIC,EAAgB/jE,KAAK48B,WACzB,KAAOmnC,GACLD,EAAY9gE,KAAK+gE,GACjBA,EAAgBA,EAAclnC,YAEhC,OAAOinC,CACR,CACD,QAAA1uC,CAAS6lB,GACP,KAAMA,aAAiB2oB,IAAa,OAAO,EACtC,GAAI3oB,EAAM/f,gBAAkBl7B,KAAKk7B,cAAe,OAAO,EACvD,GAAI+f,IAAUj7C,KAAM,OAAO,EAChC,KAAOi7C,EAAMve,YAAY,CACvB,GAAIue,EAAMve,aAAe18B,KAAM,OAAO,EACtCi7C,EAAQA,EAAMve,UACf,CACD,OAAO,CACR,CAED,WAAAuc,CAAY+qB,GACV,MAAM,IAAI/8D,MACR,8GAEH,CAED,YAAAogD,CAAa2c,EAAWC,GACtB,MAAM,IAAIh9D,MACR,+GAEH,CAED,WAAAoyC,CAAY6qB,GACV,MAAM,IAAIj9D,MACR,8GAEH,CACD,QAAAlC,GACE,MAAO,QACR,EAEH,MAAMo/D,GAAoB,CACxBlqC,KAAM,CAAC,aAAc,aAAc,gBAAiB,eACpD6d,WAAY,CAAC,OAAQ,eACrBC,QAAS,CAAC,aAAc,gBAAiB,oBACzCC,iBAAkB,IAEdosB,GAAkB,CACtBnqC,KAAM,CAAC,WAAY,eACnB6d,WAAY,CAAC,gBACbC,QAAS,GACTC,iBAAkB,CAAC,gBAEfqsB,GAAyB,CAAA,EAU/B,SAASC,GAAsBt3D,GAC7B,GAAIq3D,GAAuBr3D,GACzB,OAAOq3D,GAAuBr3D,GAChC,MAAMywB,EAZR,SAAyCzwB,GACvC,IAAImY,EAAKtf,EACT,MAAMuyC,EAAkI,OAAjGvyC,EAA8D,OAAxDsf,EAAoB,MAAd5gB,gBAAqB,EAASA,WAAW8zC,WAAgB,EAASlzB,EAAImzB,iBAAsB,EAASzyC,EAAGlG,KAAKwlB,EAAKnY,GACrK,OAAIorC,GAAiC7zC,WAAW6zC,GACvC7zC,WAAW6zC,QAElB,CAEJ,CAIoBmsB,CAAgCv3D,IAAQzI,WAAWyI,GAC/DwrC,EAAmB/a,EAAUh+B,UAC7Bg5C,EAAgBzrC,KAAOm3D,GAAoBA,GAAkBn3D,QAAO,EACpE0rC,EAAuBvD,QAC3BsD,GACAA,EAAc56B,MACX86B,IACC,IAAIxzB,EAAKtf,EACT,OAAOsvC,QACoG,OAAxGtvC,EAA4E,OAAtEsf,EAAM/lB,OAAOw5C,yBAAyBJ,EAAkBG,SAAqB,EAASxzB,EAAIpc,UAAe,EAASlD,EAAGd,WAAWgB,SAAS,qBAKlJ8yC,EAAc7rC,KAAOo3D,GAAkBA,GAAgBp3D,QAAO,EAC9D8rC,EAAqB3D,QACzB0D,GAAeA,EAAYh7B,MAExBlJ,IACC,IAAIwQ,EACJ,MAA2C,mBAA7BqzB,EAAiB7jC,KAA+D,OAAnCwQ,EAAMqzB,EAAiB7jC,SAAmB,EAASwQ,EAAIpgB,WAAWgB,SAAS,qBAI5I,GAAI2yC,GAAwBI,EAE1B,OADAurB,GAAuBr3D,GAAOywB,EAAUh+B,UACjCg+B,EAAUh+B,UAEnB,IACE,MAAMs5C,EAAWz4B,SAAS04B,cAAc,UACxC14B,SAASte,KAAKi3C,YAAYF,GAC1B,MAAMG,EAAMH,EAASI,cACrB,IAAKD,EAAK,OAAOzb,EAAUh+B,UAC3B,MAAM25C,EAAkBF,EAAIlsC,GAAKvN,UAEjC,OADA6gB,SAASte,KAAKq3C,YAAYN,GACrBK,EACEirB,GAAuBr3D,GAAOosC,EADRZ,CAEjC,CAAI,MACA,OAAOA,CACR,CACH,CACA,MAAMgsB,GAAyB,CAAA,EAC/B,SAASC,GAAqBz3D,EAAKwsC,EAAUb,GAC3C,IAAIxzB,EACJ,MAAMs0B,EAAW,GAAGzsC,KAAOlN,OAAO64C,KAClC,GAAI6rB,GAAuB/qB,GACzB,OAAO+qB,GAAuB/qB,GAAU95C,KACtC65C,GAEJ,MAAME,EAAqB4qB,GAAsBt3D,GAC3C2sC,EAGA,OAHqBx0B,EAAM/lB,OAAOw5C,yBACtCc,EACAf,SACW,EAASxzB,EAAIpc,IAC1B,OAAK4wC,GACL6qB,GAAuB/qB,GAAYE,EAC5BA,EAAkBh6C,KAAK65C,IAFCA,EAASb,EAG1C,CACA,MAAM+rB,GAAuB,CAAA,EAC7B,SAASC,GAAmB33D,EAAKwsC,EAAU7kC,GACzC,MAAM8kC,EAAW,GAAGzsC,KAAOlN,OAAO6U,KAClC,GAAI+vD,GAAqBjrB,GACvB,OAAOirB,GAAqBjrB,GAAU3/B,KACpC0/B,GAEJ,MACMM,EADqBwqB,GAAsBt3D,GACN2H,GAC3C,MAA+B,mBAApBmlC,EAAuCN,EAAS7kC,IAC3D+vD,GAAqBjrB,GAAYK,EAC1BA,EAAgBhgC,KAAK0/B,GAC9B,CAuCA,MAAM10C,GAAQ,CACdk1C,WAvCA,SAAoBC,GAClB,OAAOwqB,GAAqB,OAAQxqB,EAAI,aAC1C,EAsCAvd,WArCA,SAAoBud,GAClB,OAAOwqB,GAAqB,OAAQxqB,EAAI,aAC1C,EAoCA7c,cAnCA,SAAuB6c,GACrB,OAAOwqB,GAAqB,OAAQxqB,EAAI,gBAC1C,EAkCAC,YAjCA,SAAqBD,GACnB,OAAOwqB,GAAqB,OAAQxqB,EAAI,cAC1C,EAgCA7kB,SA/BA,SAAkB6kB,EAAIrJ,GACpB,OAAO+zB,GAAmB,OAAQ1qB,EAAI,WAA/B0qB,CAA2C/zB,EACpD,EA8BAuJ,YA7BA,SAAqBF,GACnB,OAAO0qB,GAAmB,OAAQ1qB,EAAI,cAA/B0qB,EACT,EA4BAvqB,KA3BA,SAAcH,GACZ,OAAKA,GAAQ,SAAUA,EAChBwqB,GAAqB,aAAcxqB,EAAI,QADX,IAErC,EAyBAI,YAxBA,SAAqBJ,GACnB,OAAOA,EAAGI,WACZ,EAuBAC,WAtBA,SAAoBL,GAClB,OAAKA,GAAQ,eAAgBA,EACtBwqB,GAAqB,UAAWxqB,EAAI,cADF,IAE3C,EAoBAt5B,cAnBA,SAAuBs5B,EAAIx5B,GACzB,OAAOgkD,GAAqB,UAAWxqB,EAAI,gBAApCwqB,CAAqDhkD,EAC9D,EAkBAqd,iBAjBA,SAA0Bmc,EAAIx5B,GAC5B,OAAOgkD,GAAqB,UAAWxqB,EAAI,mBAApCwqB,CAAwDhkD,EACjE,EAgBE85B,iBAfF,WACE,OAAO+pB,GAAsB,oBAAoBrkE,WACnD,GAoBA,MAAM2kE,GAAiC,4NACvC,IAAIC,GAAU,CACZhgE,IAAK,CAAE,EACP41C,MAAK,KACH1zC,QAAQxD,MAAMqhE,KACN,GAEVjlC,QAAO,KACL54B,QAAQxD,MAAMqhE,IACP,MAET,iBAAA9pB,GACE/zC,QAAQxD,MAAMqhE,GACf,EACDt1C,IAAG,KACDvoB,QAAQxD,MAAMqhE,KACP,GAET,KAAAxpB,GACEr0C,QAAQxD,MAAMqhE,GACf,GAEmB,oBAAXpgE,QAA0BA,OAAOmsB,OAASnsB,OAAOs3C,UAC1D+oB,GAAU,IAAIl0C,MAAMk0C,GAAS,CAC3B97D,IAAG,CAACimB,EAAQC,EAAMpjB,KACH,QAATojB,GACFloB,QAAQxD,MAAMqhE,IAET9oB,QAAQ/yC,IAAIimB,EAAQC,EAAMpjB,OA0EvC,IAAIi5D,GAAev6D,KAAKoM,IAkBxB,SAASouD,GAAqB9pB,GAC5B,IAAKA,EACH,OAAO,KAGT,OADWA,EAAMjhB,WAAaihB,EAAM/gB,aAAe+gB,EAAQn2C,GAAMs4B,cAAc6d,EAEjF,CAvBqB,iBAAiB/+B,KAAK3R,KAAKoM,MAAM5R,cACpD+/D,GAAe,KAAM,IAAqBv6D,MAAQqxB,WAoOpD,SAASopC,GAAc/qB,GACrB,IAAI90B,EACJ,IAAI8/C,EAAa,KAGjB,MAFI,gBAAiBhrB,IAAwC,OAAhC90B,EAAMrgB,GAAMq1C,YAAYF,SAAe,EAAS90B,EAAI6U,YAAcC,KAAKirC,wBAA0BpgE,GAAMs1C,KAAKt1C,GAAMq1C,YAAYF,MACzJgrB,EAAangE,GAAMs1C,KAAKt1C,GAAMq1C,YAAYF,KACrCgrB,CACT,CACA,SAASE,GAAkBlrB,GACzB,IACIgrB,EADAG,EAAiBnrB,EAErB,KAAOgrB,EAAaD,GAAcI,IAChCA,EAAiBH,EACnB,OAAOG,CACT,CACA,SAASC,GAAgBprB,GACvB,MAAMqrB,EAAMrrB,EAAG/e,cACf,IAAKoqC,EAAK,OAAO,EACjB,MAAML,EAAaE,GAAkBlrB,GACrC,OAAOn1C,GAAMswB,SAASkwC,EAAKL,EAC7B,CAMA,MAAMM,GAAwBnmE,OAAO2+C,OAAuB3+C,OAAO0J,eAAe,CAChFxJ,UAAW,KACbkmE,iBAhEA,MACE,WAAAvlE,GACEu3C,GAAex3C,KAAM,KAAM,GAC3Bw3C,GAAex3C,KAAM,aAA8B,IAAI4uB,SACvD4oB,GAAex3C,KAAM,aAA8B,IAAI+xB,IACxD,CACD,KAAA0oB,CAAMgrB,GACJ,OAAOzlE,KAAK0lE,WAAW38D,IAAI08D,KAAgB,CAC5C,CACD,GAAAn2C,CAAIm2C,GACF,OAAOzlE,KAAK0lE,WAAWp2C,IAAIm2C,EAC5B,CAID,GAAAh2D,CAAIg2D,EAAYvvD,GACd,GAAIlW,KAAKsvB,IAAIm2C,GAAa,OAAOzlE,KAAKy6C,MAAMgrB,GAC5C,IAAIE,EAMJ,OAJEA,OADS,IAAPzvD,EACMlW,KAAKkW,KACAA,EACflW,KAAK0lE,WAAW18D,IAAIy8D,EAAYE,GAChC3lE,KAAK4lE,WAAW58D,IAAI28D,EAAOF,GACpBE,CACR,CACD,QAAAE,CAAS3vD,GACP,OAAOlW,KAAK4lE,WAAW78D,IAAImN,IAAO,IACnC,CACD,KAAAklC,GACEp7C,KAAK0lE,WAA6B,IAAI92C,QACtC5uB,KAAK4lE,WAA6B,IAAI7zC,IACtC/xB,KAAKkW,GAAK,CACX,CACD,UAAA4vD,GACE,OAAO9lE,KAAKkW,IACb,GA8BD,WAAI2uD,GACF,OAAOA,EACR,EACHE,qBAAEA,GACAgB,iBA7HF,SAASA,EAAiB9qB,EAAO+qB,GAC/B,IAAI7gD,EAAKtf,EACT,MAAMogE,EAAwF,OAAxEpgE,EAAoC,OAA9Bsf,EAAM81B,EAAM/f,oBAAyB,EAAS/V,EAAI+gD,kBAAuB,EAASrgE,EAAGogE,aACjH,IAAKA,GAAgBA,IAAiBD,EACpC,MAAO,CACLpkD,EAAG,EACH1f,EAAG,EACHikE,cAAe,EACfC,cAAe,GAGnB,MAAMC,EAAiBJ,EAAaK,wBAC9BC,EAAqBR,EAAiBE,EAAcD,GACpDG,EAAgBE,EAAexkC,OAASokC,EAAa/lC,aAC3D,MAAO,CACLte,EAAGykD,EAAezkD,EAAI2kD,EAAmBJ,cAAgBI,EAAmB3kD,EAC5E1f,EAAGmkE,EAAenkE,EAAIqkE,EAAmBJ,cAAgBI,EAAmBrkE,EAC5EikE,gBACAC,cAAeG,EAAmBH,cAAgBD,EAEtD,EA0GEK,cAlGF,SAASA,EAAcC,EAAQxP,GAC7B,MAAMyP,EAAQD,EAAOxP,EAAS,IAC9B,OAAwB,IAApBA,EAASr2D,OACJ8lE,EAEAF,EACLE,EAAMC,SAAS1P,EAAS,IAAI0P,SAC5B1P,EAASpzD,MAAM,GAGrB,EAyFE+iE,qBAxFF,SAA8BC,GAC5B,MAAMC,EAAY,IAAID,GAChBtnB,EAASunB,EAAU/jE,MACzB,MAAO,CAAE+jE,YAAWhiE,MAAOy6C,EAC7B,EAqFA4lB,kBAAEA,GACFH,cAAEA,GACFhlC,gBA/PA,WACE,OAAOx7B,OAAOi7B,aAAenf,SAAS2f,iBAAmB3f,SAAS2f,gBAAgBC,cAAgB5f,SAASte,MAAQse,SAASte,KAAKk+B,YACnI,EA8PA6mC,gBAxQA,SAAyB7tB,GACvB,IAAI/zB,EAAKtf,EAAIoC,EAAIC,EACjB,MAAMo9D,EAAMpsB,EAAI54B,SAChB,MAAO,CACL2kC,KAAMqgB,EAAI0B,iBAAmB1B,EAAI0B,iBAAiBC,gBAAiC,IAApB/tB,EAAIguB,YAAyBhuB,EAAIguB,YAAc5B,EAAIrlC,gBAAgBgnC,aAAsB,MAAP3B,OAAc,EAASA,EAAItjE,QAAmD,OAAxCmjB,EAAMrgB,GAAMs4B,cAAckoC,EAAItjE,YAAiB,EAASmjB,EAAI8hD,cAA0D,OAAzCphE,EAAY,MAAPy/D,OAAc,EAASA,EAAItjE,WAAgB,EAAS6D,EAAGohE,aAAe,EAC/UE,IAAK7B,EAAI0B,iBAAmB1B,EAAI0B,iBAAiBI,eAAgC,IAApBluB,EAAImuB,YAAyBnuB,EAAImuB,aAAsB,MAAP/B,OAAc,EAASA,EAAIrlC,gBAAgBmnC,aAAsB,MAAP9B,OAAc,EAASA,EAAItjE,QAAkD,OAAvCiG,EAAKnD,GAAMs4B,cAAckoC,EAAItjE,YAAiB,EAASiG,EAAGm/D,aAAyD,OAAzCl/D,EAAY,MAAPo9D,OAAc,EAASA,EAAItjE,WAAgB,EAASkG,EAAGk/D,YAAc,EAErW,EAkQAjnC,eA9PA,WACE,OAAO37B,OAAOk7B,YAAcpf,SAAS2f,iBAAmB3f,SAAS2f,gBAAgBG,aAAe9f,SAASte,MAAQse,SAASte,KAAKo+B,WACjI,EA6PAknC,cAhHA,SAAuBrtB,GACrB,QAAKA,IACDA,aAAc2pB,IAAc,eAAgB3pB,EACvC9E,QAAQ8E,EAAGK,YAEbnF,QAAQrwC,GAAMw1C,WAAWL,IAClC,EA2GAstB,WA3TA,SAASA,EAAWv4C,EAAQhiB,EAAK9N,EAAGsoE,EAAWtuB,EAAM10C,QACnD,MAAM4qD,EAAWlW,EAAI95C,OAAOw5C,yBAAyB5pB,EAAQhiB,GAe7D,OAdAksC,EAAI95C,OAAO0J,eACTkmB,EACAhiB,EACAw6D,EAAYtoE,EAAI,CACd,GAAA8J,CAAIzH,GACF4V,WAAW,KACTjY,EAAE8J,IAAIrJ,KAAKK,KAAMuB,IAChB,GACC6tD,GAAYA,EAASpmD,KACvBomD,EAASpmD,IAAIrJ,KAAKK,KAAMuB,EAE3B,IAGE,IAAMgmE,EAAWv4C,EAAQhiB,EAAKoiD,GAAY,CAAA,GAAI,EACvD,EA2SAqY,MAtBA,SAAextB,GACb,MAAMqrB,EAAMrrB,EAAG/e,cACf,QAAKoqC,IACExgE,GAAMswB,SAASkwC,EAAKrrB,IAAOorB,GAAgBprB,GACpD,EAmBAytB,kBAxNA,SAASA,EAAkB14C,EAAQ24C,GACjC,GArxPF,SAAsB1tB,GACpB,MAAM2tB,EAGJ3tB,GAAM,SAAUA,GAAM,SAAUA,GAAMF,GAAQK,KAAKH,IAAO,KAE5D,OAAO9E,QACLyyB,GAAU,eAAgBA,GAAU7tB,GAAQO,WAAWstB,KAAY3tB,EAEvE,CA4wPM4tB,CAAa74C,GACf,OAAO,EAET,MAAM9Y,EAAKyxD,EAAQltB,MAAMzrB,GACzB,IAAK24C,EAAQr4C,IAAIpZ,GACf,OAAO,EAET,MAAMumB,EAAS33B,GAAM43B,WAAW1N,GAChC,QAAIyN,GAAUA,EAAOzC,WAAahL,EAAOiM,kBAGpCwB,GAGEirC,EAAkBjrC,EAAQkrC,GACnC,EAyMAG,UAzPA,SAAmB7sB,EAAO/P,EAAYhrB,EAAeo7B,GACnD,IAAKL,EACH,OAAO,EAET,MAAM8sB,EAAKhD,GAAqB9pB,GAChC,IAAK8sB,EACH,OAAO,EAET,IACE,GAA0B,iBAAf78B,EAAyB,CAClC,GAAI68B,EAAGzrC,UAAUlH,SAAS8V,GAAa,OAAO,EAC9C,GAAIoQ,GAAmD,OAAjCysB,EAAGntD,QAAQ,IAAMswB,GAAsB,OAAO,CAC1E,MACM,GAAImQ,GAAkB0sB,EAAI78B,EAAYoQ,GAAiB,OAAO,CAEjE,CAAC,MAAOyW,GACR,CACD,GAAI7xC,EAAe,CACjB,GAAI6nD,EAAGC,QAAQ9nD,GAAgB,OAAO,EACtC,GAAIo7B,GAAgD,OAA9BysB,EAAGntD,QAAQsF,GAAyB,OAAO,CAClE,CACD,OAAO,CACT,EAoOA+nD,UAhOA,SAAmBhuB,EAAI0tB,EAASp8B,GAC9B,QAAmB,UAAf0O,EAAG9f,UAAuBoR,EAAe28B,sBA3sP1B,IA8sPZP,EAAQltB,MAAMR,EACvB,EA4NAkuB,aApOA,SAAsBluB,EAAI0tB,GACxB,OAA8B,IAAvBA,EAAQltB,MAAMR,EACvB,EAmOAmuB,mBApJA,SAA4BnuB,EAAI0tB,GAC9B,OAAOxyB,QAAwB,WAAhB8E,EAAGouB,UAAyBV,EAAQjtB,QAAQT,GAC7D,EAmJAquB,uBAlJA,SAAgCruB,EAAI0tB,GAClC,OAAOxyB,QACW,SAAhB8E,EAAGouB,UAAuBpuB,EAAGjgB,WAAaigB,EAAG/f,cAAgB+f,EAAGle,cAA2C,eAA3Bke,EAAGle,aAAa,QAA2B4rC,EAAQjtB,QAAQT,GAE/I,EA+IEsuB,mBA5JF,SAASA,EAAmBC,EAAM1kC,GAChCA,EAAG0kC,EAAKjnE,OACR,IAAK,IAAI2hB,EAAKslD,EAAK3X,SAASjwD,OAAS,EAAGsiB,GAAM,EAAGA,IAC/CqlD,EAAmBC,EAAK3X,SAAS3tC,GAAK4gB,EAE1C,EAwJA2kC,oBA9MA,SAA6B78D,GAC3B,OAAOupC,QAAQvpC,EAAM88D,eACvB,EA6ME,gBAAI5D,GACF,OAAOA,EACR,EACH6D,GAvYA,SAAY7+D,EAAMR,EAAI0lB,EAAS1O,UAC7B,MAAMtY,EAAU,CAAE4gE,SAAS,EAAMC,SAAS,GAE1C,OADA75C,EAAOsB,iBAAiBxmB,EAAMR,EAAItB,GAC3B,IAAMgnB,EAAOmB,oBAAoBrmB,EAAMR,EAAItB,EACpD,EAoYAsoC,MAvTA,SAAel5B,EAAQrN,EAAMoS,GAC3B,IACE,KAAMpS,KAAQqN,GACZ,MAAO,OAGT,MAAMg4C,EAAWh4C,EAAOrN,GAClB++D,EAAU3sD,EAAYizC,GAW5B,MAVuB,mBAAZ0Z,IACTA,EAAQrpE,UAAYqpE,EAAQrpE,WAAa,CAAA,EACzCL,OAAO2pE,iBAAiBD,EAAS,CAC/BjvD,mBAAoB,CAClB5Q,YAAY,EACZ1H,MAAO6tD,MAIbh4C,EAAOrN,GAAQ++D,EACR,KACL1xD,EAAOrN,GAAQqlD,EAErB,CAAI,MACA,MAAO,MAER,CACH,EA+RE4Z,SAjNF,SAAoB9vB,EAAM10C,QACpB,aAAc00C,IAAQA,EAAI+vB,SAASxpE,UAAUsM,UAC/CmtC,EAAI+vB,SAASxpE,UAAUsM,QAAUxM,MAAME,UAAUsM,SAE/C,iBAAkBmtC,IAAQA,EAAIgwB,aAAazpE,UAAUsM,UACvDmtC,EAAIgwB,aAAazpE,UAAUsM,QAAUxM,MAAME,UAAUsM,QAEzD,EA2MEo9D,oBA1MF,SAA6Bz9D,GAC3B,MAAM09D,EAAe,CAAA,EACfC,EAAa,CAAClmE,EAAGs5B,KACrB,MAAM6sC,EAAa,CACjB/nE,MAAO4B,EACPs5B,SACAo0B,SAAU,IAGZ,OADAuY,EAAajmE,EAAE45B,KAAK7mB,IAAMozD,EACnBA,GAEHC,EAAiB,GACvB,IAAK,MAAMC,KAAY99D,EAAO,CAC5B,MAAM+9D,OAAEA,EAAMC,SAAEA,GAAaF,EAC7B,GAAIC,GAAUA,KAAUL,EAAc,CACpC,MAAMO,EAAaP,EAAaK,GAChC,GAAIE,EAAWltC,OAAQ,CACrB,MAAMmtC,EAAMD,EAAWltC,OAAOo0B,SAAS3I,QAAQyhB,GAC/CA,EAAWltC,OAAOo0B,SAASp6C,OACzBmzD,EACA,EACAP,EAAWG,EAAUG,EAAWltC,QAE1C,KAAa,CACL,MAAMmtC,EAAML,EAAerhB,QAAQyhB,GACnCJ,EAAe9yD,OAAOmzD,EAAK,EAAGP,EAAWG,EAAU,MACpD,CACD,QACD,CACD,GAAIE,KAAYN,EAAc,CAC5B,MAAMS,EAAeT,EAAaM,GAClCG,EAAahZ,SAAS7tD,KAAKqmE,EAAWG,EAAUK,IAChD,QACD,CACDN,EAAevmE,KAAKqmE,EAAWG,EAAU,MAC1C,CACD,OAAOD,CACT,EAsKAlE,gBAAEA,GACFyE,SAvWA,SAAkBr6C,EAAMs6C,EAAM/hE,EAAU,CAAA,GACtC,IAAIsO,EAAU,KACVo4C,EAAW,EACf,OAAO,YAAY9nD,GACjB,MAAM+P,EAAMpM,KAAKoM,MACZ+3C,IAAgC,IAApB1mD,EAAQgiE,UACvBtb,EAAW/3C,GAEb,MAAMszD,EAAYF,GAAQpzD,EAAM+3C,GAC1B3hC,EAAU/sB,KACZiqE,GAAa,GAAKA,EAAYF,GAC5BzzD,IACFkC,aAAalC,GACbA,EAAU,MAEZo4C,EAAW/3C,EACX8Y,EAAK5uB,MAAMksB,EAASnmB,IACV0P,IAAgC,IAArBtO,EAAQkiE,WAC7B5zD,EAAUa,WAAW,KACnBu3C,GAA+B,IAApB1mD,EAAQgiE,QAAoB,EAAIz/D,KAAKoM,MAChDL,EAAU,KACVmZ,EAAK5uB,MAAMksB,EAASnmB,IACnBqjE,GAET,CACA,EA+UEE,oBA7GF,SAA6BC,GAC3B,MAAMC,EAAwB,IAAI58D,IAC5B68D,EAAkB,GACxB,IAAK,IAAIpnD,EAAKknD,EAAUxpE,OAAQsiB,KAAQ,CACtC,MAAMsmD,EAAWY,EAAUlnD,GACtBmnD,EAAM/6C,IAAIk6C,EAAStzD,MACtBo0D,EAAgBtnE,KAAKwmE,GACrBa,EAAM56D,IAAI+5D,EAAStzD,IAEtB,CACD,OAAOo0D,CACT,GAmGG3nE,OAAOq7C,YAAa,CAAEz8C,MAAO,YAGhC,IAFA,IAAIgpE,GAAQ,mEACRC,GAA+B,oBAAf7kE,WAA6B,GAAK,IAAIA,WAAW,KAC5D8kE,GAAM,EAAGA,GAAMF,GAAcE,KACpCD,GAAOD,GAAMl6D,WAAWo6D,KAAQA,GAGlB,oBAAThmE,MAAwBA,KAAK6mB,MAAQ,IAAIA,KAAK,CADnC,wvFACgD,CAAExhB,KAAM,kCAC1E,IACE,GAAyC,IAArCvK,MAAMmE,KAAK,CAAC,GAAKke,GAAU,EAAJA,GAAO,GAAU,CAC1C,MAAM8oD,EAAapqD,SAAS04B,cAAc,UAC1C14B,SAASte,KAAKi3C,YAAYyxB,GAC1BnrE,MAAMmE,MAA2C,OAAlCyB,GAAKulE,EAAWvxB,oBAAyB,EAASh0C,GAAG5F,MAAMmE,OAASnE,MAAMmE,KACzF4c,SAASte,KAAKq3C,YAAYqxB,EAC3B,CACH,CAAE,MAAO1/C,GACPjkB,QAAQG,MAAM,gCAAiC8jB,EACjD,CAEA,IAAItqB,GACMqiB,GAh9PD,IAAIy3B,IAg9PHz3B,GAERriB,KAAMA,GAAI,CAAE,IADTqiB,GAAG4nD,WAAa,GAAK,aAAc5nD,GAAGA,GAAG6nD,QAAU,GAAK,UAAW7nD,GAAGA,GAAG8nD,QAAU,GAAK,UAE7F,MAAMC,GACJ,WAAA7qE,CAAYgN,GACVmqC,GAAcp3C,KAAM,YACpBo3C,GAAcp3C,KAAM,gBACpBo3C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,gBACpBA,KAAK+qE,SAAW99D,EAAI89D,UAAY,GAChC/qE,KAAKgrE,aAAe/9D,EAAI+9D,cAAgB,GACxChrE,KAAKirE,WAAah+D,EAAIg+D,WACtBjrE,KAAKkrE,aAAej+D,EAAIi+D,YACzB,CACD,QAAAnmE,GACE,MAAMkmE,EAAajrE,KAAKirE,YAAc,GAChCC,EAAelrE,KAAKkrE,cAAgB,GAC1C,OAAIlrE,KAAKgrE,aACA,GAAGhrE,KAAKgrE,iBAAiBhrE,KAAK+qE,YAAYE,KAAcC,KAC1D,GAAGlrE,KAAK+qE,YAAYE,KAAcC,GAC1C,EAEH,MAAMC,GAA8B,eAC9BC,GAAyB,iCACzBC,GAA4B,8BAC5BC,GAAmB,CAIvB12D,MAAO,SAASrR,GACd,OAAKA,OAMyB,IAArBA,EAAMyG,iBAEuB,IAA7BzG,EAAM,mBAENvD,KAAKurE,WACVhoE,GAEOA,EAAM0G,OAAS1G,EAAM0G,MAAM2nC,MAAMw5B,IACnCprE,KAAKwrE,YAAYjoE,GACfA,EAAM0G,MACRjK,KAAKyrE,gBAAgBloE,IAE5BwD,QAAQC,KACN,yDACAzD,GAEK,IArBA,EAuBV,EAEDmoE,gBAAiB,SAASC,GACxB,IAA8B,IAA1BA,EAAQzjB,QAAQ,KAClB,MAAO,CAACyjB,GAEV,MACMrlB,EADS,+BACM7V,KAAKk7B,EAAQlmE,QAAQ,QAAS,KACnD,IAAK6gD,EAAO,MAAM,IAAIr/C,MAAM,2BAA2B0kE,KACvD,MAAO,CAACrlB,EAAM,GAAIA,EAAM,SAAM,EAAQA,EAAM,SAAM,EACnD,EACDklB,YAAa,SAASjoE,GAIpB,OAHiBA,EAAM0G,MAAMC,MAAM,MAAMwW,OAAO,SAAS69B,GACvD,QAASA,EAAK3M,MAAMw5B,GACrB,EAAEprE,MACa6E,IAAI,SAAS05C,GACvBA,EAAK2J,QAAQ,WAAa,IAC5B3J,EAAOA,EAAK94C,QAAQ,aAAc,QAAQA,QAAQ,+BAAgC,KAEpF,IAAImmE,EAAgBrtB,EAAK94C,QAAQ,OAAQ,IAAIA,QAAQ,eAAgB,KACrE,MAAMgoB,EAAWm+C,EAAch6B,MAAM,4BACrCg6B,EAAgBn+C,EAAWm+C,EAAcnmE,QAAQgoB,EAAS,GAAI,IAAMm+C,EACpE,MAAM/T,EAAS+T,EAAc1hE,MAAM,OAAOrG,MAAM,GAC1CgoE,EAAgB7rE,KAAK0rE,gBACzBj+C,EAAWA,EAAS,GAAKoqC,EAAO90D,OAE5BioE,EAAenT,EAAO7xD,KAAK,WAAQ,EACnC+kE,EAAW,CAAC,OAAQ,eAAe7iB,QAAQ2jB,EAAc,KAAO,OAAI,EAASA,EAAc,GACjG,OAAO,IAAIf,GAAW,CACpBE,eACAD,WACAE,WAAYY,EAAc,GAC1BX,aAAcW,EAAc,IAE/B,EAAE7rE,KACJ,EACDyrE,gBAAiB,SAASloE,GAIxB,OAHiBA,EAAM0G,MAAMC,MAAM,MAAMwW,OAAO,SAAS69B,GACvD,OAAQA,EAAK3M,MAAMy5B,GACpB,EAAErrE,MACa6E,IAAI,SAAS05C,GAO3B,GANIA,EAAK2J,QAAQ,YAAc,IAC7B3J,EAAOA,EAAK94C,QACV,mDACA,SAGuB,IAAvB84C,EAAK2J,QAAQ,OAAsC,IAAvB3J,EAAK2J,QAAQ,KAC3C,OAAO,IAAI4iB,GAAW,CACpBE,aAAczsB,IAEX,CACL,MAAMutB,EAAoB,6BACpB9D,EAAUzpB,EAAK3M,MAAMk6B,GACrBd,EAAehD,GAAWA,EAAQ,GAAKA,EAAQ,QAAK,EACpD6D,EAAgB7rE,KAAK0rE,gBACzBntB,EAAK94C,QAAQqmE,EAAmB,KAElC,OAAO,IAAIhB,GAAW,CACpBE,eACAD,SAAUc,EAAc,GACxBZ,WAAYY,EAAc,GAC1BX,aAAcW,EAAc,IAE/B,CACF,EAAE7rE,KACJ,EACDurE,WAAY,SAAS7pE,GACnB,OAAKA,EAAEsI,YAActI,EAAEiiC,QAAQukB,QAAQ,OAAS,GAAKxmD,EAAEiiC,QAAQz5B,MAAM,MAAMtJ,OAASc,EAAEsI,WAAWE,MAAM,MAAMtJ,OACpGZ,KAAK+rE,YAAYrqE,GACdA,EAAEuI,MAGLjK,KAAKgsE,aAAatqE,GAFlB1B,KAAKisE,aAAavqE,EAI5B,EACDqqE,YAAa,SAASrqE,GACpB,MAAMwqE,EAAS,oCACT7sB,EAAQ39C,EAAEiiC,QAAQz5B,MAAM,MACxBu+C,EAAU,GAChB,IAAK,IAAIhoD,EAAI,EAAGmmB,EAAMy4B,EAAMz+C,OAAQH,EAAImmB,EAAKnmB,GAAK,EAAG,CACnD,MAAMmxC,EAAQs6B,EAAOz7B,KAAK4O,EAAM5+C,IAC5BmxC,GACF6W,EAAQzlD,KACN,IAAI8nE,GAAW,CACbC,SAAUn5B,EAAM,GAChBq5B,WAAYkB,WAAWv6B,EAAM,MAIpC,CACD,OAAO6W,CACR,EACDwjB,aAAc,SAASvqE,GACrB,MAAMwqE,EAAS,6DACT7sB,EAAQ39C,EAAEsI,WAAWE,MAAM,MAC3Bu+C,EAAU,GAChB,IAAK,IAAIhoD,EAAI,EAAGmmB,EAAMy4B,EAAMz+C,OAAQH,EAAImmB,EAAKnmB,GAAK,EAAG,CACnD,MAAMmxC,EAAQs6B,EAAOz7B,KAAK4O,EAAM5+C,IAC5BmxC,GACF6W,EAAQzlD,KACN,IAAI8nE,GAAW,CACbE,aAAcp5B,EAAM,SAAM,EAC1Bm5B,SAAUn5B,EAAM,GAChBq5B,WAAYkB,WAAWv6B,EAAM,MAIpC,CACD,OAAO6W,CACR,EAEDujB,aAAc,SAASzoE,GAIrB,OAHiBA,EAAM0G,MAAMC,MAAM,MAAMwW,OAAO,SAAS69B,GACvD,QAASA,EAAK3M,MAAMu5B,MAAiC5sB,EAAK3M,MAAM,oBACjE,EAAE5xC,MACa6E,IAAI,SAAS05C,GAC3B,MAAMsZ,EAAStZ,EAAKr0C,MAAM,KACpB2hE,EAAgB7rE,KAAK0rE,gBAAgB7T,EAAO90D,OAE5CioE,GADenT,EAAO5rC,SAAW,IACLxmB,QAAQ,iCAAkC,MAAMA,QAAQ,aAAc,UAAO,EAC/G,OAAO,IAAIqlE,GAAW,CACpBE,eACAD,SAAUc,EAAc,GACxBZ,WAAYY,EAAc,GAC1BX,aAAcW,EAAc,IAE/B,EAAE7rE,KACJ,GAEH,SAASosE,GAAenxB,GACtB,IAAKA,IAAUA,EAAMoxB,UACnB,MAAO,GAET,IAAIjxC,EAAO,GACX,KAAO6f,EAAM7d,eAAe,CAC1B,IAAIrzB,EAAOkxC,EAAMqxB,UACjB,IAAKviE,EACH,MAEFA,EAAOA,EAAKuQ,cACZ,MAAMmiB,EAASwe,EAAM7d,cACfmvC,EAAc,GACpB,GAAI9vC,EAAOo0B,UAAYp0B,EAAOo0B,SAASjwD,OAAS,EAC9C,IAAK,IAAIH,EAAI,EAAGA,EAAIg8B,EAAOo0B,SAASjwD,OAAQH,IAAK,CAC/C,MAAM+rE,EAAU/vC,EAAOo0B,SAASpwD,GAC5B+rE,EAAQF,WAAaE,EAAQF,UAAUhyD,aACrCkyD,EAAQF,UAAUhyD,gBAAkBvQ,GACtCwiE,EAAYvpE,KAAKwpE,EAGtB,CAECD,EAAY3rE,OAAS,IACvBmJ,GAAQ,OAAOwiE,EAAYrkB,QAAQjN,OAErC7f,EAAOrxB,GAAQqxB,EAAO,IAAMA,EAAO,IACnC6f,EAAQxe,CACT,CACD,OAAOrB,CACT,CACA,SAASqxC,GAASx/D,GAChB,MAA+C,oBAAxC7N,OAAOK,UAAUsF,SAASpF,KAAKsN,EACxC,CACA,SAASy/D,GAAaz/D,EAAKuuB,GACzB,GAAc,IAAVA,EACF,OAAO,EAET,MAAM52B,EAAOxF,OAAOwF,KAAKqI,GACzB,IAAK,MAAMD,KAAOpI,EAChB,GAAI6nE,GAASx/D,EAAID,KAAS0/D,GAAaz/D,EAAID,GAAMwuB,EAAQ,GACvD,OAAO,EAGX,OAAO,CACT,CACA,SAAS1wB,GAAUmC,EAAK0/D,GACtB,MAAM3kE,EAAU,CACd4kE,eAAgB,GAChBC,aAAc,GAEhBztE,OAAOkB,OAAO0H,EAAS2kE,GACvB,MAAM1iE,EAAQ,GACRrF,EAAO,GACb,OAAOiG,KAAKC,UACVmC,EACA,SAASD,EAAKzL,GACZ,GAAI0I,EAAMrJ,OAAS,EAAG,CACpB,MAAMksE,EAAU7iE,EAAMi+C,QAAQloD,OAC7B8sE,EAAU7iE,EAAMwM,OAAOq2D,EAAU,GAAK7iE,EAAMjH,KAAKhD,OACjD8sE,EAAUloE,EAAK6R,OAAOq2D,EAASC,IAAU//D,GAAOpI,EAAK5B,KAAKgK,IACtD/C,EAAMi+C,QAAQ3mD,KAEfA,EADE0I,EAAM,KAAO1I,EACP,eAEA,eAAiBqD,EAAKf,MAAM,EAAGoG,EAAMi+C,QAAQ3mD,IAAQyE,KAAK,KAAO,IAGrF,MACQiE,EAAMjH,KAAKzB,GAEb,GAAc,OAAVA,EAAgB,OAAOA,EAC3B,QAAc,IAAVA,EAAkB,MAAO,YAC7B,GA8BJ,SAAsByrE,GACpB,GAAIP,GAASO,IAAS5tE,OAAOwF,KAAKooE,GAAMpsE,OAASoH,EAAQ4kE,eACvD,OAAO,EAET,GAAoB,mBAATI,EACT,OAAO,EAET,GAAIP,GAASO,IAASN,GAAaM,EAAMhlE,EAAQ6kE,cAC/C,OAAO,EAET,OAAO,CACR,CAzCOI,CAAa1rE,GACf,OAyCN,SAAkByrE,GAChB,IAAI78D,EAAM68D,EAAKjoE,WACXiD,EAAQklE,mBAAqB/8D,EAAIvP,OAASoH,EAAQklE,oBACpD/8D,EAAM,GAAGA,EAAItM,MAAM,EAAGmE,EAAQklE,yBAEhC,OAAO/8D,CACR,CA/CYpL,CAASxD,GAElB,GAAqB,iBAAVA,EACT,OAAOA,EAAMwD,WAAa,IAE5B,GAAIxD,aAAiB4rE,MAAO,CAC1B,MAAMC,EAAc,CAAA,EACpB,IAAK,MAAMC,KAAY9rE,EAAO,CAC5B,MAAM+rE,EAAa/rE,EAAM8rE,GACrB9tE,MAAMmN,QAAQ4gE,GAChBF,EAAYC,GAAYjB,GACtBkB,EAAW1sE,OAAS0sE,EAAW,GAAK,MAGtCF,EAAYC,GAAYC,CAE3B,CACD,OAAOF,CACf,CAAa,OAAI7rE,aAAiB04B,KACtB14B,aAAiBgsE,YACZhsE,EAAQA,EAAM8qE,UAAY,GAE5B9qE,EAAM8mE,SACJ9mE,aAAiB0F,MACnB1F,EAAM0I,MAAQ1I,EAAM0I,MAAQ,kCAAoC1I,EAAMwI,KAAO,KAAOxI,EAAMoiC,QAE5FpiC,CACR,EAqBL,CACA,MAAMisE,GAAoB,CACxBtzD,MAAO,CACL,SACA,QACA,QACA,aACA,QACA,MACA,SACA,QACA,QACA,iBACA,WACA,OACA,MACA,QACA,OACA,UACA,UACA,QACA,QAEFuzD,gBAAiB,IACjB9jE,OAAQ,WAEV,SAAS+jE,GAAgB5pC,EAAIoV,EAAKlxC,GAChC,MAAM2lE,EAAa3lE,EAAU5I,OAAOkB,OAAO,CAAA,EAAIktE,GAAmBxlE,GAAWwlE,GACvEI,EAAaD,EAAWhkE,OAC9B,IAAKikE,EACH,MAAO,OAGT,IAAIjkE,EAEFA,EADwB,iBAAfikE,EACA10B,EAAI00B,GAEJA,EAEX,IAAIC,EAAW,EACXC,GAAU,EACd,MAAMC,EAAiB,GACvB,GAAIJ,EAAWzzD,MAAMnU,SAAS,SAAU,CACtC,MAAM2lC,EAAgB9/B,IACpB,MAAM+3B,EAAU/3B,EAAM+3B,QAASpgC,EAAQqI,EAAMrI,MACvCyqE,EAAQ1C,GAAiB12D,MAAMrR,GAAOsB,IACzCopE,GAAeA,EAAWlpE,YAEvBsP,EAAU,CAACvJ,GAAU64B,EAASgqC,EAAWhB,mBAC/C7oC,EAAG,CACD5pB,MAAO,QACP8zD,QACA35D,aAGJ6kC,EAAI5oB,iBAAiB,QAASob,GAC9BqiC,EAAe/qE,KAAK,KAClBk2C,EAAI/oB,oBAAoB,QAASub,KAEnC,MAAMwiC,EAA6BtiE,IACjC,IAAIrI,EACA8Q,EACAzI,EAAMgzC,kBAAkB33C,OAC1B1D,EAAQqI,EAAMgzC,OACdvqC,EAAU,CACRvJ,GACE,yBAAyBvH,EAAMwG,SAASxG,EAAMogC,UAC9CgqC,EAAWhB,qBAIfppE,EAAQ,IAAI0D,MACZoN,EAAU,CACRvJ,GAAU,wBAAyB6iE,EAAWhB,kBAC9C7hE,GAAUc,EAAMgzC,OAAQ+uB,EAAWhB,oBAGvC,MAAMqB,EAAQ1C,GAAiB12D,MAAMrR,GAAOsB,IACzCopE,GAAeA,EAAWlpE,YAE7B++B,EAAG,CACD5pB,MAAO,QACP8zD,QACA35D,aAGJ6kC,EAAI5oB,iBAAiB,qBAAsB49C,GAC3CH,EAAe/qE,KAAK,KAClBk2C,EAAI/oB,oBAAoB,qBAAsB+9C,IAEjD,CACD,IAAK,MAAMC,KAAaR,EAAWzzD,MACjC6zD,EAAe/qE,KAAKyC,EAAQkE,EAAQwkE,IAEtC,MAAO,KACLJ,EAAehiE,QAASqiE,GAAMA,MAEhC,SAAS3oE,EAAQ4oE,EAASn0D,GACxB,OAAKm0D,EAAQn0D,GAINqrD,GAAMj1B,MACX+9B,EACAn0D,EACCk1C,GACQ,IAAIxoD,KAET,GADAwoD,EAASvuD,MAAMb,KAAM4G,KACP,WAAVsT,GAAwBtT,EAAK,IAG7BknE,GAAJ,CAGAA,GAAU,EACV,IACE,MAAME,EAAQ1C,GAAiB12D,MAAM,IAAI3N,OAASpC,IAAKopE,GAAeA,EAAWlpE,YAAY0R,OAAO,GAE9FpC,GAD2B,WAAV6F,EAAqBtT,EAAK/C,MAAM,GAAK+C,GAC7B/B,IAC5BrE,GAAMsK,GAAUtK,EAAGmtE,EAAWhB,mBAEjCkB,IACIA,EAAWF,EAAWF,gBACxB3pC,EAAG,CACD5pB,QACA8zD,QACA35D,YAEOw5D,IAAaF,EAAWF,iBACjC3pC,EAAG,CACD5pB,MAAO,OACP8zD,MAAO,GACP35D,QAAS,CACPvJ,GAAU,sDAIjB,CAAC,MAAOvH,GACP6rD,EAAS,sBAAuB7rD,KAAUqD,EACtD,CAAoB,QACRknE,GAAU,CACX,CA5BA,IAdE,MA8CV,CACH,CACA,MAAMQ,GAAc,sBKlnRhBnpE,0ELmnR4B6C,IAAa,CAC3C+B,KAAMukE,GACNzqC,SAAU6pC,GACV1lE,cKznREmvC,GAAY/3C,OAAO0J,eAEnBsuC,GAAgB,CAACnqC,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMkqC,GAAUlqC,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EACjH+1C,CAAgBrqC,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GAEpGm2C,GAAct4C,OAAO0J,eAErB6uC,GAAkB,CAAC1qC,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMyqC,GAAYzqC,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EACnHq2C,CAAkB3qC,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GACxGgtE,GAA6B,CAAEC,IACjCA,EAAUA,EAAoB,SAAI,GAAK,WACvCA,EAAUA,EAAwB,aAAI,GAAK,eAC3CA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAmB,QAAI,GAAK,UAC/BA,GAPwB,CAQ9BD,IAAc,CAAA,GACjB,MAAM12B,GAAsB,CAC1B5d,KAAM,CAAC,aAAc,aAAc,gBAAiB,eACpD6d,WAAY,CAAC,OAAQ,eACrBC,QAAS,CAAC,aAAc,gBAAiB,oBACzCC,iBAAkB,IAEdC,GAAoB,CACxBhe,KAAM,CAAC,WAAY,eACnB6d,WAAY,CAAC,gBACbC,QAAS,GACTC,iBAAkB,CAAC,gBAEfE,GAA2B,CAAA,EAUjC,SAASC,GAAwBnrC,GAC/B,GAAIkrC,GAAyBlrC,GAC3B,OAAOkrC,GAAyBlrC,GAClC,MAAMywB,EAZR,SAA2CzwB,GACzC,IAAImY,EAAKtf,EACT,MAAMuyC,EAAkI,OAAjGvyC,EAA8D,OAAxDsf,EAAoB,MAAd5gB,gBAAqB,EAASA,WAAW8zC,WAAgB,EAASlzB,EAAImzB,iBAAsB,EAASzyC,EAAGlG,KAAKwlB,EAAKnY,GACrK,OAAIorC,GAAiC7zC,WAAW6zC,GACvC7zC,WAAW6zC,QAElB,CAEJ,CAIoBG,CAAkCvrC,IAAQzI,WAAWyI,GACjEwrC,EAAmB/a,EAAUh+B,UAC7Bg5C,EAAgBzrC,KAAO6qC,GAAsBA,GAAoB7qC,QAAO,EACxE0rC,EAAuBvD,QAC3BsD,GACAA,EAAc56B,MACX86B,IACC,IAAIxzB,EAAKtf,EACT,OAAOsvC,QACoG,OAAxGtvC,EAA4E,OAAtEsf,EAAM/lB,OAAOw5C,yBAAyBJ,EAAkBG,SAAqB,EAASxzB,EAAIpc,UAAe,EAASlD,EAAGd,WAAWgB,SAAS,qBAKlJ8yC,EAAc7rC,KAAOirC,GAAoBA,GAAkBjrC,QAAO,EAClE8rC,EAAqB3D,QACzB0D,GAAeA,EAAYh7B,MAExBlJ,IACC,IAAIwQ,EACJ,MAA2C,mBAA7BqzB,EAAiB7jC,KAA+D,OAAnCwQ,EAAMqzB,EAAiB7jC,SAAmB,EAASwQ,EAAIpgB,WAAWgB,SAAS,qBAI5I,GAAI2yC,GAAwBI,EAE1B,OADAZ,GAAyBlrC,GAAOywB,EAAUh+B,UACnCg+B,EAAUh+B,UAEnB,IACE,MAAMs5C,EAAWz4B,SAAS04B,cAAc,UACxC14B,SAASte,KAAKi3C,YAAYF,GAC1B,MAAMG,EAAMH,EAASI,cACrB,IAAKD,EAAK,OAAOzb,EAAUh+B,UAC3B,MAAM25C,EAAkBF,EAAIlsC,GAAKvN,UAEjC,OADA6gB,SAASte,KAAKq3C,YAAYN,GACrBK,EACElB,GAAyBlrC,GAAOosC,EADVZ,CAEjC,CAAI,MACA,OAAOA,CACR,CACH,CACA,MAAMc,GAA2B,CAAA,EACjC,SAASC,GAAuBvsC,EAAKwsC,EAAUb,GAC7C,IAAIxzB,EACJ,MAAMs0B,EAAW,GAAGzsC,KAAOlN,OAAO64C,KAClC,GAAIW,GAAyBG,GAC3B,OAAOH,GAAyBG,GAAU95C,KACxC65C,GAEJ,MAAME,EAAqBvB,GAAwBnrC,GAC7C2sC,EAGA,OAHqBx0B,EAAM/lB,OAAOw5C,yBACtCc,EACAf,SACW,EAASxzB,EAAIpc,IAC1B,OAAK4wC,GACLL,GAAyBG,GAAYE,EAC9BA,EAAkBh6C,KAAK65C,IAFCA,EAASb,EAG1C,CACA,MAAMiB,GAAyB,CAAA,EAC/B,SAASC,GAAqB7sC,EAAKwsC,EAAU7kC,GAC3C,MAAM8kC,EAAW,GAAGzsC,KAAOlN,OAAO6U,KAClC,GAAIilC,GAAuBH,GACzB,OAAOG,GAAuBH,GAAU3/B,KACtC0/B,GAEJ,MACMM,EADqB3B,GAAwBnrC,GACR2H,GAC3C,MAA+B,mBAApBmlC,EAAuCN,EAAS7kC,IAC3DilC,GAAuBH,GAAYK,EAC5BA,EAAgBhgC,KAAK0/B,GAC9B,CAuCA,MAAMO,GAAU,CACdC,WAvCF,SAAsBC,GACpB,OAAOV,GAAuB,OAAQU,EAAI,aAC5C,EAsCEvd,WArCF,SAAsBud,GACpB,OAAOV,GAAuB,OAAQU,EAAI,aAC5C,EAoCE7c,cAnCF,SAAyB6c,GACvB,OAAOV,GAAuB,OAAQU,EAAI,gBAC5C,EAkCEC,YAjCF,SAAuBD,GACrB,OAAOV,GAAuB,OAAQU,EAAI,cAC5C,EAgCE7kB,SA/BF,SAAoB6kB,EAAIrJ,GACtB,OAAOiJ,GAAqB,OAAQI,EAAI,WAAjCJ,CAA6CjJ,EACtD,EA8BEuJ,YA7BF,SAAuBF,GACrB,OAAOJ,GAAqB,OAAQI,EAAI,cAAjCJ,EACT,EA4BEO,KA3BF,SAAgBH,GACd,OAAKA,GAAQ,SAAUA,EAChBV,GAAuB,aAAcU,EAAI,QADb,IAErC,EAyBEI,YAxBF,SAAuBJ,GACrB,OAAOA,EAAGI,WACZ,EAuBEC,WAtBF,SAAsBL,GACpB,OAAKA,GAAQ,eAAgBA,EACtBV,GAAuB,UAAWU,EAAI,cADJ,IAE3C,EAoBEt5B,cAnBF,SAAyBs5B,EAAIx5B,GAC3B,OAAO84B,GAAuB,UAAWU,EAAI,gBAAtCV,CAAuD94B,EAChE,EAkBEqd,iBAjBF,SAA4Bmc,EAAIx5B,GAC9B,OAAO84B,GAAuB,UAAWU,EAAI,mBAAtCV,CAA0D94B,EACnE,EAgBE85B,iBAfF,WACE,OAAOpC,GAAwB,oBAAoBl4C,WACrD,GAeA,SAASwuE,GAAUx0B,GACjB,OAAOA,EAAGjgB,WAAaigB,EAAG/f,YAC5B,CACA,SAAS2tC,GAAa5tB,GACpB,MAAM2tB,EAGJ3tB,GAAM,SAAUA,GAAM,SAAUA,GAAMF,GAAQK,KAAKH,IAAO,KAE5D,OAAO9E,QACLyyB,GAAU,eAAgBA,GAAU7tB,GAAQO,WAAWstB,KAAY3tB,EAEvE,CACA,SAASy0B,GAAkBC,GACzB,MAAuD,wBAAhDvvE,OAAOK,UAAUsF,SAASpF,KAAKgvE,EACxC,CA2BA,SAASC,GAAoB1nB,GAC3B,IACE,MAAMuf,EAASvf,EAAG2nB,OAAS3nB,EAAGyf,SAC9B,IAAKF,EACH,OAAO,KAET,IAAIqI,EAAY5nB,EAAGx5B,MACdohD,GAAa5nB,EAAG6nB,WAAa7nB,EAAG6nB,UAAU7zC,gBAC7C4zC,EAAY5nB,EAAG6nB,UAAU7zC,cAAczN,SAASC,MAElD,MAAMshD,EAAmBzvE,MAAMmE,KAC7B+iE,EACCC,GAAUuI,GAAcvI,EAAOoI,IAChC9oE,KAAK,IACP,OAxCwCkpE,EAwCEF,GAvChCjpE,SAAS,6BAA+BmpE,EAAQnpE,SAAS,qCACnEmpE,EAAUA,EAAQzpE,QAChB,8BACA,2DAGGypE,CAkCN,CAAC,MAAO3rE,GACP,OAAO,IACR,CA3CH,IAA4C2rE,CA4C5C,CACA,SAASD,GAAcvI,EAAOoI,GAC5B,GA6BF,SAAyBpI,GACvB,MAAO,eAAgBA,CACzB,CA/BMyI,CAAgBzI,GAAQ,CAC1B,IAAI0I,EACJ,IACEA,EAEAR,GAAoBlI,EAAM2I,aA1ChC,SAA+B3I,GAC7B,MAAMwI,QAAEA,GAAYxI,EACpB,GAAIwI,EAAQhlE,MAAM,KAAKtJ,OAAS,EAAG,OAAOsuE,EAC1C,MAAMI,EAAY,CAAC,UAAW,OAAOzkE,KAAKC,UAAU47D,EAAMh5C,UAY1D,MAXwB,KAApBg5C,EAAM6I,UACRD,EAAUtsE,KAAK,SACN0jE,EAAM6I,WACfD,EAAUtsE,KAAK,SAAS0jE,EAAM6I,cAE5B7I,EAAM8I,cACRF,EAAUtsE,KAAK,YAAY0jE,EAAM8I,iBAE/B9I,EAAM+I,MAAM7uE,QACd0uE,EAAUtsE,KAAK0jE,EAAM+I,MAAMC,WAEtBJ,EAAUtpE,KAAK,KAAO,GAC/B,CA2BM2pE,CAAsBjJ,EACvB,CAAC,MAAOnjE,GACP6rE,EAAoB1I,EAAMwI,OAC3B,CACD,OAAIxI,EAAM2I,WAAW3hD,KACZkiD,GAAeR,EAAmB1I,EAAM2I,WAAW3hD,MAErD0hD,CACX,CAAS,CACL,IAAIS,EAAkBnJ,EAAMwI,QAI5B,OAaJ,SAAwBxI,GACtB,MAAO,iBAAkBA,CAC3B,CAlBQoJ,CAAepJ,IAAUA,EAAMqJ,aAAahqE,SAAS,OACvD8pE,EAQN,SAAyBG,GACvB,MAAM/zD,EAAQ,uCACd,OAAO+zD,EAAevqE,QAAQwW,EAAO,SACvC,CAXwBg0D,CAAgBJ,IAEhCf,EACKc,GAAeC,EAAiBf,GAElCe,CACR,CACH,CAWA,MAAMr1B,GACJ,WAAAv6C,GACE03C,GAAgB33C,KAAM,YAA6B,IAAI+xB,KACvD4lB,GAAgB33C,KAAM,cAA+B,IAAI4uB,QAC1D,CACD,KAAA6rB,CAAMR,GACJ,IAAI90B,EACJ,IAAK80B,EAAI,OAAQ,EAEjB,OADuC,OAA3B90B,EAAMnlB,KAAK06C,QAAQT,SAAe,EAAS90B,EAAIjP,MAC7C,CACf,CACD,OAAAypB,CAAQzpB,GACN,OAAOlW,KAAK26C,UAAU5xC,IAAImN,IAAO,IAClC,CACD,MAAA0kC,GACE,OAAOr7C,MAAMmE,KAAK1D,KAAK26C,UAAU/1C,OAClC,CACD,OAAA81C,CAAQT,GACN,OAAOj6C,KAAK66C,YAAY9xC,IAAIkxC,IAAO,IACpC,CAGD,iBAAAa,CAAkBb,GAChB,MAAM/jC,EAAKlW,KAAKy6C,MAAMR,GACtBj6C,KAAK26C,UAAUhrC,OAAOuG,GAClB+jC,EAAGD,YACLC,EAAGD,WAAWjuC,QACXgvC,GAAc/6C,KAAK86C,kBAAkBC,GAG3C,CACD,GAAAzrB,CAAIpZ,GACF,OAAOlW,KAAK26C,UAAUrrB,IAAIpZ,EAC3B,CACD,OAAA8kC,CAAQC,GACN,OAAOj7C,KAAK66C,YAAYvrB,IAAI2rB,EAC7B,CACD,GAAAxrC,CAAIwqC,EAAIiB,GACN,MAAMhlC,EAAKglC,EAAKhlC,GAChBlW,KAAK26C,UAAU3xC,IAAIkN,EAAI+jC,GACvBj6C,KAAK66C,YAAY7xC,IAAIixC,EAAIiB,EAC1B,CACD,OAAAz1C,CAAQyQ,EAAI+jC,GACV,MAAMkB,EAAUn7C,KAAK2/B,QAAQzpB,GAC7B,GAAIilC,EAAS,CACX,MAAMD,EAAOl7C,KAAK66C,YAAY9xC,IAAIoyC,GAC9BD,GAAMl7C,KAAK66C,YAAY7xC,IAAIixC,EAAIiB,EACpC,CACDl7C,KAAK26C,UAAU3xC,IAAIkN,EAAI+jC,EACxB,CACD,KAAAmB,GACEp7C,KAAK26C,UAA4B,IAAI5oB,IACrC/xB,KAAK66C,YAA8B,IAAIjsB,OACxC,EAKH,SAASshD,IAAe/1D,QACtBA,EAAOg2D,iBACPA,EAAgBh2C,QAChBA,EAAOrwB,KACPA,EAAIvI,MACJA,EAAK4pC,YACLA,IAEA,IAAIhhC,EAAO5I,GAAS,GACpB,MAAM6uE,EAAatmE,GAAQwQ,GAAYxQ,GAQvC,OAPIqmE,EAAiBh2C,EAAQ7f,gBAAkB81D,GAAcD,EAAiBC,MAE1EjmE,EADEghC,EACKA,EAAYhhC,EAAMgQ,GAElB,IAAIk2D,OAAOlmE,EAAKvJ,SAGpBuJ,CACT,CACA,SAASmQ,GAAYnK,GACnB,OAAOA,EAAImK,aACb,CACA,MAAMg2D,GAA0B,qBAwBhC,SAAS/1D,GAAaJ,GACpB,MAAMrQ,EAAOqQ,EAAQrQ,KACrB,OAAOqQ,EAAQE,aAAa,uBAAyB,WAAavQ,EAEhEwQ,GAAYxQ,GACV,IACN,CACA,SAASymE,GAAqBn1C,EAAMo1C,GAClC,IAAIljD,EACJ,IACEA,EAAM,IAAIlC,IAAIgQ,EAAMo1C,GAAWhsE,OAAOipB,SAASC,KAChD,CAAC,MAAO1C,GACP,OAAO,IACR,CACD,MACM4mB,EAAQtkB,EAAImjD,SAAS7+B,MADb,uBAEd,OAAiB,MAATA,OAAgB,EAASA,EAAM,KAAO,IAChD,CAWA,MAAM8+B,GAAiB,6CACjBC,GAAqB,sBACrBC,GAAgB,YAChBC,GAAW,wBACjB,SAASjB,GAAeV,EAASxhD,GAC/B,OAAQwhD,GAAW,IAAIzpE,QACrBirE,GACA,CAAC9jB,EAAQkkB,EAAQC,EAAOC,EAAQC,EAAOC,KACrC,MAAMC,EAAWJ,GAASE,GAASC,EAC7BE,EAAaN,GAAUE,GAAU,GACvC,IAAKG,EACH,OAAOvkB,EAET,GAAI+jB,GAAmBz0D,KAAKi1D,IAAaP,GAAc10D,KAAKi1D,GAC1D,MAAO,OAAOC,IAAaD,IAAWC,KAExC,GAAIP,GAAS30D,KAAKi1D,GAChB,MAAO,OAAOC,IAAaD,IAAWC,KAExC,GAAoB,MAAhBD,EAAS,GACX,MAAO,OAAOC,IA9BtB,SAAuB9jD,GACrB,IAAIs/B,EAAS,GAOb,OALEA,EADEt/B,EAAI46B,QAAQ,OAAS,EACd56B,EAAIpjB,MAAM,KAAKrG,MAAM,EAAG,GAAGmC,KAAK,KAEhCsnB,EAAIpjB,MAAM,KAAK,GAE1B0iD,EAASA,EAAO1iD,MAAM,KAAK,GACpB0iD,CACT,CAqBmCykB,CAAc3jD,GAAQyjD,IAAWC,KAE9D,MAAMnnE,EAAQyjB,EAAKxjB,MAAM,KACnBo8C,EAAQ6qB,EAASjnE,MAAM,KAC7BD,EAAMlH,MACN,IAAK,MAAMuuE,KAAQhrB,EACJ,MAATgrB,IAEgB,OAATA,EACTrnE,EAAMlH,MAENkH,EAAMjH,KAAKsuE,IAGf,MAAO,OAAOF,IAAannE,EAAMjE,KAAK,OAAOorE,MAGnD,CACA,SAASG,GAAmBrC,EAASsC,GAAgB,GACnD,OAAIA,EACKtC,EAAQzpE,QAAQ,yBAA0B,IAE1CypE,EAAQzpE,QAAQ,yBAA0B,IAAIA,QAAQ,OAAQ,IAEzE,CAgGA,SAASgsE,GAAcvC,EAASwC,GAC9B,OAhGF,SAAsBxC,EAASwC,EAAOF,GAAgB,GACpD,MAAM1N,EAAcvkE,MAAMmE,KAAKguE,EAAM13B,YAC/B23B,EAAS,GACf,IAAIC,EAAY,EAChB,GAAI9N,EAAYljE,OAAS,GAAKsuE,GAA8B,iBAAZA,EAAsB,CACpE,IAAI2C,EAAcN,GAAmBrC,EAASsC,GAC9C,MAAMM,EAAaD,EAAYjxE,OAASsuE,EAAQtuE,OAChD,IAAK,IAAIsiB,EAAK,EAAGA,EAAK4gD,EAAYljE,OAAQsiB,IACxC,GAAI4gD,EAAY5gD,GAAIg3B,aAAsD,iBAAhC4pB,EAAY5gD,GAAIg3B,YAA0B,CAClF,MAAM63B,EAAkBR,GACtBzN,EAAY5gD,GAAIg3B,YAChBs3B,GAEIQ,EAAS,IACf,IAAIzwD,EAAI,EACR,KAAOA,EAAIwwD,EAAgBnxE,SAGvBmxE,EAAgBxwD,GAAGqwB,MAAM,iBACwC,IAAjEmgC,EAAgB7pB,QAAQ6pB,EAAgBj9D,UAAU,EAAGyM,GAAI,IAJ1BA,KAUnC,KAAOA,EAAIwwD,EAAgBnxE,OAAQ2gB,IAAK,CACtC,IAAI0wD,EAAiBF,EAAgBj9D,UAAU,EAAGyM,GAC9C2wD,EAAgBL,EAAY3nE,MAAM+nE,GAClCE,GAAa,EACjB,GAA6B,IAAzBD,EAActxE,OAChBuxE,EAAYD,EAAc,GAAGtxE,YACxB,GAAIsxE,EAActxE,OAAS,GAA0B,KAArBsxE,EAAc,IAAiD,KAApCpO,EAAY5gD,EAAK,GAAGg3B,YACpFi4B,EAAYN,EAAY3pB,QAAQ+pB,EAAgB,QAC3C,GAA6B,IAAzBC,EAActxE,OAAc,CAMrC,GALAqxE,EAAiBA,EAAen9D,UAC9B,EACAm9D,EAAerxE,OAAS,GAE1BsxE,EAAgBL,EAAY3nE,MAAM+nE,GAC9BC,EAActxE,QAAU,EAE1B,OADA+wE,EAAO3uE,KAAKksE,GACLyC,EAETpwD,EAAIywD,EAAS,CACd,MAAUzwD,IAAMwwD,EAAgBnxE,OAAS,IACxCuxE,EAAYN,EAAY3pB,QAAQ+pB,IAElC,GAAIC,EAActxE,QAAU,GAAK2gB,EAAIywD,EAAQ,CAC3C,MAAMI,EAAkBtO,EAAY5gD,EAAK,GAAGg3B,YAC5C,GAAIk4B,GAA8C,iBAApBA,EAA8B,CAC1D,MAAMC,EAAgBd,GAAmBa,GAAiBxxE,OAC1DuxE,EAAYN,EAAY3pB,QAAQ+pB,EAAgBI,EACjD,EACkB,IAAfF,IACFA,EAAYD,EAAc,GAAGtxE,OAEhC,CACD,IAAmB,IAAfuxE,EAAkB,CACpB,IAAInzC,EAAIz5B,KAAKoT,MAAMw5D,EAAYL,GAC/B,KAAO9yC,EAAI,GAAKA,EAAIkwC,EAAQtuE,QAAU,CAEpC,GADAgxE,GAAa,EACTA,EAAY,GAAK9N,EAAYljE,OAE/B,OADA+wE,EAAO3uE,KAAKksE,GACLyC,EAET,MAAMW,EAAWf,GACfrC,EAAQp6D,UAAU,EAAGkqB,GACrBwyC,GAEF,GAAIc,EAAS1xE,SAAWuxE,EAAW,CACjCR,EAAO3uE,KAAKksE,EAAQp6D,UAAU,EAAGkqB,IACjCkwC,EAAUA,EAAQp6D,UAAUkqB,GAC5B6yC,EAAcA,EAAY/8D,UAAUq9D,GACpC,KAChB,CAAyBG,EAAS1xE,OAASuxE,EAC3BnzC,GAAKz5B,KAAKse,IACR,EACAte,KAAKoT,OAAOw5D,EAAYG,EAAS1xE,QAAUkxE,IAG7C9yC,GAAKz5B,KAAKse,IACR,EACAte,KAAKoT,OAAO25D,EAAS1xE,OAASuxE,GAAaL,GAGhD,CACD,KACD,CACF,CACF,CAEJ,CAED,OADAH,EAAO3uE,KAAKksE,GACLyC,CACT,CAESY,CAAarD,EAASwC,GAAO1rE,KAAK,iBAC3C,CACA,MAAMwsE,GAA4C,YAClD,IAAIC,GAAM,EACV,MAAMC,GAAe,IAAIh3D,OAAO,gBAEhC,SAASi3D,KACP,OAAOF,IACT,CAWA,IAAIG,GACAC,GACJ,MAAMC,GAAoB,qBACpBC,GAA0B,qBAuDhC,MAAMC,GAAiC,IAAIpkD,QAC3C,SAASqkD,GAAc3N,EAAK4N,GAC1B,OAAKA,GAA4C,KAA1BA,EAAe9oE,OAG/B+oE,GAAQ7N,EAAK4N,GAFXA,CAGX,CACA,SAASE,GAAarL,GACpB,OAAO5yB,QAAuB,QAAf4yB,EAAG5tC,SAAqB4tC,EAAGsL,gBAC5C,CACA,SAASF,GAAQ7N,EAAKgO,GACpB,IAAI13B,EAAKo3B,GAAejqE,IAAIu8D,GAK5B,GAJK1pB,IACHA,EAAK0pB,EAAItsB,cAAc,KACvBg6B,GAAehqE,IAAIs8D,EAAK1pB,IAErB03B,GAEE,GAAIA,EAAW74D,WAAW,UAAY64D,EAAW74D,WAAW,SACjE,OAAO64D,OAFPA,EAAa,GAKf,OADA13B,EAAG23B,aAAa,OAAQD,GACjB13B,EAAGluB,IACZ,CACA,SAAS8lD,GAAmBlO,EAAKnrC,EAASpwB,EAAMxI,GAC9C,OAAKA,EAGQ,QAATwI,GAA2B,SAATA,IAAiC,QAAZowB,GAAkC,MAAb54B,EAAM,KAElD,eAATwI,GAAsC,MAAbxI,EAAM,GADjC0xE,GAAc3N,EAAK/jE,GAGR,eAATwI,GAAsC,UAAZowB,GAAmC,OAAZA,GAAgC,OAAZA,EAE5D,WAATpwB,EAxFb,SAAiCu7D,EAAK4N,GACpC,GAA8B,KAA1BA,EAAe9oE,OACjB,OAAO8oE,EAET,IAAIzuD,EAAM,EACV,SAASgvD,EAAkBC,GACzB,IAAIC,EACJ,MAAM/hC,EAAQ8hC,EAAMjjC,KAAKyiC,EAAep+D,UAAU2P,IAClD,OAAImtB,GACF+hC,EAAS/hC,EAAM,GACfntB,GAAOkvD,EAAO/yE,OACP+yE,GAEF,EACR,CACD,MAAMC,EAAS,GACf,KACEH,EAAkBV,MACdtuD,GAAOyuD,EAAetyE,SAFf,CAKX,IAAI0sB,EAAMmmD,EAAkBX,IAC5B,GAAsB,MAAlBxlD,EAAIzpB,OAAO,GACbypB,EAAM2lD,GAAc3N,EAAKh4C,EAAIxY,UAAU,EAAGwY,EAAI1sB,OAAS,IACvDgzE,EAAO5wE,KAAKsqB,OACP,CACL,IAAIumD,EAAiB,GACrBvmD,EAAM2lD,GAAc3N,EAAKh4C,GACzB,IAAIwmD,GAAW,EACf,OAAa,CACX,MAAMC,EAAKb,EAAelc,OAAOvyC,GACjC,GAAW,KAAPsvD,EAAW,CACbH,EAAO5wE,MAAMsqB,EAAMumD,GAAgBzpE,QACnC,KACV,CAAe,GAAK0pE,EASC,MAAPC,IACFD,GAAW,OAVO,CACpB,GAAW,MAAPC,EAAY,CACdtvD,GAAO,EACPmvD,EAAO5wE,MAAMsqB,EAAMumD,GAAgBzpE,QACnC,KACZ,CAA4B,MAAP2pE,IACTD,GAAW,EAEvB,CAKQD,GAAkBE,EAClBtvD,GAAO,CACR,CACF,CACF,CACD,OAAOmvD,EAAO5tE,KAAK,KACrB,CAoCWguE,CAAwB1O,EAAK/jE,GAClB,UAATwI,EACF6lE,GAAeruE,EAAO4xE,GAAQ7N,IAChB,WAAZnrC,GAAiC,SAATpwB,EAC1BkpE,GAAc3N,EAAK/jE,GAErBA,EARE0xE,GAAc3N,EAAK/jE,GAPnBA,CAgBX,CACA,SAAS0yE,GAAgB95C,EAASpwB,EAAM2wB,GACtC,OAAoB,UAAZP,GAAmC,UAAZA,IAAiC,aAATpwB,CACzD,CAsBA,SAASsxC,GAAkBJ,EAAOh/B,EAAOq/B,GACvC,IAAKL,EAAO,OAAO,EACnB,GAAIA,EAAMjhB,WAAaihB,EAAM/gB,aAC3B,QAAKohB,GACED,GAAkBtB,GAAQrd,WAAWue,GAAQh/B,EAAOq/B,GAE7D,IAAK,IAAIC,EAASN,EAAM3e,UAAU17B,OAAQ26C,KAAY,CACpD,MAAM/gB,EAAYygB,EAAM3e,UAAUif,GAClC,GAAIt/B,EAAMC,KAAKse,GACb,OAAO,CAEV,CACD,QAAK8gB,GACED,GAAkBtB,GAAQrd,WAAWue,GAAQh/B,EAAOq/B,EAC7D,CACA,SAAS44B,GAAgBj5B,EAAOhQ,EAAeI,EAAkBiQ,GAC/D,IAAIysB,EACJ,GAAI0G,GAAUxzB,IAEZ,GADA8sB,EAAK9sB,GACAlB,GAAQC,WAAW+tB,GAAInnE,OAC1B,OAAO,MAEJ,IAAqC,OAAjCm5C,GAAQ3c,cAAc6d,GAC/B,OAAO,EAEP8sB,EAAKhuB,GAAQ3c,cAAc6d,EAC5B,CACD,IACE,GAA6B,iBAAlBhQ,GACT,GAAIqQ,GACF,GAAIysB,EAAGntD,QAAQ,IAAIqwB,KAAkB,OAAO,OAE5C,GAAI88B,EAAGzrC,UAAUlH,SAAS6V,GAAgB,OAAO,OAGnD,GAAIoQ,GAAkB0sB,EAAI98B,EAAeqQ,GAAiB,OAAO,EAEnE,GAAIjQ,EACF,GAAIiQ,GACF,GAAIysB,EAAGntD,QAAQywB,GAAmB,OAAO,OAEzC,GAAI08B,EAAGC,QAAQ38B,GAAmB,OAAO,CAG9C,CAAC,MAAO0mB,GACR,CACD,OAAO,CACT,CAuDA,SAASoiB,GAAcl6B,EAAIjyC,GACzB,MAAMs9D,IACJA,EACAhmC,OAAQqoC,EAAOz8B,WACfA,EAAUhrB,cACVA,EAAak0D,UACbA,EAASrpC,iBACTA,EAAgBolC,iBAChBA,EAAmB,CAAE,EAAA/kC,WACrBA,EAAUD,YACVA,EAAWkpC,eACXA,EAAiB,CAAE,EAAAC,aACnBA,EAAYhpC,aACZA,EAAYipC,gBACZA,EAAeC,kBACfA,GAAoB,EAAKC,YACzBA,GAAc,EAAKl3D,sCACnBA,GAAwC,GACtCvV,EACE0sE,EAgER,SAAmBpP,EAAKqC,GACtB,IAAKA,EAAQ3sB,QAAQsqB,GAAM,OAC3B,MAAMqP,EAAQhN,EAAQltB,MAAM6qB,GAC5B,OAAiB,IAAVqP,OAAc,EAASA,CAChC,CApEiBC,CAAUtP,EAAKqC,GAC9B,OAAQ1tB,EAAGjgB,UACT,KAAKigB,EAAGhf,cACN,MAAsB,eAAlBgf,EAAG46B,WACE,CACL/qE,KAAMykE,GAAWxU,SACjB/f,WAAY,GACZ66B,WAAY56B,EAAG46B,YAIV,CACL/qE,KAAMykE,GAAWxU,SACjB/f,WAAY,IAGlB,KAAKC,EAAG66B,mBACN,MAAO,CACLhrE,KAAMykE,GAAWwG,aACjBhrE,KAAMkwC,EAAGlwC,KACTirE,SAAU/6B,EAAG+6B,SACbC,SAAUh7B,EAAGg7B,SACbP,UAEJ,KAAKz6B,EAAG/f,aACN,OAoEN,SAA8B+f,EAAIjyC,GAChC,MAAMs9D,IACJA,EAAGp6B,WACHA,EAAUhrB,cACVA,EAAa6qB,iBACbA,EAAgBolC,iBAChBA,EAAmB,CAAE,EAAAhlC,YACrBA,EAAWkpC,eACXA,EAAiB,CAAE,EAAAC,aACnBA,EAAYhpC,aACZA,EAAYipC,gBACZA,EAAeC,kBACfA,GAAoB,EAAKE,OACzBA,EAAMn3D,sCACNA,GAAwC,GACtCvV,EACEktE,EA3PR,SAA2B/6D,EAAS+wB,EAAYhrB,GAC9C,IACE,GAA0B,iBAAfgrB,GACT,GAAI/wB,EAAQmiB,UAAUlH,SAAS8V,GAC7B,OAAO,OAGT,IAAK,IAAIqQ,EAASphC,EAAQmiB,UAAU17B,OAAQ26C,KAAY,CACtD,MAAM/gB,EAAYrgB,EAAQmiB,UAAUif,GACpC,GAAIrQ,EAAWhvB,KAAKse,GAClB,OAAO,CAEV,CAEH,GAAIta,EACF,OAAO/F,EAAQ6tD,QAAQ9nD,EAE1B,CAAC,MAAO6xC,GACR,CACD,OAAO,CACT,CAuOoBojB,CAAkBl7B,EAAI/O,EAAYhrB,GAC9Cia,EA9WR,SAA2BhgB,GACzB,GAAIA,aAAmBi7D,gBACrB,MAAO,OAET,MAAMC,EAAmB/6D,GAAYH,EAAQggB,SAC7C,OAAIu4C,GAAax2D,KAAKm5D,GACb,MAEFA,CACT,CAqWkBC,CAAkBr7B,GAClC,IAAI7d,EAAa,CAAA,EACjB,MAAMxV,EAAMqzB,EAAG7d,WAAWx7B,OAC1B,IAAK,IAAIsiB,EAAK,EAAGA,EAAK0D,EAAK1D,IAAM,CAC/B,MAAMuX,EAAOwf,EAAG7d,WAAWlZ,GACtB+wD,GAAgB95C,EAASM,EAAK1wB,KAAM0wB,EAAKl5B,SAC5C66B,EAAW3B,EAAK1wB,MAAQypE,GACtBlO,EACAnrC,EACA7f,GAAYmgB,EAAK1wB,MACjB0wB,EAAKl5B,OAGV,CACD,GAAgB,SAAZ44B,GAAsB4Q,EAAkB,CAC1C,MAAM06B,EAAalmE,MAAMmE,KAAK4hE,EAAIjrB,aAAak7B,KAAMruB,GAC5CA,EAAGx5B,OAASusB,EAAGvsB,MAExB,IAAIwhD,EAAU,KACVzJ,IACFyJ,EAAUN,GAAoBnJ,IAE5ByJ,WACK9yC,EAAWo5C,WACXp5C,EAAW1O,KAClB0O,EAAWq5C,SAAWvG,EAEzB,CACD,GAAgB,UAAZ/0C,GAAuB8f,EAAGy7B,MAAO,CACnC,IAAIxG,EAAUN,GACZ30B,EAAGy7B,OAEDxG,IACEj1B,EAAGD,WAAWp5C,OAAS,IACzBsuE,EAAUuC,GAAcvC,EAASj1B,IAEnC7d,EAAWq5C,SAAWvG,EAEzB,CACD,GAAgB,UAAZ/0C,GAAmC,aAAZA,GAAsC,WAAZA,EAAsB,CACzE,MAAM54B,EAAQ04C,EAAG14C,MACXo0E,EAAU17B,EAAG07B,QACK,UAApBv5C,EAAWtyB,MAAwC,aAApBsyB,EAAWtyB,MAA2C,WAApBsyB,EAAWtyB,MAAyC,WAApBsyB,EAAWtyB,MAAqBvI,EACnI66B,EAAW76B,MAAQ2uE,GAAe,CAChC/1D,QAAS8/B,EACTnwC,KAAMyQ,GAAa0/B,GACnB9f,UACA54B,QACA4uE,mBACAhlC,gBAEOwqC,IACTv5C,EAAWu5C,QAAUA,EAExB,CACe,WAAZx7C,IACE8f,EAAG27B,WAAazF,EAAyB,OAC3C/zC,EAAWw5C,UAAW,SAEfx5C,EAAWw5C,UAGN,WAAZz7C,GAAwB8f,EAAG5oB,OAC7B+K,EAAWy5C,aAAe57B,EAAG+tB,QAAQ,gBAAkB,QAAU,aAEnE,GAAgB,WAAZ7tC,GAAwBmR,EAC1B,GAAqB,OAAjB2O,EAAG67B,WAznBX,SAAyBC,GACvB,MAAMC,EAAMD,EAAOE,WAAW,MAC9B,IAAKD,EAAK,OAAO,EAEjB,IAAK,IAAIp0D,EAAI,EAAGA,EAAIm0D,EAAOn0C,MAAOhgB,GADhB,GAEhB,IAAK,IAAI1f,EAAI,EAAGA,EAAI6zE,EAAOl0C,OAAQ3/B,GAFnB,GAEmC,CACjD,MAAMg0E,EAAeF,EAAIE,aACnBC,EAAuB7F,MAA2B4F,EAAeA,EAAa5F,IAA2B4F,EAW/G,GAVoB,IAAIj1D,YAEtBk1D,EAAqBx2E,KACnBq2E,EACAp0D,EACA1f,EACAqD,KAAKgjB,IAXK,GAWUwtD,EAAOn0C,MAAQhgB,GACnCrc,KAAKgjB,IAZK,GAYUwtD,EAAOl0C,OAAS3/B,IACpCinB,KAAKktC,QAEOt7C,KAAMq7D,GAAoB,IAAVA,GAAc,OAAO,CACtD,CAEH,OAAO,CACT,EAomBWC,CAAgBp8B,KACnB7d,EAAWk6C,WAAar8B,EAAGs8B,UACzBlC,EAAevqE,KACfuqE,EAAemC,eAGd,KAAM,cAAev8B,GAAK,CAC/B,MAAMw8B,EAAgBx8B,EAAGs8B,UACvBlC,EAAevqE,KACfuqE,EAAemC,SAEXE,EAAcpR,EAAItsB,cAAc,UACtC09B,EAAY90C,MAAQqY,EAAGrY,MACvB80C,EAAY70C,OAASoY,EAAGpY,OAKpB40C,IAJuBC,EAAYH,UACrClC,EAAevqE,KACfuqE,EAAemC,WAGfp6C,EAAWk6C,WAAaG,EAE3B,CAEH,GAAgB,QAAZt8C,GAAqBm6C,EAAc,CAChC1B,KACHA,GAAgBtN,EAAItsB,cAAc,UAClC65B,GAAYD,GAAcqD,WAAW,OAEvC,MAAMU,EAAQ18B,EACR28B,EAAWD,EAAME,YAAcF,EAAM56C,aAAa,QAAU,gBAC5D+6C,EAAmBH,EAAMI,YACzBC,EAAoB,KACxBL,EAAMxmD,oBAAoB,OAAQ6mD,GAClC,IACEpE,GAAchxC,MAAQ+0C,EAAMM,aAC5BrE,GAAc/wC,OAAS80C,EAAMO,cAC7BrE,GAAUsE,UAAUR,EAAO,EAAG,GAC9Bv6C,EAAWk6C,WAAa1D,GAAc2D,UACpClC,EAAevqE,KACfuqE,EAAemC,QAElB,CAAC,MAAOxrD,GACP,GAA0B,cAAtB2rD,EAAMI,YAKR,OAJAJ,EAAMI,YAAc,iBAChBJ,EAAMvmD,UAAmC,IAAvBumD,EAAMM,aAC1BD,IACGL,EAAMrmD,iBAAiB,OAAQ0mD,IAGpCjwE,QAAQC,KACN,yBAAyB4vE,aAAoB5rD,IAGlD,CACyB,cAAtB2rD,EAAMI,cACRD,EAAmB16C,EAAW26C,YAAcD,EAAmBH,EAAMS,gBAAgB,iBAGrFT,EAAMvmD,UAAmC,IAAvBumD,EAAMM,aAAoBD,IAC3CL,EAAMrmD,iBAAiB,OAAQ0mD,EACrC,CACD,GAAgB,UAAZ78C,GAAmC,UAAZA,EAAqB,CAC9C,MAAMk9C,EAAkBj7C,EACxBi7C,EAAgBC,cAAgBr9B,EAAGs9B,OAAS,SAAW,SACvDF,EAAgBG,oBAAsBv9B,EAAGw9B,YACzCJ,EAAgBK,qBAAuBz9B,EAAG09B,aAC1CN,EAAgBO,cAAgB39B,EAAG49B,MACnCR,EAAgBS,aAAe79B,EAAG89B,KAClCV,EAAgBW,eAAiB/9B,EAAGg+B,MACrC,CACIzD,IACCv6B,EAAGgtB,aACL7qC,EAAW87C,cAAgBj+B,EAAGgtB,YAE5BhtB,EAAGmtB,YACLhrC,EAAW+7C,aAAel+B,EAAGmtB,YAGjC,GAAI8N,EAAW,CACb,MAAMtzC,MAAEA,EAAKC,OAAEA,GAAWoY,EAAGqsB,wBAC7BlqC,EAAa,CACXg8C,MAAOh8C,EAAWg8C,MAClBC,SAAU,GAAGz2C,MACb02C,UAAW,GAAGz2C,SACXtkB,EAAwC,CAAEg7D,oBAAqB/F,IAA8C,CAAE,EAErH,CACe,WAAZr4C,GAAyBo6C,EAAgBn4C,EAAWo8C,OACjDv+B,EAAGw+B,kBACNr8C,EAAWs8C,OAASt8C,EAAWo8C,YAE1Bp8C,EAAWo8C,KAEpB,IAAIG,EACJ,IACMC,eAAe7vE,IAAIoxB,KAAUw+C,GAAkB,EACpD,CAAC,MAAO5mB,GACR,CACD,MAAO,CACLjoD,KAAMykE,GAAWx2B,QACjB5d,UACAiC,aACA4d,WAAY,GACZ6+B,MAAOzF,GAAan5B,SAAO,EAC3Bi7B,YACAR,SACAoE,SAAUH,EAEd,CApQaI,CAAqB9+B,EAAI,CAC9BqrB,MACAp6B,aACAhrB,gBACA6qB,mBACAolC,mBACAhlC,cACAkpC,iBACAC,eACAhpC,eACAipC,kBACAC,oBACAE,SACAn3D,0CAEJ,KAAK08B,EAAG++B,UACN,OA4BN,SAA2B/+B,EAAIjyC,GAC7B,MAAMosE,UAAEA,EAAShpC,WAAEA,EAAUspC,OAAEA,EAAMD,YAAEA,GAAgBzsE,EACjDy0B,EAASsd,GAAQrd,WAAWud,GAC5Bg/B,EAAgBx8C,GAAUA,EAAOtC,QACvC,IAAI++C,EAAe,GACnB,MAAMC,EAA4B,UAAlBF,QAAmC,EAC7CG,EAA6B,WAAlBH,QAAoC,EACjDG,EACFF,EAAe,qBACLzE,IACVyE,EAAen/B,GAAQG,YAAYD,GAC/Bk/B,GAAWD,IACbA,EAAetJ,GAAesJ,EAAc/F,GAAQnrE,EAAQs9D,SAG3D6T,IAAYC,GAAYF,GAAgB9E,IAC3C8E,EAAe9tC,EAAaA,EAAW8tC,EAAcn/B,GAAQ3c,cAAc6c,IAAOi/B,EAAazzE,QAAQ,QAAS,MAElH,MAAO,CACLqE,KAAMykE,GAAW8K,KACjBn/B,YAAag/B,GAAgB,GAC7BxE,SAEJ,CAnDa4E,CAAkBr/B,EAAI,CAC3BqrB,MACA8O,YACAhpC,aACAspC,SACAD,gBAEJ,KAAKx6B,EAAGs/B,mBACN,MAAO,CACLzvE,KAAMykE,GAAWiL,MACjBt/B,YAAa,GACbw6B,UAEJ,KAAKz6B,EAAGw/B,aACN,MAAO,CACL3vE,KAAMykE,GAAWle,QACjBnW,YAAaH,GAAQG,YAAYD,IAAO,GACxCy6B,UAEJ,QACE,OAAO,EAEb,CA+NA,SAASgF,GAAcC,GACrB,OAAIA,QACK,GAEAA,EAAUr/D,aAErB,CAiCA,SAASs/D,GAAoB3/B,EAAIjyC,GAC/B,MAAMs9D,IACJA,EACAhmC,OAAQqoC,EAAOz8B,WACfA,EAAUhrB,cACVA,EAAa+qB,cACbA,EAAaI,iBACbA,EAAgBwuC,UAChBA,GAAY,EAAK9uC,iBACjBA,GAAmB,EAAIolC,iBACvBA,EAAmB,CAAE,EAAA/kC,WACrBA,EAAUD,YACVA,EAAWI,eACXA,EAAc8oC,eACdA,EAAiB,CAAE,EAAAC,aACnBA,GAAe,EAAKhpC,aACpBA,GAAe,EAAKwuC,YACpBA,EAAWC,aACXA,EAAYC,kBACZA,EAAoB,IAAGC,iBACvBA,EAAgBC,sBAChBA,EAAwB,IAAG3F,gBAC3BA,EAAkB,KAAM,EAAKC,kBAC7BA,GAAoB,EAAKC,YACzBA,GAAc,EAAKl3D,sCACnBA,GAAwC,GACtCvV,EACJ,IAAIosE,UAAEA,GAAcpsE,GAChBmyE,mBAAEA,GAAqB,GAASnyE,EACpC,IAAKosE,EAAW,CAEdA,EAAYF,GACVj6B,EACAhP,EACAI,OAJmC,IAAd+oC,EAOxB,CACD,MAAMgG,EAAkBjG,GAAcl6B,EAAI,CACxCqrB,MACAhmC,OAAQqoC,EACRz8B,aACAhrB,gBACAk0D,YACArpC,mBACAolC,mBACA/kC,aACAD,cACAkpC,iBACAC,eACAhpC,eACAipC,kBACAC,oBACAC,cACAl3D,0CAEF,IAAK68D,EAEH,OADArzE,QAAQC,KAAKizC,EAAI,kBACV,KAET,IAAI/jC,EAEFA,EADEyxD,EAAQ3sB,QAAQf,GACb0tB,EAAQltB,MAAMR,GA9FvB,SAAyBogC,EAAI9uC,GAC3B,GAAIA,EAAeE,SAAW4uC,EAAGvwE,OAASykE,GAAWle,QACnD,OAAO,EACF,GAAIgqB,EAAGvwE,OAASykE,GAAWx2B,QAAS,CACzC,GAAIxM,EAAeC,SACH,WAAf6uC,EAAGlgD,SACW,SAAfkgD,EAAGlgD,UAA6C,YAAtBkgD,EAAGj+C,WAAWo5C,KAA2C,kBAAtB6E,EAAGj+C,WAAWo5C,MAAiD,WAArB6E,EAAGj+C,WAAWk+C,IACtG,SAAfD,EAAGlgD,SAA4C,aAAtBkgD,EAAGj+C,WAAWo5C,KAAoD,iBAAvB6E,EAAGj+C,WAAW1O,MAAkE,OAA7C6iD,GAAqB8J,EAAGj+C,WAAW1O,OACxI,OAAO,EACF,GAAI6d,EAAegvC,cAA+B,SAAfF,EAAGlgD,SAA4C,kBAAtBkgD,EAAGj+C,WAAWo5C,KAA0C,SAAf6E,EAAGlgD,UAAuBu/C,GAAcW,EAAGj+C,WAAWryB,MAAM6nC,MACtK,sCACyC,qBAAtC8nC,GAAcW,EAAGj+C,WAAWryB,OAAqE,SAArC2vE,GAAcW,EAAGj+C,WAAWo5C,MAAwD,qBAArCkE,GAAcW,EAAGj+C,WAAWo5C,MAAoE,kBAArCkE,GAAcW,EAAGj+C,WAAWo5C,OACrM,OAAO,EACF,GAAmB,SAAf6E,EAAGlgD,QAAoB,CAChC,GAAIoR,EAAeivC,sBAAwBd,GAAcW,EAAGj+C,WAAWryB,MAAM6nC,MAAM,0BACjF,OAAO,EACF,GAAIrG,EAAekvC,iBAAmBf,GAAcW,EAAGj+C,WAAWs+C,UAAU9oC,MAAM,sBACzF8nC,GAAcW,EAAGj+C,WAAWryB,MAAM6nC,MAAM,mBAA2D,cAAtC8nC,GAAcW,EAAGj+C,WAAWryB,OACvF,OAAO,EACF,GAAIwhC,EAAeovC,iBAAyD,WAAtCjB,GAAcW,EAAGj+C,WAAWryB,OAA4D,cAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAA+D,YAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAC9K,OAAO,EACF,GAAIwhC,EAAeqvC,wBAAqD,IAAhCP,EAAGj+C,WAAW,cAC3D,OAAO,EACF,GAAImP,EAAesvC,qBAA6D,WAAtCnB,GAAcW,EAAGj+C,WAAWryB,OAA4D,cAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAA+D,cAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAA+D,cAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAA+D,WAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAAsB2vE,GAAcW,EAAGj+C,WAAWs+C,UAAU9oC,MAAM,cAAgB8nC,GAAcW,EAAGj+C,WAAWs+C,UAAU9oC,MAAM,cAC1Z,OAAO,EACF,GAAIrG,EAAeuvC,uBAA+D,6BAAtCpB,GAAcW,EAAGj+C,WAAWryB,OAA8E,wBAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAAyE,eAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAAgE,oBAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAAqE,cAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAA+D,iBAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAAkE,+BAAtC2vE,GAAcW,EAAGj+C,WAAWryB,OAC9a,OAAO,CAEV,CACF,CACD,OAAO,CACT,CAgEagxE,CAAgBX,EAAiB7uC,KAAoB4uC,GAAsBC,EAAgBtwE,OAASykE,GAAW8K,OAASe,EAAgBlgC,YAAYz0C,QAAQ,cAAe,IAAI7E,QAxoBvK,EA2oBZ+xE,KAEP,MAAMqI,EAAiB57E,OAAOkB,OAAO85E,EAAiB,CAAElkE,OAExD,GADAyxD,EAAQl4D,IAAIwqC,EAAI+gC,IA9oBG,IA+oBf9kE,EACF,OAAO,KAEL4jE,GACFA,EAAY7/B,GAEd,IAAIghC,GAAepB,EACnB,GAAImB,EAAelxE,OAASykE,GAAWx2B,QAAS,CAC9CkjC,EAAcA,IAAgBD,EAAe9F,iBACtC8F,EAAe9F,UACtB,MAAMgG,EAAenhC,GAAQO,WAAWL,GACpCihC,GAAgBxM,GAAkBwM,KACpCF,EAAeG,cAAe,EACjC,CACD,IAAKH,EAAelxE,OAASykE,GAAWxU,UAAYihB,EAAelxE,OAASykE,GAAWx2B,UAAYkjC,EAAa,CAC1G1vC,EAAe6vC,gBAAkBJ,EAAelxE,OAASykE,GAAWx2B,SAAsC,SAA3BijC,EAAe7gD,UAChGggD,GAAqB,GAEvB,MAAMkB,EAAgB,CACpB/V,MACAhmC,OAAQqoC,EACRz8B,aACAhrB,gBACAk0D,YACAnpC,gBACAI,mBACAwuC,YACA9uC,mBACAolC,mBACA/kC,aACAD,cACAI,iBACA8oC,iBACAC,eACAhpC,eACA6uC,qBACAL,cACAC,eACAC,oBACAC,mBACAC,wBACA3F,kBACAE,aAAa,EACbl3D,yCAEF,GAAIy9D,EAAelxE,OAASykE,GAAWx2B,SAAsC,aAA3BijC,EAAe7gD,cAA8D,IAApC6gD,EAAe5+C,WAAW76B,WAChH,CACCy5E,EAAelxE,OAASykE,GAAWx2B,cAAkD,IAAvCijC,EAAe5+C,WAAWq5C,UAAqE,iBAAvCuF,EAAe5+C,WAAWq5C,WAClI4F,EAAc5G,aAAc,GAE9B,IAAK,MAAM6G,KAAU/7E,MAAMmE,KAAKq2C,GAAQC,WAAWC,IAAM,CACvD,MAAMshC,EAAsB3B,GAAoB0B,EAAQD,GACpDE,GACFP,EAAehhC,WAAWh3C,KAAKu4E,EAElC,CACF,CACD,IAAIL,EAAe,KACnB,GAAIzM,GAAUx0B,KAAQihC,EAAenhC,GAAQO,WAAWL,IACtD,IAAK,MAAMqhC,KAAU/7E,MAAMmE,KAAKq2C,GAAQC,WAAWkhC,IAAgB,CACjE,MAAMK,EAAsB3B,GAAoB0B,EAAQD,GACpDE,IACF7M,GAAkBwM,KAAkBK,EAAoBC,UAAW,GACnER,EAAehhC,WAAWh3C,KAAKu4E,GAElC,CAEJ,CACD,MAAM9+C,EAASsd,GAAQrd,WAAWud,GAuFlC,OAtFIxd,GAAUorC,GAAaprC,IAAWiyC,GAAkBjyC,KACtDu+C,EAAeQ,UAAW,GAExBR,EAAelxE,OAASykE,GAAWx2B,SAAsC,WAA3BijC,EAAe7gD,SA5hBnE,SAA0B4e,EAAUxpC,EAAUyqE,GAC5C,MAAM9gC,EAAMH,EAASI,cACrB,IAAKD,EACH,OAEF,IACIuiC,EADAC,GAAQ,EAEZ,IACED,EAAaviC,EAAI54B,SAASm7D,UAC3B,CAAC,MAAOl4E,GACP,MACD,CACD,GAAmB,aAAfk4E,EAA2B,CAC7B,MAAME,EAAQxkE,WAAW,KAClBukE,IACHnsE,IACAmsE,GAAQ,IAET1B,GAMH,YALAjhC,EAASzoB,iBAAiB,OAAQ,KAChC9X,aAAamjE,GACbD,GAAQ,EACRnsE,KAGH,CACD,MAAMqsE,EAAW,cACjB,GAAI1iC,EAAIzrB,SAASC,OAASkuD,GAAY7iC,EAASy/B,MAAQoD,GAA6B,KAAjB7iC,EAASy/B,IAE1E,OADArhE,WAAW5H,EAAU,GACdwpC,EAASzoB,iBAAiB,OAAQ/gB,GAE3CwpC,EAASzoB,iBAAiB,OAAQ/gB,EACpC,CA6fIssE,CACE5hC,EACA,KACE,MAAM6hC,EAAY7hC,EAAGw+B,gBACrB,GAAIqD,GAAa/B,EAAc,CAC7B,MAAMgC,EAAuBnC,GAAoBkC,EAAW,CAC1DxW,IAAKwW,EACLx8C,OAAQqoC,EACRz8B,aACAhrB,gBACAk0D,YACAnpC,gBACAI,mBACAwuC,WAAW,EACX9uC,mBACAolC,mBACA/kC,aACAD,cACAI,iBACA8oC,iBACAC,eACAhpC,eACA6uC,qBACAL,cACAC,eACAC,oBACAC,mBACAC,wBACA3F,oBAEEwH,GACFhC,EACE9/B,EACA8hC,EAGL,GAEH/B,GAGAgB,EAAelxE,OAASykE,GAAWx2B,SAAsC,SAA3BijC,EAAe7gD,SAA+D,iBAAlC6gD,EAAe5+C,WAAWo5C,MAAuD,eAAlCwF,EAAe5+C,WAAWo5C,KAA0D,YAAlCwF,EAAe5+C,WAAWo5C,KAA+D,iBAAnCwF,EAAe5+C,WAAW1O,MAA8E,QAAzD6iD,GAAqByK,EAAe5+C,WAAW1O,QAriBrV,SAA8BsuD,EAAMzsE,EAAU0sE,GAC5C,IACIC,EADAR,GAAQ,EAEZ,IACEQ,EAAmBF,EAAKtG,KACzB,CAAC,MAAOnyE,GACP,MACD,CACD,GAAI24E,EAAkB,OACtB,MAAMP,EAAQxkE,WAAW,KAClBukE,IACHnsE,IACAmsE,GAAQ,IAETO,GACHD,EAAK1rD,iBAAiB,OAAQ,KAC5B9X,aAAamjE,GACbD,GAAQ,EACRnsE,KAEJ,CAkhBI4sE,CACEliC,EACA,KACE,GAAIggC,EAAkB,CACpB,MAAMmC,EAAqBxC,GAAoB3/B,EAAI,CACjDqrB,MACAhmC,OAAQqoC,EACRz8B,aACAhrB,gBACAk0D,YACAnpC,gBACAI,mBACAwuC,WAAW,EACX9uC,mBACAolC,mBACA/kC,aACAD,cACAI,iBACA8oC,iBACAC,eACAhpC,eACA6uC,qBACAL,cACAC,eACAC,oBACAC,mBACAC,wBACA3F,oBAEE6H,GACFnC,EACEhgC,EACAmiC,EAGL,GAEHlC,GAGGc,CACT,CAwFA,SAASx/B,GAA0B55B,GACjC,OAAOA,GAAKA,EAAE65B,YAAcr8C,OAAOK,UAAUC,eAAeC,KAAKiiB,EAAG,WAAaA,EAAW,QAAIA,CAClG,CACA,SAAS85B,GAAwBzB,GAC/B,GAAIA,EAAGwB,WAAY,OAAOxB,EAC1B,IAAI0B,EAAK1B,EAAGtY,QACZ,GAAiB,mBAANga,EAAkB,CAC3B,IAAIC,EAAK,SAASC,IAChB,OAAI77C,gBAAgB67C,EACXC,QAAQC,UAAUJ,EAAIh7C,UAAWX,KAAKC,aAExC07C,EAAG96C,MAAMb,KAAMW,UAC5B,EACIi7C,EAAGn8C,UAAYk8C,EAAGl8C,SACtB,MAASm8C,EAAK,CAAA,EAWZ,OAVAx8C,OAAO0J,eAAe8yC,EAAI,aAAc,CAAEr6C,OAAO,IACjDnC,OAAOwF,KAAKq1C,GAAIluC,QAAQ,SAASizB,GAC/B,IAAI9/B,EAAIE,OAAOw5C,yBAAyBqB,EAAIjb,GAC5C5/B,OAAO0J,eAAe8yC,EAAI5c,EAAG9/B,EAAE6J,IAAM7J,EAAI,CACvC+J,YAAY,EACZF,IAAK,WACH,OAAOkxC,EAAGjb,EACX,GAEP,GACS4c,CACT,CACA,IACII,GADAC,GAAuB,CAAEC,QAAS,CAAA,GAEtC,SAASC,KACP,GAAIH,GAAiC,OAAOC,GAAqBC,QACjEF,GAAkC,EAClC,IAAIp6B,EAAI9hB,OACJI,EAAS,WACX,MAAO,CAAEk8C,kBAAkB,EAAOhB,MAAOx5B,EAAGy6B,KAAMz6B,EAAG06B,IAAK16B,EAAG26B,OAAQ36B,EAAG46B,UAAW56B,EAAG66B,QAAS76B,EAAG86B,OAAQ96B,EAAG+6B,cAAe/6B,EAAGg7B,MAAOh7B,EAAGi7B,IAAKj7B,EAAGk7B,MAAOl7B,EAAGm7B,OAAQn7B,EAAGo7B,KAAMp7B,EAAGq7B,QAASr7B,EAAGs7B,KAAMt7B,EAAGu7B,MAAOv7B,EAAGw7B,KAAMx7B,EAAGy7B,QAASz7B,EAAG07B,MAAO17B,EAAG27B,QAAS37B,EAAG47B,SAAU57B,EAAG67B,OAAQ77B,EAAG87B,UAAW97B,EAAG+7B,OAAQ/7B,EAAGg8B,QAASh8B,EACvT,EAGE,OAFAq6B,GAAqBC,QAAUh8C,IAC/B+7C,GAAqBC,QAAQ2B,aAAe39C,EACrC+7C,GAAqBC,OAC9B,CACA,MAKM4B,GAA+BpC,GAJat8C,OAAO2+C,OAAuB3+C,OAAO0J,eAAe,CACpGxJ,UAAW,KACXqiC,QAH8B,CAAA,GAI7Bh/B,OAAOq7C,YAAa,CAAEz8C,MAAO,aAEhC,IAAI08C,GACAC,GACJ,SAASC,KACP,GAAID,GAA6B,OAAOD,GACxCC,GAA8B,EAC9B,IAAIE,EAAuBjC,KACvBkC,EAAoBP,GACxB,MAAMQ,UAAuBr3C,MAC3B,WAAAhH,CAAY0jC,EAAS4a,EAAMC,EAAQpnC,EAAQqnC,EAAMC,GAC/CC,MAAMhb,GACN3jC,KAAK+J,KAAO,iBACZ/J,KAAK4+C,OAASjb,EACV8a,IACFz+C,KAAKy+C,KAAOA,GAEVrnC,IACFpX,KAAKoX,OAASA,GAEZsnC,IACF1+C,KAAK0+C,OAASA,QAEI,IAATH,QAA0C,IAAXC,IACpB,iBAATD,GACTv+C,KAAKu+C,KAAOA,EACZv+C,KAAKw+C,OAASA,IAEdx+C,KAAKu+C,KAAOA,EAAKA,KACjBv+C,KAAKw+C,OAASD,EAAKC,OACnBx+C,KAAK6+C,QAAUL,EAAOD,KACtBv+C,KAAK8+C,UAAYN,EAAOA,SAG5Bx+C,KAAK++C,aACD93C,MAAM+3C,mBACR/3C,MAAM+3C,kBAAkBh/C,KAAMs+C,EAEjC,CACD,UAAAS,GACE/+C,KAAK2jC,QAAU3jC,KAAK0+C,OAAS1+C,KAAK0+C,OAAS,KAAO,GAClD1+C,KAAK2jC,SAAW3jC,KAAKy+C,KAAOz+C,KAAKy+C,KAAO,mBACf,IAAdz+C,KAAKu+C,OACdv+C,KAAK2jC,SAAW,IAAM3jC,KAAKu+C,KAAO,IAAMv+C,KAAKw+C,QAE/Cx+C,KAAK2jC,SAAW,KAAO3jC,KAAK4+C,MAC7B,CACD,cAAAK,CAAeC,GACb,IAAKl/C,KAAKoX,OAAQ,MAAO,GACzB,IAAIymB,EAAM79B,KAAKoX,OACF,MAAT8nC,IAAeA,EAAQd,EAAKhC,kBAC5BiC,GACEa,IAAOrhB,EAAMwgB,EAAkBxgB,IAErC,IAIIshB,EAAMC,EAJNC,EAAQxhB,EAAI3zB,MAAM,SAClBI,EAAQ/E,KAAKse,IAAI7jB,KAAKu+C,KAAO,EAAG,GAChC3zC,EAAMrF,KAAKgjB,IAAIvoB,KAAKu+C,KAAO,EAAGc,EAAMz+C,QACpC0+C,EAAWx/C,OAAO8K,GAAKhK,OAE3B,GAAIs+C,EAAO,CACT,IAAI7C,KAAEA,EAAIe,KAAEA,EAAIP,IAAEA,GAAQuB,EAAKP,cAAa,GAC5CsB,EAAQh1C,GAASkyC,EAAKQ,EAAI1yC,IAC1Bi1C,EAASj1C,GAASizC,EAAKjzC,EAC/B,MACQg1C,EAAOC,EAASjvC,GAAQA,EAE1B,OAAOkvC,EAAMx7C,MAAMyG,EAAOM,GAAK/F,IAAI,CAAC05C,EAAMgB,KACxC,IAAIC,EAASl1C,EAAQ,EAAIi1C,EACrBE,EAAS,KAAO,IAAMD,GAAQ37C,OAAOy7C,GAAY,MACrD,GAAIE,IAAWx/C,KAAKu+C,KAAM,CACxB,IAAImB,EAAUN,EAAMK,EAAOh6C,QAAQ,MAAO,MAAQ84C,EAAK16C,MAAM,EAAG7D,KAAKw+C,OAAS,GAAG/4C,QAAQ,SAAU,KACnG,OAAO05C,EAAK,KAAOC,EAAMK,GAAUlB,EAAO,MAAQmB,EAAUP,EAAK,IAClE,CACD,MAAO,IAAMC,EAAMK,GAAUlB,IAC5Bv4C,KAAK,KACT,CACD,QAAAjB,GACE,IAAIyM,EAAOxR,KAAKi/C,iBAIhB,OAHIztC,IACFA,EAAO,OAASA,EAAO,MAElBxR,KAAK+J,KAAO,KAAO/J,KAAK2jC,QAAUnyB,CAC1C,EAIH,OAFAysC,GAAmBK,EACnBA,EAAe3c,QAAU2c,EAClBL,EACT,CACA,IACI0B,GAQAC,GACAC,GA+SAC,GACAC,GAaAC,GACAC,GAsUAC,GACAC,GAqBAC,GACAC,GA0BAC,GACAC,GAqHAC,GACAC,GA+MAC,GACAC,GA4TAC,GACAC,GAeAC,GACAC,GAwXAC,GACAC,GA4BAC,GACAC,GAcAC,GACAC,GAmCAC,GACAC,GAsCAC,GACAC,GAsNAC,GACAC,GAwBAC,GACAC,GAoDAC,GACAC,GAuDAC,GACAC,GA0BAC,GACAC,GAmhBAC,GACAC,GAiCAC,GACAC,GAydAC,GACAC,GAmHAC,GACAC,GAyDAC,GACAC,GAuDAC,GACAC,GAj7GAC,GAAY,CAAA,EAEhB,SAASC,KACP,OAAItD,KACJA,GAAuB,EACvBqD,GAAUE,QAAUvgD,OAAO,WAC3BqgD,GAAUG,GAAKxgD,OAAO,OAHWqgD,EAKnC,CAGA,SAASI,KACP,GAAIvD,GAA0B,OAAOD,GACrCC,GAA2B,EAC3B,MAAMwD,EAAc,CAClB14C,MAAO,KACP24C,YAAa,KACbC,cAAe,KACfC,WAAY,KACZC,WAAY,IACZC,WAAY,KACZC,MAAO,KACPC,YAAa,IACbC,aAAc,IACdC,UAAW,GACXC,OAAQ,OACRC,WAAW,GAKb,MAAMC,EACJ,WAAAhkD,CAAYikD,GACVlkD,KAAKkkD,QAAUA,CAChB,CACD,MAAAC,CAAOlJ,EAAO+I,GACZ,IAAIj6C,EAAO,IAAMkxC,EAAMlxC,KACnBq6C,EAASnJ,EAAMmJ,OAASpkD,KAAKqkD,SAASpJ,EAAO,UAAY,GAM7D,QALoC,IAAzBA,EAAMqJ,KAAKC,UACpBx6C,GAAQkxC,EAAMqJ,KAAKC,UACVH,IACTr6C,GAAQ,KAENkxC,EAAMuJ,MACRxkD,KAAKykD,MAAMxJ,EAAOlxC,EAAOq6C,OACpB,CACL,IAAIx5C,GAAOqwC,EAAMqJ,KAAKI,SAAW,KAAOV,EAAY,IAAM,IAC1DhkD,KAAKkkD,QAAQn6C,EAAOq6C,EAASx5C,EAAKqwC,EACnC,CACF,CACD,WAAA0J,CAAY1J,EAAO2J,GACjB,IAAIrjD,EAEFA,EADiB,SAAf05C,EAAMnxC,KACA9J,KAAK6kD,IAAI5J,EAAO,KAAM,cACN,YAAfA,EAAMnxC,KACP9J,KAAK6kD,IAAI5J,EAAO,KAAM,iBACV,WAAX2J,EACD5kD,KAAK6kD,IAAI5J,EAAO,KAAM,cAEtBj7C,KAAK6kD,IAAI5J,EAAO,KAAM,eAEhC,IAAI6J,EAAM7J,EAAMxe,OACZsoB,EAAQ,EACZ,KAAOD,GAAoB,SAAbA,EAAIh7C,MAChBi7C,GAAS,EACTD,EAAMA,EAAIroB,OAEZ,GAAIl7B,EAAMwE,SAAS,MAAO,CACxB,IAAIg+C,EAAS/jD,KAAK6kD,IAAI5J,EAAO,KAAM,UACnC,GAAI8I,EAAOnjD,OACT,IAAK,IAAIY,EAAO,EAAGA,EAAOujD,EAAOvjD,IAAQD,GAASwiD,CAErD,CACD,OAAOxiD,CACR,CACD,KAAAkjD,CAAMxJ,EAAO3wC,GACX,IAEIK,EAFA+5C,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,cACzCj7C,KAAKkkD,QAAQ55C,EAAQo6C,EAAU,IAAKzJ,EAAO,SAEvCA,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,QAC7BZ,KAAKgC,KAAKi5C,GACVtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,UAExBtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,QAAS,aAE/BtwC,GAAO3K,KAAKkkD,QAAQv5C,GACxB3K,KAAKkkD,QAAQ,IAAKjJ,EAAO,MAC1B,CACD,IAAAj5C,CAAKi5C,GACH,IAAI+J,EAAO/J,EAAMuJ,MAAM5jD,OAAS,EAChC,KAAOokD,EAAO,GACmB,YAA3B/J,EAAMuJ,MAAMQ,GAAMl7C,MACtBk7C,GAAQ,EAEV,IAAIhB,EAAYhkD,KAAK6kD,IAAI5J,EAAO,aAChC,IAAK,IAAI/3B,EAAK,EAAGA,EAAK+3B,EAAMuJ,MAAM5jD,OAAQsiB,IAAM,CAC9C,IAAIyZ,EAAQse,EAAMuJ,MAAMthC,GACpBxY,EAAS1K,KAAK6kD,IAAIloB,EAAO,UACzBjyB,GAAQ1K,KAAKkkD,QAAQx5C,GACzB1K,KAAK8K,UAAU6xB,EAAOqoB,IAAS9hC,GAAM8gC,EACtC,CACF,CACD,OAAAvY,CAAQwP,GACN,IAAIgK,EAAOjlD,KAAK6kD,IAAI5J,EAAO,OAAQ,eAC/BiK,EAAQllD,KAAK6kD,IAAI5J,EAAO,QAAS,gBACrCj7C,KAAKkkD,QAAQ,KAAOe,EAAOhK,EAAM9wC,KAAO+6C,EAAQ,KAAMjK,EACvD,CACD,IAAAkK,CAAKlK,EAAO+I,GACV,IAAIU,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,SACrCmK,EAASnK,EAAMhsB,KAAOy1B,EAAU1kD,KAAKqkD,SAASpJ,EAAO,SACrDA,EAAMoK,YACRD,GAAUnK,EAAMqJ,KAAKe,WAAa,eAEhCrB,IAAWoB,GAAU,KACzBplD,KAAKkkD,QAAQkB,EAAQnK,EACtB,CACD,QAAA36B,CAAS26B,GACPj7C,KAAKgC,KAAKi5C,EACX,CACD,GAAA4J,CAAI5J,EAAOqK,EAAKV,GACd,IAAIrjD,EAEJ,GADKqjD,IAAQA,EAASU,GAClBA,IACF/jD,EAAQ05C,EAAMqJ,KAAKgB,QACE,IAAV/jD,GAAuB,OAAOA,EAE3C,IAAIk7B,EAASwe,EAAMxe,OACnB,GAAe,WAAXmoB,EAAqB,CACvB,IAAKnoB,GAA0B,SAAhBA,EAAO3yB,MAAmB2yB,EAAO8oB,QAAUtK,EACxD,MAAO,GAET,GAAIxe,GAA0B,aAAhBA,EAAO3yB,KACnB,MAAO,EAEV,CACD,IAAK2yB,EAAQ,OAAO4mB,EAAYuB,GAChC,IAAIY,EAAQvK,EAAM5gB,OAElB,GADKmrB,EAAMC,WAAUD,EAAMC,SAAW,CAAA,QACA,IAA3BD,EAAMC,SAASb,GACxB,OAAOY,EAAMC,SAASb,GAExB,GAAe,WAAXA,GAAkC,UAAXA,EACzB,OAAO5kD,KAAK2kD,YAAY1J,EAAO2J,GAC1B,CACL,IAAIjwC,EAAS,QApHCxE,EAoHkBy0C,GAnHzB,GAAGc,cAAgBv1C,EAAItM,MAAM,IAoHhC7D,KAAK2U,GACPpT,EAAQvB,KAAK2U,GAAQ6wC,EAAOvK,GAE5BuK,EAAMG,KAAMziC,IAEV,GADA3hB,EAAQ2hB,EAAGohC,KAAKgB,QACK,IAAV/jD,EAAuB,OAAO,GAG9C,CA7HL,IAAoB4O,EAgIhB,YAFqB,IAAV5O,IAAuBA,EAAQ8hD,EAAYuB,IACtDY,EAAMC,SAASb,GAAUrjD,EAClBA,CACR,CACD,cAAAqkD,CAAeJ,GACb,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,OAAS,QACH,IAAlBsiB,EAAGohC,KAAK35C,MAKjB,OAJApJ,EAAQ2hB,EAAGohC,KAAK35C,MACZpJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,gBAAAskD,CAAiBL,EAAOvK,GACtB,IAAI15C,EAeJ,OAdAikD,EAAMM,aAAc5iC,IAClB,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAAwkD,CAAcP,EAAOvK,GACnB,IAAI15C,EAeJ,OAdAikD,EAAMQ,UAAW9iC,IACf,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAA0kD,CAAcT,GACZ,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAgB,SAAZA,EAAGpZ,OACLvI,EAAQ2hB,EAAGohC,KAAKI,aACK,IAAVnjD,GAAuB,OAAO,IAGtCA,CACR,CACD,aAAA2kD,CAAcV,GACZ,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,QAAUthC,EAAGuZ,SAAW+oB,GAASA,EAAMD,QAAUriC,SACxB,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,QAAA4kD,CAASX,GACP,IAAIjkD,EAOJ,OANAikD,EAAMQ,UAAW9iC,IACf,QAA+B,IAApBA,EAAGohC,KAAKI,QAEjB,OADAnjD,EAAQ2hB,EAAGohC,KAAKI,QAAQj/C,QAAQ,UAAW,KACpC,IAGJlE,CACR,CACD,YAAA6kD,CAAaZ,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAA6B,IAApBthC,EAAGshC,MAAM5jD,SACvBW,EAAQ2hB,EAAGohC,KAAK35C,WACK,IAAVpJ,GAAuB,OAAO,IAGtCA,CACR,CACD,SAAA8kD,CAAUb,GACR,GAAIA,EAAMlB,KAAKP,OAAQ,OAAOyB,EAAMlB,KAAKP,OACzC,IAAIxiD,EAYJ,OAXAikD,EAAMG,KAAMziC,IACV,IAAI1jB,EAAI0jB,EAAGuZ,OACX,GAAIj9B,GAAKA,IAAMgmD,GAAShmD,EAAEi9B,QAAUj9B,EAAEi9B,SAAW+oB,QACjB,IAAnBtiC,EAAGohC,KAAK55C,OAAwB,CACzC,IAAI47C,EAAQpjC,EAAGohC,KAAK55C,OAAOR,MAAM,MAGjC,OAFA3I,EAAQ+kD,EAAMA,EAAM1lD,OAAS,GAC7BW,EAAQA,EAAMkE,QAAQ,MAAO,KACtB,CACR,IAGElE,CACR,CACD,YAAAglD,CAAaf,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,QAA2B,SAAjBsiB,EAAG8hC,KAAKl7C,OACzCvI,EAAQ2hB,EAAGohC,KAAKN,eACK,IAAVziD,GAAuB,OAAO,IAGtCA,CACR,CACD,QAAA8iD,CAASpJ,EAAOhsB,GACd,IAAI1tB,EAAQ05C,EAAMhsB,GACd41B,EAAM5J,EAAMqJ,KAAKr1B,GACrB,OAAI41B,GAAOA,EAAItjD,QAAUA,EAChBsjD,EAAIA,IAENtjD,CACR,CACD,IAAA84B,CAAK4gB,GACHj7C,KAAKgC,KAAKi5C,GACNA,EAAMqJ,KAAK35C,OAAO3K,KAAKkkD,QAAQjJ,EAAMqJ,KAAK35C,MAC/C,CACD,IAAAqR,CAAKi/B,GACHj7C,KAAKykD,MAAMxJ,EAAOj7C,KAAKqkD,SAASpJ,EAAO,aACnCA,EAAMqJ,KAAKkC,cACbxmD,KAAKkkD,QAAQjJ,EAAMqJ,KAAKkC,aAAcvL,EAAO,MAEhD,CACD,SAAAnwC,CAAUmwC,EAAO+I,GACf,IAAKhkD,KAAKi7C,EAAMnxC,MACd,MAAM,IAAI7C,MACR,yBAA2Bg0C,EAAMnxC,KAAO,mDAG5C9J,KAAKi7C,EAAMnxC,MAAMmxC,EAAO+I,EACzB,EAIH,OAFApE,GAAgBqE,EAChBA,EAAYtiB,QAAUsiB,EACfrE,EACT,CAGA,SAAS6G,KACP,GAAI1G,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAIkE,EAAcb,KAClB,SAASt4C,EAAUmwC,EAAOiJ,GACd,IAAID,EAAYC,GACtBp5C,UAAUmwC,EACf,CAGD,OAFA6E,GAAgBh1C,EAChBA,EAAU62B,QAAU72B,EACbg1C,EACT,CAGA,SAAS6G,KACP,GAAI1G,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IAAIiD,QAAEA,EAAOC,GAAEA,GAAOF,KAClB3E,EAAiBH,KACjB8F,EAAcb,KACdt4C,EAAY27C,KAChB,SAASG,EAAU35C,EAAKwvB,GACtB,IAAIoqB,EAAS,IAAI55C,EAAIhN,YACrB,IAAK,IAAIijB,KAAMjW,EAAK,CAClB,IAAK7N,OAAOK,UAAUC,eAAeC,KAAKsN,EAAKiW,GAC7C,SAEF,GAAW,eAAPA,EAAqB,SACzB,IAAI3hB,EAAQ0L,EAAIiW,GACZpZ,SAAcvI,EACP,WAAP2hB,GAA4B,WAATpZ,EACjB2yB,IAAQoqB,EAAO3jC,GAAMuZ,GACT,WAAPvZ,EACT2jC,EAAO3jC,GAAM3hB,EACJhC,MAAMmN,QAAQnL,GACvBslD,EAAO3jC,GAAM3hB,EAAMsD,IAAK0c,GAAMqlC,EAAUrlC,EAAGslC,KAE9B,WAAT/8C,GAA+B,OAAVvI,IAAgBA,EAAQqlD,EAAUrlD,IAC3DslD,EAAO3jC,GAAM3hB,EAEhB,CACD,OAAOslD,CACR,CACD,MAAMC,EACJ,WAAA7mD,CAAYm6B,EAAW,IACrBp6B,KAAKskD,KAAO,GACZtkD,KAAKkjD,IAAW,EAChBljD,KAAKmjD,IAAM,EACX,IAAK,IAAIp5C,KAAQqwB,EACf,GAAa,UAATrwB,EAAkB,CACpB/J,KAAKwkD,MAAQ,GACb,IAAK,IAAIvJ,KAAS7gB,EAASrwB,GACE,mBAAhBkxC,EAAM8L,MACf/mD,KAAKgZ,OAAOiiC,EAAM8L,SAElB/mD,KAAKgZ,OAAOiiC,EAG1B,MACUj7C,KAAK+J,GAAQqwB,EAASrwB,EAG3B,CACD,UAAAi9C,CAAWzjD,GAET,GADAA,EAAM0jD,YAAcjnD,KAChBuD,EAAM0G,OAASjK,KAAKoX,QAAU,aAAa8E,KAAK3Y,EAAM0G,OAAQ,CAChE,IAAIi9C,EAAKlnD,KAAKoX,OACd7T,EAAM0G,MAAQ1G,EAAM0G,MAAMxE,QACxB,aACA,KAAKyhD,EAAGntB,MAAMr2B,QAAQwjD,EAAG58C,MAAMi0C,QAAQ2I,EAAG58C,MAAMk0C,WAEnD,CACD,OAAOj7C,CACR,CACD,KAAAoH,CAAM8E,GAEJ,OADAzP,KAAKy8B,OAAO0qB,YAAYnnD,KAAMyP,GACvBzP,IACR,CACD,MAAAM,CAAO8mD,EAAY,IACjB,IAAK,IAAIr9C,KAAQq9C,EACfpnD,KAAK+J,GAAQq9C,EAAUr9C,GAEzB,OAAO/J,IACR,CACD,MAAA0K,CAAO+E,GAEL,OADAzP,KAAKy8B,OAAO4qB,aAAarnD,KAAMyP,GACxBzP,IACR,CACD,SAAAsnD,CAAUC,UACDvnD,KAAKskD,KAAK55C,cACV1K,KAAKskD,KAAK35C,MACZ48C,UAAoBvnD,KAAKskD,KAAKI,OACpC,CACD,KAAAqC,CAAMK,EAAY,IAChB,IAAIP,EAASD,EAAU5mD,MACvB,IAAK,IAAI+J,KAAQq9C,EACfP,EAAO98C,GAAQq9C,EAAUr9C,GAE3B,OAAO88C,CACR,CACD,UAAAW,CAAWJ,EAAY,IACrB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO0qB,YAAYnnD,KAAM6mD,GACvBA,CACR,CACD,WAAAY,CAAYL,EAAY,IACtB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO4qB,aAAarnD,KAAM6mD,GACxBA,CACR,CACD,KAAAtjD,CAAMogC,EAASva,EAAO,IACpB,GAAIppB,KAAKoX,OAAQ,CACf,IAAIxM,IAAEA,EAAGN,MAAEA,GAAUtK,KAAK0nD,QAAQt+B,GAClC,OAAOppB,KAAKoX,OAAO2iB,MAAMx2B,MACvBogC,EACA,CAAE6a,OAAQl0C,EAAMk0C,OAAQD,KAAMj0C,EAAMi0C,MACpC,CAAEC,OAAQ5zC,EAAI4zC,OAAQD,KAAM3zC,EAAI2zC,MAChCn1B,EAEH,CACD,OAAO,IAAIk1B,EAAe3a,EAC3B,CACD,iBAAAgkB,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACW,SAAThsB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UAEnB3M,EAAMhsB,GAGjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,UAATA,GAA6B,SAATA,GAA4B,WAATA,GAA8B,cAATA,GAC1E,SAATA,GACEgsB,EAAM4M,cAJ0B,GASvC,CACD,SAAAA,GACE,GAAI7nD,KAAKkjD,GAAU,CACjBljD,KAAKkjD,IAAW,EAChB,IAAIzhD,EAAOzB,KACX,KAAOyB,EAAOA,EAAKg7B,QACjBh7B,EAAKyhD,IAAW,CAEnB,CACF,CACD,IAAAzhD,GACE,IAAKzB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,UAAAuI,CAAW1+B,EAAM2+B,GACf,IAAItjC,EAAMzkB,KAAKoX,OAAO9M,MACtB,GAAI8e,EAAKtkB,MACP2f,EAAMzkB,KAAKgoD,eAAe5+B,EAAKtkB,MAAOijD,QACjC,GAAI3+B,EAAK6+B,KAAM,CAEpB,IAAI1I,GADJwI,EAAuB/nD,KAAK+E,YACMmjD,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IAAe96B,EAAMzkB,KAAKgoD,eAAezI,EAAQwI,GACtD,CACD,OAAOtjC,CACR,CACD,cAAAujC,CAAezI,EAAQwI,GACrB,IAAI3C,EAAS2C,GAAwB/nD,KAAK+E,WACtCy5C,EAASx+C,KAAKoX,OAAO9M,MAAMk0C,OAC3BD,EAAOv+C,KAAKoX,OAAO9M,MAAMi0C,KAC7B,IAAK,IAAIr7B,EAAK,EAAGA,EAAKq8B,EAAQr8B,IACT,OAAfkiC,EAAOliC,IACTs7B,EAAS,EACTD,GAAQ,GAERC,GAAU,EAGd,MAAO,CAAEA,SAAQD,OAClB,CACD,IAAA/2B,GACE,IAAKxnB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,OAAAmI,CAAQt+B,GACN,IAAI9e,EAAQ,CACVk0C,OAAQx+C,KAAKoX,OAAO9M,MAAMk0C,OAC1BD,KAAMv+C,KAAKoX,OAAO9M,MAAMi0C,MAEtB3zC,EAAM5K,KAAKoX,OAAOxM,IAAM,CAC1B4zC,OAAQx+C,KAAKoX,OAAOxM,IAAI4zC,OAAS,EACjCD,KAAMv+C,KAAKoX,OAAOxM,IAAI2zC,MACpB,CACFC,OAAQl0C,EAAMk0C,OAAS,EACvBD,KAAMj0C,EAAMi0C,MAEd,GAAIn1B,EAAK6+B,KAAM,CACb,IAAIF,EAAuB/nD,KAAK+E,WAC5Bw6C,EAASwI,EAAqBG,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IACFj1C,EAAQtK,KAAKgoD,eAAezI,EAAQwI,GACpCn9C,EAAM5K,KAAKgoD,eAAezI,EAASn2B,EAAK6+B,KAAKrnD,OAAQmnD,GAE/D,MACY3+B,EAAK9e,MACPA,EAAQ,CACNk0C,OAAQp1B,EAAK9e,MAAMk0C,OACnBD,KAAMn1B,EAAK9e,MAAMi0C,MAEVn1B,EAAKtkB,QACdwF,EAAQtK,KAAKgoD,eAAe5+B,EAAKtkB,QAE/BskB,EAAKxe,IACPA,EAAM,CACJ4zC,OAAQp1B,EAAKxe,IAAI4zC,OACjBD,KAAMn1B,EAAKxe,IAAI2zC,MAEiB,iBAAlBn1B,EAAK++B,SACrBv9C,EAAM5K,KAAKgoD,eAAe5+B,EAAK++B,UACtB/+B,EAAKtkB,QACd8F,EAAM5K,KAAKgoD,eAAe5+B,EAAKtkB,MAAQ,IAM3C,OAHI8F,EAAI2zC,KAAOj0C,EAAMi0C,MAAQ3zC,EAAI2zC,OAASj0C,EAAMi0C,MAAQ3zC,EAAI4zC,QAAUl0C,EAAMk0C,UAC1E5zC,EAAM,CAAE4zC,OAAQl0C,EAAMk0C,OAAS,EAAGD,KAAMj0C,EAAMi0C,OAEzC,CAAE3zC,MAAKN,QACf,CACD,GAAAu6C,CAAI51B,EAAMm5B,GAER,OADU,IAAInE,GACHY,IAAI7kD,KAAMivB,EAAMm5B,EAC5B,CACD,MAAAC,GAKE,OAJIroD,KAAKy8B,QACPz8B,KAAKy8B,OAAO4c,YAAYr5C,MAE1BA,KAAKy8B,YAAS,EACPz8B,IACR,CACD,WAAAsoD,IAAe9D,GACb,GAAIxkD,KAAKy8B,OAAQ,CACf,IAAI8rB,EAAWvoD,KACXwoD,GAAY,EAChB,IAAK,IAAIvN,KAASuJ,EACZvJ,IAAUj7C,KACZwoD,GAAY,EACHA,GACTxoD,KAAKy8B,OAAO0qB,YAAYoB,EAAUtN,GAClCsN,EAAWtN,GAEXj7C,KAAKy8B,OAAO4qB,aAAakB,EAAUtN,GAGlCuN,GACHxoD,KAAKqoD,QAER,CACD,OAAOroD,IACR,CACD,IAAAq6B,GACE,IAAIouB,EAAUzoD,KACd,KAAOyoD,EAAQhsB,QAAkC,aAAxBgsB,EAAQhsB,OAAO3yB,MACtC2+C,EAAUA,EAAQhsB,OAEpB,OAAOgsB,CACR,CACD,MAAAC,CAAOvmD,EAAGwmD,GACR,IAAIC,EAAQ,CAAA,EACRC,EAAuB,MAAVF,EACjBA,EAASA,GAA0B,IAAI52B,IACvC,IAAI+2B,EAAkB,EACtB,IAAK,IAAI/+C,KAAQ/J,KAAM,CACrB,IAAKZ,OAAOK,UAAUC,eAAeC,KAAKK,KAAM+J,GAC9C,SAEF,GAAa,WAATA,GAA8B,eAATA,EAAuB,SAChD,IAAIxI,EAAQvB,KAAK+J,GACjB,GAAIxK,MAAMmN,QAAQnL,GAChBqnD,EAAM7+C,GAAQxI,EAAMsD,IAAKqe,GACL,iBAAPA,GAAmBA,EAAGwlC,OACxBxlC,EAAGwlC,OAAO,KAAMC,GAEhBzlC,QAGN,GAAqB,iBAAV3hB,GAAsBA,EAAMmnD,OAC5CE,EAAM7+C,GAAQxI,EAAMmnD,OAAO,KAAMC,QAC5B,GAAa,WAAT5+C,EAAmB,CAC5B,IAAIg/C,EAAUJ,EAAO5/C,IAAIxH,EAAMw4B,OAChB,MAAXgvB,IACFA,EAAUD,EACVH,EAAO3/C,IAAIzH,EAAMw4B,MAAO+uB,GACxBA,KAEFF,EAAM7+C,GAAQ,CACZa,IAAKrJ,EAAMqJ,IACXm+C,UACAz+C,MAAO/I,EAAM+I,MAEzB,MACUs+C,EAAM7+C,GAAQxI,CAEjB,CAID,OAHIsnD,IACFD,EAAMD,OAAS,IAAIA,EAAO/jD,QAAQC,IAAKmkD,GAAWA,EAAON,WAEpDE,CACR,CACD,OAAAhB,GAIE,OAHK5nD,KAAKipD,aACRjpD,KAAKipD,WAAa,IAAIt4B,MAAM3wB,KAAMA,KAAK2nD,sBAElC3nD,KAAKipD,UACb,CACD,QAAAlkD,CAASmkD,EAAep+C,GAClBo+C,EAAap+C,YAAWo+C,EAAeA,EAAap+C,WACxD,IAAI29C,EAAU,GAId,OAHAS,EAAalpD,KAAOkjB,IAClBulC,GAAWvlC,IAENulC,CACR,CACD,IAAAzhD,CAAKyhD,EAASt+C,EAAMif,GAClB,IAAID,EAAO,CAAE4T,KAAM/8B,MACnB,IAAK,IAAIkjB,KAAMkG,EAAMD,EAAKjG,GAAMkG,EAAKlG,GACrC,OAAOulC,EAAQzhD,KAAKmD,EAAMgf,EAC3B,CACD,WAAIggC,GACF,OAAOnpD,IACR,EAIH,OAFAggD,GAAS8G,EACTA,EAAMnlB,QAAUmlB,EACT9G,EACT,CAGA,SAASoJ,KACP,GAAIjJ,GAA0B,OAAOD,GACrCC,GAA2B,EAC3B,IAAI2G,EAAQH,KACZ,MAAM0C,UAAoBvC,EACxB,WAAA7mD,CAAYm6B,GACNA,QAAsC,IAAnBA,EAAS74B,OAAmD,iBAAnB64B,EAAS74B,QACvE64B,EAAW,IAAKA,EAAU74B,MAAOzB,OAAOs6B,EAAS74B,SAEnDo9C,MAAMvkB,GACNp6B,KAAK8J,KAAO,MACb,CACD,YAAIw/C,GACF,OAAOtpD,KAAKivB,KAAKxU,WAAW,OAA0B,MAAjBza,KAAKivB,KAAK,EAChD,EAIH,OAFAixB,GAAgBmJ,EAChBA,EAAY1nB,QAAU0nB,EACfnJ,EACT,CAGA,SAASqJ,KACP,GAAIlJ,GAAwB,OAAOD,GACnCC,GAAyB,EAqBzB,OADAD,GAAc,CAAEoJ,OARH,CAACp7B,EAAO,MACnB,IAAIlY,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAfc,mEAeoB,GAAhB3Q,KAAKC,SAAgB,GAEzC,OAAO0Q,GAEeuzC,eAlBH,CAACC,EAAUC,EAAc,KACrC,CAACv7B,EAAOu7B,KACb,IAAIzzC,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAAMwzC,EAASnkD,KAAKC,SAAWkkD,EAAS9oD,OAAS,GAEnD,OAAOsV,IAYJkqC,EACT,CAGA,SAASwJ,KACP,GAAIrJ,GAA0B,OAAOD,GACrCC,GAA2B,EAC3B,IAAIsJ,kBAAEA,EAAiBC,mBAAEA,GAAuBhM,IAC5CiM,WAAEA,EAAUC,aAAEA,GAAiBlM,IAC/BmM,QAAEA,EAAOjkD,KAAEA,GAAS83C,GAQxB,MAAMoM,EACJ,WAAAjqD,CAAY49B,EAAKzU,GACf,IAAiB,IAAbA,EAAKvkB,IAAe,OACxB7E,KAAKmqD,eAAetsB,GACpB79B,KAAKoqD,OAASpqD,KAAKqqD,UAAUrqD,KAAKsqD,WAAY,SAC9C,IAAI9iC,EAAO4B,EAAKvkB,IAAMukB,EAAKvkB,IAAI2iB,UAAO,EAClCrd,EAAOnK,KAAKuqD,QAAQnhC,EAAK1lB,KAAM8jB,IAC9BxnB,KAAKwqD,SAAWphC,EAAK1lB,OACxB1D,KAAKwqD,QAAUphC,EAAK1lB,MAElB1D,KAAKwqD,UAASxqD,KAAKq6B,KAAO4vB,EAAQjqD,KAAKwqD,UACvCrgD,IAAMnK,KAAKmK,KAAOA,EACvB,CACD,QAAAsgD,GAIE,OAHKzqD,KAAK0qD,gBACR1qD,KAAK0qD,cAAgB,IAAIb,EAAkB7pD,KAAKmK,OAE3CnK,KAAK0qD,aACb,CACD,YAAAC,CAAaxgD,GAKX,GAFiB,0CAEF+R,KAAK/R,IADV,2BACuB+R,KAAK/R,GACpC,OAAOygD,mBAAmBzgD,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,SAEzD,GAPqB,iDAOFsb,KAAK/R,IANV,kCAM2B+R,KAAK/R,GAC5C,OAnCcgG,EAmCIhG,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,QAlC/CmqD,OACKA,OAAOrnD,KAAKyM,EAAK,UAAUpL,WAE3BP,OAAOwmD,KAAK76C,GAJvB,IAAoBA,EAqChB,IAAI86C,EAAW9gD,EAAKynC,MAAM,mCAAmC,GAC7D,MAAM,IAAI3qC,MAAM,mCAAqCgkD,EACtD,CACD,gBAAAC,CAAiBC,GACf,OAAOA,EAAgB1lD,QAAQ,8BAA+B,IAAI2E,MACnE,CACD,KAAAghD,CAAMvmD,GACJ,MAAmB,iBAARA,IACoB,iBAAjBA,EAAIwmD,UAAkD,iBAAlBxmD,EAAIymD,WAA0B/rD,MAAMmN,QAAQ7H,EAAI0mD,UACnG,CACD,cAAApB,CAAetsB,GACb,IAAI2tB,EAAW3tB,EAAI+T,MAAM,gCACzB,IAAK4Z,EAAU,OACf,IAAIlhD,EAAQuzB,EAAI4tB,YAAYD,EAASzoD,OACjC6H,EAAMizB,EAAIqqB,QAAQ,KAAM59C,GACxBA,GAAS,GAAKM,GAAO,IACvB5K,KAAKsqD,WAAatqD,KAAKkrD,iBAAiBrtB,EAAI/oB,UAAUxK,EAAOM,IAEhE,CACD,QAAA8gD,CAAStwB,GAEP,GADAp7B,KAAKq6B,KAAO4vB,EAAQ7uB,GAChB2uB,EAAW3uB,GAEb,OADAp7B,KAAKwqD,QAAUpvB,EACR4uB,EAAa5uB,EAAM,SAASr2B,WAAWqF,MAEjD,CACD,OAAAmgD,CAAQ9L,EAAMj3B,GACZ,IAAa,IAATA,EAAgB,OAAO,EAC3B,GAAIA,EAAM,CACR,GAAoB,iBAATA,EACT,OAAOA,EACF,GAAoB,mBAATA,EAWX,IAAIA,aAAgBqiC,EACzB,OAAOC,EAAmB6B,cAAcnkC,GAAMziB,WACzC,GAAIyiB,aAAgBsiC,EACzB,OAAOtiC,EAAKziB,WACP,GAAI/E,KAAKorD,MAAM5jC,GACpB,OAAO3c,KAAKC,UAAU0c,GAEtB,MAAM,IAAIvgB,MACR,2CAA6CugB,EAAKziB,WAErD,CArBsC,CACrC,IAAI6mD,EAAWpkC,EAAKi3B,GACpB,GAAImN,EAAU,CACZ,IAAI/mD,EAAM7E,KAAK0rD,SAASE,GACxB,IAAK/mD,EACH,MAAM,IAAIoC,MACR,uCAAyC2kD,EAAS7mD,YAGtD,OAAOF,CACR,CACX,CAWA,KAAa,IAAI7E,KAAKoqD,OACd,OAAOpqD,KAAK2qD,aAAa3qD,KAAKsqD,YACzB,GAAItqD,KAAKsqD,WAAY,CAC1B,IAAIzlD,EAAM7E,KAAKsqD,WAEf,OADI7L,IAAM55C,EAAMmB,EAAKikD,EAAQxL,GAAO55C,IAC7B7E,KAAK0rD,SAAS7mD,EACtB,EACF,CACD,SAAAwlD,CAAUjF,EAAQ96C,GAChB,QAAK86C,GACEA,EAAOyF,OAAO,EAAGvgD,EAAM1J,UAAY0J,CAC3C,CACD,WAAAuhD,GACE,SAAU7rD,KAAKyqD,WAAWqB,gBAAkB9rD,KAAKyqD,WAAWqB,eAAelrD,OAAS,EACrF,EAIH,OAFA0/C,GAAgB4J,EAChBA,EAAYvoB,QAAUuoB,EACf5J,EACT,CAGA,SAASyL,KACP,GAAItL,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,IAAIoJ,kBAAEA,EAAiBC,mBAAEA,GAAuBhM,IAC5CkO,cAAEA,EAAaC,cAAEA,GAAkBnO,IACnCoO,WAAEA,EAAU9qD,QAAEA,GAAY08C,IAC1B0L,OAAEA,GAA2BD,KAC7BlL,EAAoBP,GACpBQ,EAAiBH,KACjB+L,EAAcN,KACduC,EAAkBxpD,OAAO,mBACzBypD,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ/zC,GAAW8qD,GACvC,MAAMI,EACJ,WAAArsD,CAAY49B,EAAKzU,EAAO,IACtB,GAAIyU,SAA6D,iBAARA,IAAqBA,EAAI94B,SAChF,MAAM,IAAIkC,MAAM,oBAAoB42B,2BAgBtC,GAdA79B,KAAK69B,IAAMA,EAAI94B,WACK,WAAhB/E,KAAK69B,IAAI,IAAmC,MAAhB79B,KAAK69B,IAAI,IACvC79B,KAAKusD,QAAS,EACdvsD,KAAK69B,IAAM79B,KAAK69B,IAAIh6B,MAAM,IAE1B7D,KAAKusD,QAAS,EAEZnjC,EAAK1lB,QACF2oD,GAAiB,YAAYnwC,KAAKkN,EAAK1lB,OAASwoD,EAAW9iC,EAAK1lB,MACnE1D,KAAKy+C,KAAOr1B,EAAK1lB,KAEjB1D,KAAKy+C,KAAOr9C,EAAQgoB,EAAK1lB,OAGzB2oD,GAAiBD,EAAoB,CACvC,IAAIvnD,EAAM,IAAIqlD,EAAYlqD,KAAK69B,IAAKzU,GACpC,GAAIvkB,EAAIsF,KAAM,CACZnK,KAAK6E,IAAMA,EACX,IAAI45C,EAAO55C,EAAI4lD,WAAWhM,MACrBz+C,KAAKy+C,MAAQA,IAAMz+C,KAAKy+C,KAAOz+C,KAAKwsD,WAAW/N,GACrD,CACF,CACIz+C,KAAKy+C,OACRz+C,KAAKkW,GAAK,cAAgBszC,EAAO,GAAK,KAEpCxpD,KAAK6E,MAAK7E,KAAK6E,IAAI45C,KAAOz+C,KAAK0D,KACpC,CACD,KAAAH,CAAMogC,EAAS4a,EAAMC,EAAQp1B,EAAO,CAAA,GAClC,IAAIq/B,EAAS5J,EAASC,EACtB,GAAIP,GAAwB,iBAATA,EAAmB,CACpC,IAAIj0C,EAAQi0C,EACR3zC,EAAM4zC,EACV,GAA4B,iBAAjBl0C,EAAMmiD,OAAqB,CACpC,IAAIhoC,EAAMzkB,KAAK0sD,WAAWpiD,EAAMmiD,QAChClO,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACvB,MACUpO,EAAOj0C,EAAMi0C,KACbC,EAASl0C,EAAMk0C,OAEjB,GAA0B,iBAAf5zC,EAAI6hD,OAAqB,CAClC,IAAIhoC,EAAMzkB,KAAK0sD,WAAW9hD,EAAI6hD,QAC9B5N,EAAUp6B,EAAI85B,KACdO,EAAYr6B,EAAIkoC,GAC1B,MACU9N,EAAUj0C,EAAI2zC,KACdO,EAAYl0C,EAAI4zC,MAE1B,MAAa,IAAKA,EAAQ,CAClB,IAAI/5B,EAAMzkB,KAAK0sD,WAAWnO,GAC1BA,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACd,CACD,IAAIC,EAAS5sD,KAAK4sD,OAAOrO,EAAMC,EAAQK,EAASC,GA2BhD,OAzBE2J,EADEmE,EACQ,IAAItO,EACZ3a,OACmB,IAAnBipB,EAAO/N,QAAqB+N,EAAOrO,KAAO,CAAEC,OAAQoO,EAAOpO,OAAQD,KAAMqO,EAAOrO,WAC7D,IAAnBqO,EAAO/N,QAAqB+N,EAAOpO,OAAS,CAAEA,OAAQoO,EAAO9N,UAAWP,KAAMqO,EAAO/N,SACrF+N,EAAOx1C,OACPw1C,EAAOnO,KACPr1B,EAAKs1B,QAGG,IAAIJ,EACZ3a,OACY,IAAZkb,EAAqBN,EAAO,CAAEC,SAAQD,aAC1B,IAAZM,EAAqBL,EAAS,CAAEA,OAAQM,EAAWP,KAAMM,GACzD7+C,KAAK69B,IACL79B,KAAKy+C,KACLr1B,EAAKs1B,QAGT+J,EAAQ1uB,MAAQ,CAAEykB,SAAQM,YAAWD,UAASN,OAAMnnC,OAAQpX,KAAK69B,KAC7D79B,KAAKy+C,OACHwN,IACFxD,EAAQ1uB,MAAMzM,IAAM2+B,EAAcjsD,KAAKy+C,MAAM15C,YAE/C0jD,EAAQ1uB,MAAM0kB,KAAOz+C,KAAKy+C,MAErBgK,CACR,CACD,UAAAiE,CAAWD,GACT,IAAII,EAAUC,EACd,GAAK9sD,KAAKmsD,GAURW,EAAc9sD,KAAKmsD,OAVO,CAC1B,IAAI9M,EAAQr/C,KAAK69B,IAAI3zB,MAAM,MAC3B4iD,EAAc,IAAIvtD,MAAM8/C,EAAMz+C,QAC9B,IAAImsD,EAAY,EAChB,IAAK,IAAI7pC,EAAK,EAAG8pC,EAAK3N,EAAMz+C,OAAQsiB,EAAK8pC,EAAI9pC,IAC3C4pC,EAAY5pC,GAAM6pC,EAClBA,GAAa1N,EAAMn8B,GAAItiB,OAAS,EAElCZ,KAAKmsD,GAAmBW,CAChC,CAGMD,EAAWC,EAAYA,EAAYlsD,OAAS,GAC5C,IAAI2nB,EAAM,EACV,GAAIkkC,GAAUI,EACZtkC,EAAMukC,EAAYlsD,OAAS,MACtB,CACL,IACIqsD,EADAppC,EAAMipC,EAAYlsD,OAAS,EAE/B,KAAO2nB,EAAM1E,GAEX,GADAopC,EAAM1kC,GAAO1E,EAAM0E,GAAO,GACtBkkC,EAASK,EAAYG,GACvBppC,EAAMopC,EAAM,MACP,MAAIR,GAAUK,EAAYG,EAAM,IAEhC,CACL1kC,EAAM0kC,EACN,KACD,CAJC1kC,EAAM0kC,EAAM,CAIb,CAEJ,CACD,MAAO,CACLN,IAAKF,EAASK,EAAYvkC,GAAO,EACjCg2B,KAAMh2B,EAAM,EAEf,CACD,UAAAikC,CAAW/N,GACT,MAAI,YAAYviC,KAAKuiC,GACZA,EAEFr9C,EAAQpB,KAAK6E,IAAI4lD,WAAWyC,YAAcltD,KAAK6E,IAAIw1B,MAAQ,IAAKokB,EACxE,CACD,MAAAmO,CAAOrO,EAAMC,EAAQK,EAASC,GAC5B,IAAK9+C,KAAK6E,IAAK,OAAO,EACtB,IAGIpB,EAIA0pD,EAPA1C,EAAWzqD,KAAK6E,IAAI4lD,WACpB/mD,EAAO+mD,EAAS2C,oBAAoB,CAAE5O,SAAQD,SAClD,IAAK76C,EAAK0T,OAAQ,OAAO,EAEF,iBAAZynC,IACTp7C,EAAKgnD,EAAS2C,oBAAoB,CAAE5O,OAAQM,EAAWP,KAAMM,KAI7DsO,EADEjB,EAAWxoD,EAAK0T,QACR60C,EAAcvoD,EAAK0T,QAEnB,IAAIgU,IACZ1nB,EAAK0T,OACLpX,KAAK6E,IAAI4lD,WAAWyC,YAAcjB,EAAcjsD,KAAK6E,IAAI2lD,UAG7D,IAAI/B,EAAU,CACZjK,OAAQ96C,EAAK86C,OACbM,UAAWr7C,GAAMA,EAAG+6C,OACpBK,QAASp7C,GAAMA,EAAG86C,KAClBA,KAAM76C,EAAK66C,KACXjxB,IAAK6/B,EAAQpoD,YAEf,GAAyB,UAArBooD,EAAQE,SAAsB,CAChC,IAAIrB,EAGF,MAAM,IAAI/kD,MAAM,yDAFhBwhD,EAAQhK,KAAOuN,EAAcmB,EAIhC,CACD,IAAI/1C,EAASqzC,EAAS6C,iBAAiB5pD,EAAK0T,QAE5C,OADIA,IAAQqxC,EAAQrxC,OAASA,GACtBqxC,CACR,CACD,MAAAC,GACE,IAAInwC,EAAO,CAAA,EACX,IAAK,IAAIxO,IAAQ,CAAC,SAAU,MAAO,OAAQ,MACvB,MAAd/J,KAAK+J,KACPwO,EAAKxO,GAAQ/J,KAAK+J,IAStB,OANI/J,KAAK6E,MACP0T,EAAK1T,IAAM,IAAK7E,KAAK6E,KACjB0T,EAAK1T,IAAI6lD,gBACXnyC,EAAK1T,IAAI6lD,mBAAgB,IAGtBnyC,CACR,CACD,QAAI7U,GACF,OAAO1D,KAAKy+C,MAAQz+C,KAAKkW,EAC1B,EAOH,OALAsqC,GAAU8L,EACVA,EAAM3qB,QAAU2qB,EACZjO,GAAqBA,EAAkBkP,eACzClP,EAAkBkP,cAAcjB,GAE3B9L,EACT,CAGA,SAASgN,KACP,GAAI7M,GAA2B,OAAOD,GACtCC,GAA4B,EAC5B,IAAIkJ,kBAAEA,EAAiBC,mBAAEA,GAAuBhM,IAC5CmM,QAAEA,EAAOwD,SAAEA,EAAQrsD,QAAEA,EAAOssD,IAAEA,GAAQ5P,IACtCmO,cAAEA,GAAkBnO,GACpBwO,EAAQP,KACRK,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ8U,GAAW7oD,GAAWqsD,GAAYC,GAiT9D,OADAhN,GA/SA,MACE,WAAAzgD,CAAY6K,EAAW06C,EAAOp8B,EAAMukC,GAClC3tD,KAAK8K,UAAYA,EACjB9K,KAAK4tD,QAAUxkC,EAAKvkB,KAAO,CAAA,EAC3B7E,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,IAAM8vB,EACX3tD,KAAK6tD,YAAcF,EACnB3tD,KAAK8tD,cAAgB9tD,KAAK4tD,QAAQlqD,MAAQ1D,KAAK4tD,QAAQG,SACvD/tD,KAAKguD,iBAAmC,IAAIj8B,IAC5C/xB,KAAKiuD,cAAgC,IAAIl8B,IACzC/xB,KAAKkuD,aAA+B,IAAIn8B,GACzC,CACD,aAAAo8B,GACE,IAAIC,EAEFA,EADEpuD,KAAKquD,WACG,gCAAkCruD,KAAKsuD,SAAStuD,KAAK6E,IAAIE,YACvB,iBAA5B/E,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WACqB,mBAA5BtqD,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WAAWtqD,KAAKopB,KAAK3lB,GAAIzD,KAAKq6B,MAE3Cr6B,KAAKuuD,aAAe,OAEhC,IAAIC,EAAM,KACNxuD,KAAK69B,IAAI93B,SAAS,UAASyoD,EAAM,QACrCxuD,KAAK69B,KAAO2wB,EAAM,wBAA0BJ,EAAU,KACvD,CACD,aAAAK,GACE,IAAK,IAAIjnC,KAAQxnB,KAAK0uD,WAAY,CAChC,IAEI7pD,EAFAnB,EAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK5T,EAAKi3B,OACjC+G,EAAQh+B,EAAK6S,MAAQ4vB,EAAQziC,EAAKi3B,OAEF,IAAhCz+C,KAAK4tD,QAAQ9B,gBACfjnD,EAAM,IAAIglD,EAAkBriC,EAAKrd,MAC7BtF,EAAIinD,iBACNjnD,EAAIinD,eAAiB,OAGvBjnD,EAAM2iB,EAAKijC,WAEbzqD,KAAK6E,IAAI+pD,eAAe/pD,EAAKnB,EAAM1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKoqB,IACzD,CACF,CACD,eAAAqJ,GACE,IAAgC,IAA5B7uD,KAAK4tD,QAAQtD,WACjB,GAAItqD,KAAKq6B,KAAM,CACb,IAAI4gB,EACJ,IAAK,IAAI/3B,EAAKljB,KAAKq6B,KAAKmqB,MAAM5jD,OAAS,EAAGsiB,GAAM,EAAGA,IACjD+3B,EAAQj7C,KAAKq6B,KAAKmqB,MAAMthC,GACL,YAAf+3B,EAAMnxC,MACwC,IAA9CmxC,EAAM9wC,KAAK+9C,QAAQ,wBACrBloD,KAAKq6B,KAAKgf,YAAYn2B,EAGlC,MAAiBljB,KAAK69B,MACd79B,KAAK69B,IAAM79B,KAAK69B,IAAIp4B,QAAQ,2BAA4B,IAE3D,CACD,QAAAqpD,GAEE,GADA9uD,KAAK6uD,kBACDxC,GAAiBD,GAAsBpsD,KAAKorD,QAC9C,OAAOprD,KAAK+uD,cACP,CACL,IAAItG,EAAU,GAId,OAHAzoD,KAAK8K,UAAU9K,KAAKq6B,KAAOnX,IACzBulC,GAAWvlC,IAEN,CAACulC,EACT,CACF,CACD,WAAAsG,GACE,GAAI/uD,KAAKq6B,KACPr6B,KAAKgvD,sBACA,GAA+B,IAA3BhvD,KAAK0uD,WAAW9tD,OAAc,CACvC,IAAI4mB,EAAOxnB,KAAK0uD,WAAW,GAAGjE,WAC9BjjC,EAAKi3B,KAAOz+C,KAAKuuD,aACjBvuD,KAAK6E,IAAMilD,EAAmB6B,cAAcnkC,EAAM,CAChDynC,sBAAsB,GAEhC,MACQjvD,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExBjvD,KAAK6E,IAAIqqD,WAAW,CAClBC,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQpX,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,gBAMrE,OAHI1D,KAAKqvD,oBAAoBrvD,KAAKsvD,oBAC9BtvD,KAAKq6B,MAAQr6B,KAAK0uD,WAAW9tD,OAAS,GAAGZ,KAAKyuD,gBAC9CzuD,KAAKuvD,gBAAgBvvD,KAAKmuD,gBAC1BnuD,KAAKquD,WACA,CAACruD,KAAK69B,KAEN,CAAC79B,KAAK69B,IAAK79B,KAAK6E,IAE1B,CACD,cAAAmqD,GACEhvD,KAAK69B,IAAM,GACX79B,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExB,IAQI5P,EAAO2F,EARPzG,EAAO,EACPC,EAAS,EACTgR,EAAW,cACXC,EAAU,CACZN,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQ,IAGVpX,KAAK8K,UAAU9K,KAAKq6B,KAAM,CAAClqB,EAAK8qC,EAAOnxC,KAyBrC,GAxBA9J,KAAK69B,KAAO1tB,EACR8qC,GAAkB,QAATnxC,IACX2lD,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EAChCvD,EAAM7jC,QAAU6jC,EAAM7jC,OAAO9M,OAC/BmlD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAO9M,MAAMi0C,KAC3CkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAO9M,MAAMk0C,OAAS,EACtDx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1Bx+C,KAAK6E,IAAIqqD,WAAWO,KAGxBpQ,EAAQlvC,EAAIyhC,MAAM,OACdyN,GACFd,GAAQc,EAAMz+C,OACdokD,EAAO70C,EAAIs7C,YAAY,MACvBjN,EAASruC,EAAIvP,OAASokD,GAEtBxG,GAAUruC,EAAIvP,OAEZq6C,GAAkB,UAATnxC,EAAkB,CAC7B,IAAItK,EAAIy7C,EAAMxe,QAAU,CAAE6nB,KAAM,CAAE,IACH,SAAfrJ,EAAMnxC,MAAkC,WAAfmxC,EAAMnxC,OAAsBmxC,EAAMuJ,QACzDvJ,IAAUz7C,EAAEwlD,OAAQxlD,EAAE8kD,KAAKN,YACvC/I,EAAM7jC,QAAU6jC,EAAM7jC,OAAOxM,KAC/B6kD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAOxM,IAAI2zC,KACzCkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAOxM,IAAI4zC,OAAS,EACpDiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1BiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,IAGzB,GAEJ,CACD,YAAAF,GACE,QAAIvvD,KAAKquD,kBAG8B,IAA5BruD,KAAK4tD,QAAQtD,WACftqD,KAAK4tD,QAAQtD,YAElBtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGonC,YAG1C,CACD,QAAA+D,GACE,QAAmC,IAAxBruD,KAAK4tD,QAAQxD,OACtB,OAAOpqD,KAAK4tD,QAAQxD,OAEtB,IAAIE,EAAatqD,KAAK4tD,QAAQtD,WAC9B,YAA0B,IAAfA,IAA6C,IAAfA,MAGrCtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGknC,QAG1C,CACD,KAAAgB,GACE,YAA6B,IAAlBprD,KAAKopB,KAAKvkB,MACV7E,KAAKopB,KAAKvkB,IAEd7E,KAAK0uD,WAAW9tD,OAAS,CACjC,CACD,gBAAAyuD,GACE,YAA2C,IAAhCrvD,KAAK4tD,QAAQ9B,eACf9rD,KAAK4tD,QAAQ9B,gBAElB9rD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAG2oC,cAG1C,CACD,UAAA0C,GACE,OAAIvuD,KAAKopB,KAAK3lB,GACLzD,KAAKo7B,KAAKp7B,KAAKopB,KAAK3lB,IAClBzD,KAAKopB,KAAK1lB,KACZ1D,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,MAEpB,QAEV,CACD,IAAA03B,CAAKqjB,GACH,GAAIz+C,KAAK4tD,QAAQG,SAAU,OAAOtP,EAClC,GAA2B,KAAvBA,EAAKpuC,WAAW,GAAW,OAAOouC,EACtC,GAAI,YAAYviC,KAAKuiC,GAAO,OAAOA,EACnC,IAAIkR,EAAS3vD,KAAKiuD,cAAcllD,IAAI01C,GACpC,GAAIkR,EAAQ,OAAOA,EACnB,IAAIjsD,EAAO1D,KAAKopB,KAAK3lB,GAAKwmD,EAAQjqD,KAAKopB,KAAK3lB,IAAM,IACX,iBAA5BzD,KAAK4tD,QAAQtD,aACtB5mD,EAAOumD,EAAQ7oD,EAAQsC,EAAM1D,KAAK4tD,QAAQtD,cAE5C,IAAIlvB,EAAOqyB,EAAS/pD,EAAM+6C,GAE1B,OADAz+C,KAAKiuD,cAAcjlD,IAAIy1C,EAAMrjB,GACtBA,CACR,CACD,QAAAszB,GACE,IAAK1uD,KAAK4vD,aAER,GADA5vD,KAAK4vD,aAAe,GAChB5vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,QAAU6jC,EAAM7jC,OAAO2iB,MAAMl1B,IAAK,CAC1C,IAAIA,EAAMo2C,EAAM7jC,OAAO2iB,MAAMl1B,IACxB7E,KAAK4vD,aAAa7pD,SAASlB,IAC9B7E,KAAK4vD,aAAa5sD,KAAK6B,EAE1B,QAEE,CACL,IAAImkD,EAAS,IAAIsD,EAAMtsD,KAAK6tD,YAAa7tD,KAAKopB,MAC1C4/B,EAAOnkD,KAAK7E,KAAK4vD,aAAa5sD,KAAKgmD,EAAOnkD,IAC/C,CAEH,OAAO7E,KAAK4vD,YACb,CACD,iBAAAN,GACE,IAAIO,EAAU,CAAA,EACd,GAAI7vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,OAAQ,CAChB,IAAI1T,EAAOu3C,EAAM7jC,OAAO2iB,MAAMr2B,KAC9B,GAAIA,IAASmsD,EAAQnsD,GAAO,CAC1BmsD,EAAQnsD,IAAQ,EAChB,IAAIypD,EAAUntD,KAAK8tD,aAAe9tD,KAAK8vD,UAAUpsD,GAAQ1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK13B,IAC9E1D,KAAK6E,IAAIkrD,iBAAiB5C,EAASlS,EAAM7jC,OAAO2iB,MAAM8D,IACvD,CACF,SAEE,GAAI79B,KAAK69B,IAAK,CACnB,IAAIn6B,EAAO1D,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,cACpE1D,KAAK6E,IAAIkrD,iBAAiBrsD,EAAM1D,KAAK69B,IACtC,CACF,CACD,UAAA6xB,CAAWzU,GACT,OAAIj7C,KAAK4tD,QAAQlqD,KACR1D,KAAK2uD,MAAM3uD,KAAK4tD,QAAQlqD,MACtB1D,KAAK8tD,aACP9tD,KAAK8vD,UAAU7U,EAAM7jC,OAAO2iB,MAAMr2B,MAElC1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK6f,EAAM7jC,OAAO2iB,MAAMr2B,MAElD,CACD,QAAA4qD,CAASn+C,GACP,OAAI46C,OACKA,OAAOrnD,KAAKyM,GAAKpL,SAAS,UAE1BP,OAAOwrD,KAAKC,SAASp3C,mBAAmB1I,IAElD,CACD,SAAA2/C,CAAU10B,GACR,IAAIu0B,EAAS3vD,KAAKguD,iBAAiBjlD,IAAIqyB,GACvC,GAAIu0B,EAAQ,OAAOA,EACnB,GAAI1D,EAAe,CACjB,IAAIiE,EAAUjE,EAAc7wB,GAAMr2B,WAElC,OADA/E,KAAKguD,iBAAiBhlD,IAAIoyB,EAAM80B,GACzBA,CACf,CACQ,MAAM,IAAIjpD,MACR,+DAGL,CACD,KAAA0nD,CAAMvzB,GACJ,IAAIu0B,EAAS3vD,KAAKkuD,aAAanlD,IAAIqyB,GACnC,GAAIu0B,EAAQ,OAAOA,EACP,OAARjC,IACFtyB,EAAOA,EAAK31B,QAAQ,MAAO,MAE7B,IAAI6nB,EAAM6iC,UAAU/0B,GAAM31B,QAAQ,QAASoT,oBAE3C,OADA7Y,KAAKkuD,aAAallD,IAAIoyB,EAAM9N,GACrBA,CACR,GAGIozB,EACT,CAGA,SAAS0P,KACP,GAAIvP,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAAIiG,EAAQH,KACZ,MAAM0J,UAAgBvJ,EACpB,WAAA7mD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,SACb,EAIH,OAFA82C,GAAYyP,EACZA,EAAQ1uB,QAAU0uB,EACXzP,EACT,CAGA,SAAS0P,KACP,GAAIvP,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAIInsC,EAAO27C,EAAMC,EAAQC,GAJrBvN,QAAEA,EAAOC,GAAEA,GAAOF,KAClBoG,EAAcD,KACdiH,EAAUD,KACVtJ,EAAQH,KAEZ,SAAS+J,EAAYlM,GACnB,OAAOA,EAAM3/C,IAAKqe,IACZA,EAAGshC,QAAOthC,EAAGshC,MAAQkM,EAAYxtC,EAAGshC,eACjCthC,EAAG9L,OACH8L,GAEV,CACD,SAASytC,EAAY1V,GAEnB,GADAA,EAAMiI,IAAW,EACbjI,EAAMkO,QAAQ3E,MAChB,IAAK,IAAIthC,KAAM+3B,EAAMkO,QAAQ3E,MAC3BmM,EAAYztC,EAGjB,CACD,MAAM0tC,UAAkB9J,EACtB,MAAA9tC,IAAU63C,GACR,IAAK,IAAIl0B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKglD,MACvC,IAAK,IAAI/J,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMxhD,KAAKi4C,EAClD,CAED,OADAj7C,KAAK6nD,YACE7nD,IACR,CACD,SAAAsnD,CAAUC,GAER,GADA5I,MAAM2I,UAAUC,GACZvnD,KAAKwkD,MACP,IAAK,IAAIvJ,KAASj7C,KAAKwkD,MAAOvJ,EAAMqM,UAAUC,EAEjD,CACD,IAAAwJ,CAAK96C,GACH,IAAKjW,KAAKmpD,QAAQ3E,MAAO,OACzB,IACIjF,EAAQkJ,EADR7lD,EAAW5C,KAAKgxD,cAEpB,KAAOhxD,KAAKixD,QAAQruD,GAAY5C,KAAKmpD,QAAQ3E,MAAM5jD,SACjD2+C,EAASv/C,KAAKixD,QAAQruD,GACtB6lD,EAAUxyC,EAASjW,KAAKmpD,QAAQ3E,MAAMjF,GAASA,IAC/B,IAAZkJ,IACJzoD,KAAKixD,QAAQruD,IAAa,EAG5B,cADO5C,KAAKixD,QAAQruD,GACb6lD,CACR,CACD,KAAA5qC,CAAMk0B,GACJ,OAAO/xC,KAAKwkD,MAAM3mC,MAAMk0B,EACzB,CACD,WAAAif,GACOhxD,KAAKkxD,WAAUlxD,KAAKkxD,SAAW,GAC/BlxD,KAAKixD,UAASjxD,KAAKixD,QAAU,CAAA,GAClCjxD,KAAKkxD,UAAY,EACjB,IAAItuD,EAAW5C,KAAKkxD,SAEpB,OADAlxD,KAAKixD,QAAQruD,GAAY,EAClBA,CACR,CACD,iBAAA+kD,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACGA,EAAMhsB,GAEE,SAATA,GAAmC,iBAATA,GAAqBA,EAAKxU,WAAW,QACjE,IAAI7T,IACFq0C,EAAMhsB,MACRroB,EAAK/B,IAAKqe,GACO,mBAAPA,EACF,CAACyZ,EAAO4iB,IAAWr8B,EAAGyZ,EAAMirB,UAAWrI,GAEvCr8B,IAKG,UAAT+L,GAA6B,SAATA,EACrB6U,GACCmX,EAAMhsB,GACX,CAAC0N,KAAUiU,IAAU9M,EAAGnH,EAAMirB,aAAchX,IAG9B,SAAT3hB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UACR,UAAT34B,EACFgsB,EAAMuJ,MAAM3/C,IAAKqe,GAAOA,EAAG0kC,WAChB,UAAT34B,GAA6B,SAATA,EACtBgsB,EAAMhsB,GAAM24B,UAEZ3M,EAAMhsB,GA1BNgsB,EAAMhsB,GA6BjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,WAATA,GAA8B,aAATA,GAC1CgsB,EAAM4M,cAH0B,GAQvC,CACD,KAAA/iD,CAAM63B,GACJ,MAAqB,iBAAVA,EAA2BA,GAClCA,EAAMwsB,UAASxsB,EAAQA,EAAMwsB,SAC1BnpD,KAAKmpD,QAAQ3E,MAAM0D,QAAQvrB,GACnC,CACD,WAAAwqB,CAAYgK,EAAO1hD,GACjB,IAII8vC,EAJA6R,EAAapxD,KAAK8E,MAAMqsD,GACxB3M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,IAAaC,UAChED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAa,EAAG,EAAGnW,GAEtE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,EAAa7R,IACfv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,YAAAqnD,CAAa8J,EAAO1hD,GAClB,IAKI8vC,EALA6R,EAAapxD,KAAK8E,MAAMqsD,GACxBrnD,EAAsB,IAAfsnD,GAAmB,UAC1B5M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,GAAatnD,GAAMunD,UACtED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAY,EAAGnW,GAElE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,GAAc7R,IAChBv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,SAAA8wD,CAAUtM,EAAO8M,GACf,GAAqB,iBAAV9M,EACTA,EAAQkM,EAAY97C,EAAM4vC,GAAOA,YAC5B,QAAqB,IAAVA,EAChBA,EAAQ,QACH,GAAIjlD,MAAMmN,QAAQ83C,GAAQ,CAC/BA,EAAQA,EAAM3gD,MAAM,GACpB,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAmB,SAAfshC,EAAM16C,MAAiC,aAAd9J,KAAK8J,KAAqB,CAC5D06C,EAAQA,EAAMA,MAAM3gD,MAAM,GAC1B,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAIshC,EAAM16C,KACf06C,EAAQ,CAACA,QACJ,GAAIA,EAAMv1B,KAAM,CACrB,QAA2B,IAAhBu1B,EAAMjjD,MACf,MAAM,IAAI0F,MAAM,0CACgB,iBAAhBu9C,EAAMjjD,QACtBijD,EAAMjjD,MAAQzB,OAAO0kD,EAAMjjD,QAE7BijD,EAAQ,CAAC,IAAI6E,EAAY7E,GACjC,MAAa,GAAIA,EAAMxpC,SACfwpC,EAAQ,CAAC,IAAI+L,EAAK/L,SACb,GAAIA,EAAMz6C,KACfy6C,EAAQ,CAAC,IAAIgM,EAAOhM,QACf,KAAIA,EAAMr6C,KAGf,MAAM,IAAIlD,MAAM,sCAFhBu9C,EAAQ,CAAC,IAAI6L,EAAQ7L,GAGtB,CAcD,OAbgBA,EAAM3/C,IAAKqe,IACpBA,EAAGigC,IAAKyN,EAAUW,QAAQruC,IAC/BA,EAAKA,EAAGimC,SACD1sB,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,GACjCA,EAAGggC,IAAUyN,EAAYztC,QACC,IAAnBA,EAAGohC,KAAK55C,QACb4mD,QAAwC,IAAvBA,EAAOhN,KAAK55C,SAC/BwY,EAAGohC,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAAOjF,QAAQ,MAAO,KAGvDyd,EAAGuZ,OAASz8B,KAAKmpD,QACVjmC,GAGV,CACD,OAAAsuC,IAAWX,GACTA,EAAWA,EAASQ,UACpB,IAAK,IAAI10B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKulD,MAAO,WAAW8L,UACzD,IAAK,IAAIpW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMiN,QAAQxW,GACpD,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClBjxD,KAAKixD,QAAQ/6C,GAAMlW,KAAKixD,QAAQ/6C,GAAMsuC,EAAM5jD,MAE/C,CAED,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,IAAAgD,CAAK25B,GAGH,OAFAA,EAAMF,OAASz8B,KACfA,KAAKmpD,QAAQ3E,MAAMxhD,KAAK25B,GACjB38B,IACR,CACD,SAAA0xD,GACE,IAAK,IAAIzW,KAASj7C,KAAKmpD,QAAQ3E,MAAOvJ,EAAMxe,YAAS,EAGrD,OAFAz8B,KAAKmpD,QAAQ3E,MAAQ,GACrBxkD,KAAK6nD,YACE7nD,IACR,CACD,WAAAq5C,CAAY1c,GAIV,IAAI4iB,EAHJ5iB,EAAQ38B,KAAK8E,MAAM63B,GACnB38B,KAAKmpD,QAAQ3E,MAAM7nB,GAAOF,YAAS,EACnCz8B,KAAKmpD,QAAQ3E,MAAM/tC,OAAOkmB,EAAO,GAEjC,IAAK,IAAIzmB,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBqpC,GAAU5iB,IACZ38B,KAAKixD,QAAQ/6C,GAAMqpC,EAAS,GAIhC,OADAv/C,KAAK6nD,YACE7nD,IACR,CACD,aAAA2xD,CAAcC,EAASxoC,EAAMnT,GAW3B,OAVKA,IACHA,EAAWmT,EACXA,EAAO,CAAA,GAETppB,KAAKgmD,UAAWb,IACV/7B,EAAKyoC,QAAUzoC,EAAKyoC,MAAM9rD,SAASo/C,EAAKl2B,OACxC7F,EAAK0oC,OAAS3M,EAAK5jD,MAAMwE,SAASqjB,EAAK0oC,QAC3C3M,EAAK5jD,MAAQ4jD,EAAK5jD,MAAMkE,QAAQmsD,EAAS37C,MAE3CjW,KAAK6nD,YACE7nD,IACR,CACD,IAAA+a,CAAKg3B,GACH,OAAO/xC,KAAKwkD,MAAMzpC,KAAKg3B,EACxB,CACD,IAAA4T,CAAK1vC,GACH,OAAOjW,KAAK+wD,KAAK,CAACp0B,EAAOzZ,KACvB,IAAIulC,EACJ,IACEA,EAAUxyC,EAAS0mB,EAAOzZ,EAC3B,CAAC,MAAO6uC,GACP,MAAMp1B,EAAMqqB,WAAW+K,EACxB,CAID,OAHgB,IAAZtJ,GAAqB9rB,EAAMgpB,OAC7B8C,EAAU9rB,EAAMgpB,KAAK1vC,IAEhBwyC,GAEV,CACD,WAAAuJ,CAAYjoD,EAAMkM,GAChB,OAAKA,EAQDlM,aAAgB2R,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqBC,EAAKmS,KAAKygB,EAAM5yB,MAC7C,OAAOkM,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqB6yB,EAAM5yB,OAASA,EAC5C,OAAOkM,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWlM,EACJ/J,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,YAAA4iC,CAAa7vC,GACX,OAAOjW,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,YAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,IAG5B,CACD,SAAA8iC,CAAU/2B,EAAMhZ,GACd,OAAKA,EAQDgZ,aAAgBvT,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBmlB,EAAK/S,KAAKygB,EAAM1N,MAC3C,OAAOhZ,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM1N,OAASA,EAC1C,OAAOhZ,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWgZ,EACJjvB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAA+uC,CAAUj3C,EAAU/E,GAClB,OAAKA,EAQD+E,aAAoBU,OACf1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBkR,EAASkB,KAAKygB,EAAM3hB,UAC/C,OAAO/E,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM3hB,WAAaA,EAC9C,OAAO/E,EAAS0mB,EAAOzZ,MAhBzBjN,EAAW+E,EACJhb,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAIqiC,GACF,GAAKvlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAM,EAC3B,CACD,QAAIQ,GACF,GAAKhlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAMxkD,KAAKmpD,QAAQ3E,MAAM5jD,OAAS,EACvD,EAmCH,OAjCAgwD,EAAUsB,cAAiBC,IACzBv9C,EAAQu9C,GAEVvB,EAAUwB,aAAgBD,IACxB5B,EAAO4B,GAETvB,EAAUyB,eAAkBF,IAC1B3B,EAAS2B,GAEXvB,EAAU0B,aAAgBH,IACxB1B,EAAO0B,GAETrR,GAAc8P,EACdA,EAAUjvB,QAAUivB,EACpBA,EAAUW,QAAWtW,IACA,WAAfA,EAAMnxC,KACR1K,OAAOC,eAAe47C,EAAOuV,EAAO/wD,WACZ,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOsV,EAAK9wD,WACV,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoO,EAAY5pD,WACjB,YAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoV,EAAQ5wD,WACb,SAAfw7C,EAAMnxC,MACf1K,OAAOC,eAAe47C,EAAOwV,EAAKhxD,WAEpCw7C,EAAMkI,IAAM,EACRlI,EAAMuJ,OACRvJ,EAAMuJ,MAAMz4C,QAAS4wB,IACnBi0B,EAAUW,QAAQ50B,MAIjBmkB,EACT,CAGA,SAASyR,KACP,GAAItR,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IACIuR,EAAYC,EADZ7B,EAAYN,KAEhB,MAAMoC,UAAkB9B,EACtB,WAAA3wD,CAAYm6B,GACVukB,MAAM,CAAE70C,KAAM,cAAeswB,IACxBp6B,KAAKwkD,QACRxkD,KAAKwkD,MAAQ,GAEhB,CACD,QAAAmO,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAUH,OARA4nD,EAAUE,mBAAsBT,IAC9BK,EAAaL,GAEfO,EAAUG,kBAAqBV,IAC7BM,EAAYN,GAEdnR,GAAe0R,EACfA,EAAU/wB,QAAU+wB,EACb1R,EACT,CAGA,SAAS8R,KACP,GAAI3R,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IAAI4R,EAAU,CAAA,EAQd,OAPA7R,GAAa,SAAmBvd,GAC1BovB,EAAQpvB,KACZovB,EAAQpvB,IAAW,EACI,oBAAZ58B,SAA2BA,QAAQC,MAC5CD,QAAQC,KAAK28B,GAEnB,CAEA,CAGA,SAASqvB,KACP,GAAI3R,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,MAAM4R,EACJ,WAAAhzD,CAAYkK,EAAMif,EAAO,IAGvB,GAFAppB,KAAK8J,KAAO,UACZ9J,KAAKmK,KAAOA,EACRif,EAAK2T,MAAQ3T,EAAK2T,KAAK3lB,OAAQ,CACjC,IAAI+7B,EAAQ/pB,EAAK2T,KAAK2qB,QAAQt+B,GAC9BppB,KAAKu+C,KAAOpL,EAAM7oC,MAAMi0C,KACxBv+C,KAAKw+C,OAASrL,EAAM7oC,MAAMk0C,OAC1Bx+C,KAAK6+C,QAAU1L,EAAMvoC,IAAI2zC,KACzBv+C,KAAK8+C,UAAY3L,EAAMvoC,IAAI4zC,MAC5B,CACD,IAAK,IAAIx3B,KAAOoC,EAAMppB,KAAKgnB,GAAOoC,EAAKpC,EACxC,CACD,QAAAjiB,GACE,OAAI/E,KAAK+8B,KACA/8B,KAAK+8B,KAAKx5B,MAAMvD,KAAKmK,KAAM,CAChCrF,MAAO9E,KAAK8E,MACZ45C,OAAQ1+C,KAAK0+C,OACbuJ,KAAMjoD,KAAKioD,OACVtkB,QAED3jC,KAAK0+C,OACA1+C,KAAK0+C,OAAS,KAAO1+C,KAAKmK,KAE5BnK,KAAKmK,IACb,EAIH,OAFAi3C,GAAY6R,EACZA,EAAQtxB,QAAUsxB,EACX7R,EACT,CAGA,SAAS8R,KACP,GAAI3R,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAI0R,EAAUD,KACd,MAAMG,EACJ,WAAAlzD,CAAYmzD,EAAY5N,EAAOp8B,GAC7BppB,KAAKqzD,UAAYD,EACjBpzD,KAAKszD,SAAW,GAChBtzD,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,SAAM,EACX79B,KAAK6E,SAAM,CACZ,CACD,QAAAE,GACE,OAAO/E,KAAK69B,GACb,CACD,IAAA72B,CAAKmD,EAAMif,EAAO,IACXA,EAAKs1B,QACJ1+C,KAAKuzD,YAAcvzD,KAAKuzD,WAAWC,gBACrCpqC,EAAKs1B,OAAS1+C,KAAKuzD,WAAWC,eAGlC,IAAIC,EAAW,IAAIR,EAAQ9oD,EAAMif,GAEjC,OADAppB,KAAKszD,SAAStwD,KAAKywD,GACZA,CACR,CACD,QAAAC,GACE,OAAO1zD,KAAKszD,SAAS5yC,OAAQwC,GAAmB,YAAZA,EAAGpZ,KACxC,CACD,WAAIskD,GACF,OAAOpuD,KAAK69B,GACb,EAIH,OAFAyjB,GAAW6R,EACXA,EAAOxxB,QAAUwxB,EACV7R,EACT,CA0NA,SAASqS,KACP,GAAIhS,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIiP,EAAYN,KAChB,MAAME,UAAeI,EACnB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,QACb,CACD,MAAAkP,IAAU63C,GAER,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM3lC,UAAU63C,EACxB,CACD,OAAAW,IAAWX,GAET,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM6S,WAAWX,EACzB,EAKH,OAHAnP,GAAW8O,EACXA,EAAO7uB,QAAU6uB,EACjBI,EAAUyB,eAAe7B,GAClB9O,EACT,CAGA,SAASkS,KACP,GAAI/R,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IACI2Q,EAAYC,EADZ7B,EAAYN,KAEhB,MAAMG,UAAaG,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,SAAAsM,CAAUn0B,EAAO20B,EAAQxnD,GACvB,IAAI06C,EAAQ7F,MAAMmS,UAAUn0B,GAC5B,GAAI20B,EACF,GAAa,YAATxnD,EACE9J,KAAKwkD,MAAM5jD,OAAS,EACtB0wD,EAAOhN,KAAK55C,OAAS1K,KAAKwkD,MAAM,GAAGF,KAAK55C,cAEjC4mD,EAAOhN,KAAK55C,YAEhB,GAAI1K,KAAKulD,QAAU+L,EACxB,IAAK,IAAIrW,KAASuJ,EAChBvJ,EAAMqJ,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAItC,OAAO85C,CACR,CACD,WAAAnL,CAAY1c,EAAOk3B,GACjB,IAAItU,EAASv/C,KAAK8E,MAAM63B,GAIxB,OAHKk3B,GAAqB,IAAXtU,GAAgBv/C,KAAKwkD,MAAM5jD,OAAS,IACjDZ,KAAKwkD,MAAM,GAAGF,KAAK55C,OAAS1K,KAAKwkD,MAAMjF,GAAQ+E,KAAK55C,QAE/Ci0C,MAAMtF,YAAY1c,EAC1B,CACD,QAAAg2B,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAWH,OATA2lD,EAAKmC,mBAAsBT,IACzBK,EAAaL,GAEf1B,EAAKoC,kBAAqBV,IACxBM,EAAYN,GAEdvQ,GAAS6O,EACTA,EAAK9uB,QAAU8uB,EACfG,EAAU0B,aAAa7B,GAChB7O,EACT,CAGA,SAASkS,KACP,GAAI/R,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IAAIj1B,EAAO,CACTinC,MAAM3O,GACGt4B,EAAK5iB,MAAMk7C,EAAQ,CAAC,MAAM,GAEnC4O,MAAM5O,GAEGt4B,EAAK5iB,MAAMk7C,EADL,CAAC,IAAK,KAAM,OAG3B,KAAAl7C,CAAMk7C,EAAQ6O,EAAYjP,GACxB,IAAIkP,EAAQ,GACRx4B,EAAU,GACVxxB,GAAQ,EACRulB,EAAO,EACP0kC,GAAU,EACVC,EAAY,GACZn4B,GAAS,EACb,IAAK,IAAIo4B,KAAUjP,EACbnpB,EACFA,GAAS,EACW,OAAXo4B,EACTp4B,GAAS,EACAk4B,EACLE,IAAWD,IACbD,GAAU,GAEQ,MAAXE,GAA6B,MAAXA,GAC3BF,GAAU,EACVC,EAAYC,GACQ,MAAXA,EACT5kC,GAAQ,EACY,MAAX4kC,EACL5kC,EAAO,IAAGA,GAAQ,GACJ,IAATA,GACLwkC,EAAWluD,SAASsuD,KAASnqD,GAAQ,GAEvCA,GACc,KAAZwxB,GAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACvCsxB,EAAU,GACVxxB,GAAQ,GAERwxB,GAAW24B,EAIf,OADIrP,GAAoB,KAAZtpB,IAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACxC8pD,CACR,GAIH,OAFApS,GAAWh1B,EACXA,EAAK6U,QAAU7U,EACRg1B,EACT,CAGA,SAASwS,KACP,GAAIrS,GAAmB,OAAOD,GAC9BC,GAAoB,EACpB,IAAI2O,EAAYN,KACZxjC,EAAOgnC,KACX,MAAMvD,UAAaK,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,aAAI/jC,GACF,OAAOqM,EAAKinC,MAAM/zD,KAAKgb,SACxB,CACD,aAAIyF,CAAUwe,GACZ,IAAI2S,EAAQ5xC,KAAKgb,SAAWhb,KAAKgb,SAAS42B,MAAM,QAAU,KACtD8b,EAAM9b,EAAQA,EAAM,GAAK,IAAM5xC,KAAK6kD,IAAI,UAAW,cACvD7kD,KAAKgb,SAAWikB,EAAOj5B,KAAK0nD,EAC7B,EAKH,OAHA1L,GAASuO,EACTA,EAAK5uB,QAAU4uB,EACfK,EAAUwB,aAAa7B,GAChBvO,EACT,CAGA,SAASuS,KACP,GAAIpS,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIkH,EAAcD,KACdoL,EA5XN,WACE,GAAI/S,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,MAAMgT,EAAe,IAAIpkD,WAAW,GAC9BqkD,EAAe,IAAIrkD,WAAW,GAC9BskD,EAAY,KAAKtkD,WAAW,GAC5BukD,EAAQ,IAAIvkD,WAAW,GACvBwkD,EAAU,KAAKxkD,WAAW,GAC1BykD,EAAQ,IAAIzkD,WAAW,GACvB0kD,EAAO,KAAK1kD,WAAW,GACvB2kD,EAAM,KAAI3kD,WAAW,GACrB4kD,EAAK,KAAK5kD,WAAW,GACrB6kD,EAAc,IAAI7kD,WAAW,GAC7B8kD,EAAe,IAAI9kD,WAAW,GAC9B+kD,EAAmB,IAAI/kD,WAAW,GAClCglD,EAAoB,IAAIhlD,WAAW,GACnCilD,EAAa,IAAIjlD,WAAW,GAC5BklD,EAAc,IAAIllD,WAAW,GAC7BmlD,EAAY,IAAInlD,WAAW,GAC3BolD,EAAW,IAAIplD,WAAW,GAC1BqlD,EAAQ,IAAIrlD,WAAW,GACvBslD,EAAK,IAAItlD,WAAW,GACpBulD,EAAY,6BACZC,EAAc,wCACdC,EAAiB,gBACjBC,EAAgB,WA0LtB,OAzLAvU,GAAa,SAAmBwH,EAAQhhD,EAAU,CAAA,GAChD,IAEIwJ,EAAM/P,EAAMu0D,EAAO5H,EAASnyB,EAC5BxgB,EAASw6C,EAAWzuC,EAAMyyB,EAAIic,EAH9Br4B,EAAMmrB,EAAOnrB,IAAIs4B,UACjBtC,EAAS7rD,EAAQouD,aAGjBx1D,EAASi9B,EAAIj9B,OACb6jB,EAAM,EACN4xC,EAAS,GACTC,EAAW,GAIf,SAASC,EAASC,GAChB,MAAMxN,EAAOzlD,MAAM,YAAcizD,EAAM/xC,EACxC,CAoKD,MAAO,CACLgyC,KAJF,SAAcC,GACZJ,EAAStzD,KAAK0zD,EACf,EAGCC,UArKF,WACE,OAA2B,IAApBL,EAAS11D,QAAgB6jB,GAAO7jB,CACxC,EAoKCg2D,UAnKF,SAAmBxtC,GACjB,GAAIktC,EAAS11D,OAAQ,OAAO01D,EAASvzD,MACrC,GAAI0hB,GAAO7jB,EAAQ,OACnB,IAAIi2D,IAAiBztC,GAAOA,EAAKytC,eAEjC,OADArlD,EAAOqsB,EAAIxtB,WAAWoU,GACdjT,GACN,KAAKqjD,EACL,KAAKC,EACL,KAAKE,EACL,KAAKC,EACL,KAAKF,EACHtzD,EAAOgjB,EACP,GACEhjB,GAAQ,EACR+P,EAAOqsB,EAAIxtB,WAAW5O,SACf+P,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,GACvFmB,EAAe,CAAC,QAASr4B,EAAIh6B,MAAM4gB,EAAKhjB,IACxCgjB,EAAMhjB,EAAO,EACb,MAEF,KAAKyzD,EACL,KAAKC,EACL,KAAKG,EACL,KAAKC,EACL,KAAKG,EACL,KAAKF,EACL,KAAKH,EAAmB,CACtB,IAAIyB,EAAch3D,OAAO8pB,aAAapY,GACtC0kD,EAAe,CAACY,EAAaA,EAAaryC,GAC1C,KACD,CACD,KAAK2wC,EAGH,GAFA5tC,EAAO6uC,EAAOz1D,OAASy1D,EAAOtzD,MAAM,GAAK,GACzCk3C,EAAKpc,EAAIxtB,WAAWoU,EAAM,GACb,QAAT+C,GAAkByyB,IAAOwa,GAAgBxa,IAAOya,GAAgBza,IAAO6a,GAAS7a,IAAO4a,GAAW5a,IAAO+a,GAAO/a,IAAO8a,GAAQ9a,IAAOgb,EAAI,CAC5IxzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ,IAAKzmD,EAAO,IACjB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EACP,KAClB,CACkB8xC,EAAS,UAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,WAAYr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC3DgjB,EAAMhjB,CAClB,MACYA,EAAOo8B,EAAIqqB,QAAQ,IAAKzjC,EAAM,GAC9B2pC,EAAUvwB,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,IAClB,IAAVA,GAAeq0D,EAAe55C,KAAKkyC,GACrC8H,EAAe,CAAC,IAAK,IAAKzxC,IAE1ByxC,EAAe,CAAC,WAAY9H,EAAS3pC,EAAKhjB,GAC1CgjB,EAAMhjB,GAGV,MAEF,KAAKgzD,EACL,KAAKC,EACHsB,EAAQxkD,IAASijD,EAAe,IAAM,IACtChzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ8N,EAAOv0D,EAAO,IACnB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EAAM,EACb,KAChB,CACgB8xC,EAAS,SAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,SAAUr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACzDgjB,EAAMhjB,EACN,MAEF,KAAKk0D,EACHC,EAAUmB,UAAYtyC,EAAM,EAC5BmxC,EAAU15C,KAAK2hB,GAEbp8B,EAD0B,IAAxBm0D,EAAUmB,UACLl5B,EAAIj9B,OAAS,EAEbg1D,EAAUmB,UAAY,EAE/Bb,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,EACN,MAEF,KAAKkzD,EAGH,IAFAlzD,EAAOgjB,EACPwX,GAAS,EACF4B,EAAIxtB,WAAW5O,EAAO,KAAOkzD,GAClClzD,GAAQ,EACRw6B,GAAUA,EAGZ,GADAzqB,EAAOqsB,EAAIxtB,WAAW5O,EAAO,GACzBw6B,GAAUzqB,IAASojD,GAASpjD,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,IAC5GtzD,GAAQ,EACJs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,KAAQ,CACxC,KAAOs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,EAAO,KAC1CA,GAAQ,EAENo8B,EAAIxtB,WAAW5O,EAAO,KAAOqzD,IAC/BrzD,GAAQ,EAEX,CAEHy0D,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvDgjB,EAAMhjB,EACN,MAEF,QACM+P,IAASojD,GAAS/2B,EAAIxtB,WAAWoU,EAAM,KAAOgxC,GAChDh0D,EAAOo8B,EAAIqqB,QAAQ,KAAMzjC,EAAM,GAAK,EACvB,IAAThjB,IACEoyD,GAAUgD,EACZp1D,EAAOo8B,EAAIj9B,OAEX21D,EAAS,YAGbL,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,IAENo0D,EAAYkB,UAAYtyC,EAAM,EAC9BoxC,EAAY35C,KAAK2hB,GAEfp8B,EAD4B,IAA1Bo0D,EAAYkB,UACPl5B,EAAIj9B,OAAS,EAEbi1D,EAAYkB,UAAY,EAEjCb,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvD40D,EAAOrzD,KAAKkzD,GACZzxC,EAAMhjB,GAMZ,OADAgjB,IACOyxC,CACR,EAQCe,SA7KF,WACE,OAAOxyC,CACR,EA6KL,CAEA,CAwKkByyC,GACZ7G,EAAUD,KACVI,EAASmD,KACTlD,EAAOmD,KACPrD,EAAO+D,KACX,MAAM6C,EAAwB,CAC5BC,OAAO,EACPpD,OAAO,GAqgBT,OADA9R,GA3fA,MACE,WAAAjiD,CAAY+oD,GACVhpD,KAAK+5B,MAAQivB,EACbhpD,KAAKq6B,KAAO,IAAIo2B,EAChBzwD,KAAK07B,QAAU17B,KAAKq6B,KACpBr6B,KAAKq3D,OAAS,GACdr3D,KAAKgkD,WAAY,EACjBhkD,KAAKs3D,kBACLt3D,KAAKq6B,KAAKjjB,OAAS,CAAE2iB,MAAOivB,EAAQ1+C,MAAO,CAAEk0C,OAAQ,EAAGD,KAAM,EAAGkO,OAAQ,GAC1E,CACD,MAAAtI,CAAOuS,GACL,IAMI5sD,EACA0d,EACAyE,EARAgvB,EAAQ,IAAIuV,EAChBvV,EAAMlxC,KAAO2sD,EAAM,GAAG7yD,MAAM,GACT,KAAfo3C,EAAMlxC,MACR/J,KAAKu3D,cAActc,EAAOyb,GAE5B12D,KAAKwnC,KAAKyT,EAAOyb,EAAM,IAIvB,IAAI1R,GAAO,EACP3zB,GAAO,EACP+yB,EAAS,GACToT,EAAW,GACf,MAAQx3D,KAAKw0D,UAAUmC,aAAa,CAUlC,GARA7sD,GADA4sD,EAAQ12D,KAAKw0D,UAAUoC,aACV,GACA,MAAT9sD,GAAyB,MAATA,EAClB0tD,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,KACjB,MAATA,GAAgB0tD,EAAS52D,OAAS,EAC3C42D,EAASx0D,KAAK,KACL8G,IAAS0tD,EAASA,EAAS52D,OAAS,IAC7C42D,EAASz0D,MAEa,IAApBy0D,EAAS52D,OAAc,CACzB,GAAa,MAATkJ,EAAc,CAChBmxC,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAC1Czb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKgkD,WAAY,EACjB,KACZ,CAAiB,GAAa,MAATl6C,EAAc,CACvBunB,GAAO,EACP,KACZ,CAAiB,GAAa,MAATvnB,EAAc,CACvB,GAAIs6C,EAAOxjD,OAAS,EAAG,CAGrB,IAFAqrB,EAAQm4B,EAAOxjD,OAAS,EACxB4mB,EAAO48B,EAAOn4B,GACPzE,GAAoB,UAAZA,EAAK,IAClBA,EAAO48B,IAASn4B,GAEdzE,IACFyzB,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYjwC,EAAK,IAAMA,EAAK,IACpDyzB,EAAM7jC,OAAOxM,IAAI6hD,SAEpB,CACDzsD,KAAK4K,IAAI8rD,GACT,KACZ,CACYtS,EAAOphD,KAAK0zD,EAExB,MACUtS,EAAOphD,KAAK0zD,GAEd,GAAI12D,KAAKw0D,UAAUmC,YAAa,CAC9B3R,GAAO,EACP,KACD,CACF,CACD/J,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBtT,GAC/CA,EAAOxjD,QACTq6C,EAAMqJ,KAAKC,UAAYvkD,KAAK23D,2BAA2BvT,GACvDpkD,KAAK6kD,IAAI5J,EAAO,SAAUmJ,GACtBY,IACF0R,EAAQtS,EAAOA,EAAOxjD,OAAS,GAC/Bq6C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKq3D,OAASpc,EAAMqJ,KAAKI,QACzBzJ,EAAMqJ,KAAKI,QAAU,MAGvBzJ,EAAMqJ,KAAKC,UAAY,GACvBtJ,EAAMmJ,OAAS,IAEb/yB,IACF4pB,EAAMuJ,MAAQ,GACdxkD,KAAK07B,QAAUuf,EAElB,CACD,oBAAA2c,CAAqBC,GACnB,IAAIlU,EAAQ3jD,KAAK2jD,MAAMkU,GACvB,IAAc,IAAVlU,EAAiB,OACrB,IACI+S,EADAoB,EAAU,EAEd,IAAK,IAAIv2C,EAAIoiC,EAAQ,EAAGpiC,GAAK,IAC3Bm1C,EAAQmB,EAAOt2C,GACE,UAAbm1C,EAAM,KACRoB,GAAW,EACK,IAAZA,IAJwBv2C,KAOhC,MAAMvhB,KAAK+5B,MAAMx2B,MACf,mBACa,SAAbmzD,EAAM,GAAgBA,EAAM,GAAK,EAAIA,EAAM,GAE9C,CACD,KAAA/S,CAAMkU,GACJ,IACInB,EAAO5sD,EAAM0d,EADbgwC,EAAW,EAEf,IAAK,IAAKt0C,EAAI/I,KAAY09C,EAAOjyD,UAAW,CAS1C,GARA8wD,EAAQv8C,EACRrQ,EAAO4sD,EAAM,GACA,MAAT5sD,IACF0tD,GAAY,GAED,MAAT1tD,IACF0tD,GAAY,GAEG,IAAbA,GAA2B,MAAT1tD,EAAc,CAClC,GAAK0d,EAEE,IAAgB,SAAZA,EAAK,IAA6B,WAAZA,EAAK,GACpC,SAEA,OAAOtE,CACR,CALCljB,KAAK+3D,YAAYrB,EAMpB,CACDlvC,EAAOkvC,CACR,CACD,OAAO,CACR,CACD,OAAAjrB,CAAQirB,GACN,IAAIzb,EAAQ,IAAIoV,EAChBrwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjB,IAAItiD,EAAOusD,EAAM,GAAG7yD,MAAM,GAAI,GAC9B,GAAI,QAAQqY,KAAK/R,GACf8wC,EAAM9wC,KAAO,GACb8wC,EAAMqJ,KAAKW,KAAO96C,EAClB8wC,EAAMqJ,KAAKY,MAAQ,OACd,CACL,IAAItT,EAAQznC,EAAKynC,MAAM,wBACvBqJ,EAAM9wC,KAAOynC,EAAM,GACnBqJ,EAAMqJ,KAAKW,KAAOrT,EAAM,GACxBqJ,EAAMqJ,KAAKY,MAAQtT,EAAM,EAC1B,CACF,CACD,eAAA0lB,GACEt3D,KAAKw0D,UAAYA,EAAUx0D,KAAK+5B,MACjC,CACD,IAAAorB,CAAK0S,EAAQG,GACX,IAAI/c,EAAQ,IAAIoO,EAChBrpD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B,IAuBInB,EAvBA1R,EAAO6S,EAAOA,EAAOj3D,OAAS,GASlC,IARgB,MAAZokD,EAAK,KACPhlD,KAAKgkD,WAAY,EACjB6T,EAAO90D,OAETk4C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YACtBzS,EAAK,IAAMA,EAAK,IAtKtB,SAA8B6S,GAC5B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAC9C,IAAIwzC,EAAQmB,EAAO30C,GACfuB,EAAMiyC,EAAM,IAAMA,EAAM,GAC5B,GAAIjyC,EAAK,OAAOA,CACjB,CACF,CAgK2BwzC,CAAqBJ,IAE7C5c,EAAM7jC,OAAOxM,IAAI6hD,SACO,SAAjBoL,EAAO,GAAG,IACO,IAAlBA,EAAOj3D,QAAcZ,KAAKk4D,YAAYL,GAC1C5c,EAAMqJ,KAAK55C,QAAUmtD,EAAO5rC,QAAQ,GAItC,IAFAgvB,EAAM7jC,OAAO9M,MAAQtK,KAAKy3D,YAAYI,EAAO,GAAG,IAChD5c,EAAMhsB,KAAO,GACN4oC,EAAOj3D,QAAQ,CACpB,IAAIkJ,EAAO+tD,EAAO,GAAG,GACrB,GAAa,MAAT/tD,GAAyB,UAATA,GAA6B,YAATA,EACtC,MAEFmxC,EAAMhsB,MAAQ4oC,EAAO5rC,QAAQ,EAC9B,CAGD,IAFAgvB,EAAMqJ,KAAKI,QAAU,GAEdmT,EAAOj3D,QAAQ,CAEpB,GADA81D,EAAQmB,EAAO5rC,QACE,MAAbyqC,EAAM,GAAY,CACpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,GAC5B,KACV,CAC2B,SAAbA,EAAM,IAAiB,KAAKx6C,KAAKw6C,EAAM,KACzC12D,KAAKk4D,YAAY,CAACxB,IAEpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,EAE/B,CACqB,MAAlBzb,EAAMhsB,KAAK,IAAgC,MAAlBgsB,EAAMhsB,KAAK,KACtCgsB,EAAMqJ,KAAK55C,QAAUuwC,EAAMhsB,KAAK,GAChCgsB,EAAMhsB,KAAOgsB,EAAMhsB,KAAKprB,MAAM,IAEhC,IACIpC,EADA02D,EAAc,GAElB,KAAON,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB02D,EAAYn1D,KAAK60D,EAAO5rC,SAE1BjsB,KAAKo4D,wBAAwBP,GAC7B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAE9C,GADAwzC,EAAQmB,EAAO30C,GACgB,eAA3BwzC,EAAM,GAAGp8C,cAAgC,CAC3C2gC,EAAMoK,WAAY,EAClB,IAAID,EAASplD,KAAKq4D,WAAWR,EAAQ30C,GACrCkiC,EAASplD,KAAKs4D,cAAcT,GAAUzS,EACvB,gBAAXA,IAA0BnK,EAAMqJ,KAAKe,UAAYD,GACrD,KACD,CAAM,GAA+B,cAA3BsR,EAAM,GAAGp8C,cAA+B,CACjD,IAAIi+C,EAAQV,EAAOh0D,MAAM,GACrBsM,EAAM,GACV,IAAK,IAAIoR,EAAI2B,EAAI3B,EAAI,EAAGA,IAAK,CAC3B,IAAIzX,EAAOyuD,EAAMh3C,GAAG,GACpB,GAAgC,IAA5BpR,EAAI/F,OAAO89C,QAAQ,MAAuB,UAATp+C,EACnC,MAEFqG,EAAMooD,EAAMx1D,MAAM,GAAKoN,CACxB,CAC+B,IAA5BA,EAAI/F,OAAO89C,QAAQ,OACrBjN,EAAMoK,WAAY,EAClBpK,EAAMqJ,KAAKe,UAAYl1C,EACvB0nD,EAASU,EAEZ,CACD,GAAiB,UAAb7B,EAAM,IAA+B,YAAbA,EAAM,GAChC,KAEH,CACamB,EAAO98C,KAAMmI,GAAiB,UAAVA,EAAG,IAA4B,YAAVA,EAAG,MAExD+3B,EAAMqJ,KAAKI,SAAWyT,EAAYtzD,IAAKqe,GAAOA,EAAG,IAAIld,KAAK,IAC1DmyD,EAAc,IAEhBn4D,KAAK6kD,IAAI5J,EAAO,QAASkd,EAAYr0D,OAAO+zD,GAASG,GACjD/c,EAAM15C,MAAMwE,SAAS,OAASiyD,GAChCh4D,KAAK43D,qBAAqBC,EAE7B,CACD,WAAAE,CAAYrB,GACV,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,CACD,SAAA43D,CAAU9B,GACR,IAAIzb,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAMjgC,SAAW,GACjBigC,EAAMqJ,KAAKI,QAAU,GACrB1kD,KAAK07B,QAAUuf,CAChB,CACD,GAAArwC,CAAI8rD,GACE12D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAKgkD,WAAY,EACjBhkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq3D,OAAS,GACVr3D,KAAK07B,QAAQe,QACfz8B,KAAK07B,QAAQtkB,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IACjD12D,KAAK07B,QAAQtkB,OAAOxM,IAAI6hD,SACxBzsD,KAAK07B,QAAU17B,KAAK07B,QAAQe,QAE5Bz8B,KAAKy4D,gBAAgB/B,EAExB,CACD,OAAAgC,GACM14D,KAAK07B,QAAQe,QAAQz8B,KAAK24D,gBAC1B34D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq6B,KAAKjjB,OAAOxM,IAAM5K,KAAKy3D,YAAYz3D,KAAKw0D,UAAUyC,WACxD,CACD,aAAA2B,CAAclC,GAEZ,GADA12D,KAAKq3D,QAAUX,EAAM,GACjB12D,KAAK07B,QAAQ8oB,MAAO,CACtB,IAAIh9B,EAAOxnB,KAAK07B,QAAQ8oB,MAAMxkD,KAAK07B,QAAQ8oB,MAAM5jD,OAAS,GACtD4mB,GAAsB,SAAdA,EAAK1d,OAAoB0d,EAAK88B,KAAKkC,eAC7Ch/B,EAAK88B,KAAKkC,aAAexmD,KAAKq3D,OAC9Br3D,KAAKq3D,OAAS,GAEjB,CACF,CAED,WAAAI,CAAYhL,GACV,IAAIhoC,EAAMzkB,KAAK+5B,MAAM2yB,WAAWD,GAChC,MAAO,CACLjO,OAAQ/5B,EAAIkoC,IACZpO,KAAM95B,EAAI85B,KACVkO,SAEH,CACD,IAAAjlB,CAAKyT,EAAOwR,GACVzsD,KAAK07B,QAAQ14B,KAAKi4C,GAClBA,EAAM7jC,OAAS,CACb2iB,MAAO/5B,KAAK+5B,MACZzvB,MAAOtK,KAAKy3D,YAAYhL,IAE1BxR,EAAMqJ,KAAK55C,OAAS1K,KAAKq3D,OACzBr3D,KAAKq3D,OAAS,GACK,YAAfpc,EAAMnxC,OAAoB9J,KAAKgkD,WAAY,EAChD,CACD,KAAApT,CAAMtmC,GACJ,IAAIM,GAAM,EACNd,EAAO,KACP65C,GAAQ,EACRkV,EAAU,KACVrB,EAAW,GACXQ,EAAiB1tD,EAAM,GAAGmQ,WAAW,MACrCo9C,EAAS,GACTnB,EAAQpsD,EACZ,KAAOosD,GAAO,CAGZ,GAFA5sD,EAAO4sD,EAAM,GACbmB,EAAO70D,KAAK0zD,GACC,MAAT5sD,GAAyB,MAATA,EACb+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,UAC9B,GAAIkuD,GAAkBrU,GAAkB,MAAT75C,EAC/B+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAK,UACT,GAAwB,IAApBw0D,EAAS52D,OAAc,CAChC,GAAa,MAATkJ,EAAc,CAChB,GAAI65C,EAEF,YADA3jD,KAAKmlD,KAAK0S,EAAQG,GAGlB,KAEd,CAAiB,GAAa,MAATluD,EAET,YADA9J,KAAKgc,KAAK67C,GAEL,GAAa,MAAT/tD,EAAc,CACvB9J,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAC3B6H,GAAM,EACN,KACZ,CAA8B,MAATd,IACT65C,GAAQ,EAEpB,MAAmB75C,IAAS0tD,EAASA,EAAS52D,OAAS,KAC7C42D,EAASz0D,MACe,IAApBy0D,EAAS52D,SAAci4D,EAAU,OAEvCnC,EAAQ12D,KAAKw0D,UAAUoC,WACxB,CAGD,GAFI52D,KAAKw0D,UAAUmC,cAAa/rD,GAAM,GAClC4sD,EAAS52D,OAAS,GAAGZ,KAAK84D,gBAAgBD,GAC1CjuD,GAAO+4C,EAAO,CAChB,IAAKqU,EACH,KAAOH,EAAOj3D,SACZ81D,EAAQmB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAV81D,GAA+B,YAAVA,IACzB12D,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAG/B/C,KAAKmlD,KAAK0S,EAAQG,EAC1B,MACQh4D,KAAKk4D,YAAYL,EAEpB,CACD,KAAAjjD,GACE,IAAI8hD,EACJ,MAAQ12D,KAAKw0D,UAAUmC,aAErB,OADAD,EAAQ12D,KAAKw0D,UAAUoC,YACfF,EAAM,IACZ,IAAK,QACH12D,KAAKq3D,QAAUX,EAAM,GACrB,MACF,IAAK,IACH12D,KAAK44D,cAAclC,GACnB,MACF,IAAK,IACH12D,KAAK4K,IAAI8rD,GACT,MACF,IAAK,UACH12D,KAAKyrC,QAAQirB,GACb,MACF,IAAK,UACH12D,KAAKmkD,OAAOuS,GACZ,MACF,IAAK,IACH12D,KAAKw4D,UAAU9B,GACf,MACF,QACE12D,KAAK4wC,MAAM8lB,GAIjB12D,KAAK04D,SACN,CACD,uBAAAN,GACC,CACD,GAAAvT,CAAI5J,EAAOhsB,EAAM4oC,EAAQG,GACvB,IAAItB,EAAO5sD,EAIPrI,EAAM+lB,EAHN5mB,EAASi3D,EAAOj3D,OAChBW,EAAQ,GACRw3D,GAAQ,EAEZ,IAAK,IAAI71C,EAAK,EAAGA,EAAKtiB,EAAQsiB,GAAM,EAClCwzC,EAAQmB,EAAO30C,GACfpZ,EAAO4sD,EAAM,GACA,UAAT5sD,GAAoBoZ,IAAOtiB,EAAS,GAAMo3D,EAE1B,YAATluD,GACT0d,EAAOqwC,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QAC5CzhB,EAAOo2D,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QACvCi0C,EAAsB3vC,IAAU2vC,EAAsB11D,IACjC,MAApBF,EAAMsC,OAAO,GAMjBk1D,GAAQ,EAHNx3D,GAASm1D,EAAM,IAMnBn1D,GAASm1D,EAAM,GAdfqC,GAAQ,EAiBZ,IAAKA,EAAO,CACV,IAAIlU,EAAMgT,EAAOtgD,OAAO,CAAC8V,EAAKnK,IAAOmK,EAAMnK,EAAG,GAAI,IAClD+3B,EAAMqJ,KAAKr1B,GAAQ,CAAE41B,MAAKtjD,QAC3B,CACD05C,EAAMhsB,GAAQ1tB,CACf,CACD,IAAAya,CAAK67C,GACHA,EAAO90D,MACP,IAAIk4C,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B5c,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBG,GACnD73D,KAAK6kD,IAAI5J,EAAO,WAAY4c,GAC5B73D,KAAK07B,QAAUuf,CAChB,CACD,wBAAAyc,CAAyBG,GACvB,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,GAA+C,YAAlBA,IACjC3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CAED,0BAAAM,CAA2BE,GACzB,IAAIp2D,EACA41D,EAAS,GACb,KAAOQ,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB41D,GAAUQ,EAAO5rC,QAAQ,GAE3B,OAAOorC,CACR,CACD,aAAAiB,CAAcT,GACZ,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,IACJ3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CACD,UAAAgB,CAAWR,EAAQn0D,GACjB,IAAI+kD,EAAU,GACd,IAAK,IAAIvlC,EAAKxf,EAAMwf,EAAK20C,EAAOj3D,OAAQsiB,IACtCulC,GAAWoP,EAAO30C,GAAI,GAGxB,OADA20C,EAAOphD,OAAO/S,EAAMm0D,EAAOj3D,OAAS8C,GAC7B+kD,CACR,CACD,aAAAkQ,GACE,IAAIl0C,EAAMzkB,KAAK07B,QAAQtkB,OAAO9M,MAC9B,MAAMtK,KAAK+5B,MAAMx2B,MAAM,iBAAkBkhB,EAAI85B,KAAM95B,EAAI+5B,OACxD,CACD,eAAAsa,CAAgBD,GACd,MAAM74D,KAAK+5B,MAAMx2B,MACf,mBACA,CAAEkpD,OAAQoM,EAAQ,IAClB,CAAEpM,OAAQoM,EAAQ,GAAK,GAE1B,CACD,eAAAJ,CAAgB/B,GACd,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAK,GAExB,CACD,WAAAwB,CAAYL,GACV,MAAM73D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQoL,EAAO,GAAG,IACpB,CAAEpL,OAAQoL,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAGj3D,QAEzC,CACD,aAAA22D,CAActc,EAAOyb,GACnB,MAAM12D,KAAK+5B,MAAMx2B,MACf,uBACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,GAGIshD,EACT,CAGA,SAAS+W,KACP,GAAI5W,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,IAAIuO,EAAYN,KACZ4I,EAAS3E,KACTjI,EAAQP,KACZ,SAASn3C,EAAMipB,EAAKzU,GAClB,IAAI4/B,EAAS,IAAIsD,EAAMzuB,EAAKzU,GACxB+vC,EAAU,IAAID,EAAOlQ,GACzB,IACEmQ,EAAQvkD,OACT,CAAC,MAAOm9C,GAYP,KAX6B,eAAzBqH,QAAQC,IAAIC,UACE,mBAAZvH,EAAGhoD,MAA6Bqf,GAAQA,EAAK1lB,OAC3C,WAAWwY,KAAKkN,EAAK1lB,MACvBquD,EAAGpuB,SAAW,iGACL,UAAUznB,KAAKkN,EAAK1lB,MAC7BquD,EAAGpuB,SAAW,iGACL,WAAWznB,KAAKkN,EAAK1lB,QAC9BquD,EAAGpuB,SAAW,mGAIdouB,CACP,CACD,OAAOoH,EAAQ9+B,IAChB,CAID,OAHA+nB,GAAYxtC,EACZA,EAAM+sB,QAAU/sB,EAChBg8C,EAAUsB,cAAct9C,GACjBwtC,EACT,CAGA,SAASmX,KACP,GAAIhX,GAAyB,OAAOD,GACpCC,GAA0B,EAC1B,IAAIW,QAAEA,EAAOC,GAAEA,GAAOF,KAClBuW,EAAehM,KACf1iD,EAAY27C,KACZmK,EAAYN,KACZoC,EAAYH,KACZkH,EAAY3G,KACZK,EAASD,KACTt+C,EAAQqkD,KACRxI,EAAOmD,KACX,MAAM8F,EAAqB,CACzBvV,OAAQ,SACR1Y,QAAS,UACT0Z,KAAM,cACN7kC,SAAU,WACV+Z,KAAM,OACNre,KAAM,QAEF29C,EAAe,CACnBnJ,QAAQ,EACRoJ,YAAY,EACZvJ,SAAS,EACTwJ,aAAa,EACbxQ,aAAa,EACbyQ,iBAAiB,EACjBC,UAAU,EACVC,cAAc,EACdC,MAAM,EACNC,UAAU,EACV1G,eAAe,EACf2G,SAAS,EACT1J,MAAM,EACN2J,UAAU,EACV7J,MAAM,EACN8J,UAAU,GAENC,EAAe,CACnBL,MAAM,EACNzG,eAAe,EACf2G,SAAS,GAGX,SAASI,EAAUttD,GACjB,MAAsB,iBAARA,GAAwC,mBAAbA,EAAInL,IAC9C,CACD,SAAS04D,EAAUvf,GACjB,IAAIjuC,GAAM,EACNlD,EAAO4vD,EAAmBze,EAAMnxC,MAMpC,MALmB,SAAfmxC,EAAMnxC,KACRkD,EAAMiuC,EAAMhsB,KAAK3U,cACO,WAAf2gC,EAAMnxC,OACfkD,EAAMiuC,EAAMlxC,KAAKuQ,eAEftN,GAAOiuC,EAAMjiC,OACR,CACLlP,EACAA,EAAO,IAAMkD,EAfF,EAiBXlD,EAAO,OACPA,EAAO,QAAUkD,GAEVA,EACF,CAAClD,EAAMA,EAAO,IAAMkD,EAAKlD,EAAO,OAAQA,EAAO,QAAUkD,GACvDiuC,EAAMjiC,OACR,CAAClP,EAvBK,EAuBWA,EAAO,QAExB,CAACA,EAAMA,EAAO,OAExB,CACD,SAAS2wD,EAAQxf,GACf,IAAIptB,EAQJ,OANEA,EADiB,aAAfotB,EAAMnxC,KACC,CAAC,WA/BG,EA+BmB,gBACR,SAAfmxC,EAAMnxC,KACN,CAAC,OAjCG,EAiCe,YAEnB0wD,EAAUvf,GAEd,CACLyf,WAAY,EACZ7sC,SACAjrB,SAAU,EACVm6B,KAAMke,EACN0f,aAAc,EACdC,SAAU,GAEb,CACD,SAASC,EAAW5f,GAGlB,OAFAA,EAAMiI,IAAW,EACbjI,EAAMuJ,OAAOvJ,EAAMuJ,MAAMz4C,QAASmX,GAAO23C,EAAW33C,IACjD+3B,CACR,CACD,IAAI6f,EAAW,CAAA,EACf,MAAMtI,EACJ,WAAAvyD,CAAYmzD,EAAYv1B,EAAKzU,GAG3B,IAAIo8B,EACJ,GAHAxlD,KAAK+6D,aAAc,EACnB/6D,KAAKg7D,WAAY,EAEE,iBAARn9B,GAA4B,OAARA,GAA8B,SAAbA,EAAI/zB,MAAgC,aAAb+zB,EAAI/zB,KAEpE,GAAI+zB,aAAe20B,GAAc30B,aAAes1B,EACrD3N,EAAQqV,EAAWh9B,EAAIxD,MACnBwD,EAAIh5B,WACkB,IAAbukB,EAAKvkB,MAAqBukB,EAAKvkB,IAAM,IAC3CukB,EAAKvkB,IAAIulD,SAAQhhC,EAAKvkB,IAAIulD,QAAS,GACxChhC,EAAKvkB,IAAI2iB,KAAOqW,EAAIh5B,SAEjB,CACL,IAAIs0D,EAAUvkD,EACVwU,EAAK6xC,SAAQ9B,EAAU/vC,EAAK6xC,OAAOrmD,OACnCwU,EAAK8xC,SAAQ/B,EAAU/vC,EAAK8xC,QAC5B/B,EAAQvkD,QAAOukD,EAAUA,EAAQvkD,OACrC,IACE4wC,EAAQ2T,EAAQt7B,EAAKzU,EACtB,CAAC,MAAO7lB,GACPvD,KAAKg7D,WAAY,EACjBh7D,KAAKuD,MAAQA,CACd,CACGiiD,IAAUA,EAAMrC,IAClByN,EAAUW,QAAQ/L,EAErB,MAtBCA,EAAQqV,EAAWh9B,GAuBrB79B,KAAK4B,OAAS,IAAIuxD,EAAOC,EAAY5N,EAAOp8B,GAC5CppB,KAAKm7D,QAAU,IAAKL,EAAUM,QAASN,EAAUl5D,OAAQ5B,KAAK4B,QAC9D5B,KAAK4pC,QAAU5pC,KAAKqzD,UAAUzpB,QAAQ/kC,IAAK65C,GACnB,iBAAXA,GAAuBA,EAAOyb,QAChC,IAAKzb,KAAWA,EAAOyb,QAAQn6D,KAAK4B,SAEpC88C,EAGZ,CACD,KAAAtsB,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACvCvD,KAAKg7D,UAAkB75D,QAAQC,QAAQpB,KAAK4B,SAC3C5B,KAAKq7D,aACRr7D,KAAKq7D,WAAar7D,KAAKs7D,YAElBt7D,KAAKq7D,WACb,CACD,MAAME,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,aAAAC,GACE,MAAM,IAAIx0D,MAAM,uDACjB,CACD,WAAAy0D,CAAYn4D,EAAO03C,GACjB,IAAIyD,EAAS1+C,KAAK4B,OAAO2xD,WACzB,IAGE,GAFItY,GAAOA,EAAM+L,WAAWzjD,GAC5BvD,KAAKuD,MAAQA,EACM,mBAAfA,EAAMwG,MAA8BxG,EAAMm7C,QAGvC,GAAIA,EAAOid,gBACa,eAAzBvC,QAAQC,IAAIC,SAA2B,CACzC,IAAIhsB,EAAaoR,EAAO8U,cACpBoI,EAAYld,EAAOid,eACnBE,EAAa77D,KAAK4B,OAAOyxD,UAAUj2C,QACnCw+B,EAAKggB,EAAU1xD,MAAM,KACrB/K,EAAI08D,EAAW3xD,MAAM,MACrB0xC,EAAG,KAAOz8C,EAAE,IAAMo4B,SAASqkB,EAAG,IAAMrkB,SAASp4B,EAAE,MACjD4H,QAAQxD,MACN,sEAAwEs4D,EAAa,SAAWvuB,EAAa,SAAWsuB,EAAY,mDAGzI,OAdDr4D,EAAMm7C,OAASA,EAAO8U,cACtBjwD,EAAMw7C,YAeT,CAAC,MAAO/zB,GACHjkB,SAAWA,QAAQxD,OAAOwD,QAAQxD,MAAMynB,EAC7C,CACD,OAAOznB,CACR,CACD,eAAAu4D,GACE97D,KAAKwN,UAAY,GACjB,IAAIiC,EAAM,CAACivC,EAAQ50C,EAAMg6B,KAClB9jC,KAAKwN,UAAU1D,KAAO9J,KAAKwN,UAAU1D,GAAQ,IAClD9J,KAAKwN,UAAU1D,GAAM9G,KAAK,CAAC07C,EAAQ5a,KAErC,IAAK,IAAI4a,KAAU1+C,KAAK4pC,QACtB,GAAsB,iBAAX8U,EACT,IAAK,IAAI9yC,KAAS8yC,EAAQ,CACxB,IAAKib,EAAa/tD,IAAU,SAASsQ,KAAKtQ,GACxC,MAAM,IAAI3E,MACR,iBAAiB2E,QAAY8yC,EAAO8U,yCAAyCxzD,KAAKqzD,UAAUj2C,iBAGhG,IAAKk9C,EAAa1uD,GAChB,GAA6B,iBAAlB8yC,EAAO9yC,GAChB,IAAK,IAAI8U,KAAUg+B,EAAO9yC,GAEtB6D,EAAIivC,EADS,MAAXh+B,EACU9U,EAIVA,EAAQ,IAAM8U,EAAOpG,cAJJokC,EAAO9yC,GAAO8U,QASH,mBAAlBg+B,EAAO9yC,IACvB6D,EAAIivC,EAAQ9yC,EAAO8yC,EAAO9yC,GAG/B,CAGL5L,KAAK+7D,YAAc38D,OAAOwF,KAAK5E,KAAKwN,WAAW5M,OAAS,CACzD,CACD,cAAM06D,GACJt7D,KAAK0+C,OAAS,EACd,IAAK,IAAIx7B,EAAK,EAAGA,EAAKljB,KAAK4pC,QAAQhpC,OAAQsiB,IAAM,CAC/C,IAAIw7B,EAAS1+C,KAAK4pC,QAAQ1mB,GACtB/c,EAAUnG,KAAKg8D,UAAUtd,GAC7B,GAAI6b,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO5C,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CAEJ,CAED,GADAvD,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IAAU,CACtBsC,EAAMtC,IAAW,EACjB,IAAIj5C,EAAQ,CAACwwD,EAAQjV,IACrB,KAAOv7C,EAAMrJ,OAAS,GAAG,CACvB,IAAIuF,EAAUnG,KAAKi8D,UAAUhyD,GAC7B,GAAIswD,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO4rD,GACP,IAAI9W,EAAQhxC,EAAMA,EAAMrJ,OAAS,GAAGm8B,KACpC,MAAM/8B,KAAK07D,YAAY3J,EAAI9W,EAC5B,CAEJ,CACF,CACD,GAAIj7C,KAAKwN,UAAU0sD,SACjB,IAAK,IAAKxb,EAAQwd,KAAYl8D,KAAKwN,UAAU0sD,SAAU,CACrDl6D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAmB,aAAf8G,EAAM17C,KAAqB,CAC7B,IAAIqyD,EAAQ3W,EAAMhB,MAAM3/C,IACrBu3D,GAAYF,EAAQE,EAASp8D,KAAKm7D,gBAE/Bh6D,QAAQksB,IAAI8uC,EAClC,YACsBD,EAAQ1W,EAAOxlD,KAAKm7D,QAE7B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EACxB,CACF,CAEJ,CAED,OADA/xD,KAAKg7D,WAAY,EACVh7D,KAAK8K,WACb,CACD,SAAAkxD,CAAUtd,GACR1+C,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAsB,iBAAXA,GAAuBA,EAAOub,KAAM,CAC7C,GAA8B,aAA1Bj6D,KAAK4B,OAAOy4B,KAAKvwB,KAAqB,CACxC,IAAIqyD,EAAQn8D,KAAK4B,OAAOy4B,KAAKmqB,MAAM3/C,IAChC2gD,GAAU9G,EAAOub,KAAKzU,EAAOxlD,KAAKm7D,UAErC,OAAIZ,EAAU4B,EAAM,IACXh7D,QAAQksB,IAAI8uC,GAEdA,CACR,CACD,OAAOzd,EAAOub,KAAKj6D,KAAK4B,OAAOy4B,KAAMr6B,KAAKm7D,QACpD,CAAe,GAAsB,mBAAXzc,EAChB,OAAOA,EAAO1+C,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAExC,CAAC,MAAO2B,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CACF,CACD,SAAAuH,GACE,GAAI9K,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAK+6D,YAAa,OAAO/6D,KAAK4B,OAClC5B,KAAK+6D,aAAc,EACnB/6D,KAAKq8D,OACL,IAAIjzC,EAAOppB,KAAK4B,OAAOwnB,KACnBjZ,EAAMrF,EACNse,EAAK6xC,SAAQ9qD,EAAMiZ,EAAK6xC,OAAOnwD,WAC/Bse,EAAKkzC,cAAansD,EAAMiZ,EAAKkzC,aAC7BnsD,EAAIrF,YAAWqF,EAAMA,EAAIrF,WAC7B,IACIqe,EADM,IAAIqwC,EAAarpD,EAAKnQ,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAAOwnB,MAC/C0lC,WAGf,OAFA9uD,KAAK4B,OAAOi8B,IAAM1U,EAAK,GACvBnpB,KAAK4B,OAAOiD,IAAMskB,EAAK,GAChBnpB,KAAK4B,MACb,CACD,IAAAy6D,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAKg7D,UAAW,OAAOh7D,KAAK4B,OAEhC,GADA5B,KAAKg7D,WAAY,EACbh7D,KAAKq7D,WACP,MAAMr7D,KAAKy7D,gBAEb,IAAK,IAAI/c,KAAU1+C,KAAK4pC,QAAS,CAE/B,GAAI2wB,EADUv6D,KAAKg8D,UAAUtd,IAE3B,MAAM1+C,KAAKy7D,eAEd,CAED,GADAz7D,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IACZsC,EAAMtC,IAAW,EACjBljD,KAAKu8D,SAAS/W,GAEhB,GAAIxlD,KAAKwN,UAAU0sD,SACjB,GAAmB,aAAf1U,EAAM17C,KACR,IAAK,IAAIsyD,KAAW5W,EAAMhB,MACxBxkD,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAUkC,QAG1Cp8D,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAU1U,EAG7C,CACD,OAAOxlD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKopB,MACnBqwC,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK69B,GACb,CACD,SAAA2+B,CAAU5B,EAAU3f,GAClB,IAAK,IAAKyD,EAAQwd,KAAYtB,EAAU,CAEtC,IAAIz0D,EADJnG,KAAK4B,OAAO2xD,WAAa7U,EAEzB,IACEv4C,EAAU+1D,EAAQjhB,EAAOj7C,KAAKm7D,QAC/B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAAMkO,QAClC,CACD,GAAmB,SAAflO,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAC/D,OAAO,EAET,GAAI89B,EAAUp0D,GACZ,MAAMnG,KAAKy7D,eAEd,CACF,CACD,SAAAQ,CAAUhyD,GACR,IAAIyyD,EAASzyD,EAAMA,EAAMrJ,OAAS,IAC5Bm8B,KAAMke,EAAK2f,SAAEA,GAAa8B,EAChC,GAAmB,SAAfzhB,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAE/D,YADAxyB,EAAMlH,MAGR,GAAI63D,EAASh6D,OAAS,GAAK87D,EAAO/B,aAAeC,EAASh6D,OAAQ,CAChE,IAAK89C,EAAQwd,GAAWtB,EAAS8B,EAAO/B,cACxC+B,EAAO/B,cAAgB,EACnB+B,EAAO/B,eAAiBC,EAASh6D,SACnC87D,EAAO9B,SAAW,GAClB8B,EAAO/B,aAAe,GAExB36D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,OAAOwd,EAAQjhB,EAAM2M,UAAW5nD,KAAKm7D,QACtC,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAC5B,CACF,CACD,GAAwB,IAApByhB,EAAO95D,SAAgB,CACzB,IACI+5B,EADA/5B,EAAW85D,EAAO95D,SAEtB,KAAO+5B,EAAQse,EAAMuJ,MAAMvJ,EAAMgW,QAAQruD,KAEvC,GADAq4C,EAAMgW,QAAQruD,IAAa,GACtB+5B,EAAMumB,GAGT,OAFAvmB,EAAMumB,IAAW,OACjBj5C,EAAMjH,KAAKy3D,EAAQ99B,IAIvB+/B,EAAO95D,SAAW,SACXq4C,EAAMgW,QAAQruD,EACtB,CACD,IAAIirB,EAAS6uC,EAAO7uC,OACpB,KAAO6uC,EAAOhC,WAAa7sC,EAAOjtB,QAAQ,CACxC,IAAIgL,EAAQiiB,EAAO6uC,EAAOhC,YAE1B,GADAgC,EAAOhC,YAAc,EAxWV,IAyWP9uD,EAKF,YAJIqvC,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,SAC7Bq6C,EAAMiI,IAAW,EACjBwZ,EAAO95D,SAAWq4C,EAAM+V,gBAGrB,GAAIhxD,KAAKwN,UAAU5B,GAExB,YADA8wD,EAAO9B,SAAW56D,KAAKwN,UAAU5B,GAGpC,CACD3B,EAAMlH,KACP,CACD,QAAAw5D,CAASthB,GACPA,EAAMiI,IAAW,EACjB,IAAIr1B,EAAS2sC,EAAUvf,GACvB,IAAK,IAAIrvC,KAASiiB,EAChB,GA1XW,IA0XPjiB,EACEqvC,EAAMuJ,OACRvJ,EAAM8V,KAAMp0B,IACLA,EAAMumB,IAAUljD,KAAKu8D,SAAS5/B,SAGlC,CACL,IAAIi+B,EAAW56D,KAAKwN,UAAU5B,GAC9B,GAAIgvD,GACE56D,KAAKw8D,UAAU5B,EAAU3f,EAAM2M,WAAY,MAElD,CAEJ,CACD,QAAA8L,GACE,OAAO1zD,KAAKq8D,OAAO3I,UACpB,CACD,WAAItF,GACF,OAAOpuD,KAAK8K,YAAYsjD,OACzB,CACD,OAAIvwB,GACF,OAAO79B,KAAK8K,YAAY+yB,GACzB,CACD,OAAIh5B,GACF,OAAO7E,KAAK8K,YAAYjG,GACzB,CACD,YAAIyuD,GACF,OAAOtzD,KAAKq8D,OAAO/I,QACpB,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,OAAOr6B,KAAKq8D,OAAOhiC,IACpB,CACD,IAAK13B,OAAOq7C,eACV,MAAO,YACR,EASH,OAPAwU,EAAWmK,gBAAmBxK,IAC5B2I,EAAW3I,GAEb7P,GAAekQ,EACfA,EAAW7wB,QAAU6wB,EACrB/B,EAAKmC,mBAAmBJ,GACxBE,EAAUE,mBAAmBJ,GACtBlQ,EACT,CAuHA,SAASsa,KACP,GAAIja,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAIka,EAvHN,WACE,GAAIpa,GAA2B,OAAOD,GACtCC,GAA4B,EAC5B,IAAI+W,EAAehM,KACf1iD,EAAY27C,KACZgT,EAAY3G,KACZl+C,EAAQqkD,KACZ,MAAM9F,EAASD,KACf,MAAM2J,EACJ,WAAA58D,CAAYmzD,EAAYv1B,EAAKzU,GAO3B,IAAIo8B,EANJ3nB,EAAMA,EAAI94B,WACV/E,KAAK+6D,aAAc,EACnB/6D,KAAK88D,WAAa1J,EAClBpzD,KAAK+8D,KAAOl/B,EACZ79B,KAAKg9D,MAAQ5zC,EACbppB,KAAKi9D,UAAO,EAEZ,IAAI9sD,EAAMrF,EACV9K,KAAK4B,OAAS,IAAIuxD,EAAOnzD,KAAK88D,WAAYtX,EAAOxlD,KAAKg9D,OACtDh9D,KAAK4B,OAAOi8B,IAAMA,EAClB,IAAIq/B,EAAQl9D,KACZZ,OAAO0J,eAAe9I,KAAK4B,OAAQ,OAAQ,CACzCmH,IAAG,IACMm0D,EAAM7iC,OAGjB,IAAIx1B,EAAM,IAAI20D,EAAarpD,EAAKq1C,EAAOxlD,KAAKg9D,MAAOn/B,GACnD,GAAIh5B,EAAIumD,QAAS,CACf,IAAK+R,EAAcC,GAAgBv4D,EAAIiqD,WACnCqO,IACFn9D,KAAK4B,OAAOi8B,IAAMs/B,GAEhBC,IACFp9D,KAAK4B,OAAOiD,IAAMu4D,EAE5B,MACQv4D,EAAIgqD,kBACJ7uD,KAAK4B,OAAOi8B,IAAMh5B,EAAIg5B,GAEzB,CACD,KAAAzL,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACpCpC,QAAQC,QAAQpB,KAAK4B,OAC7B,CACD,MAAM25D,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,IAAAa,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,OAAOvD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKg9D,OACnBvD,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK+8D,IACb,CACD,QAAArJ,GACE,MAAO,EACR,CACD,WAAItF,GACF,OAAOpuD,KAAK4B,OAAOi8B,GACpB,CACD,OAAIA,GACF,OAAO79B,KAAK4B,OAAOi8B,GACpB,CACD,OAAIh5B,GACF,OAAO7E,KAAK4B,OAAOiD,GACpB,CACD,YAAIyuD,GACF,MAAO,EACR,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,GAAIr6B,KAAKq9D,MACP,OAAOr9D,KAAKq9D,MAEd,IAAI7X,EACA2T,EAAUvkD,EACd,IACE4wC,EAAQ2T,EAAQn5D,KAAK+8D,KAAM/8D,KAAKg9D,MACjC,CAAC,MAAOz5D,GACPvD,KAAKuD,MAAQA,CACd,CACD,GAAIvD,KAAKuD,MACP,MAAMvD,KAAKuD,MAGX,OADAvD,KAAKq9D,MAAQ7X,EACNA,CAEV,CACD,IAAK7iD,OAAOq7C,eACV,MAAO,cACR,EAIH,OAFAwE,GAAiBqa,EACjBA,EAAal7B,QAAUk7B,EAChBra,EACT,CAMqB8a,GACf9K,EAAa+G,KACb7G,EAAYH,KACZ9B,EAAOmD,KACX,MAAMnB,EACJ,WAAAxyD,CAAY2pC,EAAU,IACpB5pC,KAAKod,QAAU,SACfpd,KAAK4pC,QAAU5pC,KAAK8wD,UAAUlnB,EAC/B,CACD,SAAAknB,CAAUlnB,GACR,IAAI2zB,EAAa,GACjB,IAAK,IAAIr6C,KAAM0mB,EAMb,IALmB,IAAf1mB,EAAGk4C,QACLl4C,EAAKA,IACIA,EAAGk4C,UACZl4C,EAAKA,EAAGk4C,SAEQ,iBAAPl4C,GAAmB3jB,MAAMmN,QAAQwW,EAAG0mB,SAC7C2zB,EAAaA,EAAWz5D,OAAOof,EAAG0mB,cAC7B,GAAkB,iBAAP1mB,GAAmBA,EAAGswC,cACtC+J,EAAWv6D,KAAKkgB,QACX,GAAkB,mBAAPA,EAChBq6C,EAAWv6D,KAAKkgB,OACX,IAAkB,iBAAPA,IAAoBA,EAAGtO,QAASsO,EAAGpY,UAOnD,MAAM,IAAI7D,MAAMic,EAAK,4BANrB,GAA6B,eAAzBk2C,QAAQC,IAAIC,SACd,MAAM,IAAIryD,MACR,iKAKL,CAEH,OAAOs2D,CACR,CACD,OAAAnE,CAAQv7B,EAAKzU,EAAO,IAClB,OAAKppB,KAAK4pC,QAAQhpC,QAAWwoB,EAAK8xC,QAAW9xC,EAAKkzC,aAAgBlzC,EAAK6xC,OAG9D,IAAIzI,EAAWxyD,KAAM69B,EAAKzU,GAF1B,IAAIyzC,EAAa78D,KAAM69B,EAAKzU,EAItC,CACD,GAAAo0C,CAAI9e,GAEF,OADA1+C,KAAK4pC,QAAU5pC,KAAK4pC,QAAQ9lC,OAAO9D,KAAK8wD,UAAU,CAACpS,KAC5C1+C,IACR,EAMH,OAJA0iD,GAAc+P,EACdA,EAAU9wB,QAAU8wB,EACpBhC,EAAKoC,kBAAkBJ,GACvBC,EAAUG,kBAAkBJ,GACrB/P,EACT,CAiJA,IAAI25B,GAtFJ,WACE,GAAIt5B,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAAIzE,EAAiBH,KACjBkL,EAAcD,KACdoJ,EAAa+G,KACb3I,EAAYN,KACZmC,EAAYmK,KACZ9xD,EAAY27C,KACZiX,EAjEN,WACE,GAAI7a,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IAAIwG,EAAcD,KACdc,EAAcN,KACdyG,EAAUD,KACVI,EAASmD,KACTrH,EAAQP,KACR0E,EAAOmD,KACPrD,EAAO+D,KACX,SAASoJ,EAASnlD,EAAMowC,GACtB,GAAIppD,MAAMmN,QAAQ6L,GAAO,OAAOA,EAAK1T,IAAKo1C,GAAOyjB,EAASzjB,IAC1D,IAAM0O,OAAQgV,KAAcvjC,GAAa7hB,EACzC,GAAIolD,EAAW,CACbhV,EAAS,GACT,IAAK,IAAIK,KAAU2U,EAAW,CAC5B,IAAIC,EAAgB,IAAK5U,EAAQ1pD,UAAWgtD,EAAM7sD,WAC9Cm+D,EAAc/4D,MAChB+4D,EAAc/4D,IAAM,IACf+4D,EAAc/4D,IACjBvF,UAAW4qD,EAAYzqD,YAG3BkpD,EAAO3lD,KAAK46D,EACb,CACF,CAID,GAHIxjC,EAASoqB,QACXpqB,EAASoqB,MAAQjsC,EAAKisC,MAAM3/C,IAAKo1C,GAAOyjB,EAASzjB,EAAI0O,KAEnDvuB,EAAShjB,OAAQ,CACnB,IAAI2xC,QAAEA,KAAY3xC,GAAWgjB,EAAShjB,OACtCgjB,EAAShjB,OAASA,EACH,MAAX2xC,IACF3uB,EAAShjB,OAAO2iB,MAAQ4uB,EAAOI,GAElC,CACD,GAAsB,SAAlB3uB,EAAStwB,KACX,OAAO,IAAI2mD,EAAKr2B,GACX,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIu/C,EAAYjvB,GAClB,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIymD,EAAKn2B,GACX,GAAsB,YAAlBA,EAAStwB,KAClB,OAAO,IAAIumD,EAAQj2B,GACd,GAAsB,WAAlBA,EAAStwB,KAClB,OAAO,IAAI0mD,EAAOp2B,GAElB,MAAM,IAAInzB,MAAM,sBAAwBsR,EAAKzO,KAEhD,CAGD,OAFA84C,GAAe8a,EACfA,EAAS/7B,QAAU+7B,EACZ9a,EACT,CAYiBib,GACXnL,EAAYH,KACZU,EAAUD,KACV3C,EAAUD,KACVI,EAASmD,KACTR,EAASD,KACT5G,EAAQP,KACRn3C,EAAQqkD,KACRnsC,EAAOgnC,KACPvD,EAAO+D,KACP7D,EAAOmD,KACP9M,EAAQH,KACZ,SAASmU,KAAYlxB,GAInB,OAHuB,IAAnBA,EAAQhpC,QAAgBrB,MAAMmN,QAAQk9B,EAAQ,MAChDA,EAAUA,EAAQ,IAEb,IAAI6oB,EAAU7oB,EACtB,CA0DD,OAzDAkxB,EAASpc,OAAS,SAAgB30C,EAAM+zD,GACtC,IAkBIvF,EAlBAwF,GAAiB,EACrB,SAASC,KAAWp3D,GACdG,SAAWA,QAAQC,OAAS+2D,IAC9BA,GAAiB,EACjBh3D,QAAQC,KACN+C,EAAO,qHAELqvD,QAAQC,IAAI4E,MAAQ7E,QAAQC,IAAI4E,KAAKxjD,WAAW,OAClD1T,QAAQC,KACN+C,EAAO,uEAIb,IAAIm0D,EAAcJ,KAAel3D,GAGjC,OAFAs3D,EAAY1K,cAAgBzpD,EAC5Bm0D,EAAYvC,gBAAiB,IAAIlJ,GAAYr1C,QACtC8gD,CACR,CAWD,OATA9+D,OAAO0J,eAAek1D,EAAS,UAAW,CACxCj1D,IAAG,KACIwvD,IAAOA,EAAQyF,KACbzF,KAGXyF,EAAQ5E,QAAU,SAASv7B,EAAKsgC,EAAaC,GAC3C,OAAOtD,EAAS,CAACkD,EAAQI,KAAchF,QAAQv7B,EAAKsgC,EAC1D,EACWH,CACX,EACElD,EAAShwD,UAAYA,EACrBgwD,EAASlmD,MAAQA,EACjBkmD,EAAS4C,SAAWA,EACpB5C,EAAShuC,KAAOA,EAChBguC,EAASrvB,QAAWrR,GAAa,IAAIi2B,EAAQj2B,GAC7C0gC,EAASuD,OAAUjkC,GAAa,IAAIo2B,EAAOp2B,GAC3C0gC,EAAS3V,KAAQ/qB,GAAa,IAAIivB,EAAYjvB,GAC9C0gC,EAAS9+C,KAAQoe,GAAa,IAAIm2B,EAAKn2B,GACvC0gC,EAASzgC,KAAQD,GAAa,IAAIq2B,EAAKr2B,GACvC0gC,EAASx6C,SAAY8Z,GAAa,IAAIs4B,EAAUt4B,GAChD0gC,EAASxc,eAAiBA,EAC1Bwc,EAASzR,YAAcA,EACvByR,EAASlK,UAAYA,EACrBkK,EAASrI,UAAYA,EACrBqI,EAASf,SAAWrH,EACpBoI,EAASzK,QAAUA,EACnByK,EAAS7H,QAAUA,EACnB6H,EAAStK,OAASA,EAClBsK,EAAS3H,OAASA,EAClB2H,EAASxO,MAAQA,EACjBwO,EAASvK,KAAOA,EAChBuK,EAASrK,KAAOA,EAChBqK,EAAS7gC,KAAO6sB,EAChB0L,EAAWmK,gBAAgB7B,GAC3BhY,GAAcgY,EACdA,EAASn5B,QAAUm5B,EACZhY,EACT,CACuBwb,GACvB,MAAMb,GAA4BjiB,GAA0B6gC,IAC5D5e,GAAU3yD,UACV2yD,GAAUC,SACVD,GAAU/e,OACV+e,GAAU7oD,MACV6oD,GAAU3wC,KACV2wC,GAAUn9C,SACVm9C,GAAUhyB,QACVgyB,GAAUY,OACVZ,GAAUzhD,KACVyhD,GAAUtY,KACVsY,GAAUpjC,KACVojC,GAAUnf,eACVmf,GAAUpU,YACVoU,GAAU7M,UACV6M,GAAUhL,UACVgL,GAAU1D,SACV0D,GAAUpN,QACVoN,GAAUxK,QACVwK,GAAUjN,OACViN,GAAUtK,OACVsK,GAAUnR,MACVmR,GAAUlN,KACVkN,GAAUhN,KACVgN,GAAUxjC,KACV,IAAIsd,GAAan4C,OAAO0J,eAEpB0uC,GAAiB,CAACvqC,EAAKD,EAAKzL,IADT,EAAC0L,EAAKD,EAAKzL,IAAUyL,KAAOC,EAAMsqC,GAAWtqC,EAAKD,EAAK,CAAE/D,YAAY,EAAMC,cAAc,EAAMmuC,UAAU,EAAM91C,UAAW0L,EAAID,GAAOzL,EAClHk2C,CAAiBxqC,EAAoB,iBAARD,EAAmBA,EAAM,GAAKA,EAAKzL,GAC1G,SAASo9D,GAAwB/8C,GAC/B,OAAOA,GAAKA,EAAE65B,YAAcr8C,OAAOK,UAAUC,eAAeC,KAAKiiB,EAAG,WAAaA,EAAW,QAAIA,CAClG,CACA,SAASg9C,GAAsB3kB,GAC7B,GAAIA,EAAGwB,WAAY,OAAOxB,EAC1B,IAAI0B,EAAK1B,EAAGtY,QACZ,GAAiB,mBAANga,EAAkB,CAC3B,IAAIC,EAAK,SAASC,IAChB,OAAI77C,gBAAgB67C,EACXC,QAAQC,UAAUJ,EAAIh7C,UAAWX,KAAKC,aAExC07C,EAAG96C,MAAMb,KAAMW,UAC5B,EACIi7C,EAAGn8C,UAAYk8C,EAAGl8C,SACtB,MAASm8C,EAAK,CAAA,EAWZ,OAVAx8C,OAAO0J,eAAe8yC,EAAI,aAAc,CAAEr6C,OAAO,IACjDnC,OAAOwF,KAAKq1C,GAAIluC,QAAQ,SAASizB,GAC/B,IAAI9/B,EAAIE,OAAOw5C,yBAAyBqB,EAAIjb,GAC5C5/B,OAAO0J,eAAe8yC,EAAI5c,EAAG9/B,EAAE6J,IAAM7J,EAAI,CACvC+J,YAAY,EACZF,IAAK,WACH,OAAOkxC,EAAGjb,EACX,GAEP,GACS4c,CACT,CACA,IACIijB,GADAC,GAAqB,CAAE5iB,QAAS,CAAA,GAEpC,SAAS6iB,KACP,GAAIF,GAA+B,OAAOC,GAAmB5iB,QAC7D2iB,GAAgC,EAChC,IAAIj9C,EAAI9hB,OACJI,EAAS,WACX,MAAO,CAAEk8C,kBAAkB,EAAOhB,MAAOx5B,EAAGy6B,KAAMz6B,EAAG06B,IAAK16B,EAAG26B,OAAQ36B,EAAG46B,UAAW56B,EAAG66B,QAAS76B,EAAG86B,OAAQ96B,EAAG+6B,cAAe/6B,EAAGg7B,MAAOh7B,EAAGi7B,IAAKj7B,EAAGk7B,MAAOl7B,EAAGm7B,OAAQn7B,EAAGo7B,KAAMp7B,EAAGq7B,QAASr7B,EAAGs7B,KAAMt7B,EAAGu7B,MAAOv7B,EAAGw7B,KAAMx7B,EAAGy7B,QAASz7B,EAAG07B,MAAO17B,EAAG27B,QAAS37B,EAAG47B,SAAU57B,EAAG67B,OAAQ77B,EAAG87B,UAAW97B,EAAG+7B,OAAQ/7B,EAAGg8B,QAASh8B,EACvT,EAGE,OAFAk9C,GAAmB5iB,QAAUh8C,IAC7B4+D,GAAmB5iB,QAAQ2B,aAAe39C,EACnC4+D,GAAmB5iB,OAC5B,CACA,MAKM8iB,GAA6BJ,GAJax/D,OAAO2+C,OAAuB3+C,OAAO0J,eAAe,CAClGxJ,UAAW,KACXqiC,QAH4B,CAAA,GAI3Bh/B,OAAOq7C,YAAa,CAAEz8C,MAAO,aAEhC,IAAI09D,GACAC,GACJ,SAASC,KACP,GAAID,GAA2B,OAAOD,GACtCC,GAA4B,EAC5B,IAAI9gB,EAAuB2gB,KACvB1gB,EAAoB2gB,GACxB,MAAM1gB,UAAuBr3C,MAC3B,WAAAhH,CAAY0jC,EAAS4a,EAAMC,EAAQpnC,EAAQqnC,EAAMC,GAC/CC,MAAMhb,GACN3jC,KAAK+J,KAAO,iBACZ/J,KAAK4+C,OAASjb,EACV8a,IACFz+C,KAAKy+C,KAAOA,GAEVrnC,IACFpX,KAAKoX,OAASA,GAEZsnC,IACF1+C,KAAK0+C,OAASA,QAEI,IAATH,QAA0C,IAAXC,IACpB,iBAATD,GACTv+C,KAAKu+C,KAAOA,EACZv+C,KAAKw+C,OAASA,IAEdx+C,KAAKu+C,KAAOA,EAAKA,KACjBv+C,KAAKw+C,OAASD,EAAKC,OACnBx+C,KAAK6+C,QAAUL,EAAOD,KACtBv+C,KAAK8+C,UAAYN,EAAOA,SAG5Bx+C,KAAK++C,aACD93C,MAAM+3C,mBACR/3C,MAAM+3C,kBAAkBh/C,KAAMs+C,EAEjC,CACD,UAAAS,GACE/+C,KAAK2jC,QAAU3jC,KAAK0+C,OAAS1+C,KAAK0+C,OAAS,KAAO,GAClD1+C,KAAK2jC,SAAW3jC,KAAKy+C,KAAOz+C,KAAKy+C,KAAO,mBACf,IAAdz+C,KAAKu+C,OACdv+C,KAAK2jC,SAAW,IAAM3jC,KAAKu+C,KAAO,IAAMv+C,KAAKw+C,QAE/Cx+C,KAAK2jC,SAAW,KAAO3jC,KAAK4+C,MAC7B,CACD,cAAAK,CAAeC,GACb,IAAKl/C,KAAKoX,OAAQ,MAAO,GACzB,IAAIymB,EAAM79B,KAAKoX,OACF,MAAT8nC,IAAeA,EAAQd,EAAKhC,kBAC5BiC,GACEa,IAAOrhB,EAAMwgB,EAAkBxgB,IAErC,IAIIshB,EAAMC,EAJNC,EAAQxhB,EAAI3zB,MAAM,SAClBI,EAAQ/E,KAAKse,IAAI7jB,KAAKu+C,KAAO,EAAG,GAChC3zC,EAAMrF,KAAKgjB,IAAIvoB,KAAKu+C,KAAO,EAAGc,EAAMz+C,QACpC0+C,EAAWx/C,OAAO8K,GAAKhK,OAE3B,GAAIs+C,EAAO,CACT,IAAI7C,KAAEA,EAAIe,KAAEA,EAAIP,IAAEA,GAAQuB,EAAKP,cAAa,GAC5CsB,EAAQh1C,GAASkyC,EAAKQ,EAAI1yC,IAC1Bi1C,EAASj1C,GAASizC,EAAKjzC,EAC/B,MACQg1C,EAAOC,EAASjvC,GAAQA,EAE1B,OAAOkvC,EAAMx7C,MAAMyG,EAAOM,GAAK/F,IAAI,CAAC05C,EAAMgB,KACxC,IAAIC,EAASl1C,EAAQ,EAAIi1C,EACrBE,EAAS,KAAO,IAAMD,GAAQ37C,OAAOy7C,GAAY,MACrD,GAAIE,IAAWx/C,KAAKu+C,KAAM,CACxB,IAAImB,EAAUN,EAAMK,EAAOh6C,QAAQ,MAAO,MAAQ84C,EAAK16C,MAAM,EAAG7D,KAAKw+C,OAAS,GAAG/4C,QAAQ,SAAU,KACnG,OAAO05C,EAAK,KAAOC,EAAMK,GAAUlB,EAAO,MAAQmB,EAAUP,EAAK,IAClE,CACD,MAAO,IAAMC,EAAMK,GAAUlB,IAC5Bv4C,KAAK,KACT,CACD,QAAAjB,GACE,IAAIyM,EAAOxR,KAAKi/C,iBAIhB,OAHIztC,IACFA,EAAO,OAASA,EAAO,MAElBxR,KAAK+J,KAAO,KAAO/J,KAAK2jC,QAAUnyB,CAC1C,EAIH,OAFAytD,GAAiB3gB,EACjBA,EAAe3c,QAAU2c,EAClB2gB,EACT,CACA,IACIG,GAQA9C,GACA+C,GA+SAC,GACAC,GAaAxiC,GACAyiC,GAsUAC,GACAC,GAqBAC,GACAC,GA0BAC,GACAC,GAqHA/lC,GACAgmC,GA+MAC,GACAC,GA4TAx0B,GACAy0B,GAeAC,GACAC,GAwXAC,GACAC,GA4BAC,GACAC,GAcAC,GACAC,GAmCA9+D,GACA++D,GAsCAC,GACAC,GAsNAxC,GACAyC,GAwBAzmC,GACA0mC,GAoDAC,GACAC,GAuDAjlD,GACAklD,GA0BAhG,GACAiG,GAmhBAC,GACAC,GAiCAC,GACAC,GAydAC,GACAC,GAmHApO,GACAqO,GAyDAC,GACAC,GAuDAC,GACAC,GAj7GAC,GAAU,CAAA,EAEd,SAASC,KACP,OAAI5C,KACJA,GAAqB,EACrB2C,GAAQ7e,QAAUvgD,OAAO,WACzBo/D,GAAQ5e,GAAKxgD,OAAO,OAHWo/D,EAKjC,CAGA,SAASE,KACP,GAAI5C,GAAwB,OAAO/C,GACnC+C,GAAyB,EACzB,MAAMhc,EAAc,CAClB14C,MAAO,KACP24C,YAAa,KACbC,cAAe,KACfC,WAAY,KACZC,WAAY,IACZC,WAAY,KACZC,MAAO,KACPC,YAAa,IACbC,aAAc,IACdC,UAAW,GACXC,OAAQ,OACRC,WAAW,GAKb,MAAMC,EACJ,WAAAhkD,CAAYikD,GACVlkD,KAAKkkD,QAAUA,CAChB,CACD,MAAAC,CAAOlJ,EAAO+I,GACZ,IAAIj6C,EAAO,IAAMkxC,EAAMlxC,KACnBq6C,EAASnJ,EAAMmJ,OAASpkD,KAAKqkD,SAASpJ,EAAO,UAAY,GAM7D,QALoC,IAAzBA,EAAMqJ,KAAKC,UACpBx6C,GAAQkxC,EAAMqJ,KAAKC,UACVH,IACTr6C,GAAQ,KAENkxC,EAAMuJ,MACRxkD,KAAKykD,MAAMxJ,EAAOlxC,EAAOq6C,OACpB,CACL,IAAIx5C,GAAOqwC,EAAMqJ,KAAKI,SAAW,KAAOV,EAAY,IAAM,IAC1DhkD,KAAKkkD,QAAQn6C,EAAOq6C,EAASx5C,EAAKqwC,EACnC,CACF,CACD,WAAA0J,CAAY1J,EAAO2J,GACjB,IAAIrjD,EAEFA,EADiB,SAAf05C,EAAMnxC,KACA9J,KAAK6kD,IAAI5J,EAAO,KAAM,cACN,YAAfA,EAAMnxC,KACP9J,KAAK6kD,IAAI5J,EAAO,KAAM,iBACV,WAAX2J,EACD5kD,KAAK6kD,IAAI5J,EAAO,KAAM,cAEtBj7C,KAAK6kD,IAAI5J,EAAO,KAAM,eAEhC,IAAI6J,EAAM7J,EAAMxe,OACZsoB,EAAQ,EACZ,KAAOD,GAAoB,SAAbA,EAAIh7C,MAChBi7C,GAAS,EACTD,EAAMA,EAAIroB,OAEZ,GAAIl7B,EAAMwE,SAAS,MAAO,CACxB,IAAIg+C,EAAS/jD,KAAK6kD,IAAI5J,EAAO,KAAM,UACnC,GAAI8I,EAAOnjD,OACT,IAAK,IAAIY,EAAO,EAAGA,EAAOujD,EAAOvjD,IAAQD,GAASwiD,CAErD,CACD,OAAOxiD,CACR,CACD,KAAAkjD,CAAMxJ,EAAO3wC,GACX,IAEIK,EAFA+5C,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,cACzCj7C,KAAKkkD,QAAQ55C,EAAQo6C,EAAU,IAAKzJ,EAAO,SAEvCA,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,QAC7BZ,KAAKgC,KAAKi5C,GACVtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,UAExBtwC,EAAQ3K,KAAK6kD,IAAI5J,EAAO,QAAS,aAE/BtwC,GAAO3K,KAAKkkD,QAAQv5C,GACxB3K,KAAKkkD,QAAQ,IAAKjJ,EAAO,MAC1B,CACD,IAAAj5C,CAAKi5C,GACH,IAAI+J,EAAO/J,EAAMuJ,MAAM5jD,OAAS,EAChC,KAAOokD,EAAO,GACmB,YAA3B/J,EAAMuJ,MAAMQ,GAAMl7C,MACtBk7C,GAAQ,EAEV,IAAIhB,EAAYhkD,KAAK6kD,IAAI5J,EAAO,aAChC,IAAK,IAAI/3B,EAAK,EAAGA,EAAK+3B,EAAMuJ,MAAM5jD,OAAQsiB,IAAM,CAC9C,IAAIyZ,EAAQse,EAAMuJ,MAAMthC,GACpBxY,EAAS1K,KAAK6kD,IAAIloB,EAAO,UACzBjyB,GAAQ1K,KAAKkkD,QAAQx5C,GACzB1K,KAAK8K,UAAU6xB,EAAOqoB,IAAS9hC,GAAM8gC,EACtC,CACF,CACD,OAAAvY,CAAQwP,GACN,IAAIgK,EAAOjlD,KAAK6kD,IAAI5J,EAAO,OAAQ,eAC/BiK,EAAQllD,KAAK6kD,IAAI5J,EAAO,QAAS,gBACrCj7C,KAAKkkD,QAAQ,KAAOe,EAAOhK,EAAM9wC,KAAO+6C,EAAQ,KAAMjK,EACvD,CACD,IAAAkK,CAAKlK,EAAO+I,GACV,IAAIU,EAAU1kD,KAAK6kD,IAAI5J,EAAO,UAAW,SACrCmK,EAASnK,EAAMhsB,KAAOy1B,EAAU1kD,KAAKqkD,SAASpJ,EAAO,SACrDA,EAAMoK,YACRD,GAAUnK,EAAMqJ,KAAKe,WAAa,eAEhCrB,IAAWoB,GAAU,KACzBplD,KAAKkkD,QAAQkB,EAAQnK,EACtB,CACD,QAAA36B,CAAS26B,GACPj7C,KAAKgC,KAAKi5C,EACX,CACD,GAAA4J,CAAI5J,EAAOqK,EAAKV,GACd,IAAIrjD,EAEJ,GADKqjD,IAAQA,EAASU,GAClBA,IACF/jD,EAAQ05C,EAAMqJ,KAAKgB,QACE,IAAV/jD,GAAuB,OAAOA,EAE3C,IAAIk7B,EAASwe,EAAMxe,OACnB,GAAe,WAAXmoB,EAAqB,CACvB,IAAKnoB,GAA0B,SAAhBA,EAAO3yB,MAAmB2yB,EAAO8oB,QAAUtK,EACxD,MAAO,GAET,GAAIxe,GAA0B,aAAhBA,EAAO3yB,KACnB,MAAO,EAEV,CACD,IAAK2yB,EAAQ,OAAO4mB,EAAYuB,GAChC,IAAIY,EAAQvK,EAAM5gB,OAElB,GADKmrB,EAAMC,WAAUD,EAAMC,SAAW,CAAA,QACA,IAA3BD,EAAMC,SAASb,GACxB,OAAOY,EAAMC,SAASb,GAExB,GAAe,WAAXA,GAAkC,UAAXA,EACzB,OAAO5kD,KAAK2kD,YAAY1J,EAAO2J,GAC1B,CACL,IAAIjwC,EAAS,QApHCxE,EAoHkBy0C,GAnHzB,GAAGc,cAAgBv1C,EAAItM,MAAM,IAoHhC7D,KAAK2U,GACPpT,EAAQvB,KAAK2U,GAAQ6wC,EAAOvK,GAE5BuK,EAAMG,KAAMziC,IAEV,GADA3hB,EAAQ2hB,EAAGohC,KAAKgB,QACK,IAAV/jD,EAAuB,OAAO,GAG9C,CA7HL,IAAoB4O,EAgIhB,YAFqB,IAAV5O,IAAuBA,EAAQ8hD,EAAYuB,IACtDY,EAAMC,SAASb,GAAUrjD,EAClBA,CACR,CACD,cAAAqkD,CAAeJ,GACb,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,OAAS,QACH,IAAlBsiB,EAAGohC,KAAK35C,MAKjB,OAJApJ,EAAQ2hB,EAAGohC,KAAK35C,MACZpJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,gBAAAskD,CAAiBL,EAAOvK,GACtB,IAAI15C,EAeJ,OAdAikD,EAAMM,aAAc5iC,IAClB,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAAwkD,CAAcP,EAAOvK,GACnB,IAAI15C,EAeJ,OAdAikD,EAAMQ,UAAW9iC,IACf,QAA8B,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,SAGU,IAAVlE,EACTA,EAAQvB,KAAK6kD,IAAI5J,EAAO,KAAM,cACrB15C,IACTA,EAAQA,EAAMkE,QAAQ,MAAO,KAExBlE,CACR,CACD,aAAA0kD,CAAcT,GACZ,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAgB,SAAZA,EAAGpZ,OACLvI,EAAQ2hB,EAAGohC,KAAKI,aACK,IAAVnjD,GAAuB,OAAO,IAGtCA,CACR,CACD,aAAA2kD,CAAcV,GACZ,IAAIjkD,EAaJ,OAZAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,QAAUthC,EAAGuZ,SAAW+oB,GAASA,EAAMD,QAAUriC,SACxB,IAAnBA,EAAGohC,KAAK55C,OAKjB,OAJAnJ,EAAQ2hB,EAAGohC,KAAK55C,OACZnJ,EAAMwE,SAAS,QACjBxE,EAAQA,EAAMkE,QAAQ,UAAW,MAE5B,IAITlE,IAAOA,EAAQA,EAAMkE,QAAQ,MAAO,KACjClE,CACR,CACD,QAAA4kD,CAASX,GACP,IAAIjkD,EAOJ,OANAikD,EAAMQ,UAAW9iC,IACf,QAA+B,IAApBA,EAAGohC,KAAKI,QAEjB,OADAnjD,EAAQ2hB,EAAGohC,KAAKI,QAAQj/C,QAAQ,UAAW,KACpC,IAGJlE,CACR,CACD,YAAA6kD,CAAaZ,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAA6B,IAApBthC,EAAGshC,MAAM5jD,SACvBW,EAAQ2hB,EAAGohC,KAAK35C,WACK,IAAVpJ,GAAuB,OAAO,IAGtCA,CACR,CACD,SAAA8kD,CAAUb,GACR,GAAIA,EAAMlB,KAAKP,OAAQ,OAAOyB,EAAMlB,KAAKP,OACzC,IAAIxiD,EAYJ,OAXAikD,EAAMG,KAAMziC,IACV,IAAI1jB,EAAI0jB,EAAGuZ,OACX,GAAIj9B,GAAKA,IAAMgmD,GAAShmD,EAAEi9B,QAAUj9B,EAAEi9B,SAAW+oB,QACjB,IAAnBtiC,EAAGohC,KAAK55C,OAAwB,CACzC,IAAI47C,EAAQpjC,EAAGohC,KAAK55C,OAAOR,MAAM,MAGjC,OAFA3I,EAAQ+kD,EAAMA,EAAM1lD,OAAS,GAC7BW,EAAQA,EAAMkE,QAAQ,MAAO,KACtB,CACR,IAGElE,CACR,CACD,YAAAglD,CAAaf,GACX,IAAIjkD,EAOJ,OANAikD,EAAMG,KAAMziC,IACV,GAAIA,EAAGshC,OAASthC,EAAGshC,MAAM5jD,QAA2B,SAAjBsiB,EAAG8hC,KAAKl7C,OACzCvI,EAAQ2hB,EAAGohC,KAAKN,eACK,IAAVziD,GAAuB,OAAO,IAGtCA,CACR,CACD,QAAA8iD,CAASpJ,EAAOhsB,GACd,IAAI1tB,EAAQ05C,EAAMhsB,GACd41B,EAAM5J,EAAMqJ,KAAKr1B,GACrB,OAAI41B,GAAOA,EAAItjD,QAAUA,EAChBsjD,EAAIA,IAENtjD,CACR,CACD,IAAA84B,CAAK4gB,GACHj7C,KAAKgC,KAAKi5C,GACNA,EAAMqJ,KAAK35C,OAAO3K,KAAKkkD,QAAQjJ,EAAMqJ,KAAK35C,MAC/C,CACD,IAAAqR,CAAKi/B,GACHj7C,KAAKykD,MAAMxJ,EAAOj7C,KAAKqkD,SAASpJ,EAAO,aACnCA,EAAMqJ,KAAKkC,cACbxmD,KAAKkkD,QAAQjJ,EAAMqJ,KAAKkC,aAAcvL,EAAO,MAEhD,CACD,SAAAnwC,CAAUmwC,EAAO+I,GACf,IAAKhkD,KAAKi7C,EAAMnxC,MACd,MAAM,IAAI7C,MACR,yBAA2Bg0C,EAAMnxC,KAAO,mDAG5C9J,KAAKi7C,EAAMnxC,MAAMmxC,EAAO+I,EACzB,EAIH,OAFAsY,GAAcrY,EACdA,EAAYtiB,QAAUsiB,EACfqY,EACT,CAGA,SAAS4F,KACP,GAAI3C,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAAItb,EAAcge,KAClB,SAASn3D,EAAUmwC,EAAOiJ,GACd,IAAID,EAAYC,GACtBp5C,UAAUmwC,EACf,CAGD,OAFAqkB,GAAcx0D,EACdA,EAAU62B,QAAU72B,EACbw0D,EACT,CAGA,SAAS6C,KACP,GAAI3C,GAAiB,OAAOziC,GAC5ByiC,GAAkB,EAClB,IAAItc,QAAEA,EAAOC,GAAEA,GAAO6e,KAClB1jB,EAAiB6gB,KACjBlb,EAAcge,KACdn3D,EAAYo3D,KAChB,SAAStb,EAAU35C,EAAKwvB,GACtB,IAAIoqB,EAAS,IAAI55C,EAAIhN,YACrB,IAAK,IAAIijB,KAAMjW,EAAK,CAClB,IAAK7N,OAAOK,UAAUC,eAAeC,KAAKsN,EAAKiW,GAC7C,SAEF,GAAW,eAAPA,EAAqB,SACzB,IAAI3hB,EAAQ0L,EAAIiW,GACZpZ,SAAcvI,EACP,WAAP2hB,GAA4B,WAATpZ,EACjB2yB,IAAQoqB,EAAO3jC,GAAMuZ,GACT,WAAPvZ,EACT2jC,EAAO3jC,GAAM3hB,EACJhC,MAAMmN,QAAQnL,GACvBslD,EAAO3jC,GAAM3hB,EAAMsD,IAAK0c,GAAMqlC,EAAUrlC,EAAGslC,KAE9B,WAAT/8C,GAA+B,OAAVvI,IAAgBA,EAAQqlD,EAAUrlD,IAC3DslD,EAAO3jC,GAAM3hB,EAEhB,CACD,OAAOslD,CACR,CACD,MAAMC,EACJ,WAAA7mD,CAAYm6B,EAAW,IACrBp6B,KAAKskD,KAAO,GACZtkD,KAAKkjD,IAAW,EAChBljD,KAAKmjD,IAAM,EACX,IAAK,IAAIp5C,KAAQqwB,EACf,GAAa,UAATrwB,EAAkB,CACpB/J,KAAKwkD,MAAQ,GACb,IAAK,IAAIvJ,KAAS7gB,EAASrwB,GACE,mBAAhBkxC,EAAM8L,MACf/mD,KAAKgZ,OAAOiiC,EAAM8L,SAElB/mD,KAAKgZ,OAAOiiC,EAG1B,MACUj7C,KAAK+J,GAAQqwB,EAASrwB,EAG3B,CACD,UAAAi9C,CAAWzjD,GAET,GADAA,EAAM0jD,YAAcjnD,KAChBuD,EAAM0G,OAASjK,KAAKoX,QAAU,aAAa8E,KAAK3Y,EAAM0G,OAAQ,CAChE,IAAIi9C,EAAKlnD,KAAKoX,OACd7T,EAAM0G,MAAQ1G,EAAM0G,MAAMxE,QACxB,aACA,KAAKyhD,EAAGntB,MAAMr2B,QAAQwjD,EAAG58C,MAAMi0C,QAAQ2I,EAAG58C,MAAMk0C,WAEnD,CACD,OAAOj7C,CACR,CACD,KAAAoH,CAAM8E,GAEJ,OADAzP,KAAKy8B,OAAO0qB,YAAYnnD,KAAMyP,GACvBzP,IACR,CACD,MAAAM,CAAO8mD,EAAY,IACjB,IAAK,IAAIr9C,KAAQq9C,EACfpnD,KAAK+J,GAAQq9C,EAAUr9C,GAEzB,OAAO/J,IACR,CACD,MAAA0K,CAAO+E,GAEL,OADAzP,KAAKy8B,OAAO4qB,aAAarnD,KAAMyP,GACxBzP,IACR,CACD,SAAAsnD,CAAUC,UACDvnD,KAAKskD,KAAK55C,cACV1K,KAAKskD,KAAK35C,MACZ48C,UAAoBvnD,KAAKskD,KAAKI,OACpC,CACD,KAAAqC,CAAMK,EAAY,IAChB,IAAIP,EAASD,EAAU5mD,MACvB,IAAK,IAAI+J,KAAQq9C,EACfP,EAAO98C,GAAQq9C,EAAUr9C,GAE3B,OAAO88C,CACR,CACD,UAAAW,CAAWJ,EAAY,IACrB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO0qB,YAAYnnD,KAAM6mD,GACvBA,CACR,CACD,WAAAY,CAAYL,EAAY,IACtB,IAAIP,EAAS7mD,KAAK+mD,MAAMK,GAExB,OADApnD,KAAKy8B,OAAO4qB,aAAarnD,KAAM6mD,GACxBA,CACR,CACD,KAAAtjD,CAAMogC,EAASva,EAAO,IACpB,GAAIppB,KAAKoX,OAAQ,CACf,IAAIxM,IAAEA,EAAGN,MAAEA,GAAUtK,KAAK0nD,QAAQt+B,GAClC,OAAOppB,KAAKoX,OAAO2iB,MAAMx2B,MACvBogC,EACA,CAAE6a,OAAQl0C,EAAMk0C,OAAQD,KAAMj0C,EAAMi0C,MACpC,CAAEC,OAAQ5zC,EAAI4zC,OAAQD,KAAM3zC,EAAI2zC,MAChCn1B,EAEH,CACD,OAAO,IAAIk1B,EAAe3a,EAC3B,CACD,iBAAAgkB,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACW,SAAThsB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UAEnB3M,EAAMhsB,GAGjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,UAATA,GAA6B,SAATA,GAA4B,WAATA,GAA8B,cAATA,GAC1E,SAATA,GACEgsB,EAAM4M,cAJ0B,GASvC,CACD,SAAAA,GACE,GAAI7nD,KAAKkjD,GAAU,CACjBljD,KAAKkjD,IAAW,EAChB,IAAIzhD,EAAOzB,KACX,KAAOyB,EAAOA,EAAKg7B,QACjBh7B,EAAKyhD,IAAW,CAEnB,CACF,CACD,IAAAzhD,GACE,IAAKzB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,UAAAuI,CAAW1+B,EAAM2+B,GACf,IAAItjC,EAAMzkB,KAAKoX,OAAO9M,MACtB,GAAI8e,EAAKtkB,MACP2f,EAAMzkB,KAAKgoD,eAAe5+B,EAAKtkB,MAAOijD,QACjC,GAAI3+B,EAAK6+B,KAAM,CAEpB,IAAI1I,GADJwI,EAAuB/nD,KAAK+E,YACMmjD,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IAAe96B,EAAMzkB,KAAKgoD,eAAezI,EAAQwI,GACtD,CACD,OAAOtjC,CACR,CACD,cAAAujC,CAAezI,EAAQwI,GACrB,IAAI3C,EAAS2C,GAAwB/nD,KAAK+E,WACtCy5C,EAASx+C,KAAKoX,OAAO9M,MAAMk0C,OAC3BD,EAAOv+C,KAAKoX,OAAO9M,MAAMi0C,KAC7B,IAAK,IAAIr7B,EAAK,EAAGA,EAAKq8B,EAAQr8B,IACT,OAAfkiC,EAAOliC,IACTs7B,EAAS,EACTD,GAAQ,GAERC,GAAU,EAGd,MAAO,CAAEA,SAAQD,OAClB,CACD,IAAA/2B,GACE,IAAKxnB,KAAKy8B,OAAQ,OAClB,IAAI8iB,EAASv/C,KAAKy8B,OAAO33B,MAAM9E,MAC/B,OAAOA,KAAKy8B,OAAO+nB,MAAMjF,EAAS,EACnC,CACD,OAAAmI,CAAQt+B,GACN,IAAI9e,EAAQ,CACVk0C,OAAQx+C,KAAKoX,OAAO9M,MAAMk0C,OAC1BD,KAAMv+C,KAAKoX,OAAO9M,MAAMi0C,MAEtB3zC,EAAM5K,KAAKoX,OAAOxM,IAAM,CAC1B4zC,OAAQx+C,KAAKoX,OAAOxM,IAAI4zC,OAAS,EACjCD,KAAMv+C,KAAKoX,OAAOxM,IAAI2zC,MACpB,CACFC,OAAQl0C,EAAMk0C,OAAS,EACvBD,KAAMj0C,EAAMi0C,MAEd,GAAIn1B,EAAK6+B,KAAM,CACb,IAAIF,EAAuB/nD,KAAK+E,WAC5Bw6C,EAASwI,EAAqBG,QAAQ9+B,EAAK6+B,OAC/B,IAAZ1I,IACFj1C,EAAQtK,KAAKgoD,eAAezI,EAAQwI,GACpCn9C,EAAM5K,KAAKgoD,eAAezI,EAASn2B,EAAK6+B,KAAKrnD,OAAQmnD,GAE/D,MACY3+B,EAAK9e,MACPA,EAAQ,CACNk0C,OAAQp1B,EAAK9e,MAAMk0C,OACnBD,KAAMn1B,EAAK9e,MAAMi0C,MAEVn1B,EAAKtkB,QACdwF,EAAQtK,KAAKgoD,eAAe5+B,EAAKtkB,QAE/BskB,EAAKxe,IACPA,EAAM,CACJ4zC,OAAQp1B,EAAKxe,IAAI4zC,OACjBD,KAAMn1B,EAAKxe,IAAI2zC,MAEiB,iBAAlBn1B,EAAK++B,SACrBv9C,EAAM5K,KAAKgoD,eAAe5+B,EAAK++B,UACtB/+B,EAAKtkB,QACd8F,EAAM5K,KAAKgoD,eAAe5+B,EAAKtkB,MAAQ,IAM3C,OAHI8F,EAAI2zC,KAAOj0C,EAAMi0C,MAAQ3zC,EAAI2zC,OAASj0C,EAAMi0C,MAAQ3zC,EAAI4zC,QAAUl0C,EAAMk0C,UAC1E5zC,EAAM,CAAE4zC,OAAQl0C,EAAMk0C,OAAS,EAAGD,KAAMj0C,EAAMi0C,OAEzC,CAAE3zC,MAAKN,QACf,CACD,GAAAu6C,CAAI51B,EAAMm5B,GAER,OADU,IAAInE,GACHY,IAAI7kD,KAAMivB,EAAMm5B,EAC5B,CACD,MAAAC,GAKE,OAJIroD,KAAKy8B,QACPz8B,KAAKy8B,OAAO4c,YAAYr5C,MAE1BA,KAAKy8B,YAAS,EACPz8B,IACR,CACD,WAAAsoD,IAAe9D,GACb,GAAIxkD,KAAKy8B,OAAQ,CACf,IAAI8rB,EAAWvoD,KACXwoD,GAAY,EAChB,IAAK,IAAIvN,KAASuJ,EACZvJ,IAAUj7C,KACZwoD,GAAY,EACHA,GACTxoD,KAAKy8B,OAAO0qB,YAAYoB,EAAUtN,GAClCsN,EAAWtN,GAEXj7C,KAAKy8B,OAAO4qB,aAAakB,EAAUtN,GAGlCuN,GACHxoD,KAAKqoD,QAER,CACD,OAAOroD,IACR,CACD,IAAAq6B,GACE,IAAIouB,EAAUzoD,KACd,KAAOyoD,EAAQhsB,QAAkC,aAAxBgsB,EAAQhsB,OAAO3yB,MACtC2+C,EAAUA,EAAQhsB,OAEpB,OAAOgsB,CACR,CACD,MAAAC,CAAOvmD,EAAGwmD,GACR,IAAIC,EAAQ,CAAA,EACRC,EAAuB,MAAVF,EACjBA,EAASA,GAA0B,IAAI52B,IACvC,IAAI+2B,EAAkB,EACtB,IAAK,IAAI/+C,KAAQ/J,KAAM,CACrB,IAAKZ,OAAOK,UAAUC,eAAeC,KAAKK,KAAM+J,GAC9C,SAEF,GAAa,WAATA,GAA8B,eAATA,EAAuB,SAChD,IAAIxI,EAAQvB,KAAK+J,GACjB,GAAIxK,MAAMmN,QAAQnL,GAChBqnD,EAAM7+C,GAAQxI,EAAMsD,IAAKqe,GACL,iBAAPA,GAAmBA,EAAGwlC,OACxBxlC,EAAGwlC,OAAO,KAAMC,GAEhBzlC,QAGN,GAAqB,iBAAV3hB,GAAsBA,EAAMmnD,OAC5CE,EAAM7+C,GAAQxI,EAAMmnD,OAAO,KAAMC,QAC5B,GAAa,WAAT5+C,EAAmB,CAC5B,IAAIg/C,EAAUJ,EAAO5/C,IAAIxH,EAAMw4B,OAChB,MAAXgvB,IACFA,EAAUD,EACVH,EAAO3/C,IAAIzH,EAAMw4B,MAAO+uB,GACxBA,KAEFF,EAAM7+C,GAAQ,CACZa,IAAKrJ,EAAMqJ,IACXm+C,UACAz+C,MAAO/I,EAAM+I,MAEzB,MACUs+C,EAAM7+C,GAAQxI,CAEjB,CAID,OAHIsnD,IACFD,EAAMD,OAAS,IAAIA,EAAO/jD,QAAQC,IAAKmkD,GAAWA,EAAON,WAEpDE,CACR,CACD,OAAAhB,GAIE,OAHK5nD,KAAKipD,aACRjpD,KAAKipD,WAAa,IAAIt4B,MAAM3wB,KAAMA,KAAK2nD,sBAElC3nD,KAAKipD,UACb,CACD,QAAAlkD,CAASmkD,EAAep+C,GAClBo+C,EAAap+C,YAAWo+C,EAAeA,EAAap+C,WACxD,IAAI29C,EAAU,GAId,OAHAS,EAAalpD,KAAOkjB,IAClBulC,GAAWvlC,IAENulC,CACR,CACD,IAAAzhD,CAAKyhD,EAASt+C,EAAMif,GAClB,IAAID,EAAO,CAAE4T,KAAM/8B,MACnB,IAAK,IAAIkjB,KAAMkG,EAAMD,EAAKjG,GAAMkG,EAAKlG,GACrC,OAAOulC,EAAQzhD,KAAKmD,EAAMgf,EAC3B,CACD,WAAIggC,GACF,OAAOnpD,IACR,EAIH,OAFA+8B,GAAO+pB,EACPA,EAAMnlB,QAAUmlB,EACT/pB,EACT,CAGA,SAASqlC,KACP,GAAI1C,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAI5Y,EAAQqb,KACZ,MAAM9Y,UAAoBvC,EACxB,WAAA7mD,CAAYm6B,GACNA,QAAsC,IAAnBA,EAAS74B,OAAmD,iBAAnB64B,EAAS74B,QACvE64B,EAAW,IAAKA,EAAU74B,MAAOzB,OAAOs6B,EAAS74B,SAEnDo9C,MAAMvkB,GACNp6B,KAAK8J,KAAO,MACb,CACD,YAAIw/C,GACF,OAAOtpD,KAAKivB,KAAKxU,WAAW,OAA0B,MAAjBza,KAAKivB,KAAK,EAChD,EAIH,OAFAwwC,GAAcpW,EACdA,EAAY1nB,QAAU0nB,EACfoW,EACT,CAGA,SAAS4C,KACP,GAAIzC,GAAsB,OAAOD,GACjCC,GAAuB,EAqBvB,OADAD,GAAY,CAAEnW,OARD,CAACp7B,EAAO,MACnB,IAAIlY,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAfc,mEAeoB,GAAhB3Q,KAAKC,SAAgB,GAEzC,OAAO0Q,GAEauzC,eAlBD,CAACC,EAAUC,EAAc,KACrC,CAACv7B,EAAOu7B,KACb,IAAIzzC,EAAK,GACLgN,EAAKkL,EACT,KAAOlL,KACLhN,GAAMwzC,EAASnkD,KAAKC,SAAWkkD,EAAS9oD,OAAS,GAEnD,OAAOsV,IAYJypD,EACT,CAGA,SAAS2C,KACP,GAAIxC,GAAwB,OAAOD,GACnCC,GAAyB,EACzB,IAAIjW,kBAAEA,EAAiBC,mBAAEA,GAAuBkV,IAC5CjV,WAAEA,EAAUC,aAAEA,GAAiBgV,IAC/B/U,QAAEA,EAAOjkD,KAAEA,GAASg5D,GAQxB,MAAM9U,EACJ,WAAAjqD,CAAY49B,EAAKzU,GACf,IAAiB,IAAbA,EAAKvkB,IAAe,OACxB7E,KAAKmqD,eAAetsB,GACpB79B,KAAKoqD,OAASpqD,KAAKqqD,UAAUrqD,KAAKsqD,WAAY,SAC9C,IAAI9iC,EAAO4B,EAAKvkB,IAAMukB,EAAKvkB,IAAI2iB,UAAO,EAClCrd,EAAOnK,KAAKuqD,QAAQnhC,EAAK1lB,KAAM8jB,IAC9BxnB,KAAKwqD,SAAWphC,EAAK1lB,OACxB1D,KAAKwqD,QAAUphC,EAAK1lB,MAElB1D,KAAKwqD,UAASxqD,KAAKq6B,KAAO4vB,EAAQjqD,KAAKwqD,UACvCrgD,IAAMnK,KAAKmK,KAAOA,EACvB,CACD,QAAAsgD,GAIE,OAHKzqD,KAAK0qD,gBACR1qD,KAAK0qD,cAAgB,IAAIb,EAAkB7pD,KAAKmK,OAE3CnK,KAAK0qD,aACb,CACD,YAAAC,CAAaxgD,GAKX,GAFiB,0CAEF+R,KAAK/R,IADV,2BACuB+R,KAAK/R,GACpC,OAAOygD,mBAAmBzgD,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,SAEzD,GAPqB,iDAOFsb,KAAK/R,IANV,kCAM2B+R,KAAK/R,GAC5C,OAnCcgG,EAmCIhG,EAAK0gD,OAAOnvC,OAAOovC,UAAUlqD,QAlC/CmqD,OACKA,OAAOrnD,KAAKyM,EAAK,UAAUpL,WAE3BP,OAAOwmD,KAAK76C,GAJvB,IAAoBA,EAqChB,IAAI86C,EAAW9gD,EAAKynC,MAAM,mCAAmC,GAC7D,MAAM,IAAI3qC,MAAM,mCAAqCgkD,EACtD,CACD,gBAAAC,CAAiBC,GACf,OAAOA,EAAgB1lD,QAAQ,8BAA+B,IAAI2E,MACnE,CACD,KAAAghD,CAAMvmD,GACJ,MAAmB,iBAARA,IACoB,iBAAjBA,EAAIwmD,UAAkD,iBAAlBxmD,EAAIymD,WAA0B/rD,MAAMmN,QAAQ7H,EAAI0mD,UACnG,CACD,cAAApB,CAAetsB,GACb,IAAI2tB,EAAW3tB,EAAI+T,MAAM,gCACzB,IAAK4Z,EAAU,OACf,IAAIlhD,EAAQuzB,EAAI4tB,YAAYD,EAASzoD,OACjC6H,EAAMizB,EAAIqqB,QAAQ,KAAM59C,GACxBA,GAAS,GAAKM,GAAO,IACvB5K,KAAKsqD,WAAatqD,KAAKkrD,iBAAiBrtB,EAAI/oB,UAAUxK,EAAOM,IAEhE,CACD,QAAA8gD,CAAStwB,GAEP,GADAp7B,KAAKq6B,KAAO4vB,EAAQ7uB,GAChB2uB,EAAW3uB,GAEb,OADAp7B,KAAKwqD,QAAUpvB,EACR4uB,EAAa5uB,EAAM,SAASr2B,WAAWqF,MAEjD,CACD,OAAAmgD,CAAQ9L,EAAMj3B,GACZ,IAAa,IAATA,EAAgB,OAAO,EAC3B,GAAIA,EAAM,CACR,GAAoB,iBAATA,EACT,OAAOA,EACF,GAAoB,mBAATA,EAWX,IAAIA,aAAgBqiC,EACzB,OAAOC,EAAmB6B,cAAcnkC,GAAMziB,WACzC,GAAIyiB,aAAgBsiC,EACzB,OAAOtiC,EAAKziB,WACP,GAAI/E,KAAKorD,MAAM5jC,GACpB,OAAO3c,KAAKC,UAAU0c,GAEtB,MAAM,IAAIvgB,MACR,2CAA6CugB,EAAKziB,WAErD,CArBsC,CACrC,IAAI6mD,EAAWpkC,EAAKi3B,GACpB,GAAImN,EAAU,CACZ,IAAI/mD,EAAM7E,KAAK0rD,SAASE,GACxB,IAAK/mD,EACH,MAAM,IAAIoC,MACR,uCAAyC2kD,EAAS7mD,YAGtD,OAAOF,CACR,CACX,CAWA,KAAa,IAAI7E,KAAKoqD,OACd,OAAOpqD,KAAK2qD,aAAa3qD,KAAKsqD,YACzB,GAAItqD,KAAKsqD,WAAY,CAC1B,IAAIzlD,EAAM7E,KAAKsqD,WAEf,OADI7L,IAAM55C,EAAMmB,EAAKikD,EAAQxL,GAAO55C,IAC7B7E,KAAK0rD,SAAS7mD,EACtB,EACF,CACD,SAAAwlD,CAAUjF,EAAQ96C,GAChB,QAAK86C,GACEA,EAAOyF,OAAO,EAAGvgD,EAAM1J,UAAY0J,CAC3C,CACD,WAAAuhD,GACE,SAAU7rD,KAAKyqD,WAAWqB,gBAAkB9rD,KAAKyqD,WAAWqB,eAAelrD,OAAS,EACrF,EAIH,OAFAi/D,GAAc3V,EACdA,EAAYvoB,QAAUuoB,EACf2V,EACT,CAGA,SAAS0C,KACP,GAAIxC,GAAkB,OAAOhmC,GAC7BgmC,GAAmB,EACnB,IAAIlW,kBAAEA,EAAiBC,mBAAEA,GAAuBkV,IAC5ChT,cAAEA,EAAaC,cAAEA,GAAkB+S,IACnC9S,WAAEA,EAAU9qD,QAAEA,GAAY49D,IAC1BxV,OAAEA,GAA2B6Y,KAC7BhkB,EAAoB2gB,GACpB1gB,EAAiB6gB,KACjBjV,EAAcoY,KACdnW,EAAkBxpD,OAAO,mBACzBypD,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ/zC,GAAW8qD,GACvC,MAAMI,EACJ,WAAArsD,CAAY49B,EAAKzU,EAAO,IACtB,GAAIyU,SAA6D,iBAARA,IAAqBA,EAAI94B,SAChF,MAAM,IAAIkC,MAAM,oBAAoB42B,2BAgBtC,GAdA79B,KAAK69B,IAAMA,EAAI94B,WACK,WAAhB/E,KAAK69B,IAAI,IAAmC,MAAhB79B,KAAK69B,IAAI,IACvC79B,KAAKusD,QAAS,EACdvsD,KAAK69B,IAAM79B,KAAK69B,IAAIh6B,MAAM,IAE1B7D,KAAKusD,QAAS,EAEZnjC,EAAK1lB,QACF2oD,GAAiB,YAAYnwC,KAAKkN,EAAK1lB,OAASwoD,EAAW9iC,EAAK1lB,MACnE1D,KAAKy+C,KAAOr1B,EAAK1lB,KAEjB1D,KAAKy+C,KAAOr9C,EAAQgoB,EAAK1lB,OAGzB2oD,GAAiBD,EAAoB,CACvC,IAAIvnD,EAAM,IAAIqlD,EAAYlqD,KAAK69B,IAAKzU,GACpC,GAAIvkB,EAAIsF,KAAM,CACZnK,KAAK6E,IAAMA,EACX,IAAI45C,EAAO55C,EAAI4lD,WAAWhM,MACrBz+C,KAAKy+C,MAAQA,IAAMz+C,KAAKy+C,KAAOz+C,KAAKwsD,WAAW/N,GACrD,CACF,CACIz+C,KAAKy+C,OACRz+C,KAAKkW,GAAK,cAAgBszC,EAAO,GAAK,KAEpCxpD,KAAK6E,MAAK7E,KAAK6E,IAAI45C,KAAOz+C,KAAK0D,KACpC,CACD,KAAAH,CAAMogC,EAAS4a,EAAMC,EAAQp1B,EAAO,CAAA,GAClC,IAAIq/B,EAAS5J,EAASC,EACtB,GAAIP,GAAwB,iBAATA,EAAmB,CACpC,IAAIj0C,EAAQi0C,EACR3zC,EAAM4zC,EACV,GAA4B,iBAAjBl0C,EAAMmiD,OAAqB,CACpC,IAAIhoC,EAAMzkB,KAAK0sD,WAAWpiD,EAAMmiD,QAChClO,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACvB,MACUpO,EAAOj0C,EAAMi0C,KACbC,EAASl0C,EAAMk0C,OAEjB,GAA0B,iBAAf5zC,EAAI6hD,OAAqB,CAClC,IAAIhoC,EAAMzkB,KAAK0sD,WAAW9hD,EAAI6hD,QAC9B5N,EAAUp6B,EAAI85B,KACdO,EAAYr6B,EAAIkoC,GAC1B,MACU9N,EAAUj0C,EAAI2zC,KACdO,EAAYl0C,EAAI4zC,MAE1B,MAAa,IAAKA,EAAQ,CAClB,IAAI/5B,EAAMzkB,KAAK0sD,WAAWnO,GAC1BA,EAAO95B,EAAI85B,KACXC,EAAS/5B,EAAIkoC,GACd,CACD,IAAIC,EAAS5sD,KAAK4sD,OAAOrO,EAAMC,EAAQK,EAASC,GA2BhD,OAzBE2J,EADEmE,EACQ,IAAItO,EACZ3a,OACmB,IAAnBipB,EAAO/N,QAAqB+N,EAAOrO,KAAO,CAAEC,OAAQoO,EAAOpO,OAAQD,KAAMqO,EAAOrO,WAC7D,IAAnBqO,EAAO/N,QAAqB+N,EAAOpO,OAAS,CAAEA,OAAQoO,EAAO9N,UAAWP,KAAMqO,EAAO/N,SACrF+N,EAAOx1C,OACPw1C,EAAOnO,KACPr1B,EAAKs1B,QAGG,IAAIJ,EACZ3a,OACY,IAAZkb,EAAqBN,EAAO,CAAEC,SAAQD,aAC1B,IAAZM,EAAqBL,EAAS,CAAEA,OAAQM,EAAWP,KAAMM,GACzD7+C,KAAK69B,IACL79B,KAAKy+C,KACLr1B,EAAKs1B,QAGT+J,EAAQ1uB,MAAQ,CAAEykB,SAAQM,YAAWD,UAASN,OAAMnnC,OAAQpX,KAAK69B,KAC7D79B,KAAKy+C,OACHwN,IACFxD,EAAQ1uB,MAAMzM,IAAM2+B,EAAcjsD,KAAKy+C,MAAM15C,YAE/C0jD,EAAQ1uB,MAAM0kB,KAAOz+C,KAAKy+C,MAErBgK,CACR,CACD,UAAAiE,CAAWD,GACT,IAAII,EAAUC,EACd,GAAK9sD,KAAKmsD,GAURW,EAAc9sD,KAAKmsD,OAVO,CAC1B,IAAI9M,EAAQr/C,KAAK69B,IAAI3zB,MAAM,MAC3B4iD,EAAc,IAAIvtD,MAAM8/C,EAAMz+C,QAC9B,IAAImsD,EAAY,EAChB,IAAK,IAAI7pC,EAAK,EAAG8pC,EAAK3N,EAAMz+C,OAAQsiB,EAAK8pC,EAAI9pC,IAC3C4pC,EAAY5pC,GAAM6pC,EAClBA,GAAa1N,EAAMn8B,GAAItiB,OAAS,EAElCZ,KAAKmsD,GAAmBW,CAChC,CAGMD,EAAWC,EAAYA,EAAYlsD,OAAS,GAC5C,IAAI2nB,EAAM,EACV,GAAIkkC,GAAUI,EACZtkC,EAAMukC,EAAYlsD,OAAS,MACtB,CACL,IACIqsD,EADAppC,EAAMipC,EAAYlsD,OAAS,EAE/B,KAAO2nB,EAAM1E,GAEX,GADAopC,EAAM1kC,GAAO1E,EAAM0E,GAAO,GACtBkkC,EAASK,EAAYG,GACvBppC,EAAMopC,EAAM,MACP,MAAIR,GAAUK,EAAYG,EAAM,IAEhC,CACL1kC,EAAM0kC,EACN,KACD,CAJC1kC,EAAM0kC,EAAM,CAIb,CAEJ,CACD,MAAO,CACLN,IAAKF,EAASK,EAAYvkC,GAAO,EACjCg2B,KAAMh2B,EAAM,EAEf,CACD,UAAAikC,CAAW/N,GACT,MAAI,YAAYviC,KAAKuiC,GACZA,EAEFr9C,EAAQpB,KAAK6E,IAAI4lD,WAAWyC,YAAcltD,KAAK6E,IAAIw1B,MAAQ,IAAKokB,EACxE,CACD,MAAAmO,CAAOrO,EAAMC,EAAQK,EAASC,GAC5B,IAAK9+C,KAAK6E,IAAK,OAAO,EACtB,IAGIpB,EAIA0pD,EAPA1C,EAAWzqD,KAAK6E,IAAI4lD,WACpB/mD,EAAO+mD,EAAS2C,oBAAoB,CAAE5O,SAAQD,SAClD,IAAK76C,EAAK0T,OAAQ,OAAO,EAEF,iBAAZynC,IACTp7C,EAAKgnD,EAAS2C,oBAAoB,CAAE5O,OAAQM,EAAWP,KAAMM,KAI7DsO,EADEjB,EAAWxoD,EAAK0T,QACR60C,EAAcvoD,EAAK0T,QAEnB,IAAIgU,IACZ1nB,EAAK0T,OACLpX,KAAK6E,IAAI4lD,WAAWyC,YAAcjB,EAAcjsD,KAAK6E,IAAI2lD,UAG7D,IAAI/B,EAAU,CACZjK,OAAQ96C,EAAK86C,OACbM,UAAWr7C,GAAMA,EAAG+6C,OACpBK,QAASp7C,GAAMA,EAAG86C,KAClBA,KAAM76C,EAAK66C,KACXjxB,IAAK6/B,EAAQpoD,YAEf,GAAyB,UAArBooD,EAAQE,SAAsB,CAChC,IAAIrB,EAGF,MAAM,IAAI/kD,MAAM,yDAFhBwhD,EAAQhK,KAAOuN,EAAcmB,EAIhC,CACD,IAAI/1C,EAASqzC,EAAS6C,iBAAiB5pD,EAAK0T,QAE5C,OADIA,IAAQqxC,EAAQrxC,OAASA,GACtBqxC,CACR,CACD,MAAAC,GACE,IAAInwC,EAAO,CAAA,EACX,IAAK,IAAIxO,IAAQ,CAAC,SAAU,MAAO,OAAQ,MACvB,MAAd/J,KAAK+J,KACPwO,EAAKxO,GAAQ/J,KAAK+J,IAStB,OANI/J,KAAK6E,MACP0T,EAAK1T,IAAM,IAAK7E,KAAK6E,KACjB0T,EAAK1T,IAAI6lD,gBACXnyC,EAAK1T,IAAI6lD,mBAAgB,IAGtBnyC,CACR,CACD,QAAI7U,GACF,OAAO1D,KAAKy+C,MAAQz+C,KAAKkW,EAC1B,EAOH,OALA6jB,GAAQuyB,EACRA,EAAM3qB,QAAU2qB,EACZjO,GAAqBA,EAAkBkP,eACzClP,EAAkBkP,cAAcjB,GAE3BvyB,EACT,CAGA,SAASyoC,KACP,GAAIvC,GAAyB,OAAOD,GACpCC,GAA0B,EAC1B,IAAIpW,kBAAEA,EAAiBC,mBAAEA,GAAuBkV,IAC5C/U,QAAEA,EAAOwD,SAAEA,EAAQrsD,QAAEA,EAAOssD,IAAEA,GAAQsR,IACtC/S,cAAEA,GAAkB+S,GACpB1S,EAAQiW,KACRnW,EAAqBjX,QAAQ0U,GAAqBC,GAClDuC,EAAgBlX,QAAQ8U,GAAW7oD,GAAWqsD,GAAYC,GAiT9D,OADAsS,GA/SA,MACE,WAAA//D,CAAY6K,EAAW06C,EAAOp8B,EAAMukC,GAClC3tD,KAAK8K,UAAYA,EACjB9K,KAAK4tD,QAAUxkC,EAAKvkB,KAAO,CAAA,EAC3B7E,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,IAAM8vB,EACX3tD,KAAK6tD,YAAcF,EACnB3tD,KAAK8tD,cAAgB9tD,KAAK4tD,QAAQlqD,MAAQ1D,KAAK4tD,QAAQG,SACvD/tD,KAAKguD,iBAAmC,IAAIj8B,IAC5C/xB,KAAKiuD,cAAgC,IAAIl8B,IACzC/xB,KAAKkuD,aAA+B,IAAIn8B,GACzC,CACD,aAAAo8B,GACE,IAAIC,EAEFA,EADEpuD,KAAKquD,WACG,gCAAkCruD,KAAKsuD,SAAStuD,KAAK6E,IAAIE,YACvB,iBAA5B/E,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WACqB,mBAA5BtqD,KAAK4tD,QAAQtD,WACnBtqD,KAAK4tD,QAAQtD,WAAWtqD,KAAKopB,KAAK3lB,GAAIzD,KAAKq6B,MAE3Cr6B,KAAKuuD,aAAe,OAEhC,IAAIC,EAAM,KACNxuD,KAAK69B,IAAI93B,SAAS,UAASyoD,EAAM,QACrCxuD,KAAK69B,KAAO2wB,EAAM,wBAA0BJ,EAAU,KACvD,CACD,aAAAK,GACE,IAAK,IAAIjnC,KAAQxnB,KAAK0uD,WAAY,CAChC,IAEI7pD,EAFAnB,EAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK5T,EAAKi3B,OACjC+G,EAAQh+B,EAAK6S,MAAQ4vB,EAAQziC,EAAKi3B,OAEF,IAAhCz+C,KAAK4tD,QAAQ9B,gBACfjnD,EAAM,IAAIglD,EAAkBriC,EAAKrd,MAC7BtF,EAAIinD,iBACNjnD,EAAIinD,eAAiB,OAGvBjnD,EAAM2iB,EAAKijC,WAEbzqD,KAAK6E,IAAI+pD,eAAe/pD,EAAKnB,EAAM1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKoqB,IACzD,CACF,CACD,eAAAqJ,GACE,IAAgC,IAA5B7uD,KAAK4tD,QAAQtD,WACjB,GAAItqD,KAAKq6B,KAAM,CACb,IAAI4gB,EACJ,IAAK,IAAI/3B,EAAKljB,KAAKq6B,KAAKmqB,MAAM5jD,OAAS,EAAGsiB,GAAM,EAAGA,IACjD+3B,EAAQj7C,KAAKq6B,KAAKmqB,MAAMthC,GACL,YAAf+3B,EAAMnxC,MACwC,IAA9CmxC,EAAM9wC,KAAK+9C,QAAQ,wBACrBloD,KAAKq6B,KAAKgf,YAAYn2B,EAGlC,MAAiBljB,KAAK69B,MACd79B,KAAK69B,IAAM79B,KAAK69B,IAAIp4B,QAAQ,2BAA4B,IAE3D,CACD,QAAAqpD,GAEE,GADA9uD,KAAK6uD,kBACDxC,GAAiBD,GAAsBpsD,KAAKorD,QAC9C,OAAOprD,KAAK+uD,cACP,CACL,IAAItG,EAAU,GAId,OAHAzoD,KAAK8K,UAAU9K,KAAKq6B,KAAOnX,IACzBulC,GAAWvlC,IAEN,CAACulC,EACT,CACF,CACD,WAAAsG,GACE,GAAI/uD,KAAKq6B,KACPr6B,KAAKgvD,sBACA,GAA+B,IAA3BhvD,KAAK0uD,WAAW9tD,OAAc,CACvC,IAAI4mB,EAAOxnB,KAAK0uD,WAAW,GAAGjE,WAC9BjjC,EAAKi3B,KAAOz+C,KAAKuuD,aACjBvuD,KAAK6E,IAAMilD,EAAmB6B,cAAcnkC,EAAM,CAChDynC,sBAAsB,GAEhC,MACQjvD,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExBjvD,KAAK6E,IAAIqqD,WAAW,CAClBC,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQpX,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,gBAMrE,OAHI1D,KAAKqvD,oBAAoBrvD,KAAKsvD,oBAC9BtvD,KAAKq6B,MAAQr6B,KAAK0uD,WAAW9tD,OAAS,GAAGZ,KAAKyuD,gBAC9CzuD,KAAKuvD,gBAAgBvvD,KAAKmuD,gBAC1BnuD,KAAKquD,WACA,CAACruD,KAAK69B,KAEN,CAAC79B,KAAK69B,IAAK79B,KAAK6E,IAE1B,CACD,cAAAmqD,GACEhvD,KAAK69B,IAAM,GACX79B,KAAK6E,IAAM,IAAIilD,EAAmB,CAChCrL,KAAMz+C,KAAKuuD,aACXU,sBAAsB,IAExB,IAQI5P,EAAO2F,EARPzG,EAAO,EACPC,EAAS,EACTgR,EAAW,cACXC,EAAU,CACZN,UAAW,CAAE3Q,OAAQ,EAAGD,KAAM,GAC9B6Q,SAAU,CAAE5Q,OAAQ,EAAGD,KAAM,GAC7BnnC,OAAQ,IAGVpX,KAAK8K,UAAU9K,KAAKq6B,KAAM,CAAClqB,EAAK8qC,EAAOnxC,KAyBrC,GAxBA9J,KAAK69B,KAAO1tB,EACR8qC,GAAkB,QAATnxC,IACX2lD,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EAChCvD,EAAM7jC,QAAU6jC,EAAM7jC,OAAO9M,OAC/BmlD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAO9M,MAAMi0C,KAC3CkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAO9M,MAAMk0C,OAAS,EACtDx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1Bx+C,KAAK6E,IAAIqqD,WAAWO,KAGxBpQ,EAAQlvC,EAAIyhC,MAAM,OACdyN,GACFd,GAAQc,EAAMz+C,OACdokD,EAAO70C,EAAIs7C,YAAY,MACvBjN,EAASruC,EAAIvP,OAASokD,GAEtBxG,GAAUruC,EAAIvP,OAEZq6C,GAAkB,UAATnxC,EAAkB,CAC7B,IAAItK,EAAIy7C,EAAMxe,QAAU,CAAE6nB,KAAM,CAAE,IACH,SAAfrJ,EAAMnxC,MAAkC,WAAfmxC,EAAMnxC,OAAsBmxC,EAAMuJ,QACzDvJ,IAAUz7C,EAAEwlD,OAAQxlD,EAAE8kD,KAAKN,YACvC/I,EAAM7jC,QAAU6jC,EAAM7jC,OAAOxM,KAC/B6kD,EAAQr4C,OAASpX,KAAK0vD,WAAWzU,GACjCwU,EAAQL,SAAS7Q,KAAOtD,EAAM7jC,OAAOxM,IAAI2zC,KACzCkR,EAAQL,SAAS5Q,OAASvD,EAAM7jC,OAAOxM,IAAI4zC,OAAS,EACpDiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,KAEpBA,EAAQr4C,OAASo4C,EACjBC,EAAQL,SAAS7Q,KAAO,EACxBkR,EAAQL,SAAS5Q,OAAS,EAC1BiR,EAAQN,UAAU5Q,KAAOA,EACzBkR,EAAQN,UAAU3Q,OAASA,EAAS,EACpCx+C,KAAK6E,IAAIqqD,WAAWO,IAGzB,GAEJ,CACD,YAAAF,GACE,QAAIvvD,KAAKquD,kBAG8B,IAA5BruD,KAAK4tD,QAAQtD,WACftqD,KAAK4tD,QAAQtD,YAElBtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGonC,YAG1C,CACD,QAAA+D,GACE,QAAmC,IAAxBruD,KAAK4tD,QAAQxD,OACtB,OAAOpqD,KAAK4tD,QAAQxD,OAEtB,IAAIE,EAAatqD,KAAK4tD,QAAQtD,WAC9B,YAA0B,IAAfA,IAA6C,IAAfA,MAGrCtqD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAGknC,QAG1C,CACD,KAAAgB,GACE,YAA6B,IAAlBprD,KAAKopB,KAAKvkB,MACV7E,KAAKopB,KAAKvkB,IAEd7E,KAAK0uD,WAAW9tD,OAAS,CACjC,CACD,gBAAAyuD,GACE,YAA2C,IAAhCrvD,KAAK4tD,QAAQ9B,eACf9rD,KAAK4tD,QAAQ9B,gBAElB9rD,KAAK0uD,WAAW9tD,QACXZ,KAAK0uD,WAAW3zC,KAAMmI,GAAOA,EAAG2oC,cAG1C,CACD,UAAA0C,GACE,OAAIvuD,KAAKopB,KAAK3lB,GACLzD,KAAKo7B,KAAKp7B,KAAKopB,KAAK3lB,IAClBzD,KAAKopB,KAAK1lB,KACZ1D,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,MAEpB,QAEV,CACD,IAAA03B,CAAKqjB,GACH,GAAIz+C,KAAK4tD,QAAQG,SAAU,OAAOtP,EAClC,GAA2B,KAAvBA,EAAKpuC,WAAW,GAAW,OAAOouC,EACtC,GAAI,YAAYviC,KAAKuiC,GAAO,OAAOA,EACnC,IAAIkR,EAAS3vD,KAAKiuD,cAAcllD,IAAI01C,GACpC,GAAIkR,EAAQ,OAAOA,EACnB,IAAIjsD,EAAO1D,KAAKopB,KAAK3lB,GAAKwmD,EAAQjqD,KAAKopB,KAAK3lB,IAAM,IACX,iBAA5BzD,KAAK4tD,QAAQtD,aACtB5mD,EAAOumD,EAAQ7oD,EAAQsC,EAAM1D,KAAK4tD,QAAQtD,cAE5C,IAAIlvB,EAAOqyB,EAAS/pD,EAAM+6C,GAE1B,OADAz+C,KAAKiuD,cAAcjlD,IAAIy1C,EAAMrjB,GACtBA,CACR,CACD,QAAAszB,GACE,IAAK1uD,KAAK4vD,aAER,GADA5vD,KAAK4vD,aAAe,GAChB5vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,QAAU6jC,EAAM7jC,OAAO2iB,MAAMl1B,IAAK,CAC1C,IAAIA,EAAMo2C,EAAM7jC,OAAO2iB,MAAMl1B,IACxB7E,KAAK4vD,aAAa7pD,SAASlB,IAC9B7E,KAAK4vD,aAAa5sD,KAAK6B,EAE1B,QAEE,CACL,IAAImkD,EAAS,IAAIsD,EAAMtsD,KAAK6tD,YAAa7tD,KAAKopB,MAC1C4/B,EAAOnkD,KAAK7E,KAAK4vD,aAAa5sD,KAAKgmD,EAAOnkD,IAC/C,CAEH,OAAO7E,KAAK4vD,YACb,CACD,iBAAAN,GACE,IAAIO,EAAU,CAAA,EACd,GAAI7vD,KAAKq6B,KACPr6B,KAAKq6B,KAAKsrB,KAAM1K,IACd,GAAIA,EAAM7jC,OAAQ,CAChB,IAAI1T,EAAOu3C,EAAM7jC,OAAO2iB,MAAMr2B,KAC9B,GAAIA,IAASmsD,EAAQnsD,GAAO,CAC1BmsD,EAAQnsD,IAAQ,EAChB,IAAIypD,EAAUntD,KAAK8tD,aAAe9tD,KAAK8vD,UAAUpsD,GAAQ1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK13B,IAC9E1D,KAAK6E,IAAIkrD,iBAAiB5C,EAASlS,EAAM7jC,OAAO2iB,MAAM8D,IACvD,CACF,SAEE,GAAI79B,KAAK69B,IAAK,CACnB,IAAIn6B,EAAO1D,KAAKopB,KAAK1lB,KAAO1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAKp7B,KAAKopB,KAAK1lB,OAAS,cACpE1D,KAAK6E,IAAIkrD,iBAAiBrsD,EAAM1D,KAAK69B,IACtC,CACF,CACD,UAAA6xB,CAAWzU,GACT,OAAIj7C,KAAK4tD,QAAQlqD,KACR1D,KAAK2uD,MAAM3uD,KAAK4tD,QAAQlqD,MACtB1D,KAAK8tD,aACP9tD,KAAK8vD,UAAU7U,EAAM7jC,OAAO2iB,MAAMr2B,MAElC1D,KAAK2uD,MAAM3uD,KAAKo7B,KAAK6f,EAAM7jC,OAAO2iB,MAAMr2B,MAElD,CACD,QAAA4qD,CAASn+C,GACP,OAAI46C,OACKA,OAAOrnD,KAAKyM,GAAKpL,SAAS,UAE1BP,OAAOwrD,KAAKC,SAASp3C,mBAAmB1I,IAElD,CACD,SAAA2/C,CAAU10B,GACR,IAAIu0B,EAAS3vD,KAAKguD,iBAAiBjlD,IAAIqyB,GACvC,GAAIu0B,EAAQ,OAAOA,EACnB,GAAI1D,EAAe,CACjB,IAAIiE,EAAUjE,EAAc7wB,GAAMr2B,WAElC,OADA/E,KAAKguD,iBAAiBhlD,IAAIoyB,EAAM80B,GACzBA,CACf,CACQ,MAAM,IAAIjpD,MACR,+DAGL,CACD,KAAA0nD,CAAMvzB,GACJ,IAAIu0B,EAAS3vD,KAAKkuD,aAAanlD,IAAIqyB,GACnC,GAAIu0B,EAAQ,OAAOA,EACP,OAARjC,IACFtyB,EAAOA,EAAK31B,QAAQ,MAAO,MAE7B,IAAI6nB,EAAM6iC,UAAU/0B,GAAM31B,QAAQ,QAASoT,oBAE3C,OADA7Y,KAAKkuD,aAAallD,IAAIoyB,EAAM9N,GACrBA,CACR,GAGI0yC,EACT,CAGA,SAASyC,KACP,GAAIvC,GAAoB,OAAOz0B,GAC/By0B,GAAqB,EACrB,IAAIpZ,EAAQqb,KACZ,MAAM9R,UAAgBvJ,EACpB,WAAA7mD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,SACb,EAIH,OAFA2hC,GAAU4kB,EACVA,EAAQ1uB,QAAU0uB,EACX5kB,EACT,CAGA,SAASi3B,KACP,GAAItC,GAAsB,OAAOD,GACjCC,GAAuB,EACvB,IAIIxrD,EAAO27C,EAAMC,EAAQC,GAJrBvN,QAAEA,EAAOC,GAAEA,GAAO6e,KAClB3Y,EAAc+Y,KACd/R,EAAUoS,KACV3b,EAAQqb,KAEZ,SAASzR,EAAYlM,GACnB,OAAOA,EAAM3/C,IAAKqe,IACZA,EAAGshC,QAAOthC,EAAGshC,MAAQkM,EAAYxtC,EAAGshC,eACjCthC,EAAG9L,OACH8L,GAEV,CACD,SAASytC,EAAY1V,GAEnB,GADAA,EAAMiI,IAAW,EACbjI,EAAMkO,QAAQ3E,MAChB,IAAK,IAAIthC,KAAM+3B,EAAMkO,QAAQ3E,MAC3BmM,EAAYztC,EAGjB,CACD,MAAM0tC,UAAkB9J,EACtB,MAAA9tC,IAAU63C,GACR,IAAK,IAAIl0B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKglD,MACvC,IAAK,IAAI/J,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMxhD,KAAKi4C,EAClD,CAED,OADAj7C,KAAK6nD,YACE7nD,IACR,CACD,SAAAsnD,CAAUC,GAER,GADA5I,MAAM2I,UAAUC,GACZvnD,KAAKwkD,MACP,IAAK,IAAIvJ,KAASj7C,KAAKwkD,MAAOvJ,EAAMqM,UAAUC,EAEjD,CACD,IAAAwJ,CAAK96C,GACH,IAAKjW,KAAKmpD,QAAQ3E,MAAO,OACzB,IACIjF,EAAQkJ,EADR7lD,EAAW5C,KAAKgxD,cAEpB,KAAOhxD,KAAKixD,QAAQruD,GAAY5C,KAAKmpD,QAAQ3E,MAAM5jD,SACjD2+C,EAASv/C,KAAKixD,QAAQruD,GACtB6lD,EAAUxyC,EAASjW,KAAKmpD,QAAQ3E,MAAMjF,GAASA,IAC/B,IAAZkJ,IACJzoD,KAAKixD,QAAQruD,IAAa,EAG5B,cADO5C,KAAKixD,QAAQruD,GACb6lD,CACR,CACD,KAAA5qC,CAAMk0B,GACJ,OAAO/xC,KAAKwkD,MAAM3mC,MAAMk0B,EACzB,CACD,WAAAif,GACOhxD,KAAKkxD,WAAUlxD,KAAKkxD,SAAW,GAC/BlxD,KAAKixD,UAASjxD,KAAKixD,QAAU,CAAA,GAClCjxD,KAAKkxD,UAAY,EACjB,IAAItuD,EAAW5C,KAAKkxD,SAEpB,OADAlxD,KAAKixD,QAAQruD,GAAY,EAClBA,CACR,CACD,iBAAA+kD,GACE,MAAO,CACL5+C,IAAG,CAACkyC,EAAOhsB,IACI,YAATA,EACKgsB,EACGA,EAAMhsB,GAEE,SAATA,GAAmC,iBAATA,GAAqBA,EAAKxU,WAAW,QACjE,IAAI7T,IACFq0C,EAAMhsB,MACRroB,EAAK/B,IAAKqe,GACO,mBAAPA,EACF,CAACyZ,EAAO4iB,IAAWr8B,EAAGyZ,EAAMirB,UAAWrI,GAEvCr8B,IAKG,UAAT+L,GAA6B,SAATA,EACrB6U,GACCmX,EAAMhsB,GACX,CAAC0N,KAAUiU,IAAU9M,EAAGnH,EAAMirB,aAAchX,IAG9B,SAAT3hB,EACF,IAAMgsB,EAAM5gB,OAAOutB,UACR,UAAT34B,EACFgsB,EAAMuJ,MAAM3/C,IAAKqe,GAAOA,EAAG0kC,WAChB,UAAT34B,GAA6B,SAATA,EACtBgsB,EAAMhsB,GAAM24B,UAEZ3M,EAAMhsB,GA1BNgsB,EAAMhsB,GA6BjBjmB,IAAG,CAACiyC,EAAOhsB,EAAM1tB,KACX05C,EAAMhsB,KAAU1tB,IACpB05C,EAAMhsB,GAAQ1tB,EACD,SAAT0tB,GAA4B,WAATA,GAA8B,aAATA,GAC1CgsB,EAAM4M,cAH0B,GAQvC,CACD,KAAA/iD,CAAM63B,GACJ,MAAqB,iBAAVA,EAA2BA,GAClCA,EAAMwsB,UAASxsB,EAAQA,EAAMwsB,SAC1BnpD,KAAKmpD,QAAQ3E,MAAM0D,QAAQvrB,GACnC,CACD,WAAAwqB,CAAYgK,EAAO1hD,GACjB,IAII8vC,EAJA6R,EAAapxD,KAAK8E,MAAMqsD,GACxB3M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,IAAaC,UAChED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAa,EAAG,EAAGnW,GAEtE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,EAAa7R,IACfv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,YAAAqnD,CAAa8J,EAAO1hD,GAClB,IAKI8vC,EALA6R,EAAapxD,KAAK8E,MAAMqsD,GACxBrnD,EAAsB,IAAfsnD,GAAmB,UAC1B5M,EAAQxkD,KAAK8wD,UAAUrhD,EAAKzP,KAAKmpD,QAAQ3E,MAAM4M,GAAatnD,GAAMunD,UACtED,EAAapxD,KAAK8E,MAAMqsD,GACxB,IAAK,IAAIlW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAM/tC,OAAO26C,EAAY,EAAGnW,GAElE,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBk7C,GAAc7R,IAChBv/C,KAAKixD,QAAQ/6C,GAAMqpC,EAASiF,EAAM5jD,QAItC,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,SAAA8wD,CAAUtM,EAAO8M,GACf,GAAqB,iBAAV9M,EACTA,EAAQkM,EAAY97C,EAAM4vC,GAAOA,YAC5B,QAAqB,IAAVA,EAChBA,EAAQ,QACH,GAAIjlD,MAAMmN,QAAQ83C,GAAQ,CAC/BA,EAAQA,EAAM3gD,MAAM,GACpB,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAmB,SAAfshC,EAAM16C,MAAiC,aAAd9J,KAAK8J,KAAqB,CAC5D06C,EAAQA,EAAMA,MAAM3gD,MAAM,GAC1B,IAAK,IAAIqf,KAAMshC,EACTthC,EAAGuZ,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,EAAI,SAEnD,MAAa,GAAIshC,EAAM16C,KACf06C,EAAQ,CAACA,QACJ,GAAIA,EAAMv1B,KAAM,CACrB,QAA2B,IAAhBu1B,EAAMjjD,MACf,MAAM,IAAI0F,MAAM,0CACgB,iBAAhBu9C,EAAMjjD,QACtBijD,EAAMjjD,MAAQzB,OAAO0kD,EAAMjjD,QAE7BijD,EAAQ,CAAC,IAAI6E,EAAY7E,GACjC,MAAa,GAAIA,EAAMxpC,SACfwpC,EAAQ,CAAC,IAAI+L,EAAK/L,SACb,GAAIA,EAAMz6C,KACfy6C,EAAQ,CAAC,IAAIgM,EAAOhM,QACf,KAAIA,EAAMr6C,KAGf,MAAM,IAAIlD,MAAM,sCAFhBu9C,EAAQ,CAAC,IAAI6L,EAAQ7L,GAGtB,CAcD,OAbgBA,EAAM3/C,IAAKqe,IACpBA,EAAGigC,IAAKyN,EAAUW,QAAQruC,IAC/BA,EAAKA,EAAGimC,SACD1sB,QAAQvZ,EAAGuZ,OAAO4c,YAAYn2B,GACjCA,EAAGggC,IAAUyN,EAAYztC,QACC,IAAnBA,EAAGohC,KAAK55C,QACb4mD,QAAwC,IAAvBA,EAAOhN,KAAK55C,SAC/BwY,EAAGohC,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAAOjF,QAAQ,MAAO,KAGvDyd,EAAGuZ,OAASz8B,KAAKmpD,QACVjmC,GAGV,CACD,OAAAsuC,IAAWX,GACTA,EAAWA,EAASQ,UACpB,IAAK,IAAI10B,KAASk0B,EAAU,CAC1B,IAAIrM,EAAQxkD,KAAK8wD,UAAUn0B,EAAO38B,KAAKulD,MAAO,WAAW8L,UACzD,IAAK,IAAIpW,KAASuJ,EAAOxkD,KAAKmpD,QAAQ3E,MAAMiN,QAAQxW,GACpD,IAAK,IAAI/kC,KAAMlW,KAAKixD,QAClBjxD,KAAKixD,QAAQ/6C,GAAMlW,KAAKixD,QAAQ/6C,GAAMsuC,EAAM5jD,MAE/C,CAED,OADAZ,KAAK6nD,YACE7nD,IACR,CACD,IAAAgD,CAAK25B,GAGH,OAFAA,EAAMF,OAASz8B,KACfA,KAAKmpD,QAAQ3E,MAAMxhD,KAAK25B,GACjB38B,IACR,CACD,SAAA0xD,GACE,IAAK,IAAIzW,KAASj7C,KAAKmpD,QAAQ3E,MAAOvJ,EAAMxe,YAAS,EAGrD,OAFAz8B,KAAKmpD,QAAQ3E,MAAQ,GACrBxkD,KAAK6nD,YACE7nD,IACR,CACD,WAAAq5C,CAAY1c,GAIV,IAAI4iB,EAHJ5iB,EAAQ38B,KAAK8E,MAAM63B,GACnB38B,KAAKmpD,QAAQ3E,MAAM7nB,GAAOF,YAAS,EACnCz8B,KAAKmpD,QAAQ3E,MAAM/tC,OAAOkmB,EAAO,GAEjC,IAAK,IAAIzmB,KAAMlW,KAAKixD,QAClB1R,EAASv/C,KAAKixD,QAAQ/6C,GAClBqpC,GAAU5iB,IACZ38B,KAAKixD,QAAQ/6C,GAAMqpC,EAAS,GAIhC,OADAv/C,KAAK6nD,YACE7nD,IACR,CACD,aAAA2xD,CAAcC,EAASxoC,EAAMnT,GAW3B,OAVKA,IACHA,EAAWmT,EACXA,EAAO,CAAA,GAETppB,KAAKgmD,UAAWb,IACV/7B,EAAKyoC,QAAUzoC,EAAKyoC,MAAM9rD,SAASo/C,EAAKl2B,OACxC7F,EAAK0oC,OAAS3M,EAAK5jD,MAAMwE,SAASqjB,EAAK0oC,QAC3C3M,EAAK5jD,MAAQ4jD,EAAK5jD,MAAMkE,QAAQmsD,EAAS37C,MAE3CjW,KAAK6nD,YACE7nD,IACR,CACD,IAAA+a,CAAKg3B,GACH,OAAO/xC,KAAKwkD,MAAMzpC,KAAKg3B,EACxB,CACD,IAAA4T,CAAK1vC,GACH,OAAOjW,KAAK+wD,KAAK,CAACp0B,EAAOzZ,KACvB,IAAIulC,EACJ,IACEA,EAAUxyC,EAAS0mB,EAAOzZ,EAC3B,CAAC,MAAO6uC,GACP,MAAMp1B,EAAMqqB,WAAW+K,EACxB,CAID,OAHgB,IAAZtJ,GAAqB9rB,EAAMgpB,OAC7B8C,EAAU9rB,EAAMgpB,KAAK1vC,IAEhBwyC,GAEV,CACD,WAAAuJ,CAAYjoD,EAAMkM,GAChB,OAAKA,EAQDlM,aAAgB2R,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqBC,EAAKmS,KAAKygB,EAAM5yB,MAC7C,OAAOkM,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,MAAqB6yB,EAAM5yB,OAASA,EAC5C,OAAOkM,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWlM,EACJ/J,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,WAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,YAAA4iC,CAAa7vC,GACX,OAAOjW,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,YAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,IAG5B,CACD,SAAA8iC,CAAU/2B,EAAMhZ,GACd,OAAKA,EAQDgZ,aAAgBvT,OACX1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBmlB,EAAK/S,KAAKygB,EAAM1N,MAC3C,OAAOhZ,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM1N,OAASA,EAC1C,OAAOhZ,EAAS0mB,EAAOzZ,MAhBzBjN,EAAWgZ,EACJjvB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAA+uC,CAAUj3C,EAAU/E,GAClB,OAAKA,EAQD+E,aAAoBU,OACf1b,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmBkR,EAASkB,KAAKygB,EAAM3hB,UAC/C,OAAO/E,EAAS0mB,EAAOzZ,KAItBljB,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,MAAmB6yB,EAAM3hB,WAAaA,EAC9C,OAAO/E,EAAS0mB,EAAOzZ,MAhBzBjN,EAAW+E,EACJhb,KAAK2lD,KAAK,CAAChpB,EAAOzZ,KACvB,GAAmB,SAAfyZ,EAAM7yB,KACR,OAAOmM,EAAS0mB,EAAOzZ,KAgB9B,CACD,SAAIqiC,GACF,GAAKvlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAM,EAC3B,CACD,QAAIQ,GACF,GAAKhlD,KAAKmpD,QAAQ3E,MAClB,OAAOxkD,KAAKmpD,QAAQ3E,MAAMxkD,KAAKmpD,QAAQ3E,MAAM5jD,OAAS,EACvD,EAmCH,OAjCAgwD,EAAUsB,cAAiBC,IACzBv9C,EAAQu9C,GAEVvB,EAAUwB,aAAgBD,IACxB5B,EAAO4B,GAETvB,EAAUyB,eAAkBF,IAC1B3B,EAAS2B,GAEXvB,EAAU0B,aAAgBH,IACxB1B,EAAO0B,GAETgO,GAAYvP,EACZA,EAAUjvB,QAAUivB,EACpBA,EAAUW,QAAWtW,IACA,WAAfA,EAAMnxC,KACR1K,OAAOC,eAAe47C,EAAOuV,EAAO/wD,WACZ,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOsV,EAAK9wD,WACV,SAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoO,EAAY5pD,WACjB,YAAfw7C,EAAMnxC,KACf1K,OAAOC,eAAe47C,EAAOoV,EAAQ5wD,WACb,SAAfw7C,EAAMnxC,MACf1K,OAAOC,eAAe47C,EAAOwV,EAAKhxD,WAEpCw7C,EAAMkI,IAAM,EACRlI,EAAMuJ,OACRvJ,EAAMuJ,MAAMz4C,QAAS4wB,IACnBi0B,EAAUW,QAAQ50B,MAIjBwjC,EACT,CAGA,SAASwC,KACP,GAAIrC,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IACI9N,EAAYC,EADZ7B,EAAY8R,KAEhB,MAAMhQ,UAAkB9B,EACtB,WAAA3wD,CAAYm6B,GACVukB,MAAM,CAAE70C,KAAM,cAAeswB,IACxBp6B,KAAKwkD,QACRxkD,KAAKwkD,MAAQ,GAEhB,CACD,QAAAmO,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAUH,OARA4nD,EAAUE,mBAAsBT,IAC9BK,EAAaL,GAEfO,EAAUG,kBAAqBV,IAC7BM,EAAYN,GAEdkO,GAAa3N,EACbA,EAAU/wB,QAAU+wB,EACb2N,EACT,CAGA,SAASuC,KACP,GAAIpC,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIzN,EAAU,CAAA,EAQd,OAPAwN,GAAW,SAAmB58B,GACxBovB,EAAQpvB,KACZovB,EAAQpvB,IAAW,EACI,oBAAZ58B,SAA2BA,QAAQC,MAC5CD,QAAQC,KAAK28B,GAEnB,CAEA,CAGA,SAASk/B,KACP,GAAInC,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,MAAMzN,EACJ,WAAAhzD,CAAYkK,EAAMif,EAAO,IAGvB,GAFAppB,KAAK8J,KAAO,UACZ9J,KAAKmK,KAAOA,EACRif,EAAK2T,MAAQ3T,EAAK2T,KAAK3lB,OAAQ,CACjC,IAAI+7B,EAAQ/pB,EAAK2T,KAAK2qB,QAAQt+B,GAC9BppB,KAAKu+C,KAAOpL,EAAM7oC,MAAMi0C,KACxBv+C,KAAKw+C,OAASrL,EAAM7oC,MAAMk0C,OAC1Bx+C,KAAK6+C,QAAU1L,EAAMvoC,IAAI2zC,KACzBv+C,KAAK8+C,UAAY3L,EAAMvoC,IAAI4zC,MAC5B,CACD,IAAK,IAAIx3B,KAAOoC,EAAMppB,KAAKgnB,GAAOoC,EAAKpC,EACxC,CACD,QAAAjiB,GACE,OAAI/E,KAAK+8B,KACA/8B,KAAK+8B,KAAKx5B,MAAMvD,KAAKmK,KAAM,CAChCrF,MAAO9E,KAAK8E,MACZ45C,OAAQ1+C,KAAK0+C,OACbuJ,KAAMjoD,KAAKioD,OACVtkB,QAED3jC,KAAK0+C,OACA1+C,KAAK0+C,OAAS,KAAO1+C,KAAKmK,KAE5BnK,KAAKmK,IACb,EAIH,OAFAs2D,GAAUxN,EACVA,EAAQtxB,QAAUsxB,EACXwN,EACT,CAGA,SAASqC,KACP,GAAInC,GAAmB,OAAO/+D,GAC9B++D,GAAoB,EACpB,IAAI1N,EAAU4P,KACd,MAAM1P,EACJ,WAAAlzD,CAAYmzD,EAAY5N,EAAOp8B,GAC7BppB,KAAKqzD,UAAYD,EACjBpzD,KAAKszD,SAAW,GAChBtzD,KAAKq6B,KAAOmrB,EACZxlD,KAAKopB,KAAOA,EACZppB,KAAK69B,SAAM,EACX79B,KAAK6E,SAAM,CACZ,CACD,QAAAE,GACE,OAAO/E,KAAK69B,GACb,CACD,IAAA72B,CAAKmD,EAAMif,EAAO,IACXA,EAAKs1B,QACJ1+C,KAAKuzD,YAAcvzD,KAAKuzD,WAAWC,gBACrCpqC,EAAKs1B,OAAS1+C,KAAKuzD,WAAWC,eAGlC,IAAIC,EAAW,IAAIR,EAAQ9oD,EAAMif,GAEjC,OADAppB,KAAKszD,SAAStwD,KAAKywD,GACZA,CACR,CACD,QAAAC,GACE,OAAO1zD,KAAKszD,SAAS5yC,OAAQwC,GAAmB,YAAZA,EAAGpZ,KACxC,CACD,WAAIskD,GACF,OAAOpuD,KAAK69B,GACb,EAIH,OAFAj8B,GAASuxD,EACTA,EAAOxxB,QAAUwxB,EACVvxD,EACT,CA0NA,SAASmhE,KACP,GAAIjC,GAAmB,OAAOzC,GAC9ByC,GAAoB,EACpB,IAAIlQ,EAAY8R,KAChB,MAAMlS,UAAeI,EACnB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,QACb,CACD,MAAAkP,IAAU63C,GAER,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM3lC,UAAU63C,EACxB,CACD,OAAAW,IAAWX,GAET,OADK7wD,KAAKmpD,QAAQ3E,QAAOxkD,KAAKwkD,MAAQ,IAC/B7F,MAAM6S,WAAWX,EACzB,EAKH,OAHAwN,GAAS7N,EACTA,EAAO7uB,QAAU6uB,EACjBI,EAAUyB,eAAe7B,GAClB6N,EACT,CAGA,SAAS2E,KACP,GAAIjC,GAAiB,OAAO1mC,GAC5B0mC,GAAkB,EAClB,IACIvO,EAAYC,EADZ7B,EAAY8R,KAEhB,MAAMjS,UAAaG,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,SAAAsM,CAAUn0B,EAAO20B,EAAQxnD,GACvB,IAAI06C,EAAQ7F,MAAMmS,UAAUn0B,GAC5B,GAAI20B,EACF,GAAa,YAATxnD,EACE9J,KAAKwkD,MAAM5jD,OAAS,EACtB0wD,EAAOhN,KAAK55C,OAAS1K,KAAKwkD,MAAM,GAAGF,KAAK55C,cAEjC4mD,EAAOhN,KAAK55C,YAEhB,GAAI1K,KAAKulD,QAAU+L,EACxB,IAAK,IAAIrW,KAASuJ,EAChBvJ,EAAMqJ,KAAK55C,OAAS4mD,EAAOhN,KAAK55C,OAItC,OAAO85C,CACR,CACD,WAAAnL,CAAY1c,EAAOk3B,GACjB,IAAItU,EAASv/C,KAAK8E,MAAM63B,GAIxB,OAHKk3B,GAAqB,IAAXtU,GAAgBv/C,KAAKwkD,MAAM5jD,OAAS,IACjDZ,KAAKwkD,MAAM,GAAGF,KAAK55C,OAAS1K,KAAKwkD,MAAMjF,GAAQ+E,KAAK55C,QAE/Ci0C,MAAMtF,YAAY1c,EAC1B,CACD,QAAAg2B,CAASvpC,EAAO,IAEd,OADW,IAAIopC,EAAW,IAAIC,EAAazyD,KAAMopB,GACrCte,WACb,EAWH,OATA2lD,EAAKmC,mBAAsBT,IACzBK,EAAaL,GAEf1B,EAAKoC,kBAAqBV,IACxBM,EAAYN,GAEd93B,GAAOo2B,EACPA,EAAK9uB,QAAU8uB,EACfG,EAAU0B,aAAa7B,GAChBp2B,EACT,CAGA,SAAS4oC,KACP,GAAIhC,GAAiB,OAAOD,GAC5BC,GAAkB,EAClB,IAAIn0C,EAAO,CACTinC,MAAM3O,GACGt4B,EAAK5iB,MAAMk7C,EAAQ,CAAC,MAAM,GAEnC4O,MAAM5O,GAEGt4B,EAAK5iB,MAAMk7C,EADL,CAAC,IAAK,KAAM,OAG3B,KAAAl7C,CAAMk7C,EAAQ6O,EAAYjP,GACxB,IAAIkP,EAAQ,GACRx4B,EAAU,GACVxxB,GAAQ,EACRulB,EAAO,EACP0kC,GAAU,EACVC,EAAY,GACZn4B,GAAS,EACb,IAAK,IAAIo4B,KAAUjP,EACbnpB,EACFA,GAAS,EACW,OAAXo4B,EACTp4B,GAAS,EACAk4B,EACLE,IAAWD,IACbD,GAAU,GAEQ,MAAXE,GAA6B,MAAXA,GAC3BF,GAAU,EACVC,EAAYC,GACQ,MAAXA,EACT5kC,GAAQ,EACY,MAAX4kC,EACL5kC,EAAO,IAAGA,GAAQ,GACJ,IAATA,GACLwkC,EAAWluD,SAASsuD,KAASnqD,GAAQ,GAEvCA,GACc,KAAZwxB,GAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACvCsxB,EAAU,GACVxxB,GAAQ,GAERwxB,GAAW24B,EAIf,OADIrP,GAAoB,KAAZtpB,IAAgBw4B,EAAMlxD,KAAK04B,EAAQtxB,QACxC8pD,CACR,GAIH,OAFA8M,GAASl0C,EACTA,EAAK6U,QAAU7U,EACRk0C,EACT,CAGA,SAASkC,KACP,GAAIhC,GAAiB,OAAOllD,GAC5BklD,GAAkB,EAClB,IAAItQ,EAAY8R,KACZ51C,EAAOm2C,KACX,MAAM1S,UAAaK,EACjB,WAAA3wD,CAAYm6B,GACVukB,MAAMvkB,GACNp6B,KAAK8J,KAAO,OACP9J,KAAKwkD,QAAOxkD,KAAKwkD,MAAQ,GAC/B,CACD,aAAI/jC,GACF,OAAOqM,EAAKinC,MAAM/zD,KAAKgb,SACxB,CACD,aAAIyF,CAAUwe,GACZ,IAAI2S,EAAQ5xC,KAAKgb,SAAWhb,KAAKgb,SAAS42B,MAAM,QAAU,KACtD8b,EAAM9b,EAAQA,EAAM,GAAK,IAAM5xC,KAAK6kD,IAAI,UAAW,cACvD7kD,KAAKgb,SAAWikB,EAAOj5B,KAAK0nD,EAC7B,EAKH,OAHA1xC,GAAOu0C,EACPA,EAAK5uB,QAAU4uB,EACfK,EAAUwB,aAAa7B,GAChBv0C,EACT,CAGA,SAASmnD,KACP,GAAIhC,GAAmB,OAAOjG,GAC9BiG,GAAoB,EACpB,IAAI9X,EAAc+Y,KACd5N,EA5XN,WACE,GAAIqM,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,MAAMpM,EAAe,IAAIpkD,WAAW,GAC9BqkD,EAAe,IAAIrkD,WAAW,GAC9BskD,EAAY,KAAKtkD,WAAW,GAC5BukD,EAAQ,IAAIvkD,WAAW,GACvBwkD,EAAU,KAAKxkD,WAAW,GAC1BykD,EAAQ,IAAIzkD,WAAW,GACvB0kD,EAAO,KAAK1kD,WAAW,GACvB2kD,EAAM,KAAI3kD,WAAW,GACrB4kD,EAAK,KAAK5kD,WAAW,GACrB6kD,EAAc,IAAI7kD,WAAW,GAC7B8kD,EAAe,IAAI9kD,WAAW,GAC9B+kD,EAAmB,IAAI/kD,WAAW,GAClCglD,EAAoB,IAAIhlD,WAAW,GACnCilD,EAAa,IAAIjlD,WAAW,GAC5BklD,EAAc,IAAIllD,WAAW,GAC7BmlD,EAAY,IAAInlD,WAAW,GAC3BolD,EAAW,IAAIplD,WAAW,GAC1BqlD,EAAQ,IAAIrlD,WAAW,GACvBslD,EAAK,IAAItlD,WAAW,GACpBulD,EAAY,6BACZC,EAAc,wCACdC,EAAiB,gBACjBC,EAAgB,WA0LtB,OAzLA6K,GAAW,SAAmB5X,EAAQhhD,EAAU,CAAA,GAC9C,IAEIwJ,EAAM/P,EAAMu0D,EAAO5H,EAASnyB,EAC5BxgB,EAASw6C,EAAWzuC,EAAMyyB,EAAIic,EAH9Br4B,EAAMmrB,EAAOnrB,IAAIs4B,UACjBtC,EAAS7rD,EAAQouD,aAGjBx1D,EAASi9B,EAAIj9B,OACb6jB,EAAM,EACN4xC,EAAS,GACTC,EAAW,GAIf,SAASC,EAASC,GAChB,MAAMxN,EAAOzlD,MAAM,YAAcizD,EAAM/xC,EACxC,CAoKD,MAAO,CACLgyC,KAJF,SAAcC,GACZJ,EAAStzD,KAAK0zD,EACf,EAGCC,UArKF,WACE,OAA2B,IAApBL,EAAS11D,QAAgB6jB,GAAO7jB,CACxC,EAoKCg2D,UAnKF,SAAmBxtC,GACjB,GAAIktC,EAAS11D,OAAQ,OAAO01D,EAASvzD,MACrC,GAAI0hB,GAAO7jB,EAAQ,OACnB,IAAIi2D,IAAiBztC,GAAOA,EAAKytC,eAEjC,OADArlD,EAAOqsB,EAAIxtB,WAAWoU,GACdjT,GACN,KAAKqjD,EACL,KAAKC,EACL,KAAKE,EACL,KAAKC,EACL,KAAKF,EACHtzD,EAAOgjB,EACP,GACEhjB,GAAQ,EACR+P,EAAOqsB,EAAIxtB,WAAW5O,SACf+P,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,GACvFmB,EAAe,CAAC,QAASr4B,EAAIh6B,MAAM4gB,EAAKhjB,IACxCgjB,EAAMhjB,EAAO,EACb,MAEF,KAAKyzD,EACL,KAAKC,EACL,KAAKG,EACL,KAAKC,EACL,KAAKG,EACL,KAAKF,EACL,KAAKH,EAAmB,CACtB,IAAIyB,EAAch3D,OAAO8pB,aAAapY,GACtC0kD,EAAe,CAACY,EAAaA,EAAaryC,GAC1C,KACD,CACD,KAAK2wC,EAGH,GAFA5tC,EAAO6uC,EAAOz1D,OAASy1D,EAAOtzD,MAAM,GAAK,GACzCk3C,EAAKpc,EAAIxtB,WAAWoU,EAAM,GACb,QAAT+C,GAAkByyB,IAAOwa,GAAgBxa,IAAOya,GAAgBza,IAAO6a,GAAS7a,IAAO4a,GAAW5a,IAAO+a,GAAO/a,IAAO8a,GAAQ9a,IAAOgb,EAAI,CAC5IxzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ,IAAKzmD,EAAO,IACjB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EACP,KAClB,CACkB8xC,EAAS,UAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,WAAYr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC3DgjB,EAAMhjB,CAClB,MACYA,EAAOo8B,EAAIqqB,QAAQ,IAAKzjC,EAAM,GAC9B2pC,EAAUvwB,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,IAClB,IAAVA,GAAeq0D,EAAe55C,KAAKkyC,GACrC8H,EAAe,CAAC,IAAK,IAAKzxC,IAE1ByxC,EAAe,CAAC,WAAY9H,EAAS3pC,EAAKhjB,GAC1CgjB,EAAMhjB,GAGV,MAEF,KAAKgzD,EACL,KAAKC,EACHsB,EAAQxkD,IAASijD,EAAe,IAAM,IACtChzD,EAAOgjB,EACP,EAAG,CAGD,GAFAhJ,GAAU,EACVha,EAAOo8B,EAAIqqB,QAAQ8N,EAAOv0D,EAAO,IACnB,IAAVA,EAAa,CACf,GAAIoyD,GAAUgD,EAAgB,CAC5Bp1D,EAAOgjB,EAAM,EACb,KAChB,CACgB8xC,EAAS,SAEZ,CAED,IADAN,EAAYx0D,EACLo8B,EAAIxtB,WAAW4lD,EAAY,KAAOtB,GACvCsB,GAAa,EACbx6C,GAAWA,CAEd,OAAQA,GACTy6C,EAAe,CAAC,SAAUr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACzDgjB,EAAMhjB,EACN,MAEF,KAAKk0D,EACHC,EAAUmB,UAAYtyC,EAAM,EAC5BmxC,EAAU15C,KAAK2hB,GAEbp8B,EAD0B,IAAxBm0D,EAAUmB,UACLl5B,EAAIj9B,OAAS,EAEbg1D,EAAUmB,UAAY,EAE/Bb,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,EACN,MAEF,KAAKkzD,EAGH,IAFAlzD,EAAOgjB,EACPwX,GAAS,EACF4B,EAAIxtB,WAAW5O,EAAO,KAAOkzD,GAClClzD,GAAQ,EACRw6B,GAAUA,EAGZ,GADAzqB,EAAOqsB,EAAIxtB,WAAW5O,EAAO,GACzBw6B,GAAUzqB,IAASojD,GAASpjD,IAASsjD,GAAStjD,IAASqjD,GAAWrjD,IAASwjD,GAAOxjD,IAASyjD,GAAMzjD,IAASujD,IAC5GtzD,GAAQ,EACJs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,KAAQ,CACxC,KAAOs0D,EAAc75C,KAAK2hB,EAAIm5B,OAAOv1D,EAAO,KAC1CA,GAAQ,EAENo8B,EAAIxtB,WAAW5O,EAAO,KAAOqzD,IAC/BrzD,GAAQ,EAEX,CAEHy0D,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvDgjB,EAAMhjB,EACN,MAEF,QACM+P,IAASojD,GAAS/2B,EAAIxtB,WAAWoU,EAAM,KAAOgxC,GAChDh0D,EAAOo8B,EAAIqqB,QAAQ,KAAMzjC,EAAM,GAAK,EACvB,IAAThjB,IACEoyD,GAAUgD,EACZp1D,EAAOo8B,EAAIj9B,OAEX21D,EAAS,YAGbL,EAAe,CAAC,UAAWr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GAC1DgjB,EAAMhjB,IAENo0D,EAAYkB,UAAYtyC,EAAM,EAC9BoxC,EAAY35C,KAAK2hB,GAEfp8B,EAD4B,IAA1Bo0D,EAAYkB,UACPl5B,EAAIj9B,OAAS,EAEbi1D,EAAYkB,UAAY,EAEjCb,EAAe,CAAC,OAAQr4B,EAAIh6B,MAAM4gB,EAAKhjB,EAAO,GAAIgjB,EAAKhjB,GACvD40D,EAAOrzD,KAAKkzD,GACZzxC,EAAMhjB,GAMZ,OADAgjB,IACOyxC,CACR,EAQCe,SA7KF,WACE,OAAOxyC,CACR,EA6KL,CAEA,CAwKkB2+C,GACZ/S,EAAUoS,KACVjS,EAASuS,KACTtS,EAAOuS,KACPzS,EAAO2S,KACX,MAAM/L,EAAwB,CAC5BC,OAAO,EACPpD,OAAO,GAqgBT,OADAkH,GA3fA,MACE,WAAAj7D,CAAY+oD,GACVhpD,KAAK+5B,MAAQivB,EACbhpD,KAAKq6B,KAAO,IAAIo2B,EAChBzwD,KAAK07B,QAAU17B,KAAKq6B,KACpBr6B,KAAKq3D,OAAS,GACdr3D,KAAKgkD,WAAY,EACjBhkD,KAAKs3D,kBACLt3D,KAAKq6B,KAAKjjB,OAAS,CAAE2iB,MAAOivB,EAAQ1+C,MAAO,CAAEk0C,OAAQ,EAAGD,KAAM,EAAGkO,OAAQ,GAC1E,CACD,MAAAtI,CAAOuS,GACL,IAMI5sD,EACA0d,EACAyE,EARAgvB,EAAQ,IAAIuV,EAChBvV,EAAMlxC,KAAO2sD,EAAM,GAAG7yD,MAAM,GACT,KAAfo3C,EAAMlxC,MACR/J,KAAKu3D,cAActc,EAAOyb,GAE5B12D,KAAKwnC,KAAKyT,EAAOyb,EAAM,IAIvB,IAAI1R,GAAO,EACP3zB,GAAO,EACP+yB,EAAS,GACToT,EAAW,GACf,MAAQx3D,KAAKw0D,UAAUmC,aAAa,CAUlC,GARA7sD,GADA4sD,EAAQ12D,KAAKw0D,UAAUoC,aACV,GACA,MAAT9sD,GAAyB,MAATA,EAClB0tD,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,KACjB,MAATA,GAAgB0tD,EAAS52D,OAAS,EAC3C42D,EAASx0D,KAAK,KACL8G,IAAS0tD,EAASA,EAAS52D,OAAS,IAC7C42D,EAASz0D,MAEa,IAApBy0D,EAAS52D,OAAc,CACzB,GAAa,MAATkJ,EAAc,CAChBmxC,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAC1Czb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKgkD,WAAY,EACjB,KACZ,CAAiB,GAAa,MAATl6C,EAAc,CACvBunB,GAAO,EACP,KACZ,CAAiB,GAAa,MAATvnB,EAAc,CACvB,GAAIs6C,EAAOxjD,OAAS,EAAG,CAGrB,IAFAqrB,EAAQm4B,EAAOxjD,OAAS,EACxB4mB,EAAO48B,EAAOn4B,GACPzE,GAAoB,UAAZA,EAAK,IAClBA,EAAO48B,IAASn4B,GAEdzE,IACFyzB,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYjwC,EAAK,IAAMA,EAAK,IACpDyzB,EAAM7jC,OAAOxM,IAAI6hD,SAEpB,CACDzsD,KAAK4K,IAAI8rD,GACT,KACZ,CACYtS,EAAOphD,KAAK0zD,EAExB,MACUtS,EAAOphD,KAAK0zD,GAEd,GAAI12D,KAAKw0D,UAAUmC,YAAa,CAC9B3R,GAAO,EACP,KACD,CACF,CACD/J,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBtT,GAC/CA,EAAOxjD,QACTq6C,EAAMqJ,KAAKC,UAAYvkD,KAAK23D,2BAA2BvT,GACvDpkD,KAAK6kD,IAAI5J,EAAO,SAAUmJ,GACtBY,IACF0R,EAAQtS,EAAOA,EAAOxjD,OAAS,GAC/Bq6C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjBzsD,KAAKq3D,OAASpc,EAAMqJ,KAAKI,QACzBzJ,EAAMqJ,KAAKI,QAAU,MAGvBzJ,EAAMqJ,KAAKC,UAAY,GACvBtJ,EAAMmJ,OAAS,IAEb/yB,IACF4pB,EAAMuJ,MAAQ,GACdxkD,KAAK07B,QAAUuf,EAElB,CACD,oBAAA2c,CAAqBC,GACnB,IAAIlU,EAAQ3jD,KAAK2jD,MAAMkU,GACvB,IAAc,IAAVlU,EAAiB,OACrB,IACI+S,EADAoB,EAAU,EAEd,IAAK,IAAIv2C,EAAIoiC,EAAQ,EAAGpiC,GAAK,IAC3Bm1C,EAAQmB,EAAOt2C,GACE,UAAbm1C,EAAM,KACRoB,GAAW,EACK,IAAZA,IAJwBv2C,KAOhC,MAAMvhB,KAAK+5B,MAAMx2B,MACf,mBACa,SAAbmzD,EAAM,GAAgBA,EAAM,GAAK,EAAIA,EAAM,GAE9C,CACD,KAAA/S,CAAMkU,GACJ,IACInB,EAAO5sD,EAAM0d,EADbgwC,EAAW,EAEf,IAAK,IAAKt0C,EAAI/I,KAAY09C,EAAOjyD,UAAW,CAS1C,GARA8wD,EAAQv8C,EACRrQ,EAAO4sD,EAAM,GACA,MAAT5sD,IACF0tD,GAAY,GAED,MAAT1tD,IACF0tD,GAAY,GAEG,IAAbA,GAA2B,MAAT1tD,EAAc,CAClC,GAAK0d,EAEE,IAAgB,SAAZA,EAAK,IAA6B,WAAZA,EAAK,GACpC,SAEA,OAAOtE,CACR,CALCljB,KAAK+3D,YAAYrB,EAMpB,CACDlvC,EAAOkvC,CACR,CACD,OAAO,CACR,CACD,OAAAjrB,CAAQirB,GACN,IAAIzb,EAAQ,IAAIoV,EAChBrwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IAAMA,EAAM,IACtDzb,EAAM7jC,OAAOxM,IAAI6hD,SACjB,IAAItiD,EAAOusD,EAAM,GAAG7yD,MAAM,GAAI,GAC9B,GAAI,QAAQqY,KAAK/R,GACf8wC,EAAM9wC,KAAO,GACb8wC,EAAMqJ,KAAKW,KAAO96C,EAClB8wC,EAAMqJ,KAAKY,MAAQ,OACd,CACL,IAAItT,EAAQznC,EAAKynC,MAAM,wBACvBqJ,EAAM9wC,KAAOynC,EAAM,GACnBqJ,EAAMqJ,KAAKW,KAAOrT,EAAM,GACxBqJ,EAAMqJ,KAAKY,MAAQtT,EAAM,EAC1B,CACF,CACD,eAAA0lB,GACEt3D,KAAKw0D,UAAYA,EAAUx0D,KAAK+5B,MACjC,CACD,IAAAorB,CAAK0S,EAAQG,GACX,IAAI/c,EAAQ,IAAIoO,EAChBrpD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B,IAuBInB,EAvBA1R,EAAO6S,EAAOA,EAAOj3D,OAAS,GASlC,IARgB,MAAZokD,EAAK,KACPhlD,KAAKgkD,WAAY,EACjB6T,EAAO90D,OAETk4C,EAAM7jC,OAAOxM,IAAM5K,KAAKy3D,YACtBzS,EAAK,IAAMA,EAAK,IAtKtB,SAA8B6S,GAC5B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAC9C,IAAIwzC,EAAQmB,EAAO30C,GACfuB,EAAMiyC,EAAM,IAAMA,EAAM,GAC5B,GAAIjyC,EAAK,OAAOA,CACjB,CACF,CAgK2BwzC,CAAqBJ,IAE7C5c,EAAM7jC,OAAOxM,IAAI6hD,SACO,SAAjBoL,EAAO,GAAG,IACO,IAAlBA,EAAOj3D,QAAcZ,KAAKk4D,YAAYL,GAC1C5c,EAAMqJ,KAAK55C,QAAUmtD,EAAO5rC,QAAQ,GAItC,IAFAgvB,EAAM7jC,OAAO9M,MAAQtK,KAAKy3D,YAAYI,EAAO,GAAG,IAChD5c,EAAMhsB,KAAO,GACN4oC,EAAOj3D,QAAQ,CACpB,IAAIkJ,EAAO+tD,EAAO,GAAG,GACrB,GAAa,MAAT/tD,GAAyB,UAATA,GAA6B,YAATA,EACtC,MAEFmxC,EAAMhsB,MAAQ4oC,EAAO5rC,QAAQ,EAC9B,CAGD,IAFAgvB,EAAMqJ,KAAKI,QAAU,GAEdmT,EAAOj3D,QAAQ,CAEpB,GADA81D,EAAQmB,EAAO5rC,QACE,MAAbyqC,EAAM,GAAY,CACpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,GAC5B,KACV,CAC2B,SAAbA,EAAM,IAAiB,KAAKx6C,KAAKw6C,EAAM,KACzC12D,KAAKk4D,YAAY,CAACxB,IAEpBzb,EAAMqJ,KAAKI,SAAWgS,EAAM,EAE/B,CACqB,MAAlBzb,EAAMhsB,KAAK,IAAgC,MAAlBgsB,EAAMhsB,KAAK,KACtCgsB,EAAMqJ,KAAK55C,QAAUuwC,EAAMhsB,KAAK,GAChCgsB,EAAMhsB,KAAOgsB,EAAMhsB,KAAKprB,MAAM,IAEhC,IACIpC,EADA02D,EAAc,GAElB,KAAON,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB02D,EAAYn1D,KAAK60D,EAAO5rC,SAE1BjsB,KAAKo4D,wBAAwBP,GAC7B,IAAK,IAAI30C,EAAK20C,EAAOj3D,OAAS,EAAGsiB,GAAM,EAAGA,IAAM,CAE9C,GADAwzC,EAAQmB,EAAO30C,GACgB,eAA3BwzC,EAAM,GAAGp8C,cAAgC,CAC3C2gC,EAAMoK,WAAY,EAClB,IAAID,EAASplD,KAAKq4D,WAAWR,EAAQ30C,GACrCkiC,EAASplD,KAAKs4D,cAAcT,GAAUzS,EACvB,gBAAXA,IAA0BnK,EAAMqJ,KAAKe,UAAYD,GACrD,KACD,CAAM,GAA+B,cAA3BsR,EAAM,GAAGp8C,cAA+B,CACjD,IAAIi+C,EAAQV,EAAOh0D,MAAM,GACrBsM,EAAM,GACV,IAAK,IAAIoR,EAAI2B,EAAI3B,EAAI,EAAGA,IAAK,CAC3B,IAAIzX,EAAOyuD,EAAMh3C,GAAG,GACpB,GAAgC,IAA5BpR,EAAI/F,OAAO89C,QAAQ,MAAuB,UAATp+C,EACnC,MAEFqG,EAAMooD,EAAMx1D,MAAM,GAAKoN,CACxB,CAC+B,IAA5BA,EAAI/F,OAAO89C,QAAQ,OACrBjN,EAAMoK,WAAY,EAClBpK,EAAMqJ,KAAKe,UAAYl1C,EACvB0nD,EAASU,EAEZ,CACD,GAAiB,UAAb7B,EAAM,IAA+B,YAAbA,EAAM,GAChC,KAEH,CACamB,EAAO98C,KAAMmI,GAAiB,UAAVA,EAAG,IAA4B,YAAVA,EAAG,MAExD+3B,EAAMqJ,KAAKI,SAAWyT,EAAYtzD,IAAKqe,GAAOA,EAAG,IAAIld,KAAK,IAC1DmyD,EAAc,IAEhBn4D,KAAK6kD,IAAI5J,EAAO,QAASkd,EAAYr0D,OAAO+zD,GAASG,GACjD/c,EAAM15C,MAAMwE,SAAS,OAASiyD,GAChCh4D,KAAK43D,qBAAqBC,EAE7B,CACD,WAAAE,CAAYrB,GACV,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,CACD,SAAA43D,CAAU9B,GACR,IAAIzb,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAOyb,EAAM,IACvBzb,EAAMjgC,SAAW,GACjBigC,EAAMqJ,KAAKI,QAAU,GACrB1kD,KAAK07B,QAAUuf,CAChB,CACD,GAAArwC,CAAI8rD,GACE12D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAKgkD,WAAY,EACjBhkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq3D,OAAS,GACVr3D,KAAK07B,QAAQe,QACfz8B,KAAK07B,QAAQtkB,OAAOxM,IAAM5K,KAAKy3D,YAAYf,EAAM,IACjD12D,KAAK07B,QAAQtkB,OAAOxM,IAAI6hD,SACxBzsD,KAAK07B,QAAU17B,KAAK07B,QAAQe,QAE5Bz8B,KAAKy4D,gBAAgB/B,EAExB,CACD,OAAAgC,GACM14D,KAAK07B,QAAQe,QAAQz8B,KAAK24D,gBAC1B34D,KAAK07B,QAAQ8oB,OAASxkD,KAAK07B,QAAQ8oB,MAAM5jD,SAC3CZ,KAAK07B,QAAQ4oB,KAAKN,UAAYhkD,KAAKgkD,WAErChkD,KAAK07B,QAAQ4oB,KAAK35C,OAAS3K,KAAK07B,QAAQ4oB,KAAK35C,OAAS,IAAM3K,KAAKq3D,OACjEr3D,KAAKq6B,KAAKjjB,OAAOxM,IAAM5K,KAAKy3D,YAAYz3D,KAAKw0D,UAAUyC,WACxD,CACD,aAAA2B,CAAclC,GAEZ,GADA12D,KAAKq3D,QAAUX,EAAM,GACjB12D,KAAK07B,QAAQ8oB,MAAO,CACtB,IAAIh9B,EAAOxnB,KAAK07B,QAAQ8oB,MAAMxkD,KAAK07B,QAAQ8oB,MAAM5jD,OAAS,GACtD4mB,GAAsB,SAAdA,EAAK1d,OAAoB0d,EAAK88B,KAAKkC,eAC7Ch/B,EAAK88B,KAAKkC,aAAexmD,KAAKq3D,OAC9Br3D,KAAKq3D,OAAS,GAEjB,CACF,CAED,WAAAI,CAAYhL,GACV,IAAIhoC,EAAMzkB,KAAK+5B,MAAM2yB,WAAWD,GAChC,MAAO,CACLjO,OAAQ/5B,EAAIkoC,IACZpO,KAAM95B,EAAI85B,KACVkO,SAEH,CACD,IAAAjlB,CAAKyT,EAAOwR,GACVzsD,KAAK07B,QAAQ14B,KAAKi4C,GAClBA,EAAM7jC,OAAS,CACb2iB,MAAO/5B,KAAK+5B,MACZzvB,MAAOtK,KAAKy3D,YAAYhL,IAE1BxR,EAAMqJ,KAAK55C,OAAS1K,KAAKq3D,OACzBr3D,KAAKq3D,OAAS,GACK,YAAfpc,EAAMnxC,OAAoB9J,KAAKgkD,WAAY,EAChD,CACD,KAAApT,CAAMtmC,GACJ,IAAIM,GAAM,EACNd,EAAO,KACP65C,GAAQ,EACRkV,EAAU,KACVrB,EAAW,GACXQ,EAAiB1tD,EAAM,GAAGmQ,WAAW,MACrCo9C,EAAS,GACTnB,EAAQpsD,EACZ,KAAOosD,GAAO,CAGZ,GAFA5sD,EAAO4sD,EAAM,GACbmB,EAAO70D,KAAK0zD,GACC,MAAT5sD,GAAyB,MAATA,EACb+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAc,MAAT8G,EAAe,IAAM,UAC9B,GAAIkuD,GAAkBrU,GAAkB,MAAT75C,EAC/B+uD,IAASA,EAAUnC,GACxBc,EAASx0D,KAAK,UACT,GAAwB,IAApBw0D,EAAS52D,OAAc,CAChC,GAAa,MAATkJ,EAAc,CAChB,GAAI65C,EAEF,YADA3jD,KAAKmlD,KAAK0S,EAAQG,GAGlB,KAEd,CAAiB,GAAa,MAATluD,EAET,YADA9J,KAAKgc,KAAK67C,GAEL,GAAa,MAAT/tD,EAAc,CACvB9J,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAC3B6H,GAAM,EACN,KACZ,CAA8B,MAATd,IACT65C,GAAQ,EAEpB,MAAmB75C,IAAS0tD,EAASA,EAAS52D,OAAS,KAC7C42D,EAASz0D,MACe,IAApBy0D,EAAS52D,SAAci4D,EAAU,OAEvCnC,EAAQ12D,KAAKw0D,UAAUoC,WACxB,CAGD,GAFI52D,KAAKw0D,UAAUmC,cAAa/rD,GAAM,GAClC4sD,EAAS52D,OAAS,GAAGZ,KAAK84D,gBAAgBD,GAC1CjuD,GAAO+4C,EAAO,CAChB,IAAKqU,EACH,KAAOH,EAAOj3D,SACZ81D,EAAQmB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAV81D,GAA+B,YAAVA,IACzB12D,KAAKw0D,UAAUiC,KAAKoB,EAAO90D,OAG/B/C,KAAKmlD,KAAK0S,EAAQG,EAC1B,MACQh4D,KAAKk4D,YAAYL,EAEpB,CACD,KAAAjjD,GACE,IAAI8hD,EACJ,MAAQ12D,KAAKw0D,UAAUmC,aAErB,OADAD,EAAQ12D,KAAKw0D,UAAUoC,YACfF,EAAM,IACZ,IAAK,QACH12D,KAAKq3D,QAAUX,EAAM,GACrB,MACF,IAAK,IACH12D,KAAK44D,cAAclC,GACnB,MACF,IAAK,IACH12D,KAAK4K,IAAI8rD,GACT,MACF,IAAK,UACH12D,KAAKyrC,QAAQirB,GACb,MACF,IAAK,UACH12D,KAAKmkD,OAAOuS,GACZ,MACF,IAAK,IACH12D,KAAKw4D,UAAU9B,GACf,MACF,QACE12D,KAAK4wC,MAAM8lB,GAIjB12D,KAAK04D,SACN,CACD,uBAAAN,GACC,CACD,GAAAvT,CAAI5J,EAAOhsB,EAAM4oC,EAAQG,GACvB,IAAItB,EAAO5sD,EAIPrI,EAAM+lB,EAHN5mB,EAASi3D,EAAOj3D,OAChBW,EAAQ,GACRw3D,GAAQ,EAEZ,IAAK,IAAI71C,EAAK,EAAGA,EAAKtiB,EAAQsiB,GAAM,EAClCwzC,EAAQmB,EAAO30C,GACfpZ,EAAO4sD,EAAM,GACA,UAAT5sD,GAAoBoZ,IAAOtiB,EAAS,GAAMo3D,EAE1B,YAATluD,GACT0d,EAAOqwC,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QAC5CzhB,EAAOo2D,EAAO30C,EAAK,GAAK20C,EAAO30C,EAAK,GAAG,GAAK,QACvCi0C,EAAsB3vC,IAAU2vC,EAAsB11D,IACjC,MAApBF,EAAMsC,OAAO,GAMjBk1D,GAAQ,EAHNx3D,GAASm1D,EAAM,IAMnBn1D,GAASm1D,EAAM,GAdfqC,GAAQ,EAiBZ,IAAKA,EAAO,CACV,IAAIlU,EAAMgT,EAAOtgD,OAAO,CAAC8V,EAAKnK,IAAOmK,EAAMnK,EAAG,GAAI,IAClD+3B,EAAMqJ,KAAKr1B,GAAQ,CAAE41B,MAAKtjD,QAC3B,CACD05C,EAAMhsB,GAAQ1tB,CACf,CACD,IAAAya,CAAK67C,GACHA,EAAO90D,MACP,IAAIk4C,EAAQ,IAAIsV,EAChBvwD,KAAKwnC,KAAKyT,EAAO4c,EAAO,GAAG,IAC3B5c,EAAMqJ,KAAKI,QAAU1kD,KAAK03D,yBAAyBG,GACnD73D,KAAK6kD,IAAI5J,EAAO,WAAY4c,GAC5B73D,KAAK07B,QAAUuf,CAChB,CACD,wBAAAyc,CAAyBG,GACvB,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,GAA+C,YAAlBA,IACjC3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CAED,0BAAAM,CAA2BE,GACzB,IAAIp2D,EACA41D,EAAS,GACb,KAAOQ,EAAOj3D,SACZa,EAAOo2D,EAAO,GAAG,GACJ,UAATp2D,GAA6B,YAATA,IACxB41D,GAAUQ,EAAO5rC,QAAQ,GAE3B,OAAOorC,CACR,CACD,aAAAiB,CAAcT,GACZ,IAAImB,EACA3B,EAAS,GACb,KAAOQ,EAAOj3D,SACZo4D,EAAgBnB,EAAOA,EAAOj3D,OAAS,GAAG,GACpB,UAAlBo4D,IACJ3B,EAASQ,EAAO90D,MAAM,GAAKs0D,EAE7B,OAAOA,CACR,CACD,UAAAgB,CAAWR,EAAQn0D,GACjB,IAAI+kD,EAAU,GACd,IAAK,IAAIvlC,EAAKxf,EAAMwf,EAAK20C,EAAOj3D,OAAQsiB,IACtCulC,GAAWoP,EAAO30C,GAAI,GAGxB,OADA20C,EAAOphD,OAAO/S,EAAMm0D,EAAOj3D,OAAS8C,GAC7B+kD,CACR,CACD,aAAAkQ,GACE,IAAIl0C,EAAMzkB,KAAK07B,QAAQtkB,OAAO9M,MAC9B,MAAMtK,KAAK+5B,MAAMx2B,MAAM,iBAAkBkhB,EAAI85B,KAAM95B,EAAI+5B,OACxD,CACD,eAAAsa,CAAgBD,GACd,MAAM74D,KAAK+5B,MAAMx2B,MACf,mBACA,CAAEkpD,OAAQoM,EAAQ,IAClB,CAAEpM,OAAQoM,EAAQ,GAAK,GAE1B,CACD,eAAAJ,CAAgB/B,GACd,MAAM12D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAK,GAExB,CACD,WAAAwB,CAAYL,GACV,MAAM73D,KAAK+5B,MAAMx2B,MACf,eACA,CAAEkpD,OAAQoL,EAAO,GAAG,IACpB,CAAEpL,OAAQoL,EAAO,GAAG,GAAKA,EAAO,GAAG,GAAGj3D,QAEzC,CACD,aAAA22D,CAActc,EAAOyb,GACnB,MAAM12D,KAAK+5B,MAAMx2B,MACf,uBACA,CAAEkpD,OAAQiK,EAAM,IAChB,CAAEjK,OAAQiK,EAAM,GAAKA,EAAM,GAAG91D,QAEjC,GAGIs6D,EACT,CAGA,SAASmI,KACP,GAAIhC,GAAkB,OAAOD,GAC7BC,GAAmB,EACnB,IAAIzQ,EAAY8R,KACZxJ,EAASiK,KACT7W,EAAQiW,KACZ,SAAS3tD,EAAMipB,EAAKzU,GAClB,IAAI4/B,EAAS,IAAIsD,EAAMzuB,EAAKzU,GACxB+vC,EAAU,IAAID,EAAOlQ,GACzB,IACEmQ,EAAQvkD,OACT,CAAC,MAAOm9C,GAYP,KAX6B,eAAzBqH,QAAQC,IAAIC,UACE,mBAAZvH,EAAGhoD,MAA6Bqf,GAAQA,EAAK1lB,OAC3C,WAAWwY,KAAKkN,EAAK1lB,MACvBquD,EAAGpuB,SAAW,iGACL,UAAUznB,KAAKkN,EAAK1lB,MAC7BquD,EAAGpuB,SAAW,iGACL,WAAWznB,KAAKkN,EAAK1lB,QAC9BquD,EAAGpuB,SAAW,mGAIdouB,CACP,CACD,OAAOoH,EAAQ9+B,IAChB,CAID,OAHA+mC,GAAUxsD,EACVA,EAAM+sB,QAAU/sB,EAChBg8C,EAAUsB,cAAct9C,GACjBwsD,EACT,CAGA,SAASkC,KACP,GAAI/B,GAAuB,OAAOD,GAClCC,GAAwB,EACxB,IAAIre,QAAEA,EAAOC,GAAEA,GAAO6e,KAClBxI,EAAegJ,KACf13D,EAAYo3D,KACZtR,EAAY8R,KACZhQ,EAAYiQ,KACZlJ,EAAYmJ,KACZzP,EAAS2P,KACTluD,EAAQyuD,KACR5S,EAAOuS,KACX,MAAMtJ,EAAqB,CACzBvV,OAAQ,SACR1Y,QAAS,UACT0Z,KAAM,cACN7kC,SAAU,WACV+Z,KAAM,OACNre,KAAM,QAEF29C,EAAe,CACnBnJ,QAAQ,EACRoJ,YAAY,EACZvJ,SAAS,EACTwJ,aAAa,EACbxQ,aAAa,EACbyQ,iBAAiB,EACjBC,UAAU,EACVC,cAAc,EACdC,MAAM,EACNC,UAAU,EACV1G,eAAe,EACf2G,SAAS,EACT1J,MAAM,EACN2J,UAAU,EACV7J,MAAM,EACN8J,UAAU,GAENC,EAAe,CACnBL,MAAM,EACNzG,eAAe,EACf2G,SAAS,GAGX,SAASI,EAAUttD,GACjB,MAAsB,iBAARA,GAAwC,mBAAbA,EAAInL,IAC9C,CACD,SAAS04D,EAAUvf,GACjB,IAAIjuC,GAAM,EACNlD,EAAO4vD,EAAmBze,EAAMnxC,MAMpC,MALmB,SAAfmxC,EAAMnxC,KACRkD,EAAMiuC,EAAMhsB,KAAK3U,cACO,WAAf2gC,EAAMnxC,OACfkD,EAAMiuC,EAAMlxC,KAAKuQ,eAEftN,GAAOiuC,EAAMjiC,OACR,CACLlP,EACAA,EAAO,IAAMkD,EAfF,EAiBXlD,EAAO,OACPA,EAAO,QAAUkD,GAEVA,EACF,CAAClD,EAAMA,EAAO,IAAMkD,EAAKlD,EAAO,OAAQA,EAAO,QAAUkD,GACvDiuC,EAAMjiC,OACR,CAAClP,EAvBK,EAuBWA,EAAO,QAExB,CAACA,EAAMA,EAAO,OAExB,CACD,SAAS2wD,EAAQxf,GACf,IAAIptB,EAQJ,OANEA,EADiB,aAAfotB,EAAMnxC,KACC,CAAC,WA/BG,EA+BmB,gBACR,SAAfmxC,EAAMnxC,KACN,CAAC,OAjCG,EAiCe,YAEnB0wD,EAAUvf,GAEd,CACLyf,WAAY,EACZ7sC,SACAjrB,SAAU,EACVm6B,KAAMke,EACN0f,aAAc,EACdC,SAAU,GAEb,CACD,SAASC,EAAW5f,GAGlB,OAFAA,EAAMiI,IAAW,EACbjI,EAAMuJ,OAAOvJ,EAAMuJ,MAAMz4C,QAASmX,GAAO23C,EAAW33C,IACjD+3B,CACR,CACD,IAAI6f,EAAW,CAAA,EACf,MAAMtI,EACJ,WAAAvyD,CAAYmzD,EAAYv1B,EAAKzU,GAG3B,IAAIo8B,EACJ,GAHAxlD,KAAK+6D,aAAc,EACnB/6D,KAAKg7D,WAAY,EAEE,iBAARn9B,GAA4B,OAARA,GAA8B,SAAbA,EAAI/zB,MAAgC,aAAb+zB,EAAI/zB,KAEpE,GAAI+zB,aAAe20B,GAAc30B,aAAes1B,EACrD3N,EAAQqV,EAAWh9B,EAAIxD,MACnBwD,EAAIh5B,WACkB,IAAbukB,EAAKvkB,MAAqBukB,EAAKvkB,IAAM,IAC3CukB,EAAKvkB,IAAIulD,SAAQhhC,EAAKvkB,IAAIulD,QAAS,GACxChhC,EAAKvkB,IAAI2iB,KAAOqW,EAAIh5B,SAEjB,CACL,IAAIs0D,EAAUvkD,EACVwU,EAAK6xC,SAAQ9B,EAAU/vC,EAAK6xC,OAAOrmD,OACnCwU,EAAK8xC,SAAQ/B,EAAU/vC,EAAK8xC,QAC5B/B,EAAQvkD,QAAOukD,EAAUA,EAAQvkD,OACrC,IACE4wC,EAAQ2T,EAAQt7B,EAAKzU,EACtB,CAAC,MAAO7lB,GACPvD,KAAKg7D,WAAY,EACjBh7D,KAAKuD,MAAQA,CACd,CACGiiD,IAAUA,EAAMrC,IAClByN,EAAUW,QAAQ/L,EAErB,MAtBCA,EAAQqV,EAAWh9B,GAuBrB79B,KAAK4B,OAAS,IAAIuxD,EAAOC,EAAY5N,EAAOp8B,GAC5CppB,KAAKm7D,QAAU,IAAKL,EAAUM,QAASN,EAAUl5D,OAAQ5B,KAAK4B,QAC9D5B,KAAK4pC,QAAU5pC,KAAKqzD,UAAUzpB,QAAQ/kC,IAAK65C,GACnB,iBAAXA,GAAuBA,EAAOyb,QAChC,IAAKzb,KAAWA,EAAOyb,QAAQn6D,KAAK4B,SAEpC88C,EAGZ,CACD,KAAAtsB,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACvCvD,KAAKg7D,UAAkB75D,QAAQC,QAAQpB,KAAK4B,SAC3C5B,KAAKq7D,aACRr7D,KAAKq7D,WAAar7D,KAAKs7D,YAElBt7D,KAAKq7D,WACb,CACD,MAAME,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,aAAAC,GACE,MAAM,IAAIx0D,MAAM,uDACjB,CACD,WAAAy0D,CAAYn4D,EAAO03C,GACjB,IAAIyD,EAAS1+C,KAAK4B,OAAO2xD,WACzB,IAGE,GAFItY,GAAOA,EAAM+L,WAAWzjD,GAC5BvD,KAAKuD,MAAQA,EACM,mBAAfA,EAAMwG,MAA8BxG,EAAMm7C,QAGvC,GAAIA,EAAOid,gBACa,eAAzBvC,QAAQC,IAAIC,SAA2B,CACzC,IAAIhsB,EAAaoR,EAAO8U,cACpBoI,EAAYld,EAAOid,eACnBE,EAAa77D,KAAK4B,OAAOyxD,UAAUj2C,QACnCw+B,EAAKggB,EAAU1xD,MAAM,KACrB/K,EAAI08D,EAAW3xD,MAAM,MACrB0xC,EAAG,KAAOz8C,EAAE,IAAMo4B,SAASqkB,EAAG,IAAMrkB,SAASp4B,EAAE,MACjD4H,QAAQxD,MACN,sEAAwEs4D,EAAa,SAAWvuB,EAAa,SAAWsuB,EAAY,mDAGzI,OAdDr4D,EAAMm7C,OAASA,EAAO8U,cACtBjwD,EAAMw7C,YAeT,CAAC,MAAO/zB,GACHjkB,SAAWA,QAAQxD,OAAOwD,QAAQxD,MAAMynB,EAC7C,CACD,OAAOznB,CACR,CACD,eAAAu4D,GACE97D,KAAKwN,UAAY,GACjB,IAAIiC,EAAM,CAACivC,EAAQ50C,EAAMg6B,KAClB9jC,KAAKwN,UAAU1D,KAAO9J,KAAKwN,UAAU1D,GAAQ,IAClD9J,KAAKwN,UAAU1D,GAAM9G,KAAK,CAAC07C,EAAQ5a,KAErC,IAAK,IAAI4a,KAAU1+C,KAAK4pC,QACtB,GAAsB,iBAAX8U,EACT,IAAK,IAAI9yC,KAAS8yC,EAAQ,CACxB,IAAKib,EAAa/tD,IAAU,SAASsQ,KAAKtQ,GACxC,MAAM,IAAI3E,MACR,iBAAiB2E,QAAY8yC,EAAO8U,yCAAyCxzD,KAAKqzD,UAAUj2C,iBAGhG,IAAKk9C,EAAa1uD,GAChB,GAA6B,iBAAlB8yC,EAAO9yC,GAChB,IAAK,IAAI8U,KAAUg+B,EAAO9yC,GAEtB6D,EAAIivC,EADS,MAAXh+B,EACU9U,EAIVA,EAAQ,IAAM8U,EAAOpG,cAJJokC,EAAO9yC,GAAO8U,QASH,mBAAlBg+B,EAAO9yC,IACvB6D,EAAIivC,EAAQ9yC,EAAO8yC,EAAO9yC,GAG/B,CAGL5L,KAAK+7D,YAAc38D,OAAOwF,KAAK5E,KAAKwN,WAAW5M,OAAS,CACzD,CACD,cAAM06D,GACJt7D,KAAK0+C,OAAS,EACd,IAAK,IAAIx7B,EAAK,EAAGA,EAAKljB,KAAK4pC,QAAQhpC,OAAQsiB,IAAM,CAC/C,IAAIw7B,EAAS1+C,KAAK4pC,QAAQ1mB,GACtB/c,EAAUnG,KAAKg8D,UAAUtd,GAC7B,GAAI6b,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO5C,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CAEJ,CAED,GADAvD,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IAAU,CACtBsC,EAAMtC,IAAW,EACjB,IAAIj5C,EAAQ,CAACwwD,EAAQjV,IACrB,KAAOv7C,EAAMrJ,OAAS,GAAG,CACvB,IAAIuF,EAAUnG,KAAKi8D,UAAUhyD,GAC7B,GAAIswD,EAAUp0D,GACZ,UACQA,CACP,CAAC,MAAO4rD,GACP,IAAI9W,EAAQhxC,EAAMA,EAAMrJ,OAAS,GAAGm8B,KACpC,MAAM/8B,KAAK07D,YAAY3J,EAAI9W,EAC5B,CAEJ,CACF,CACD,GAAIj7C,KAAKwN,UAAU0sD,SACjB,IAAK,IAAKxb,EAAQwd,KAAYl8D,KAAKwN,UAAU0sD,SAAU,CACrDl6D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAmB,aAAf8G,EAAM17C,KAAqB,CAC7B,IAAIqyD,EAAQ3W,EAAMhB,MAAM3/C,IACrBu3D,GAAYF,EAAQE,EAASp8D,KAAKm7D,gBAE/Bh6D,QAAQksB,IAAI8uC,EAClC,YACsBD,EAAQ1W,EAAOxlD,KAAKm7D,QAE7B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EACxB,CACF,CAEJ,CAED,OADA/xD,KAAKg7D,WAAY,EACVh7D,KAAK8K,WACb,CACD,SAAAkxD,CAAUtd,GACR1+C,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,GAAsB,iBAAXA,GAAuBA,EAAOub,KAAM,CAC7C,GAA8B,aAA1Bj6D,KAAK4B,OAAOy4B,KAAKvwB,KAAqB,CACxC,IAAIqyD,EAAQn8D,KAAK4B,OAAOy4B,KAAKmqB,MAAM3/C,IAChC2gD,GAAU9G,EAAOub,KAAKzU,EAAOxlD,KAAKm7D,UAErC,OAAIZ,EAAU4B,EAAM,IACXh7D,QAAQksB,IAAI8uC,GAEdA,CACR,CACD,OAAOzd,EAAOub,KAAKj6D,KAAK4B,OAAOy4B,KAAMr6B,KAAKm7D,QACpD,CAAe,GAAsB,mBAAXzc,EAChB,OAAOA,EAAO1+C,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAExC,CAAC,MAAO2B,GACP,MAAMvD,KAAK07D,YAAYn4D,EACxB,CACF,CACD,SAAAuH,GACE,GAAI9K,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAK+6D,YAAa,OAAO/6D,KAAK4B,OAClC5B,KAAK+6D,aAAc,EACnB/6D,KAAKq8D,OACL,IAAIjzC,EAAOppB,KAAK4B,OAAOwnB,KACnBjZ,EAAMrF,EACNse,EAAK6xC,SAAQ9qD,EAAMiZ,EAAK6xC,OAAOnwD,WAC/Bse,EAAKkzC,cAAansD,EAAMiZ,EAAKkzC,aAC7BnsD,EAAIrF,YAAWqF,EAAMA,EAAIrF,WAC7B,IACIqe,EADM,IAAIqwC,EAAarpD,EAAKnQ,KAAK4B,OAAOy4B,KAAMr6B,KAAK4B,OAAOwnB,MAC/C0lC,WAGf,OAFA9uD,KAAK4B,OAAOi8B,IAAM1U,EAAK,GACvBnpB,KAAK4B,OAAOiD,IAAMskB,EAAK,GAChBnpB,KAAK4B,MACb,CACD,IAAAy6D,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,GAAIvD,KAAKg7D,UAAW,OAAOh7D,KAAK4B,OAEhC,GADA5B,KAAKg7D,WAAY,EACbh7D,KAAKq7D,WACP,MAAMr7D,KAAKy7D,gBAEb,IAAK,IAAI/c,KAAU1+C,KAAK4pC,QAAS,CAE/B,GAAI2wB,EADUv6D,KAAKg8D,UAAUtd,IAE3B,MAAM1+C,KAAKy7D,eAEd,CAED,GADAz7D,KAAK87D,kBACD97D,KAAK+7D,YAAa,CACpB,IAAIvW,EAAQxlD,KAAK4B,OAAOy4B,KACxB,MAAQmrB,EAAMtC,IACZsC,EAAMtC,IAAW,EACjBljD,KAAKu8D,SAAS/W,GAEhB,GAAIxlD,KAAKwN,UAAU0sD,SACjB,GAAmB,aAAf1U,EAAM17C,KACR,IAAK,IAAIsyD,KAAW5W,EAAMhB,MACxBxkD,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAUkC,QAG1Cp8D,KAAKw8D,UAAUx8D,KAAKwN,UAAU0sD,SAAU1U,EAG7C,CACD,OAAOxlD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKopB,MACnBqwC,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK69B,GACb,CACD,SAAA2+B,CAAU5B,EAAU3f,GAClB,IAAK,IAAKyD,EAAQwd,KAAYtB,EAAU,CAEtC,IAAIz0D,EADJnG,KAAK4B,OAAO2xD,WAAa7U,EAEzB,IACEv4C,EAAU+1D,EAAQjhB,EAAOj7C,KAAKm7D,QAC/B,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAAMkO,QAClC,CACD,GAAmB,SAAflO,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAC/D,OAAO,EAET,GAAI89B,EAAUp0D,GACZ,MAAMnG,KAAKy7D,eAEd,CACF,CACD,SAAAQ,CAAUhyD,GACR,IAAIyyD,EAASzyD,EAAMA,EAAMrJ,OAAS,IAC5Bm8B,KAAMke,EAAK2f,SAAEA,GAAa8B,EAChC,GAAmB,SAAfzhB,EAAMnxC,MAAkC,aAAfmxC,EAAMnxC,OAAwBmxC,EAAMxe,OAE/D,YADAxyB,EAAMlH,MAGR,GAAI63D,EAASh6D,OAAS,GAAK87D,EAAO/B,aAAeC,EAASh6D,OAAQ,CAChE,IAAK89C,EAAQwd,GAAWtB,EAAS8B,EAAO/B,cACxC+B,EAAO/B,cAAgB,EACnB+B,EAAO/B,eAAiBC,EAASh6D,SACnC87D,EAAO9B,SAAW,GAClB8B,EAAO/B,aAAe,GAExB36D,KAAK4B,OAAO2xD,WAAa7U,EACzB,IACE,OAAOwd,EAAQjhB,EAAM2M,UAAW5nD,KAAKm7D,QACtC,CAAC,MAAOpJ,GACP,MAAM/xD,KAAK07D,YAAY3J,EAAI9W,EAC5B,CACF,CACD,GAAwB,IAApByhB,EAAO95D,SAAgB,CACzB,IACI+5B,EADA/5B,EAAW85D,EAAO95D,SAEtB,KAAO+5B,EAAQse,EAAMuJ,MAAMvJ,EAAMgW,QAAQruD,KAEvC,GADAq4C,EAAMgW,QAAQruD,IAAa,GACtB+5B,EAAMumB,GAGT,OAFAvmB,EAAMumB,IAAW,OACjBj5C,EAAMjH,KAAKy3D,EAAQ99B,IAIvB+/B,EAAO95D,SAAW,SACXq4C,EAAMgW,QAAQruD,EACtB,CACD,IAAIirB,EAAS6uC,EAAO7uC,OACpB,KAAO6uC,EAAOhC,WAAa7sC,EAAOjtB,QAAQ,CACxC,IAAIgL,EAAQiiB,EAAO6uC,EAAOhC,YAE1B,GADAgC,EAAOhC,YAAc,EAxWV,IAyWP9uD,EAKF,YAJIqvC,EAAMuJ,OAASvJ,EAAMuJ,MAAM5jD,SAC7Bq6C,EAAMiI,IAAW,EACjBwZ,EAAO95D,SAAWq4C,EAAM+V,gBAGrB,GAAIhxD,KAAKwN,UAAU5B,GAExB,YADA8wD,EAAO9B,SAAW56D,KAAKwN,UAAU5B,GAGpC,CACD3B,EAAMlH,KACP,CACD,QAAAw5D,CAASthB,GACPA,EAAMiI,IAAW,EACjB,IAAIr1B,EAAS2sC,EAAUvf,GACvB,IAAK,IAAIrvC,KAASiiB,EAChB,GA1XW,IA0XPjiB,EACEqvC,EAAMuJ,OACRvJ,EAAM8V,KAAMp0B,IACLA,EAAMumB,IAAUljD,KAAKu8D,SAAS5/B,SAGlC,CACL,IAAIi+B,EAAW56D,KAAKwN,UAAU5B,GAC9B,GAAIgvD,GACE56D,KAAKw8D,UAAU5B,EAAU3f,EAAM2M,WAAY,MAElD,CAEJ,CACD,QAAA8L,GACE,OAAO1zD,KAAKq8D,OAAO3I,UACpB,CACD,WAAItF,GACF,OAAOpuD,KAAK8K,YAAYsjD,OACzB,CACD,OAAIvwB,GACF,OAAO79B,KAAK8K,YAAY+yB,GACzB,CACD,OAAIh5B,GACF,OAAO7E,KAAK8K,YAAYjG,GACzB,CACD,YAAIyuD,GACF,OAAOtzD,KAAKq8D,OAAO/I,QACpB,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,OAAOr6B,KAAKq8D,OAAOhiC,IACpB,CACD,IAAK13B,OAAOq7C,eACV,MAAO,YACR,EASH,OAPAwU,EAAWmK,gBAAmBxK,IAC5B2I,EAAW3I,GAEbmP,GAAa9O,EACbA,EAAW7wB,QAAU6wB,EACrB/B,EAAKmC,mBAAmBJ,GACxBE,EAAUE,mBAAmBJ,GACtB8O,EACT,CAuHA,SAASiC,KACP,GAAI7B,GAAsB,OAAOrO,GACjCqO,GAAuB,EACvB,IAAI7E,EAvHN,WACE,GAAI4E,GAAyB,OAAOD,GACpCC,GAA0B,EAC1B,IAAIjI,EAAegJ,KACf13D,EAAYo3D,KACZzI,EAAYmJ,KACZhuD,EAAQyuD,KACZ,MAAMlQ,EAAS2P,KACf,MAAMjG,EACJ,WAAA58D,CAAYmzD,EAAYv1B,EAAKzU,GAO3B,IAAIo8B,EANJ3nB,EAAMA,EAAI94B,WACV/E,KAAK+6D,aAAc,EACnB/6D,KAAK88D,WAAa1J,EAClBpzD,KAAK+8D,KAAOl/B,EACZ79B,KAAKg9D,MAAQ5zC,EACbppB,KAAKi9D,UAAO,EAEZ,IAAI9sD,EAAMrF,EACV9K,KAAK4B,OAAS,IAAIuxD,EAAOnzD,KAAK88D,WAAYtX,EAAOxlD,KAAKg9D,OACtDh9D,KAAK4B,OAAOi8B,IAAMA,EAClB,IAAIq/B,EAAQl9D,KACZZ,OAAO0J,eAAe9I,KAAK4B,OAAQ,OAAQ,CACzCmH,IAAG,IACMm0D,EAAM7iC,OAGjB,IAAIx1B,EAAM,IAAI20D,EAAarpD,EAAKq1C,EAAOxlD,KAAKg9D,MAAOn/B,GACnD,GAAIh5B,EAAIumD,QAAS,CACf,IAAK+R,EAAcC,GAAgBv4D,EAAIiqD,WACnCqO,IACFn9D,KAAK4B,OAAOi8B,IAAMs/B,GAEhBC,IACFp9D,KAAK4B,OAAOiD,IAAMu4D,EAE5B,MACQv4D,EAAIgqD,kBACJ7uD,KAAK4B,OAAOi8B,IAAMh5B,EAAIg5B,GAEzB,CACD,KAAAzL,GACE,OAAIpyB,KAAKuD,MAAcpC,QAAQE,OAAOrB,KAAKuD,OACpCpC,QAAQC,QAAQpB,KAAK4B,OAC7B,CACD,MAAM25D,GACJ,OAAOv7D,KAAKoyB,QAAQT,MAAM4pC,EAC3B,CACD,QAAQC,GACN,OAAOx7D,KAAKoyB,QAAQtwB,KAAK05D,EAAWA,EACrC,CACD,IAAAa,GACE,GAAIr8D,KAAKuD,MAAO,MAAMvD,KAAKuD,MAC3B,OAAOvD,KAAK4B,MACb,CACD,IAAAE,CAAK26D,EAAalB,GAQhB,MAP6B,eAAzBnC,QAAQC,IAAIC,WACR,SAAUt5D,KAAKg9D,OACnBvD,EACE,4KAICz5D,KAAKoyB,QAAQtwB,KAAK26D,EAAalB,EACvC,CACD,QAAAx2D,GACE,OAAO/E,KAAK+8D,IACb,CACD,QAAArJ,GACE,MAAO,EACR,CACD,WAAItF,GACF,OAAOpuD,KAAK4B,OAAOi8B,GACpB,CACD,OAAIA,GACF,OAAO79B,KAAK4B,OAAOi8B,GACpB,CACD,OAAIh5B,GACF,OAAO7E,KAAK4B,OAAOiD,GACpB,CACD,YAAIyuD,GACF,MAAO,EACR,CACD,QAAIlqC,GACF,OAAOppB,KAAK4B,OAAOwnB,IACpB,CACD,aAAIiqC,GACF,OAAOrzD,KAAK4B,OAAOyxD,SACpB,CACD,QAAIh5B,GACF,GAAIr6B,KAAKq9D,MACP,OAAOr9D,KAAKq9D,MAEd,IAAI7X,EACA2T,EAAUvkD,EACd,IACE4wC,EAAQ2T,EAAQn5D,KAAK+8D,KAAM/8D,KAAKg9D,MACjC,CAAC,MAAOz5D,GACPvD,KAAKuD,MAAQA,CACd,CACD,GAAIvD,KAAKuD,MACP,MAAMvD,KAAKuD,MAGX,OADAvD,KAAKq9D,MAAQ7X,EACNA,CAEV,CACD,IAAK7iD,OAAOq7C,eACV,MAAO,cACR,EAIH,OAFAwjB,GAAe3E,EACfA,EAAal7B,QAAUk7B,EAChB2E,EACT,CAMqBgC,GACfhR,EAAa8Q,KACb5Q,EAAYiQ,KACZlS,EAAOuS,KACX,MAAMvQ,EACJ,WAAAxyD,CAAY2pC,EAAU,IACpB5pC,KAAKod,QAAU,SACfpd,KAAK4pC,QAAU5pC,KAAK8wD,UAAUlnB,EAC/B,CACD,SAAAknB,CAAUlnB,GACR,IAAI2zB,EAAa,GACjB,IAAK,IAAIr6C,KAAM0mB,EAMb,IALmB,IAAf1mB,EAAGk4C,QACLl4C,EAAKA,IACIA,EAAGk4C,UACZl4C,EAAKA,EAAGk4C,SAEQ,iBAAPl4C,GAAmB3jB,MAAMmN,QAAQwW,EAAG0mB,SAC7C2zB,EAAaA,EAAWz5D,OAAOof,EAAG0mB,cAC7B,GAAkB,iBAAP1mB,GAAmBA,EAAGswC,cACtC+J,EAAWv6D,KAAKkgB,QACX,GAAkB,mBAAPA,EAChBq6C,EAAWv6D,KAAKkgB,OACX,IAAkB,iBAAPA,IAAoBA,EAAGtO,QAASsO,EAAGpY,UAOnD,MAAM,IAAI7D,MAAMic,EAAK,4BANrB,GAA6B,eAAzBk2C,QAAQC,IAAIC,SACd,MAAM,IAAIryD,MACR,iKAKL,CAEH,OAAOs2D,CACR,CACD,OAAAnE,CAAQv7B,EAAKzU,EAAO,IAClB,OAAKppB,KAAK4pC,QAAQhpC,QAAWwoB,EAAK8xC,QAAW9xC,EAAKkzC,aAAgBlzC,EAAK6xC,OAG9D,IAAIzI,EAAWxyD,KAAM69B,EAAKzU,GAF1B,IAAIyzC,EAAa78D,KAAM69B,EAAKzU,EAItC,CACD,GAAAo0C,CAAI9e,GAEF,OADA1+C,KAAK4pC,QAAU5pC,KAAK4pC,QAAQ9lC,OAAO9D,KAAK8wD,UAAU,CAACpS,KAC5C1+C,IACR,EAMH,OAJAqzD,GAAYZ,EACZA,EAAU9wB,QAAU8wB,EACpBhC,EAAKoC,kBAAkBJ,GACvBC,EAAUG,kBAAkBJ,GACrBY,EACT,CAiJA,IAAIipB,GAtFJ,WACE,GAAIxa,GAAoB,OAAOD,GAC/BC,GAAqB,EACrB,IAAIxjB,EAAiB6gB,KACjB9V,EAAc+Y,KACd5P,EAAa8Q,KACb1S,EAAY8R,KACZjQ,EAAY8Q,KACZz4D,EAAYo3D,KACZxE,EAjEN,WACE,GAAIkE,GAAqB,OAAOD,GAChCC,GAAsB,EACtB,IAAIvY,EAAc+Y,KACdlY,EAAcoY,KACdjS,EAAUoS,KACVjS,EAASuS,KACTzW,EAAQiW,KACR9R,EAAOuS,KACPzS,EAAO2S,KACX,SAASxF,EAASnlD,EAAMowC,GACtB,GAAIppD,MAAMmN,QAAQ6L,GAAO,OAAOA,EAAK1T,IAAKo1C,GAAOyjB,EAASzjB,IAC1D,IAAM0O,OAAQgV,KAAcvjC,GAAa7hB,EACzC,GAAIolD,EAAW,CACbhV,EAAS,GACT,IAAK,IAAIK,KAAU2U,EAAW,CAC5B,IAAIC,EAAgB,IAAK5U,EAAQ1pD,UAAWgtD,EAAM7sD,WAC9Cm+D,EAAc/4D,MAChB+4D,EAAc/4D,IAAM,IACf+4D,EAAc/4D,IACjBvF,UAAW4qD,EAAYzqD,YAG3BkpD,EAAO3lD,KAAK46D,EACb,CACF,CAID,GAHIxjC,EAASoqB,QACXpqB,EAASoqB,MAAQjsC,EAAKisC,MAAM3/C,IAAKo1C,GAAOyjB,EAASzjB,EAAI0O,KAEnDvuB,EAAShjB,OAAQ,CACnB,IAAI2xC,QAAEA,KAAY3xC,GAAWgjB,EAAShjB,OACtCgjB,EAAShjB,OAASA,EACH,MAAX2xC,IACF3uB,EAAShjB,OAAO2iB,MAAQ4uB,EAAOI,GAElC,CACD,GAAsB,SAAlB3uB,EAAStwB,KACX,OAAO,IAAI2mD,EAAKr2B,GACX,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIu/C,EAAYjvB,GAClB,GAAsB,SAAlBA,EAAStwB,KAClB,OAAO,IAAIymD,EAAKn2B,GACX,GAAsB,YAAlBA,EAAStwB,KAClB,OAAO,IAAIumD,EAAQj2B,GACd,GAAsB,WAAlBA,EAAStwB,KAClB,OAAO,IAAI0mD,EAAOp2B,GAElB,MAAM,IAAInzB,MAAM,sBAAwBsR,EAAKzO,KAEhD,CAGD,OAFA63D,GAAajE,EACbA,EAAS/7B,QAAU+7B,EACZiE,EACT,CAYiB8B,GACX/Q,EAAYiQ,KACZ1P,EAAU4P,KACVxS,EAAUoS,KACVjS,EAASuS,KACT5P,EAAS2P,KACTxW,EAAQiW,KACR3tD,EAAQyuD,KACRv2C,EAAOm2C,KACP1S,EAAO2S,KACPzS,EAAOuS,KACPlc,EAAQqb,KACZ,SAASrH,KAAYlxB,GAInB,OAHuB,IAAnBA,EAAQhpC,QAAgBrB,MAAMmN,QAAQk9B,EAAQ,MAChDA,EAAUA,EAAQ,IAEb,IAAI6oB,EAAU7oB,EACtB,CA0DD,OAzDAkxB,EAASpc,OAAS,SAAgB30C,EAAM+zD,GACtC,IAkBIvF,EAlBAwF,GAAiB,EACrB,SAASC,KAAWp3D,GACdG,SAAWA,QAAQC,OAAS+2D,IAC9BA,GAAiB,EACjBh3D,QAAQC,KACN+C,EAAO,qHAELqvD,QAAQC,IAAI4E,MAAQ7E,QAAQC,IAAI4E,KAAKxjD,WAAW,OAClD1T,QAAQC,KACN+C,EAAO,uEAIb,IAAIm0D,EAAcJ,KAAel3D,GAGjC,OAFAs3D,EAAY1K,cAAgBzpD,EAC5Bm0D,EAAYvC,gBAAiB,IAAIlJ,GAAYr1C,QACtC8gD,CACR,CAWD,OATA9+D,OAAO0J,eAAek1D,EAAS,UAAW,CACxCj1D,IAAG,KACIwvD,IAAOA,EAAQyF,KACbzF,KAGXyF,EAAQ5E,QAAU,SAASv7B,EAAKsgC,EAAaC,GAC3C,OAAOtD,EAAS,CAACkD,EAAQI,KAAchF,QAAQv7B,EAAKsgC,EAC1D,EACWH,CACX,EACElD,EAAShwD,UAAYA,EACrBgwD,EAASlmD,MAAQA,EACjBkmD,EAAS4C,SAAWA,EACpB5C,EAAShuC,KAAOA,EAChBguC,EAASrvB,QAAWrR,GAAa,IAAIi2B,EAAQj2B,GAC7C0gC,EAASuD,OAAUjkC,GAAa,IAAIo2B,EAAOp2B,GAC3C0gC,EAAS3V,KAAQ/qB,GAAa,IAAIivB,EAAYjvB,GAC9C0gC,EAAS9+C,KAAQoe,GAAa,IAAIm2B,EAAKn2B,GACvC0gC,EAASzgC,KAAQD,GAAa,IAAIq2B,EAAKr2B,GACvC0gC,EAASx6C,SAAY8Z,GAAa,IAAIs4B,EAAUt4B,GAChD0gC,EAASxc,eAAiBA,EAC1Bwc,EAASzR,YAAcA,EACvByR,EAASlK,UAAYA,EACrBkK,EAASrI,UAAYA,EACrBqI,EAASf,SAAWrH,EACpBoI,EAASzK,QAAUA,EACnByK,EAAS7H,QAAUA,EACnB6H,EAAStK,OAASA,EAClBsK,EAAS3H,OAASA,EAClB2H,EAASxO,MAAQA,EACjBwO,EAASvK,KAAOA,EAChBuK,EAASrK,KAAOA,EAChBqK,EAAS7gC,KAAO6sB,EAChB0L,EAAWmK,gBAAgB7B,GAC3B+G,GAAY/G,EACZA,EAASn5B,QAAUm5B,EACZ+G,EACT,CACqB6B,GACrB,MAAMtI,GAA0BuD,GAAwB2d,IACxDlhB,GAAQtwD,UACRswD,GAAQsC,SACRtC,GAAQ1c,OACR0c,GAAQxmD,MACRwmD,GAAQtuC,KACRsuC,GAAQ96C,SACR86C,GAAQ3vB,QACR2vB,GAAQiD,OACRjD,GAAQp/C,KACRo/C,GAAQjW,KACRiW,GAAQ/gC,KACR+gC,GAAQ9c,eACR8c,GAAQ/R,YACR+R,GAAQxK,UACRwK,GAAQ3I,UACR2I,GAAQrB,SACRqB,GAAQ/K,QACR+K,GAAQnI,QACRmI,GAAQ5K,OACR4K,GAAQjI,OACRiI,GAAQ9O,MACR8O,GAAQ7K,KACR6K,GAAQ3K,KACR2K,GAAQnhC,KACR,MAAM2pC,GAEJ,WAAA3jE,IAAe4jE,GACbrsB,GAAex3C,KAAM,gBAAiB,MACtCw3C,GAAex3C,KAAM,aAAc,MACnCw3C,GAAex3C,KAAM,iBACrBw3C,GAAex3C,KAAM,aAAc,MACnCw3C,GAAex3C,KAAM,YAAa,MAClCw3C,GAAex3C,KAAM,kBAAmB,MACxCw3C,GAAex3C,KAAM,cAAe,MACpCw3C,GAAex3C,KAAM,eAAgB,GACrCw3C,GAAex3C,KAAM,YAAa,GAClCw3C,GAAex3C,KAAM,YACrBw3C,GAAex3C,KAAM,YACrBw3C,GAAex3C,KAAM,aACtB,CACD,cAAIg6C,GACF,MAAM8pB,EAAc,GACpB,IAAIC,EAAgB/jE,KAAK48B,WACzB,KAAOmnC,GACLD,EAAY9gE,KAAK+gE,GACjBA,EAAgBA,EAAclnC,YAEhC,OAAOinC,CACR,CACD,QAAA1uC,CAAS6lB,GACP,KAAMA,aAAiB2oB,IAAa,OAAO,EACtC,GAAI3oB,EAAM/f,gBAAkBl7B,KAAKk7B,cAAe,OAAO,EACvD,GAAI+f,IAAUj7C,KAAM,OAAO,EAChC,KAAOi7C,EAAMve,YAAY,CACvB,GAAIue,EAAMve,aAAe18B,KAAM,OAAO,EACtCi7C,EAAQA,EAAMve,UACf,CACD,OAAO,CACR,CAED,WAAAuc,CAAY+qB,GACV,MAAM,IAAI/8D,MACR,8GAEH,CAED,YAAAogD,CAAa2c,EAAWC,GACtB,MAAM,IAAIh9D,MACR,+GAEH,CAED,WAAAoyC,CAAY6qB,GACV,MAAM,IAAIj9D,MACR,8GAEH,CACD,QAAAlC,GACE,MAAO,QACR,EAEH,MAAMo/D,GAAoB,CACxBlqC,KAAM,CAAC,aAAc,aAAc,gBAAiB,eACpD6d,WAAY,CAAC,OAAQ,eACrBC,QAAS,CAAC,aAAc,gBAAiB,oBACzCC,iBAAkB,IAEdosB,GAAkB,CACtBnqC,KAAM,CAAC,WAAY,eACnB6d,WAAY,CAAC,gBACbC,QAAS,GACTC,iBAAkB,CAAC,gBAEfqsB,GAAyB,CAAA,EAU/B,SAASC,GAAsBt3D,GAC7B,GAAIq3D,GAAuBr3D,GACzB,OAAOq3D,GAAuBr3D,GAChC,MAAMywB,EAZR,SAAyCzwB,GACvC,IAAImY,EAAKtf,EACT,MAAMuyC,EAAkI,OAAjGvyC,EAA8D,OAAxDsf,EAAoB,MAAd5gB,gBAAqB,EAASA,WAAW8zC,WAAgB,EAASlzB,EAAImzB,iBAAsB,EAASzyC,EAAGlG,KAAKwlB,EAAKnY,GACrK,OAAIorC,GAAiC7zC,WAAW6zC,GACvC7zC,WAAW6zC,QAElB,CAEJ,CAIoBmsB,CAAgCv3D,IAAQzI,WAAWyI,GAC/DwrC,EAAmB/a,EAAUh+B,UAC7Bg5C,EAAgBzrC,KAAOm3D,GAAoBA,GAAkBn3D,QAAO,EACpE0rC,EAAuBvD,QAC3BsD,GACAA,EAAc56B,MACX86B,IACC,IAAIxzB,EAAKtf,EACT,OAAOsvC,QACoG,OAAxGtvC,EAA4E,OAAtEsf,EAAM/lB,OAAOw5C,yBAAyBJ,EAAkBG,SAAqB,EAASxzB,EAAIpc,UAAe,EAASlD,EAAGd,WAAWgB,SAAS,qBAKlJ8yC,EAAc7rC,KAAOo3D,GAAkBA,GAAgBp3D,QAAO,EAC9D8rC,EAAqB3D,QACzB0D,GAAeA,EAAYh7B,MAExBlJ,IACC,IAAIwQ,EACJ,MAA2C,mBAA7BqzB,EAAiB7jC,KAA+D,OAAnCwQ,EAAMqzB,EAAiB7jC,SAAmB,EAASwQ,EAAIpgB,WAAWgB,SAAS,qBAI5I,GAAI2yC,GAAwBI,EAE1B,OADAurB,GAAuBr3D,GAAOywB,EAAUh+B,UACjCg+B,EAAUh+B,UAEnB,IACE,MAAMs5C,EAAWz4B,SAAS04B,cAAc,UACxC14B,SAASte,KAAKi3C,YAAYF,GAC1B,MAAMG,EAAMH,EAASI,cACrB,IAAKD,EAAK,OAAOzb,EAAUh+B,UAC3B,MAAM25C,EAAkBF,EAAIlsC,GAAKvN,UAEjC,OADA6gB,SAASte,KAAKq3C,YAAYN,GACrBK,EACEirB,GAAuBr3D,GAAOosC,EADRZ,CAEjC,CAAI,MACA,OAAOA,CACR,CACH,CACA,MAAMgsB,GAAyB,CAAA,EAC/B,SAASC,GAAqBz3D,EAAKwsC,EAAUb,GAC3C,IAAIxzB,EACJ,MAAMs0B,EAAW,GAAGzsC,KAAOlN,OAAO64C,KAClC,GAAI6rB,GAAuB/qB,GACzB,OAAO+qB,GAAuB/qB,GAAU95C,KACtC65C,GAEJ,MAAME,EAAqB4qB,GAAsBt3D,GAC3C2sC,EAGA,OAHqBx0B,EAAM/lB,OAAOw5C,yBACtCc,EACAf,SACW,EAASxzB,EAAIpc,IAC1B,OAAK4wC,GACL6qB,GAAuB/qB,GAAYE,EAC5BA,EAAkBh6C,KAAK65C,IAFCA,EAASb,EAG1C,CACA,MAAM+rB,GAAuB,CAAA,EAC7B,SAASC,GAAmB33D,EAAKwsC,EAAU7kC,GACzC,MAAM8kC,EAAW,GAAGzsC,KAAOlN,OAAO6U,KAClC,GAAI+vD,GAAqBjrB,GACvB,OAAOirB,GAAqBjrB,GAAU3/B,KACpC0/B,GAEJ,MACMM,EADqBwqB,GAAsBt3D,GACN2H,GAC3C,MAA+B,mBAApBmlC,EAAuCN,EAAS7kC,IAC3D+vD,GAAqBjrB,GAAYK,EAC1BA,EAAgBhgC,KAAK0/B,GAC9B,CAoCA,SAAS+iC,KACP,OAAOjY,GAAsB,oBAAoBrkE,WACnD,CACA,MAAM6E,GAAQ,CACZk1C,WAvCF,SAAoBC,GAClB,OAAOwqB,GAAqB,OAAQxqB,EAAI,aAC1C,EAsCEvd,WArCF,SAAoBud,GAClB,OAAOwqB,GAAqB,OAAQxqB,EAAI,aAC1C,EAoCE7c,cAnCF,SAAuB6c,GACrB,OAAOwqB,GAAqB,OAAQxqB,EAAI,gBAC1C,EAkCEC,YAjCF,SAAqBD,GACnB,OAAOwqB,GAAqB,OAAQxqB,EAAI,cAC1C,EAgCE7kB,SA/BF,SAAkB6kB,EAAIrJ,GACpB,OAAO+zB,GAAmB,OAAQ1qB,EAAI,WAA/B0qB,CAA2C/zB,EACpD,EA8BEuJ,YA7BF,SAAqBF,GACnB,OAAO0qB,GAAmB,OAAQ1qB,EAAI,cAA/B0qB,EACT,EA4BEvqB,KA3BF,SAAcH,GACZ,OAAKA,GAAQ,SAAUA,EAChBwqB,GAAqB,aAAcxqB,EAAI,QADX,IAErC,EAyBEI,YAxBF,SAAqBJ,GACnB,OAAOA,EAAGI,WACZ,EAuBEC,WAtBF,SAAoBL,GAClB,OAAKA,GAAQ,eAAgBA,EACtBwqB,GAAqB,UAAWxqB,EAAI,cADF,IAE3C,EAoBEt5B,cAnBF,SAAuBs5B,EAAIx5B,GACzB,OAAOgkD,GAAqB,UAAWxqB,EAAI,gBAApCwqB,CAAqDhkD,EAC9D,EAkBEqd,iBAjBF,SAA0Bmc,EAAIx5B,GAC5B,OAAOgkD,GAAqB,UAAWxqB,EAAI,mBAApCwqB,CAAwDhkD,EACjE,EAgBE85B,iBAAkBgiC,IAEpB,SAAS5T,GAAG7+D,EAAMR,EAAI0lB,EAAS1O,UAC7B,MAAMtY,EAAU,CAAE4gE,SAAS,EAAMC,SAAS,GAE1C,OADA75C,EAAOsB,iBAAiBxmB,EAAMR,EAAItB,GAC3B,IAAMgnB,EAAOmB,oBAAoBrmB,EAAMR,EAAItB,EACpD,CACA,MAAM48D,GAAiC,4NACvC,IAAIC,GAAU,CACZhgE,IAAK,CAAE,EACP41C,MAAK,KACH1zC,QAAQxD,MAAMqhE,KACN,GAEVjlC,QAAO,KACL54B,QAAQxD,MAAMqhE,IACP,MAET,iBAAA9pB,GACE/zC,QAAQxD,MAAMqhE,GACf,EACDt1C,IAAG,KACDvoB,QAAQxD,MAAMqhE,KACP,GAET,KAAAxpB,GACEr0C,QAAQxD,MAAMqhE,GACf,GAYH,SAASkF,GAASr6C,EAAMs6C,EAAM/hE,EAAU,CAAA,GACtC,IAAIsO,EAAU,KACVo4C,EAAW,EACf,OAAO,YAAY9nD,GACjB,MAAM+P,EAAMpM,KAAKoM,MACZ+3C,IAAgC,IAApB1mD,EAAQgiE,UACvBtb,EAAW/3C,GAEb,MAAMszD,EAAYF,GAAQpzD,EAAM+3C,GAC1B3hC,EAAU/sB,KACZiqE,GAAa,GAAKA,EAAYF,GAC5BzzD,IACFkC,aAAalC,GACbA,EAAU,MAEZo4C,EAAW/3C,EACX8Y,EAAK5uB,MAAMksB,EAASnmB,IACV0P,IAAgC,IAArBtO,EAAQkiE,WAC7B5zD,EAAUa,WAAW,KACnBu3C,GAA+B,IAApB1mD,EAAQgiE,QAAoB,EAAIz/D,KAAKoM,MAChDL,EAAU,KACVmZ,EAAK5uB,MAAMksB,EAASnmB,IACnBqjE,GAET,CACA,CACA,SAAS1C,GAAWv4C,EAAQhiB,EAAK9N,EAAGsoE,EAAWtuB,EAAM10C,QACnD,MAAM4qD,EAAWlW,EAAI95C,OAAOw5C,yBAAyB5pB,EAAQhiB,GAe7D,OAdAksC,EAAI95C,OAAO0J,eACTkmB,EACAhiB,EACAw6D,EAAYtoE,EAAI,CACd,GAAA8J,CAAIzH,GACF4V,WAAW,KACTjY,EAAE8J,IAAIrJ,KAAKK,KAAMuB,IAChB,GACC6tD,GAAYA,EAASpmD,KACvBomD,EAASpmD,IAAIrJ,KAAKK,KAAMuB,EAE3B,IAGE,IAAMgmE,GAAWv4C,EAAQhiB,EAAKoiD,GAAY,CAAA,GAAI,EACvD,CACA,SAAS9e,GAAMl5B,EAAQrN,EAAMoS,GAC3B,IACE,KAAMpS,KAAQqN,GACZ,MAAO,OAGT,MAAMg4C,EAAWh4C,EAAOrN,GAClB++D,EAAU3sD,EAAYizC,GAW5B,MAVuB,mBAAZ0Z,IACTA,EAAQrpE,UAAYqpE,EAAQrpE,WAAa,CAAA,EACzCL,OAAO2pE,iBAAiBD,EAAS,CAC/BjvD,mBAAoB,CAClB5Q,YAAY,EACZ1H,MAAO6tD,MAIbh4C,EAAOrN,GAAQ++D,EACR,KACL1xD,EAAOrN,GAAQqlD,EAErB,CAAI,MACA,MAAO,MAER,CACH,CA/EsB,oBAAX5qD,QAA0BA,OAAOmsB,OAASnsB,OAAOs3C,UAC1D+oB,GAAU,IAAIl0C,MAAMk0C,GAAS,CAC3B97D,IAAG,CAACimB,EAAQC,EAAMpjB,KACH,QAATojB,GACFloB,QAAQxD,MAAMqhE,IAET9oB,QAAQ/yC,IAAIimB,EAAQC,EAAMpjB,OA0EvC,IAAIi5D,GAAev6D,KAAKoM,IAIxB,SAASowD,GAAgB7tB,GACvB,IAAI/zB,EAAKtf,EAAIoC,EAAIC,EACjB,MAAMo9D,EAAMpsB,EAAI54B,SAChB,MAAO,CACL2kC,KAAMqgB,EAAI0B,iBAAmB1B,EAAI0B,iBAAiBC,gBAAiC,IAApB/tB,EAAIguB,YAAyBhuB,EAAIguB,YAAc5B,EAAIrlC,gBAAgBgnC,aAAsB,MAAP3B,OAAc,EAASA,EAAItjE,QAAmD,OAAxCmjB,EAAMrgB,GAAMs4B,cAAckoC,EAAItjE,YAAiB,EAASmjB,EAAI8hD,cAA0D,OAAzCphE,EAAY,MAAPy/D,OAAc,EAASA,EAAItjE,WAAgB,EAAS6D,EAAGohE,aAAe,EAC/UE,IAAK7B,EAAI0B,iBAAmB1B,EAAI0B,iBAAiBI,eAAgC,IAApBluB,EAAImuB,YAAyBnuB,EAAImuB,aAAsB,MAAP/B,OAAc,EAASA,EAAIrlC,gBAAgBmnC,aAAsB,MAAP9B,OAAc,EAASA,EAAItjE,QAAkD,OAAvCiG,EAAKnD,GAAMs4B,cAAckoC,EAAItjE,YAAiB,EAASiG,EAAGm/D,aAAyD,OAAzCl/D,EAAY,MAAPo9D,OAAc,EAASA,EAAItjE,WAAgB,EAASkG,EAAGk/D,YAAc,EAErW,CACA,SAASpnC,KACP,OAAOx7B,OAAOi7B,aAAenf,SAAS2f,iBAAmB3f,SAAS2f,gBAAgBC,cAAgB5f,SAASte,MAAQse,SAASte,KAAKk+B,YACnI,CACA,SAASC,KACP,OAAO37B,OAAOk7B,YAAcpf,SAAS2f,iBAAmB3f,SAAS2f,gBAAgBG,aAAe9f,SAASte,MAAQse,SAASte,KAAKo+B,WACjI,CACA,SAAS2kC,GAAqB9pB,GAC5B,IAAKA,EACH,OAAO,KAGT,OADWA,EAAMjhB,WAAaihB,EAAM/gB,aAAe+gB,EAAQn2C,GAAMs4B,cAAc6d,EAEjF,CACA,SAAS6sB,GAAU7sB,EAAO/P,EAAYhrB,EAAeo7B,GACnD,IAAKL,EACH,OAAO,EAET,MAAM8sB,EAAKhD,GAAqB9pB,GAChC,IAAK8sB,EACH,OAAO,EAET,IACE,GAA0B,iBAAf78B,EAAyB,CAClC,GAAI68B,EAAGzrC,UAAUlH,SAAS8V,GAAa,OAAO,EAC9C,GAAIoQ,GAAmD,OAAjCysB,EAAGntD,QAAQ,IAAMswB,GAAsB,OAAO,CAC1E,MACM,GAAImQ,GAAkB0sB,EAAI78B,EAAYoQ,GAAiB,OAAO,CAEjE,CAAC,MAAOyW,GACR,CACD,GAAI7xC,EAAe,CACjB,GAAI6nD,EAAGC,QAAQ9nD,GAAgB,OAAO,EACtC,GAAIo7B,GAAgD,OAA9BysB,EAAGntD,QAAQsF,GAAyB,OAAO,CAClE,CACD,OAAO,CACT,CAIA,SAAS+nD,GAAUhuB,EAAI0tB,EAASp8B,GAC9B,QAAmB,UAAf0O,EAAG9f,UAAuBoR,EAAe28B,sBA9jR1B,IAikRZP,EAAQltB,MAAMR,EACvB,CACA,SAASytB,GAAkB14C,EAAQ24C,GACjC,GAAIE,GAAa74C,GACf,OAAO,EAET,MAAM9Y,EAAKyxD,EAAQltB,MAAMzrB,GACzB,IAAK24C,EAAQr4C,IAAIpZ,GACf,OAAO,EAET,MAAMumB,EAAS33B,GAAM43B,WAAW1N,GAChC,QAAIyN,GAAUA,EAAOzC,WAAahL,EAAOiM,kBAGpCwB,GAGEirC,GAAkBjrC,EAAQkrC,GACnC,CACA,SAASc,GAAoB78D,GAC3B,OAAOupC,QAAQvpC,EAAM88D,eACvB,CASA,SAASN,GAAmBnuB,EAAI0tB,GAC9B,OAAOxyB,QAAwB,WAAhB8E,EAAGouB,UAAyBV,EAAQjtB,QAAQT,GAC7D,CACA,SAASquB,GAAuBruB,EAAI0tB,GAClC,OAAOxyB,QACW,SAAhB8E,EAAGouB,UAAuBpuB,EAAGjgB,WAAaigB,EAAG/f,cAAgB+f,EAAGle,cAA2C,eAA3Bke,EAAGle,aAAa,QAA2B4rC,EAAQjtB,QAAQT,GAE/I,CACA,SAASqtB,GAAcrtB,GACrB,QAAKA,IACDA,aAAc2pB,IAAc,eAAgB3pB,EACvC9E,QAAQ8E,EAAGK,YAEbnF,QAAQrwC,GAAMw1C,WAAWL,IAClC,CAlGqB,iBAAiB/9B,KAAK3R,KAAKoM,MAAM5R,cACpD+/D,GAAe,KAAM,IAAqBv6D,MAAQqxB,WAkGpD,MAAM4pC,GACJ,WAAAvlE,GACEm3C,GAAcp3C,KAAM,KAAM,GAC1Bo3C,GAAcp3C,KAAM,aAA8B,IAAI4uB,SACtDwoB,GAAcp3C,KAAM,aAA8B,IAAI+xB,IACvD,CACD,KAAA0oB,CAAMgrB,GACJ,OAAOzlE,KAAK0lE,WAAW38D,IAAI08D,KAAgB,CAC5C,CACD,GAAAn2C,CAAIm2C,GACF,OAAOzlE,KAAK0lE,WAAWp2C,IAAIm2C,EAC5B,CAID,GAAAh2D,CAAIg2D,EAAYvvD,GACd,GAAIlW,KAAKsvB,IAAIm2C,GAAa,OAAOzlE,KAAKy6C,MAAMgrB,GAC5C,IAAIE,EAMJ,OAJEA,OADS,IAAPzvD,EACMlW,KAAKkW,KACAA,EACflW,KAAK0lE,WAAW18D,IAAIy8D,EAAYE,GAChC3lE,KAAK4lE,WAAW58D,IAAI28D,EAAOF,GACpBE,CACR,CACD,QAAAE,CAAS3vD,GACP,OAAOlW,KAAK4lE,WAAW78D,IAAImN,IAAO,IACnC,CACD,KAAAklC,GACEp7C,KAAK0lE,WAA6B,IAAI92C,QACtC5uB,KAAK4lE,WAA6B,IAAI7zC,IACtC/xB,KAAKkW,GAAK,CACX,CACD,UAAA4vD,GACE,OAAO9lE,KAAKkW,IACb,EAEH,SAAS8uD,GAAc/qB,GACrB,IAAI90B,EACJ,IAAI8/C,EAAa,KAGjB,MAFI,gBAAiBhrB,IAAwC,OAAhC90B,EAAMrgB,GAAMq1C,YAAYF,SAAe,EAAS90B,EAAI6U,YAAcC,KAAKirC,wBAA0BpgE,GAAMs1C,KAAKt1C,GAAMq1C,YAAYF,MACzJgrB,EAAangE,GAAMs1C,KAAKt1C,GAAMq1C,YAAYF,KACrCgrB,CACT,CAQA,SAASI,GAAgBprB,GACvB,MAAMqrB,EAAMrrB,EAAG/e,cACf,IAAKoqC,EAAK,OAAO,EACjB,MAAML,EAVR,SAA2BhrB,GACzB,IACIgrB,EADAG,EAAiBnrB,EAErB,KAAOgrB,EAAaD,GAAcI,IAChCA,EAAiBH,EACnB,OAAOG,CACT,CAIqBD,CAAkBlrB,GACrC,OAAOn1C,GAAMswB,SAASkwC,EAAKL,EAC7B,CACA,SAASwC,GAAMxtB,GACb,MAAMqrB,EAAMrrB,EAAG/e,cACf,QAAKoqC,IACExgE,GAAMswB,SAASkwC,EAAKrrB,IAAOorB,GAAgBprB,GACpD,CACA,IAAI57B,GAA4B,CAAEC,IAChCA,EAAWA,EAA6B,iBAAI,GAAK,mBACjDA,EAAWA,EAAiB,KAAI,GAAK,OACrCA,EAAWA,EAAyB,aAAI,GAAK,eAC7CA,EAAWA,EAAgC,oBAAI,GAAK,sBACpDA,EAAWA,EAAiB,KAAI,GAAK,OACrCA,EAAWA,EAAmB,OAAI,GAAK,SACvCA,EAAWA,EAAmB,OAAI,GAAK,SAChCA,GARuB,CAS7BD,IAAa,CAAA,GACZm+D,GAAoC,CAAEC,IACxCA,EAAmBA,EAA6B,SAAI,GAAK,WACzDA,EAAmBA,EAA8B,UAAI,GAAK,YAC1DA,EAAmBA,EAAqC,iBAAI,GAAK,mBACjEA,EAAmBA,EAA2B,OAAI,GAAK,SACvDA,EAAmBA,EAAmC,eAAI,GAAK,iBAC/DA,EAAmBA,EAA0B,MAAI,GAAK,QACtDA,EAAmBA,EAA8B,UAAI,GAAK,YAC1DA,EAAmBA,EAAqC,iBAAI,GAAK,mBACjEA,EAAmBA,EAAmC,eAAI,GAAK,iBAC/DA,EAAmBA,EAAmC,eAAI,GAAK,iBAC/DA,EAAmBA,EAAyB,KAAI,IAAM,OACtDA,EAAmBA,EAAwB,IAAI,IAAM,MACrDA,EAAmBA,EAAyB,KAAI,IAAM,OACtDA,EAAmBA,EAAqC,iBAAI,IAAM,mBAClEA,EAAmBA,EAA8B,UAAI,IAAM,YAC3DA,EAAmBA,EAAsC,kBAAI,IAAM,oBACnEA,EAAmBA,EAAkC,cAAI,IAAM,gBACxDA,GAlB+B,CAmBrCD,IAAqB,CAAA,GACpBj+D,GAAoC,CAAEC,IACxCA,EAAmBA,EAA4B,QAAI,GAAK,UACxDA,EAAmBA,EAA8B,UAAI,GAAK,YAC1DA,EAAmBA,EAA0B,MAAI,GAAK,QACtDA,EAAmBA,EAAgC,YAAI,GAAK,cAC5DA,EAAmBA,EAA6B,SAAI,GAAK,WACzDA,EAAmBA,EAA0B,MAAI,GAAK,QACtDA,EAAmBA,EAAyB,KAAI,GAAK,OACrDA,EAAmBA,EAA+B,WAAI,GAAK,aAC3DA,EAAmBA,EAAuC,mBAAI,GAAK,qBACnEA,EAAmBA,EAA6B,SAAI,GAAK,WACzDA,EAAmBA,EAAgC,YAAI,IAAM,cACtDA,GAZ+B,CAarCD,IAAqB,CAAA,GACpBm+D,GAA+B,CAAEC,IACnCA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAmB,IAAI,GAAK,MAC1CA,EAAcA,EAAqB,MAAI,GAAK,QACrCA,GAJ0B,CAKhCD,IAAgB,CAAA,GACfE,GAAgC,CAAEC,IACpCA,EAAeA,EAAe,MAAQ,GAAK,KAC3CA,EAAeA,EAAsB,MAAI,GAAK,QAC9CA,EAAeA,EAAuB,OAAI,GAAK,SACxCA,GAJ2B,CAKjCD,IAAiB,CAAA,GAChBE,GAAoC,CAAEC,IACxCA,EAAmBA,EAAyB,KAAI,GAAK,OACrDA,EAAmBA,EAA0B,MAAI,GAAK,QACtDA,EAAmBA,EAA2B,OAAI,GAAK,SACvDA,EAAmBA,EAAiC,aAAI,GAAK,eAC7DA,EAAmBA,EAA+B,WAAI,GAAK,aACpDA,GAN+B,CAOrCD,IAAqB,CAAA,GACpBE,GAA2B,CAAExO,IAC/BA,EAAUA,EAAoB,SAAI,GAAK,WACvCA,EAAUA,EAAwB,aAAI,GAAK,eAC3CA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAgB,KAAI,GAAK,OACnCA,EAAUA,EAAiB,MAAI,GAAK,QACpCA,EAAUA,EAAmB,QAAI,GAAK,UAC/BA,GAPsB,CAQ5BwO,IAAY,CAAA,GACf,SAASC,GAAmBhjC,GAC1B,MAAO,SAAUA,CACnB,CACA,MAAMijC,GACJ,WAAAj9E,GACEm3C,GAAcp3C,KAAM,SAAU,GAC9Bo3C,GAAcp3C,KAAM,OAAQ,MAC5Bo3C,GAAcp3C,KAAM,OAAQ,KAC7B,CACD,GAAA+I,CAAIkuD,GACF,GAAIA,GAAYj3D,KAAKY,OACnB,MAAM,IAAIqG,MAAM,kCAElB,IAAIy0B,EAAU17B,KAAKynB,KACnB,IAAK,IAAI83B,EAAS,EAAGA,EAAS0X,EAAU1X,IACtC7jB,GAAsB,MAAXA,OAAkB,EAASA,EAAQj6B,OAAS,KAEzD,OAAOi6B,CACR,CACD,OAAAyhD,CAAQljC,GACN,MAAMgB,EAAQ,CACZ15C,MAAO04C,EACPyU,SAAU,KACVjtD,KAAM,MAGR,GADAw4C,EAAGmjC,KAAOniC,EACNhB,EAAGojC,iBAAmBJ,GAAmBhjC,EAAGojC,iBAAkB,CAChE,MAAM3hD,EAAUue,EAAGojC,gBAAgBD,KAAK37E,KACxCw5C,EAAMx5C,KAAOi6B,EACbuf,EAAMyT,SAAWzU,EAAGojC,gBAAgBD,KACpCnjC,EAAGojC,gBAAgBD,KAAK37E,KAAOw5C,EAC3Bvf,IACFA,EAAQgzB,SAAWzT,EAEtB,MAAM,GAAIhB,EAAGpd,aAAeogD,GAAmBhjC,EAAGpd,cAAgBod,EAAGpd,YAAYugD,KAAK1uB,SAAU,CAC/F,MAAMhzB,EAAUue,EAAGpd,YAAYugD,KAAK1uB,SACpCzT,EAAMyT,SAAWhzB,EACjBuf,EAAMx5C,KAAOw4C,EAAGpd,YAAYugD,KAC5BnjC,EAAGpd,YAAYugD,KAAK1uB,SAAWzT,EAC3Bvf,IACFA,EAAQj6B,KAAOw5C,EAEvB,MACUj7C,KAAKynB,OACPznB,KAAKynB,KAAKinC,SAAWzT,GAEvBA,EAAMx5C,KAAOzB,KAAKynB,KAClBznB,KAAKynB,KAAOwzB,EAEK,OAAfA,EAAMx5C,OACRzB,KAAKs9E,KAAOriC,GAEdj7C,KAAKY,QACN,CACD,UAAA28E,CAAWtjC,GACT,MAAMve,EAAUue,EAAGmjC,KACdp9E,KAAKynB,OAGLiU,EAAQgzB,UAQXhzB,EAAQgzB,SAASjtD,KAAOi6B,EAAQj6B,KAC5Bi6B,EAAQj6B,KACVi6B,EAAQj6B,KAAKitD,SAAWhzB,EAAQgzB,SAEhC1uD,KAAKs9E,KAAO5hD,EAAQgzB,WAXtB1uD,KAAKynB,KAAOiU,EAAQj6B,KAChBzB,KAAKynB,KACPznB,KAAKynB,KAAKinC,SAAW,KAErB1uD,KAAKs9E,KAAO,MAUZrjC,EAAGmjC,aACEnjC,EAAGmjC,KAEZp9E,KAAKY,SACN,EAEH,MAAM48E,GAAU,CAACtnE,EAAIwzD,IAAa,GAAGxzD,KAAMwzD,IAC3C,MAAM+T,GACJ,WAAAx9E,GACEm3C,GAAcp3C,KAAM,UAAU,GAC9Bo3C,GAAcp3C,KAAM,UAAU,GAC9Bo3C,GAAcp3C,KAAM,QAAS,IAC7Bo3C,GAAcp3C,KAAM,aAAc,IAClCo3C,GAAcp3C,KAAM,eAAgC,IAAI4uB,SACxDwoB,GAAcp3C,KAAM,UAAW,IAC/Bo3C,GAAcp3C,KAAM,aAAc,IAClCo3C,GAAcp3C,KAAM,WAAY,CAAA,GAChCo3C,GAAcp3C,KAAM,WAA4B,IAAIyN,KACpD2pC,GAAcp3C,KAAM,WAA4B,IAAIyN,KACpD2pC,GAAcp3C,KAAM,aAA8B,IAAIyN,KACtD2pC,GAAcp3C,KAAM,sBAAuC,IAAIyN,KAC/D2pC,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,iBACpBo3C,GAAcp3C,KAAM,iBACpBo3C,GAAcp3C,KAAM,oBACpBo3C,GAAcp3C,KAAM,oBACpBo3C,GAAcp3C,KAAM,oBACpBo3C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,eACpBo3C,GAAcp3C,KAAM,mBACpBo3C,GAAcp3C,KAAM,gBACpBo3C,GAAcp3C,KAAM,gBACpBo3C,GAAcp3C,KAAM,kBACpBo3C,GAAcp3C,KAAM,kBACpBo3C,GAAcp3C,KAAM,OACpBo3C,GAAcp3C,KAAM,UACpBo3C,GAAcp3C,KAAM,iBACpBo3C,GAAcp3C,KAAM,qBACpBo3C,GAAcp3C,KAAM,oBACpBo3C,GAAcp3C,KAAM,iBACpBo3C,GAAcp3C,KAAM,wBACpBo3C,GAAcp3C,KAAM,iBACpBo3C,GAAcp3C,KAAM,mBAAqBoqE,IACvCA,EAAUr+D,QAAQ/L,KAAK09E,iBACvB19E,KAAK4qC,SAEPwM,GAAcp3C,KAAM,OAAQ,KAC1B,GAAIA,KAAK29E,QAAU39E,KAAK49E,OACtB,OAEF,MAAMC,EAAO,GACPC,EAA2B,IAAIrwE,IAC/BswE,EAAU,IAAIb,GACdc,EAAa/jC,IACjB,IAAIgkC,EAAKhkC,EACLwvB,GAv3RS,EAw3Rb,MAx3Ra,IAw3RNA,GACLwU,EAAKA,GAAMA,EAAGphD,YACd4sC,EAASwU,GAAMj+E,KAAKs/B,OAAOmb,MAAMwjC,GAEnC,OAAOxU,GAEHyU,EAAWjkC,IACf,MAAMxd,EAAS33B,GAAM43B,WAAWud,GAChC,IAAKxd,IAAWgrC,GAAMxtB,GACpB,OAEF,IAAIw6B,GAAc,EAClB,GAAIx6B,EAAGjgB,WAAaC,KAAK++C,UAAW,CAClC,MAAMmF,EAAY1hD,EAAOtC,QACzB,GAAkB,aAAdgkD,EACF,OACuB,UAAdA,GAAyBn+E,KAAKo+E,SAAS9uD,IAAImN,KACpDg4C,GAAc,EAEjB,CACD,MAAM/K,EAAW7B,GAAaprC,GAAUz8B,KAAKs/B,OAAOmb,MAAMuqB,GAAc/qB,IAAOj6C,KAAKs/B,OAAOmb,MAAMhe,GAC3FgtC,EAASuU,EAAU/jC,GACzB,IAAkB,IAAdyvB,IAA+B,IAAZD,EACrB,OAAOsU,EAAQZ,QAAQljC,GAEzB,MAAMogC,EAAKT,GAAoB3/B,EAAI,CACjCqrB,IAAKtlE,KAAKslE,IACVhmC,OAAQt/B,KAAKs/B,OACb4L,WAAYlrC,KAAKkrC,WACjBhrB,cAAelgB,KAAKkgB,cACpB+qB,cAAejrC,KAAKirC,cACpBI,iBAAkBrrC,KAAKqrC,iBACvBwuC,WAAW,EACXrF,mBAAmB,EACnBzpC,iBAAkB/qC,KAAK+qC,iBACvBolC,iBAAkBnwE,KAAKmwE,iBACvB/kC,WAAYprC,KAAKorC,WACjBD,YAAanrC,KAAKmrC,YAClBI,eAAgBvrC,KAAKurC,eACrB8oC,eAAgBr0E,KAAKq0E,eACrB/oC,aAActrC,KAAKsrC,aACnBgpC,aAAct0E,KAAKs0E,aACnBwF,YAAcuE,IACRjW,GAAmBiW,EAAUr+E,KAAKs/B,SACpCt/B,KAAKs+E,cAAcC,UAAUF,GAE3B/V,GAAuB+V,EAAUr+E,KAAKs/B,SACxCt/B,KAAKw+E,kBAAkBC,iBACrBJ,GAGA/W,GAAcrtB,IAChBj6C,KAAK0+E,iBAAiBC,cAAc75E,GAAMw1C,WAAWL,GAAKj6C,KAAKslE,MAGnEyU,aAAc,CAAC6E,EAAQC,KACrB7+E,KAAKs+E,cAAcQ,aAAaF,EAAQC,GACxC7+E,KAAK0+E,iBAAiBK,oBAAoBH,IAE5C3E,iBAAkB,CAAC+B,EAAM6C,KACvB7+E,KAAKw+E,kBAAkBQ,kBAAkBhD,EAAM6C,IAEjDpK,gBAEE4F,IACFwD,EAAK76E,KAAK,CACR0mE,WACAD,SACA1sC,KAAMs9C,IAERyD,EAASruE,IAAI4qE,EAAGnkE,MAGpB,KAAOlW,KAAKi/E,WAAWr+E,QACrBZ,KAAKs/B,OAAOwb,kBAAkB96C,KAAKi/E,WAAWhzD,SAEhD,IAAK,MAAMguB,KAAMj6C,KAAKk/E,SAChBC,GAAgBn/E,KAAKo/E,oBAAqBnlC,EAAIj6C,KAAKs/B,UAAYt/B,KAAKk/E,SAAS5vD,IAAIxqB,GAAM43B,WAAWud,KAGtGikC,EAAQjkC,GAEV,IAAK,MAAMA,KAAMj6C,KAAKo+E,SACfiB,GAAgBr/E,KAAKs/E,WAAYrlC,IAAQklC,GAAgBn/E,KAAKo/E,oBAAqBnlC,EAAIj6C,KAAKs/B,QAEtF+/C,GAAgBr/E,KAAKk/E,SAAUjlC,GACxCikC,EAAQjkC,GAERj6C,KAAKs/E,WAAW7vE,IAAIwqC,GAJpBikC,EAAQjkC,GAOZ,IAAIxc,EAAY,KAChB,KAAOsgD,EAAQn9E,QAAQ,CACrB,IAAIq6C,EAAQ,KACZ,GAAIxd,EAAW,CACb,MAAMisC,EAAW1pE,KAAKs/B,OAAOmb,MAAM31C,GAAM43B,WAAWe,EAAUl8B,QACxDkoE,EAASuU,EAAUvgD,EAAUl8B,QACjB,IAAdmoE,IAA+B,IAAZD,IACrBxuB,EAAQxd,EAEX,CACD,IAAKwd,EAAO,CACV,IAAIskC,EAAWxB,EAAQT,KACvB,KAAOiC,GAAU,CACf,MAAMrb,EAAQqb,EAEd,GADAA,EAAWA,EAAS7wB,SAChBwV,EAAO,CACT,MAAMwF,EAAW1pE,KAAKs/B,OAAOmb,MAAM31C,GAAM43B,WAAWwnC,EAAM3iE,QAE1D,IAAgB,IADDy8E,EAAU9Z,EAAM3iE,OACZ,SACd,IAAkB,IAAdmoE,EAAiB,CACxBzuB,EAAQipB,EACR,KAChB,CAAqB,CACL,MAAMsb,EAAgBtb,EAAM3iE,MACtBk7B,EAAS33B,GAAM43B,WAAW8iD,GAChC,GAAI/iD,GAAUA,EAAOzC,WAAaC,KAAKirC,uBAAwB,CAC7D,MAAMD,EAAangE,GAAMs1C,KAAK3d,GAE9B,IAAmB,IADDz8B,KAAKs/B,OAAOmb,MAAMwqB,GACd,CACpBhqB,EAAQipB,EACR,KACD,CACF,CACF,CACF,CACF,CACF,CACD,IAAKjpB,EAAO,CACV,KAAO8iC,EAAQt2D,MACbs2D,EAAQR,WAAWQ,EAAQt2D,KAAKlmB,OAElC,KACD,CACDk8B,EAAYwd,EAAMyT,SAClBqvB,EAAQR,WAAWtiC,EAAM15C,OACzB28E,EAAQjjC,EAAM15C,MACf,CACD,MAAM8S,EAAU,CACdorE,MAAOz/E,KAAKy/E,MAAM56E,IAAKsF,IACrB,MAAM8vC,EAAK9vC,EAAK4yB,KACVN,EAAS33B,GAAM43B,WAAWud,GAIhC,OAHIxd,GAA6B,aAAnBA,EAAOtC,SACnBn6B,KAAK0/E,yBAAyBjjD,GAEzB,CACLvmB,GAAIlW,KAAKs/B,OAAOmb,MAAMR,GACtB14C,MAAO4I,EAAK5I,SAEbmf,OAAQvW,IAAU2zE,EAASxuD,IAAInlB,EAAK+L,KAAKwK,OAAQvW,GAASnK,KAAKs/B,OAAOhQ,IAAInlB,EAAK+L,KAClFkmB,WAAYp8B,KAAKo8B,WAAWv3B,IAAK86E,IAC/B,MAAMvjD,WAAEA,GAAeujD,EACvB,GAAgC,iBAArBvjD,EAAWs1C,MAAoB,CACxC,MAAMkO,EAAY/0E,KAAKC,UAAU60E,EAAUE,WACrCC,EAAiBj1E,KAAKC,UAAU60E,EAAUI,kBAC5CH,EAAUh/E,OAASw7B,EAAWs1C,MAAM9wE,SACjCg/E,EAAYE,GAAgB51E,MAAM,QAAQtJ,SAAWw7B,EAAWs1C,MAAMxnE,MAAM,QAAQtJ,SACvFw7B,EAAWs1C,MAAQiO,EAAUE,UAGlC,CACD,MAAO,CACL3pE,GAAIlW,KAAKs/B,OAAOmb,MAAMklC,EAAU5iD,MAChCX,gBAED1b,OAAQi/D,IAAe7B,EAASxuD,IAAIqwD,EAAUzpE,KAAKwK,OAAQi/D,GAAc3/E,KAAKs/B,OAAOhQ,IAAIqwD,EAAUzpE,KACtG8pE,QAAShgF,KAAKggF,QACdnC,SAEGxpE,EAAQorE,MAAM7+E,QAAWyT,EAAQ+nB,WAAWx7B,QAAWyT,EAAQ2rE,QAAQp/E,QAAWyT,EAAQwpE,KAAKj9E,UAGpGZ,KAAKy/E,MAAQ,GACbz/E,KAAKo8B,WAAa,GAClBp8B,KAAKigF,aAA+B,IAAIrxD,QACxC5uB,KAAKggF,QAAU,GACfhgF,KAAKo+E,SAA2B,IAAI3wE,IACpCzN,KAAKk/E,SAA2B,IAAIzxE,IACpCzN,KAAKs/E,WAA6B,IAAI7xE,IACtCzN,KAAKo/E,oBAAsC,IAAI3xE,IAC/CzN,KAAKkgF,SAAW,GAChBlgF,KAAKmgF,WAAW9rE,MAElB+iC,GAAcp3C,KAAM,2BAA6BogF,IAC/C,IAAIC,EAAOrgF,KAAKigF,aAAal3E,IAAIq3E,GAC5BC,IACHA,EAAO,CACLtjD,KAAMqjD,EACNhkD,WAAY,CAAE,EACdyjD,UAAW,CAAE,EACbE,iBAAkB,CAAE,GAEtB//E,KAAKo8B,WAAWp5B,KAAKq9E,GACrBrgF,KAAKigF,aAAaj3E,IAAIo3E,EAAUC,IAElC,MAAM9+E,EAAQhC,MAAMmE,KAClBoB,GAAMk1C,WAAWomC,GAChBE,GAAOx7E,GAAMo1C,YAAYomC,IAAO,IACjCt6E,KAAK,IACPq6E,EAAKjkD,WAAW76B,MAAQ2uE,GAAe,CACrC/1D,QAASimE,EACTjQ,iBAAkBnwE,KAAKmwE,iBACvBh2C,QAASimD,EAASjmD,QAClBrwB,KAAMyQ,GAAa6lE,GACnB7+E,QACA4pC,YAAanrC,KAAKmrC,gBAGtBiM,GAAcp3C,KAAM,kBAAoBmD,IACtC,IAAI8kE,GAAU9kE,EAAE6rB,OAAQhvB,KAAKs/B,OAAQt/B,KAAKurC,gBAG1C,OAAQpoC,EAAE2G,MACR,IAAK,gBAAiB,CACpB,MAAMvI,EAAQuD,GAAMo1C,YAAY/2C,EAAE6rB,QAC7B84C,GAAU3kE,EAAE6rB,OAAQhvB,KAAKkrC,WAAYlrC,KAAKkgB,eAAe,IAAU3e,IAAU4B,EAAEo9E,UAClFvgF,KAAKy/E,MAAMz8E,KAAK,CACdzB,MAAO2yE,GACL/wE,EAAE6rB,OACFhvB,KAAKirC,cACLjrC,KAAKqrC,kBACL,IAEG9pC,EAAQvB,KAAKorC,WAAaprC,KAAKorC,WAAW7pC,EAAOwjE,GAAqB5hE,EAAE6rB,SAAWztB,EAAMkE,QAAQ,QAAS,KAAOlE,EACtHw7B,KAAM55B,EAAE6rB,SAGZ,KACD,CACD,IAAK,aAAc,CACjB,MAAMA,EAAS7rB,EAAE6rB,OACjB,IAAIwxD,EAAgBr9E,EAAEq9E,cAClBj/E,EAAQ4B,EAAE6rB,OAAO+M,aAAaykD,GAClC,GAAsB,UAAlBA,EAA2B,CAC7B,MAAM12E,EAAOyQ,GAAayU,GAC1BztB,EAAQ2uE,GAAe,CACrB/1D,QAAS6U,EACTmhD,iBAAkBnwE,KAAKmwE,iBACvBh2C,QAASnL,EAAOmL,QAChBrwB,OACAvI,QACA4pC,YAAanrC,KAAKmrC,aAErB,CACD,GAAI28B,GAAU3kE,EAAE6rB,OAAQhvB,KAAKkrC,WAAYlrC,KAAKkgB,eAAe,IAAU3e,IAAU4B,EAAEo9E,SACjF,OAEF,IAAIF,EAAOrgF,KAAKigF,aAAal3E,IAAI5F,EAAE6rB,QACnC,GAAuB,WAAnBA,EAAOmL,SAA0C,QAAlBqmD,IAA4BxgF,KAAKu0E,gBAAgBhzE,GAAQ,CAC1F,GAAKytB,EAAOypD,gBAGV,OAFA+H,EAAgB,QAInB,CAcD,GAbKH,IACHA,EAAO,CACLtjD,KAAM55B,EAAE6rB,OACRoN,WAAY,CAAE,EACdyjD,UAAW,CAAE,EACbE,iBAAkB,CAAE,GAEtB//E,KAAKo8B,WAAWp5B,KAAKq9E,GACrBrgF,KAAKigF,aAAaj3E,IAAI7F,EAAE6rB,OAAQqxD,IAEZ,SAAlBG,GAA+C,UAAnBxxD,EAAOmL,SAA4D,cAApCh3B,EAAEo9E,UAAY,IAAIjmE,eAC/E0U,EAAOukD,aAAa,sBAAuB,SAExCU,GAAgBjlD,EAAOmL,QAASqmD,GAOnC,GANAH,EAAKjkD,WAAWokD,GAAiBhN,GAC/BxzE,KAAKslE,IACLhrD,GAAY0U,EAAOmL,SACnB7f,GAAYkmE,GACZj/E,GAEoB,UAAlBi/E,EAA2B,CAC7B,IAAKxgF,KAAKygF,cACR,IACEzgF,KAAKygF,cAAgBngE,SAASogE,eAAeC,oBAC9C,CAAC,MAAO5uB,GACP/xD,KAAKygF,cAAgBzgF,KAAKslE,GAC3B,CAEH,MAAMsb,EAAM5gF,KAAKygF,cAAcznC,cAAc,QACzC71C,EAAEo9E,UACJK,EAAIrN,aAAa,QAASpwE,EAAEo9E,UAE9B,IAAK,MAAMM,KAASthF,MAAMmE,KAAKsrB,EAAO0iD,OAAQ,CAC5C,MAAM5gD,EAAW9B,EAAO0iD,MAAMoP,iBAAiBD,GACzCE,EAAc/xD,EAAO0iD,MAAMsP,oBAAoBH,GACjD/vD,IAAa8vD,EAAIlP,MAAMoP,iBAAiBD,IAAUE,IAAgBH,EAAIlP,MAAMsP,oBAAoBH,GAEhGR,EAAKR,UAAUgB,GADG,KAAhBE,EACsBjwD,EAEA,CAACA,EAAUiwD,GAGrCV,EAAKN,iBAAiBc,GAAS,CAAC/vD,EAAUiwD,EAE7C,CACD,IAAK,MAAMF,KAASthF,MAAMmE,KAAKk9E,EAAIlP,OACY,KAAzC1iD,EAAO0iD,MAAMoP,iBAAiBD,KAChCR,EAAKR,UAAUgB,IAAS,EAG7B,KAA4B,SAAlBL,GAA+C,WAAnBxxD,EAAOmL,UACxCnL,EAAOg5C,QAAQ,gBACjBqY,EAAKjkD,WAAyB,aAAI,QAElCikD,EAAKjkD,WAAyB,aAAI,aAIxC,KACD,CACD,IAAK,YACH,GAAI0rC,GAAU3kE,EAAE6rB,OAAQhvB,KAAKkrC,WAAYlrC,KAAKkgB,eAAe,GAC3D,OACF,GAAyB,aAArB/c,EAAE6rB,OAAOmL,QAEX,YADAn6B,KAAK0/E,yBAAyBv8E,EAAE6rB,QAGlC7rB,EAAE89E,WAAWl1E,QAASkuC,GAAOj6C,KAAKkhF,QAAQjnC,EAAI92C,EAAE6rB,SAChD7rB,EAAEg+E,aAAap1E,QAASkuC,IACtB,MAAMmnC,EAASphF,KAAKs/B,OAAOmb,MAAMR,GAC3ByvB,EAAW7B,GAAa1kE,EAAE6rB,QAAUhvB,KAAKs/B,OAAOmb,MAAM31C,GAAMs1C,KAAKj3C,EAAE6rB,SAAWhvB,KAAKs/B,OAAOmb,MAAMt3C,EAAE6rB,QACpG84C,GAAU3kE,EAAE6rB,OAAQhvB,KAAKkrC,WAAYlrC,KAAKkgB,eAAe,IAAU+nD,GAAUhuB,EAAIj6C,KAAKs/B,OAAQt/B,KAAKurC,kBApoBnH,SAAsB0O,EAAI0tB,GACxB,OAA8B,IAAvBA,EAAQltB,MAAMR,EACvB,CAkoBuIkuB,CAAaluB,EAAIj6C,KAAKs/B,UAG7It/B,KAAKo+E,SAAS9uD,IAAI2qB,IACpBonC,GAAWrhF,KAAKo+E,SAAUnkC,GAC1Bj6C,KAAKs/E,WAAW7vE,IAAIwqC,IACXj6C,KAAKo+E,SAAS9uD,IAAInsB,EAAE6rB,UAAuB,IAAZoyD,GACjC1Z,GAAkBvkE,EAAE6rB,OAAQhvB,KAAKs/B,UACjCt/B,KAAKk/E,SAAS5vD,IAAI2qB,IAAOj6C,KAAKkgF,SAAS1C,GAAQ4D,EAAQ1X,IAC9D2X,GAAWrhF,KAAKk/E,SAAUjlC,IAE1Bj6C,KAAKggF,QAAQh9E,KAAK,CAChB0mE,WACAxzD,GAAIkrE,EACJ5F,YAAU3T,GAAa1kE,EAAE6rB,UAAW0/C,GAAkBvrE,EAAE6rB,eAAiB,IAiGzF,SAAwBirB,EAAIse,GAC1B,MAAM7sD,EAAQ,CAACuuC,GACf,KAAOvuC,EAAM9K,QAAQ,CACnB,MAAMa,EAAOiK,EAAM3I,MACfw1D,EAAMjpC,IAAI7tB,KACd82D,EAAM9oD,IAAIhO,GACVqD,GAAMk1C,WAAWv4C,GAAMsK,QAASu1E,GAAQ51E,EAAM1I,KAAKs+E,IACpD,CAEH,CAxGcC,CAAetnC,EAAIj6C,KAAKo/E,uBAE1Bp/E,KAAKi/E,WAAWj8E,KAAKi3C,SAM7B7C,GAAcp3C,KAAM,UAAW,CAACi6C,EAAIjrB,KAClC,IAAIhvB,KAAKwhF,qBAAqBC,cAAcxnC,EAAIj6C,QAC5CA,KAAKo+E,SAAS9uD,IAAI2qB,KAAOj6C,KAAKk/E,SAAS5vD,IAAI2qB,GAA/C,CACA,GAAIj6C,KAAKs/B,OAAO0b,QAAQf,GAAK,CAC3B,GAAIguB,GAAUhuB,EAAIj6C,KAAKs/B,OAAQt/B,KAAKurC,gBAClC,OAEFvrC,KAAKk/E,SAASzvE,IAAIwqC,GAClB,IAAIynC,EAAW,KACX1yD,GAAUhvB,KAAKs/B,OAAO0b,QAAQhsB,KAChC0yD,EAAW1hF,KAAKs/B,OAAOmb,MAAMzrB,IAE3B0yD,IAA0B,IAAdA,IACd1hF,KAAKkgF,SAAS1C,GAAQx9E,KAAKs/B,OAAOmb,MAAMR,GAAKynC,KAAa,EAEpE,MACQ1hF,KAAKo+E,SAAS3uE,IAAIwqC,GAClBj6C,KAAKs/E,WAAW3vE,OAAOsqC,GAEpB6tB,GAAU7tB,EAAIj6C,KAAKkrC,WAAYlrC,KAAKkgB,eAAe,KACtDpb,GAAMk1C,WAAWC,GAAIluC,QAASuvE,GAAWt7E,KAAKkhF,QAAQ5F,IAClDhU,GAAcrtB,IAChBn1C,GAAMk1C,WAAWl1C,GAAMw1C,WAAWL,IAAKluC,QAASuvE,IAC9Ct7E,KAAKwhF,qBAAqB/xE,IAAI6rE,EAAQt7E,MACtCA,KAAKkhF,QAAQ5F,EAAQrhC,KAtBgC,GA2B9D,CACD,IAAAzS,CAAKx/B,GACH,CACE,aACA,aACA,gBACA,gBACA,mBACA,mBACA,mBACA,aACA,cACA,kBACA,eACA,eACA,iBACA,iBACA,MACA,SACA,gBACA,oBACA,mBACA,gBACA,wBACA+D,QAASiB,IACThN,KAAKgN,GAAOhF,EAAQgF,IAEvB,CACD,MAAA+wC,GACE/9C,KAAK29E,QAAS,EACd39E,KAAK2hF,cAAc5jC,QACpB,CACD,QAAA6jC,GACE5hF,KAAK29E,QAAS,EACd39E,KAAK2hF,cAAcC,WACnB5hF,KAAK4qC,MACN,CACD,QAAAi3C,GACE,OAAO7hF,KAAK29E,MACb,CACD,IAAAmE,GACE9hF,KAAK49E,QAAS,EACd59E,KAAK2hF,cAAcG,MACpB,CACD,MAAAC,GACE/hF,KAAK49E,QAAS,EACd59E,KAAK2hF,cAAcI,SACnB/hF,KAAK4qC,MACN,CACD,KAAAwQ,GACEp7C,KAAK0+E,iBAAiBtjC,QACtBp7C,KAAK2hF,cAAcvmC,OACpB,EAEH,SAASimC,GAAWW,EAAS/nC,GAC3B+nC,EAAQryE,OAAOsqC,GACfn1C,GAAMk1C,WAAWC,GAAIluC,QAASuvE,GAAW+F,GAAWW,EAAS1G,GAC/D,CAWA,SAAS6D,GAAgBa,EAAS/lC,EAAI0tB,GACpC,OAAqB,IAAjBqY,EAAQ5xD,MAGd,SAA0B4xD,EAAS/lC,GACjC,MAAMgB,EAAQn2C,GAAM43B,WAAWud,GAC/B,QAAKgB,GACE+kC,EAAQ1wD,IAAI2rB,EACrB,CANSgnC,CAAiBjC,EAAS/lC,EACnC,CAMA,SAASolC,GAAgBr2E,EAAKixC,GAC5B,OAAiB,IAAbjxC,EAAIolB,MACD8zD,GAAiBl5E,EAAKixC,EAC/B,CACA,SAASioC,GAAiBl5E,EAAKixC,GAC7B,MAAMxd,EAAS33B,GAAM43B,WAAWud,GAChC,QAAKxd,MAGDzzB,EAAIsmB,IAAImN,IAGLylD,GAAiBl5E,EAAKyzB,GAC/B,CACA,IAAIiP,GAOJ,MAAMy2C,GAAmBr+C,IACvB,IAAK4H,GACH,OAAO5H,EAYT,MAVqB,IAAIs+C,KACvB,IACE,OAAOt+C,KAAMs+C,EACd,CAAC,MAAO7+E,GACP,GAAImoC,KAAwC,IAAxBA,GAAanoC,GAC/B,OAEF,MAAMA,CACP,IAIL,SAAS8+E,GAAwB5yD,GAC/B,MAAO,IAAI7oB,KACT,IACE,OAAO6oB,KAAQ7oB,EAChB,CAAC,MAAOrD,GACP,IACEA,EAAMooC,YAAa,CAC3B,CAAQ,MACD,CACD,MAAMpoC,CACP,EAEL,CACA,MAAM++E,GAAkB,GACxB,SAASC,GAAe32E,GACtB,IACE,GAAI,iBAAkBA,EAAO,CAC3B,MAAMwvB,EAAOxvB,EAAM42E,eACnB,GAAIpnD,EAAKx6B,OACP,OAAOw6B,EAAK,EAEf,MAAM,GAAI,SAAUxvB,GAASA,EAAMwvB,KAAKx6B,OACvC,OAAOgL,EAAMwvB,KAAK,EAExB,CAAI,MACD,CACD,OAAOxvB,GAASA,EAAMojB,MACxB,CACA,SAASyzD,GAAqBz6E,EAAS06E,GACrC,MAAMC,EAAiB,IAAIlF,GAC3B6E,GAAgBt/E,KAAK2/E,GACrBA,EAAen7C,KAAKx/B,GACpB,MAAM67B,EAAW,IAAK04C,KAAL,CACf4F,GAAgBQ,EAAeC,iBAAiB9oE,KAAK6oE,KAUvD,OARA9+C,EAASg/C,QAAQH,EAAQ,CACvBtmD,YAAY,EACZ0mD,mBAAmB,EACnBC,eAAe,EACfC,uBAAuB,EACvBC,WAAW,EACXC,SAAS,IAEJr/C,CACT,CAiEA,SAASs/C,IAA6BC,mBACpCA,EAAkB9d,IAClBA,EACAhmC,OAAQqoC,EAAOz8B,WACfA,EAAUhrB,cACVA,EAAamjE,SACbA,IAEA,IAAkC,IAA9BA,EAAS54C,iBACX,MAAO,OAGT,MAAM64C,GAA2C,IAA9BD,EAAS54C,uBAA2D,IAA9B44C,EAAS54C,iBAA8B,GAAK44C,EAAS54C,iBACxG84C,EAAW,GACjB,IAAIC,EAAqB,KA4EzB,OArBApkF,OAAOwF,KAAK2Z,IAAmBmC,OAC5B1T,GAAQ4P,OAAO8zB,MAAM9zB,OAAO5P,MAAUA,EAAIy2E,SAAS,eAAoC,IAApBH,EAAWt2E,IAC/EjB,QAASshE,IACT,IAAIxmC,EAAYvsB,GAAY+yD,GAC5B,MAAMqW,EA1DW,CAACrW,GACVzhE,IACN,MAAMojB,EAASuzD,GAAe32E,GAC9B,GAAIk8D,GAAU94C,EAAQkc,EAAYhrB,GAAe,GAC/C,OAEF,IAAIyjE,EAAc,KACdC,EAAevW,EACnB,GAAI,gBAAiBzhE,EAAO,CAC1B,OAAQA,EAAM+3E,aACZ,IAAK,QACHA,EAAcjH,GAAamH,MAC3B,MACF,IAAK,QACHF,EAAcjH,GAAaoH,MAC3B,MACF,IAAK,MACHH,EAAcjH,GAAaqH,IAG3BJ,IAAgBjH,GAAaoH,MAC3BvlE,GAAkB8uD,KAAc9uD,GAAkBylE,UACpDJ,EAAe,aACNrlE,GAAkB8uD,KAAc9uD,GAAkB0lE,UAC3DL,EAAe,YAEQlH,GAAaqH,GAChD,MAAiBtb,GAAoB78D,KAC7B+3E,EAAcjH,GAAaoH,OAET,OAAhBH,GACFH,EAAqBG,GACjBC,EAAanpE,WAAW,UAAYkpE,IAAgBjH,GAAaoH,OAASF,EAAanpE,WAAW,UAAYkpE,IAAgBjH,GAAamH,SAC7IF,EAAc,OAEPplE,GAAkB8uD,KAAc9uD,GAAkBihB,QAC3DmkD,EAAcH,EACdA,EAAqB,MAEvB,MAAMzxB,EAAK0W,GAAoB78D,GAASA,EAAM88D,eAAe,GAAK98D,EAClE,IAAKmmD,EACH,OAEF,MAAM77C,EAAKyxD,EAAQltB,MAAMzrB,IACnBk1D,QAAEA,EAAOC,QAAEA,GAAYpyB,EAC7BowB,GAAgBiB,EAAhBjB,CAAoC,CAClCr4E,KAAMyU,GAAkBqlE,GACxB1tE,KACA0L,EAAGsiE,EACHhiF,EAAGiiF,KACgB,OAAhBR,GAAwB,CAAEA,kBAQjBS,CAAW/W,GAC3B,GAAI7oE,OAAO6/E,aACT,OAAQ9lE,GAAkB8uD,IACxB,KAAK9uD,GAAkBylE,UACvB,KAAKzlE,GAAkB0lE,QACrBp9C,EAAYA,EAAUphC,QACpB,QACA,WAEF,MACF,KAAK8Y,GAAkB+lE,WACvB,KAAK/lE,GAAkBgmE,SACrB,OAGNhB,EAASvgF,KAAK2lE,GAAG9hC,EAAW68C,EAASpe,MAEhC6c,GAAgB,KACrBoB,EAASx3E,QAASqiE,GAAMA,MAE5B,CACA,SAASoW,IAAmBC,SAC1BA,EAAQnf,IACRA,EACAhmC,OAAQqoC,EAAOz8B,WACfA,EAAUhrB,cACVA,EAAamjE,SACbA,IAEA,MAAMqB,EAAiBvC,GACrBrY,GACEqY,GAAiB3jD,IACf,MAAMxP,EAASuzD,GAAe/jD,GAC9B,IAAKxP,GAAU84C,GAAU94C,EAAQkc,EAAYhrB,GAAe,GAC1D,OAEF,MAAMhK,EAAKyxD,EAAQltB,MAAMzrB,GACzB,GAAIA,IAAWs2C,GAAOA,EAAIY,YAAa,CACrC,MAAMye,EAAgB5d,GAAgBzB,EAAIY,aAC1Cue,EAAS,CACPvuE,KACA0L,EAAG+iE,EAAc1/B,KACjB/iD,EAAGyiF,EAAcxd,KAE7B,MACUsd,EAAS,CACPvuE,KACA0L,EAAGoN,EAAOi4C,WACV/kE,EAAG8sB,EAAOo4C,cAIhBic,EAAS14C,QAAU,MAGvB,OAAOg+B,GAAG,SAAU+b,EAAgBpf,EACtC,CAuBA,MAAMsf,GAAa,CAAC,QAAS,WAAY,UACnCC,GAAoC,IAAIj2D,QAsH9C,SAASk2D,GAA0Bpe,GAgBjC,OAdA,SAAiBqe,EAAWtgE,GAC1B,GAAIugE,GAAiB,oBAAsBD,EAAUE,sBAAsBC,iBAAmBF,GAAiB,iBAAmBD,EAAUE,sBAAsBE,cAAgBH,GAAiB,oBAAsBD,EAAUE,sBAAsBG,iBAAmBJ,GAAiB,qBAAuBD,EAAUE,sBAAsBI,iBAAkB,CACpW,MAGM9lC,EAHShgD,MAAMmE,KACnBqhF,EAAUE,WAAWte,UAEDze,QAAQ68B,GAC9BtgE,EAAIgtC,QAAQlS,EAClB,MAAW,GAAIwlC,EAAUO,iBAAkB,CACrC,MACM/lC,EADShgD,MAAMmE,KAAKqhF,EAAUO,iBAAiB3e,UAC/Bze,QAAQ68B,GAC9BtgE,EAAIgtC,QAAQlS,EACb,CACD,OAAO96B,CACR,CACM8gE,CAAQ7e,EAfG,GAgBpB,CACA,SAAS8e,GAAgB9P,EAAO/N,EAAS8d,GACvC,IAAIvvE,EAAIwvE,EACR,OAAKhQ,GACDA,EAAM3G,UAAW74D,EAAKyxD,EAAQltB,MAAMi7B,EAAM3G,WACzC2W,EAAUD,EAAYhrC,MAAMi7B,GAC1B,CACLgQ,UACAxvE,OALiB,EAOrB,CAsMA,SAASyvE,IACPrmD,OAAQqoC,EAAO6W,kBACfA,GACCoH,GACD,IAAIzgE,EAAKtf,EAAIoC,EACb,IAAI49E,EAAS,KACuBA,EAAb,cAAnBD,EAAMvd,SAAmCV,EAAQltB,MAAMmrC,GAC7Cje,EAAQltB,MAAM31C,GAAMs1C,KAAKwrC,IACvC,MAAME,EAAiC,cAAnBF,EAAMvd,SAAwD,OAA5BljD,EAAMygE,EAAM1f,kBAAuB,EAAS/gD,EAAI40C,SAAkF,OAAtE9xD,EAAmC,OAA7BpC,EAAK+/E,EAAM1qD,oBAAyB,EAASr1B,EAAGqgE,kBAAuB,EAASj+D,EAAG6vC,WACrMiuC,GAA6C,MAAfD,OAAsB,EAASA,EAAYrmF,WAAaL,OAAOw5C,yBAClF,MAAfktC,OAAsB,EAASA,EAAYrmF,UAC3C,2BACE,EACJ,OAAe,OAAXomF,IAA+B,IAAZA,GAAkBC,GAAgBC,GAGzD3mF,OAAO0J,eAAe88E,EAAO,qBAAsB,CACjD18E,aAAc68E,EAA2B78E,aACzCD,WAAY88E,EAA2B98E,WACvC,GAAAF,GACE,IAAIi9E,EACJ,OAAiD,OAAzCA,EAAMD,EAA2Bh9E,UAAe,EAASi9E,EAAIrmF,KAAKK,KAC3E,EACD,GAAAgJ,CAAIi9E,GACF,IAAID,EACJ,MAAMv9B,EAAoD,OAAzCu9B,EAAMD,EAA2B/8E,UAAe,EAASg9E,EAAIrmF,KAAKK,KAAMimF,GACzF,GAAe,OAAXJ,IAA+B,IAAZA,EACrB,IACErH,EAAkB0H,iBAAiBD,EAAQJ,EAC5C,CAAC,MAAO9zB,GACR,CAEH,OAAOtJ,CACR,IAEI05B,GAAgB,KACrB/iF,OAAO0J,eAAe88E,EAAO,qBAAsB,CACjD18E,aAAc68E,EAA2B78E,aACzCD,WAAY88E,EAA2B98E,WAEvCF,IAAKg9E,EAA2Bh9E,IAEhCC,IAAK+8E,EAA2B/8E,SA5B3B,MA+BX,CAkTA,SAASm9E,GAAcC,EAAI97C,EAAQ,IACjC,MAAM+7C,EAAgBD,EAAG9gB,IAAIY,YAC7B,IAAKmgB,EACH,MAAO,OAIT,IAAI9rC,GAtGN,SAAoB6rC,EAAI97C,GACtB,MAAM61C,WACJA,EAAUmG,YACVA,EAAWlD,mBACXA,EAAkBqB,SAClBA,EAAQ8B,iBACRA,EAAgBC,QAChBA,EAAOC,mBACPA,EAAkBC,iBAClBA,EAAgBC,mBAChBA,EAAkBC,iBAClBA,EAAgBC,OAChBA,EAAMC,YACNA,EAAWC,gBACXA,GACEX,EACJA,EAAGjG,WAAa,IAAI3gF,KACd8qC,EAAMk/B,UACRl/B,EAAMk/B,YAAYhqE,GAEpB2gF,KAAc3gF,IAEhB4mF,EAAGE,YAAc,IAAI9mF,KACf8qC,EAAM08C,WACR18C,EAAM08C,aAAaxnF,GAErB8mF,KAAe9mF,IAEjB4mF,EAAGhD,mBAAqB,IAAI5jF,KACtB8qC,EAAMG,kBACRH,EAAMG,oBAAoBjrC,GAE5B4jF,KAAsB5jF,IAExB4mF,EAAG3B,SAAW,IAAIjlF,KACZ8qC,EAAMK,QACRL,EAAMK,UAAUnrC,GAElBilF,KAAYjlF,IAEd4mF,EAAGG,iBAAmB,IAAI/mF,KACpB8qC,EAAM28C,gBACR38C,EAAM28C,kBAAkBznF,GAE1B+mF,KAAoB/mF,IAEtB4mF,EAAGI,QAAU,IAAIhnF,KACX8qC,EAAMvQ,OACRuQ,EAAMvQ,SAASv6B,GAEjBgnF,KAAWhnF,IAEb4mF,EAAGK,mBAAqB,IAAIjnF,KACtB8qC,EAAM48C,iBACR58C,EAAM48C,mBAAmB1nF,GAE3BinF,KAAsBjnF,IAExB4mF,EAAGM,iBAAmB,IAAIlnF,KACpB8qC,EAAM68C,gBACR78C,EAAM68C,kBAAkB3nF,GAE1BknF,KAAoBlnF,IAEtB4mF,EAAGO,mBAAqB,IAAInnF,KACtB8qC,EAAM88C,kBACR98C,EAAM88C,oBAAoB5nF,GAE5BmnF,KAAsBnnF,IAExB4mF,EAAGQ,iBAAmB,IAAIpnF,KACpB8qC,EAAM+8C,gBACR/8C,EAAM+8C,kBAAkB7nF,GAE1BonF,KAAoBpnF,IAEtB4mF,EAAGS,OAAS,IAAIrnF,KACV8qC,EAAMg9C,MACRh9C,EAAMg9C,QAAQ9nF,GAEhBqnF,KAAUrnF,IAEZ4mF,EAAGU,YAAc,IAAItnF,KACf8qC,EAAMi9C,WACRj9C,EAAMi9C,aAAa/nF,GAErBsnF,KAAetnF,IAEjB4mF,EAAGW,gBAAkB,IAAIhT,KACnBzpC,EAAMk9C,eACRl9C,EAAMk9C,iBAAiBzT,GAEzBgT,KAAmBhT,GAEvB,CAOE0T,CAAWrB,EAAI97C,GAEX87C,EAAGsB,YACLntC,EAAmBkoC,GAAqB2D,EAAIA,EAAG9gB,MAEjD,MAAMqiB,EA15BR,UAA0BrB,YACxBA,EAAWjD,SACXA,EAAQ/d,IACRA,EACAhmC,OAAQqoC,IAER,IAA2B,IAAvB0b,EAAS2D,UACX,MAAO,OAGT,MAAMnsD,EAA0C,iBAAvBwoD,EAAS2D,UAAyB3D,EAAS2D,UAAY,GAC1EY,EAA0D,iBAA/BvE,EAASwE,kBAAiCxE,EAASwE,kBAAoB,IACxG,IACIC,EADAhhB,EAAY,GAEhB,MAAMihB,EAAYje,GAChBqY,GACG/qE,IACC,MAAM4wE,EAAcz9E,KAAKoM,MAAQmxE,EACjCxB,EACExf,EAAUjiE,IAAKrF,IACbA,EAAEyoF,YAAcD,EACTxoF,IAET4X,GAEF0vD,EAAY,GACZghB,EAAe,OAGnBF,GAEIlD,EAAiBvC,GACrBrY,GACEqY,GAAiB3jD,IACf,MAAMxP,EAASuzD,GAAe/jD,IACxB0lD,QAAEA,EAAOC,QAAEA,GAAY1b,GAAoBjqC,GAAOA,EAAIkqC,eAAe,GAAKlqC,EAC3EspD,IACHA,EAAehjB,MAEjBgC,EAAU9jE,KAAK,CACb4e,EAAGsiE,EACHhiF,EAAGiiF,EACHjuE,GAAIyxD,EAAQltB,MAAMzrB,GAClBi5D,WAAYnjB,KAAiBgjB,IAE/BC,EACuB,oBAAdG,WAA6B1pD,aAAe0pD,UAAY1L,GAAkB2L,KAAO3pD,aAAe4pD,WAAa5L,GAAkB6L,UAAY7L,GAAkB8L,aAGxKztD,EACA,CACEqvC,UAAU,KAIVqZ,EAAW,CACf5a,GAAG,YAAa+b,EAAgBpf,GAChCqD,GAAG,YAAa+b,EAAgBpf,GAChCqD,GAAG,OAAQ+b,EAAgBpf,IAE7B,OAAO6c,GAAgB,KACrBoB,EAASx3E,QAASqiE,GAAMA,MAE5B,CA21B2Bma,CAAiBnC,GACpCoC,EAA0BrF,GAA6BiD,GACvDqC,EAAgBjE,GAAmB4B,GACnCsC,EA3tBR,UAAoCnC,iBAAEA,IAAoBrtC,IAAEA,IAC1D,IAAIyvC,GAAS,EACTC,GAAS,EAkBb,OAAOjgB,GAAG,SAjBcwZ,GACtBrY,GACEqY,GAAgB,KACd,MAAMtgD,EAAS7B,KACT4B,EAAQzB,KACVwoD,IAAU9mD,GAAU+mD,IAAUhnD,IAChC2kD,EAAiB,CACf3kD,MAAOhlB,OAAOglB,GACdC,OAAQjlB,OAAOilB,KAEjB8mD,EAAQ9mD,EACR+mD,EAAQhnD,KAGZ,MAGiCsX,EACvC,CAssBgC2vC,CAA2BzC,EAAI,CAC3DltC,IAAKmtC,IAEDyC,EAtsBR,UAA2BtC,QACzBA,EAAOlhB,IACPA,EACAhmC,OAAQqoC,EAAOz8B,WACfA,EAAUhrB,cACVA,EAAa6oE,YACbA,EAAWC,eACXA,EAAc7Y,iBACdA,EAAgBhlC,YAChBA,EAAWk4C,SACXA,EAAQ4F,qBACRA,IAEA,SAASC,EAAat9E,GACpB,IAAIojB,EAASuzD,GAAe32E,GAC5B,MAAMu9E,EAAgBv9E,EAAMw9E,UACtBjvD,EAAUnL,GAAUA,EAAOmL,QAIjC,GAHInL,GAAsB,WAAZmL,IACZnL,EAASlqB,GAAMs4B,cAAcpO,KAE1BA,IAAWmL,GAAWyqD,GAAW18B,QAAQ/tB,GAAW,GAAK2tC,GAAU94C,EAAQkc,EAAYhrB,GAAe,GACzG,OAEF,GAAI8O,EAAOsN,UAAUlH,SAAS2zD,IAAgBC,GAAkBh6D,EAAOg5C,QAAQghB,GAC7E,OAEF,IAAI7+E,EAAO6kB,EAAOztB,MACd8nF,GAAY,EAChB,MAAMv/E,EAAOyQ,GAAayU,IAAW,GACxB,UAATllB,GAA6B,aAATA,EACtBu/E,EAAYr6D,EAAO2mD,SACVxF,EAAiBh2C,EAAQ7f,gBAAkB61D,EAAiBrmE,MACrEK,EAAO+lE,GAAe,CACpB/1D,QAAS6U,EACTmhD,mBACAh2C,UACArwB,OACAvI,MAAO4I,EACPghC,iBAGJm+C,EACEt6D,EACAi6D,EAAuB,CAAE9+E,OAAMk/E,YAAWF,iBAAkB,CAAEh/E,OAAMk/E,cAEtE,MAAMt/E,EAAOilB,EAAOjlB,KACP,UAATD,GAAoBC,GAAQs/E,GAC9B/jB,EAAIxnC,iBAAiB,6BAA6B/zB,OAAUgC,QAASg8D,IACnE,GAAIA,IAAO/4C,EAAQ,CACjB,MAAMu6D,EAAQxhB,EAAGxmE,MACjB+nF,EACEvhB,EACAkhB,EAAuB,CAAE9+E,KAAMo/E,EAAOF,WAAYA,EAAWF,eAAe,GAAU,CAAEh/E,KAAMo/E,EAAOF,WAAYA,GAEpH,GAGN,CACD,SAASC,EAAYt6D,EAAQw6D,GAC3B,MAAMC,EAAiB5E,GAAkB97E,IAAIimB,GAC7C,IAAKy6D,GAAkBA,EAAet/E,OAASq/E,EAAGr/E,MAAQs/E,EAAeJ,YAAcG,EAAGH,UAAW,CACnGxE,GAAkB77E,IAAIgmB,EAAQw6D,GAC9B,MAAMtzE,EAAKyxD,EAAQltB,MAAMzrB,GACzBmzD,GAAgBqE,EAAhBrE,CAAyB,IACpBqH,EACHtzE,MAEH,CACF,CACD,MACMqtE,GAD4B,SAAnBF,EAAStpD,MAAmB,CAAC,UAAY,CAAC,QAAS,WAC1Cl1B,IACrBgiC,GAAc8hC,GAAG9hC,EAAWs7C,GAAgB+G,GAAe5jB,IAExD+gB,EAAgB/gB,EAAIY,YAC1B,IAAKmgB,EACH,MAAO,KACL9C,EAASx3E,QAASqiE,GAAMA,MAG5B,MAAMsb,EAAqBrD,EAAcjnF,OAAOw5C,yBAC9CytC,EAAcsD,iBAAiBlqF,UAC/B,SAEImqF,EAAiB,CACrB,CAACvD,EAAcsD,iBAAiBlqF,UAAW,SAC3C,CAAC4mF,EAAcsD,iBAAiBlqF,UAAW,WAC3C,CAAC4mF,EAAcwD,kBAAkBpqF,UAAW,SAC5C,CAAC4mF,EAAcyD,oBAAoBrqF,UAAW,SAE9C,CAAC4mF,EAAcwD,kBAAkBpqF,UAAW,iBAC5C,CAAC4mF,EAAc0D,kBAAkBtqF,UAAW,aAuB9C,OArBIiqF,GAAsBA,EAAmB1gF,KAC3Cu6E,EAASvgF,QACJ4mF,EAAe/kF,IACfrF,GAAM+nE,GACL/nE,EAAE,GACFA,EAAE,GACF,CACE,GAAAwJ,GACEm5E,GAAgB+G,EAAhB/G,CAA8B,CAC5BnzD,OAAQhvB,KACRopF,WAAW,GAGd,IAEH,EACA/C,KAKDlE,GAAgB,KACrBoB,EAASx3E,QAASqiE,GAAMA,MAE5B,CAklBuB4b,CAAkB5D,GACjC6D,EA5PR,UAAsCxD,mBACpCA,EAAkBv7C,WAClBA,EAAUhrB,cACVA,EACAof,OAAQqoC,EAAO0b,SACfA,EAAQ/d,IACRA,IAEA,MAAMoe,EAAUvB,GACbr4E,GAASggE,GACRqY,GAAiBv2E,IACf,MAAMojB,EAASuzD,GAAe32E,GAC9B,IAAKojB,GAAU84C,GAAU94C,EAAQkc,EAAYhrB,GAAe,GAC1D,OAEF,MAAMu3D,YAAEA,EAAWQ,OAAEA,EAAMJ,MAAEA,EAAKF,aAAEA,EAAYI,KAAEA,GAAS/oD,EAC3Dy3D,EAAmB,CACjB38E,OACAoM,GAAIyxD,EAAQltB,MAAMzrB,GAClByoD,cACAQ,SACAJ,QACAF,eACAI,WAGJsL,EAAS5T,OAAS,MAGhB8T,EAAW,CACf5a,GAAG,OAAQ+a,EAAQ5G,GAAkBoN,MAAO5kB,GAC5CqD,GAAG,QAAS+a,EAAQ5G,GAAkBqN,OAAQ7kB,GAC9CqD,GAAG,SAAU+a,EAAQ5G,GAAkBsN,QAAS9kB,GAChDqD,GAAG,eAAgB+a,EAAQ5G,GAAkBuN,cAAe/kB,GAC5DqD,GAAG,aAAc+a,EAAQ5G,GAAkBwN,YAAahlB,IAE1D,OAAO6c,GAAgB,KACrBoB,EAASx3E,QAASqiE,GAAMA,MAE5B,CAqNkCmc,CAA6BnE,GAC7D,IAAIoE,EAAqB,OAErBC,EAA4B,OAE5BC,EAA2B,OAE3BC,EAAe,OAEfvE,EAAGsB,YACL8C,EAhkBJ,UAAgC9D,iBAAEA,EAAkBpnD,OAAQqoC,EAAO6W,kBAAEA,IAAqBtlC,IAAEA,IAC1F,IAAKA,EAAI0xC,gBAAkB1xC,EAAI0xC,cAAcnrF,UAC3C,MAAO,OAGT,MAAMorF,EAAa3xC,EAAI0xC,cAAcnrF,UAAUorF,WAC/C3xC,EAAI0xC,cAAcnrF,UAAUorF,WAAa,IAAIl6D,MAAMk6D,EAAY,CAC7DhqF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,MAAOpkB,EAAOnnB,GAAUurC,GAClB50E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACtBzkF,EACA4mE,EACA6W,EAAkBiH,aASpB,OAPIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCgB,EAAiB,CACfxwE,KACAwvE,UACA7H,KAAM,CAAC,CAAE7hE,KAAM0qD,EAAO5hE,MAAOy6C,MAG1B8iC,GACL,IAAMrzD,EAAOnuB,MAAME,EAAS+pF,GADvBzI,OAMbnpC,EAAI0xC,cAAcnrF,UAAUsrF,QAAU,SAAS/vE,EAAUgwE,EAAYzrC,EAASv/C,KAAK2mE,SAAS/lE,QAC1F,MAAM8lE,EAAQ,GAAG1rD,OAAcgwE,MAC/B,OAAO9xC,EAAI0xC,cAAcnrF,UAAUorF,WAAWhqF,MAAMb,KAAM,CAAC0mE,EAAOnnB,GACtE,EACE,MAAM0rC,EAAa/xC,EAAI0xC,cAAcnrF,UAAUwrF,WA0B/C,IAAIxlF,EAwBAylF,EAjDJhyC,EAAI0xC,cAAcnrF,UAAUwrF,WAAa,IAAIt6D,MAAMs6D,EAAY,CAC7DpqF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,MAAOvrC,GAAUurC,GACX50E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACtBzkF,EACA4mE,EACA6W,EAAkBiH,aASpB,OAPIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCgB,EAAiB,CACfxwE,KACAwvE,UACA1F,QAAS,CAAC,CAAEl7E,MAAOy6C,MAGhB8iC,GACL,IAAMrzD,EAAOnuB,MAAME,EAAS+pF,GADvBzI,OAMbnpC,EAAI0xC,cAAcnrF,UAAU0rF,WAAa,SAAS5rC,GAChD,OAAOrG,EAAI0xC,cAAcnrF,UAAUwrF,WAAWpqF,MAAMb,KAAM,CAACu/C,GAC/D,EAEMrG,EAAI0xC,cAAcnrF,UAAUgG,UAC9BA,EAAUyzC,EAAI0xC,cAAcnrF,UAAUgG,QACtCyzC,EAAI0xC,cAAcnrF,UAAUgG,QAAU,IAAIkrB,MAAMlrB,EAAS,CACvD5E,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,MAAO3gF,GAAQ2gF,GACT50E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACtBzkF,EACA4mE,EACA6W,EAAkBiH,aASpB,OAPIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCgB,EAAiB,CACfxwE,KACAwvE,UACAjgF,QAAS0E,IAGN6kB,EAAOnuB,MAAME,EAAS+pF,QAMjC5xC,EAAI0xC,cAAcnrF,UAAUyrF,cAC9BA,EAAchyC,EAAI0xC,cAAcnrF,UAAUyrF,YAC1ChyC,EAAI0xC,cAAcnrF,UAAUyrF,YAAc,IAAIv6D,MAAMu6D,EAAa,CAC/DrqF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,MAAO3gF,GAAQ2gF,GACT50E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACtBzkF,EACA4mE,EACA6W,EAAkBiH,aASpB,OAPIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCgB,EAAiB,CACfxwE,KACAwvE,UACAwF,YAAa/gF,IAGV6kB,EAAOnuB,MAAME,EAAS+pF,QAKrC,MAAMM,EAA8B,CAAA,EAChCC,GAA4B,mBAC9BD,EAA4BlG,gBAAkBhsC,EAAIgsC,iBAE9CmG,GAA4B,kBAC9BD,EAA4BjG,aAAejsC,EAAIisC,cAE7CkG,GAA4B,sBAC9BD,EAA4B/F,iBAAmBnsC,EAAImsC,kBAEjDgG,GAA4B,qBAC9BD,EAA4BhG,gBAAkBlsC,EAAIksC,kBAGtD,MAAMkG,EAAsB,CAAA,EAkE5B,OAjEAlsF,OAAOwG,QAAQwlF,GAA6Br/E,QAAQ,EAAEw/E,EAASzhF,MAC7DwhF,EAAoBC,GAAW,CAE7BV,WAAY/gF,EAAKrK,UAAUorF,WAE3BI,WAAYnhF,EAAKrK,UAAUwrF,YAE7BnhF,EAAKrK,UAAUorF,WAAa,IAAIl6D,MAC9B26D,EAAoBC,GAASV,WAC7B,CACEhqF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,MAAOpkB,EAAOnnB,GAAUurC,GAClB50E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACtBzkF,EAAQukF,iBACR3d,EACA6W,EAAkBiH,aAkBpB,OAhBIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCgB,EAAiB,CACfxwE,KACAwvE,UACA7H,KAAM,CACJ,CACE7hE,KAAM0qD,EACN5hE,MAAO,IACFggF,GAA0B/jF,GAC7Bw+C,GAAU,OAObvwB,EAAOnuB,MAAME,EAAS+pF,OAKrChhF,EAAKrK,UAAUwrF,WAAa,IAAIt6D,MAC9B26D,EAAoBC,GAASN,WAC7B,CACEpqF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,MAAOvrC,GAAUurC,GACX50E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACtBzkF,EAAQukF,iBACR3d,EACA6W,EAAkBiH,aAWpB,OATIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCgB,EAAiB,CACfxwE,KACAwvE,UACA1F,QAAS,CACP,CAAEl7E,MAAO,IAAIggF,GAA0B/jF,GAAUw+C,OAIhDvwB,EAAOnuB,MAAME,EAAS+pF,SAMhC3I,GAAgB,KACrBjpC,EAAI0xC,cAAcnrF,UAAUorF,WAAaA,EACzC3xC,EAAI0xC,cAAcnrF,UAAUwrF,WAAaA,EACzCxlF,IAAYyzC,EAAI0xC,cAAcnrF,UAAUgG,QAAUA,GAClDylF,IAAgBhyC,EAAI0xC,cAAcnrF,UAAUyrF,YAAcA,GAC1D9rF,OAAOwG,QAAQwlF,GAA6Br/E,QAAQ,EAAEw/E,EAASzhF,MAC7DA,EAAKrK,UAAUorF,WAAaS,EAAoBC,GAASV,WACzD/gF,EAAKrK,UAAUwrF,WAAaK,EAAoBC,GAASN,cAG/D,CA4XyBO,CAAuBpF,EAAI,CAAEltC,IAAKmtC,IACvDoE,EAA4B9E,GAA8BS,EAAIA,EAAG9gB,KACjEolB,EA/UJ,UAAsC/D,mBACpCA,EACArnD,OAAQqoC,EAAO8jB,oBACfA,EAAmBjN,kBACnBA,IACCtlC,IAAEA,IACH,MAAMwyC,EAAcxyC,EAAIyyC,oBAAoBlsF,UAAUisF,YACtDxyC,EAAIyyC,oBAAoBlsF,UAAUisF,YAAc,IAAI/6D,MAAM+6D,EAAa,CACrE7qF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,IAAI3lE,EACJ,MAAOu1D,EAAUn5E,EAAOqqF,GAAYd,EACpC,GAAIW,EAAoBn8D,IAAIorD,GAC1B,OAAOgR,EAAY7qF,MAAME,EAAS,CAAC25E,EAAUn5E,EAAOqqF,IAEtD,MAAM11E,GAAEA,EAAEwvE,QAAEA,GAAYF,GACQ,OAA7BrgE,EAAMpkB,EAAQkkF,iBAAsB,EAAS9/D,EAAImgE,iBAClD3d,EACA6W,EAAkBiH,aAepB,OAbIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCiB,EAAmB,CACjBzwE,KACAwvE,UACA18E,IAAK,CACH0xE,WACAn5E,QACAqqF,YAGF9mF,MAAOggF,GAA0B/jF,EAAQkkF,cAGtCj2D,EAAOnuB,MAAME,EAAS+pF,OAInC,MAAMe,EAAiB3yC,EAAIyyC,oBAAoBlsF,UAAUosF,eA6BzD,OA5BA3yC,EAAIyyC,oBAAoBlsF,UAAUosF,eAAiB,IAAIl7D,MAAMk7D,EAAgB,CAC3EhrF,MAAOshF,GACL,CAACnzD,EAAQjuB,EAAS+pF,KAChB,IAAI3lE,EACJ,MAAOu1D,GAAYoQ,EACnB,GAAIW,EAAoBn8D,IAAIorD,GAC1B,OAAOmR,EAAehrF,MAAME,EAAS,CAAC25E,IAExC,MAAMxkE,GAAEA,EAAEwvE,QAAEA,GAAYF,GACQ,OAA7BrgE,EAAMpkB,EAAQkkF,iBAAsB,EAAS9/D,EAAImgE,iBAClD3d,EACA6W,EAAkBiH,aAapB,OAXIvvE,IAAc,IAARA,GAAawvE,IAAwB,IAAbA,IAChCiB,EAAmB,CACjBzwE,KACAwvE,UACAr9B,OAAQ,CACNqyB,YAGF51E,MAAOggF,GAA0B/jF,EAAQkkF,cAGtCj2D,EAAOnuB,MAAME,EAAS+pF,OAI5B3I,GAAgB,KACrBjpC,EAAIyyC,oBAAoBlsF,UAAUisF,YAAcA,EAChDxyC,EAAIyyC,oBAAoBlsF,UAAUosF,eAAiBA,GAEvD,CAyQ+BC,CAA6B1F,EAAI,CAC1DltC,IAAKmtC,IAEHD,EAAG2F,eACLpB,EApON,UAA0B9D,OAAEA,EAAMvhB,IAAEA,IAClC,MAAMpsB,EAAMosB,EAAIY,YAChB,IAAKhtB,EACH,MAAO,OAGT,MAAMqqC,EAAW,GACXyI,EAA0B,IAAIp9D,QAC9Bq9D,EAAmB/yC,EAAIgzC,SAC7BhzC,EAAIgzC,SAAW,SAAmBC,EAAQ/0E,EAAQg1E,GAChD,MAAMC,EAAW,IAAIJ,EAAiBE,EAAQ/0E,EAAQg1E,GAOtD,OANAJ,EAAQhjF,IAAIqjF,EAAU,CACpBF,SACA91B,OAA0B,iBAAXj/C,EACfg1E,cACAE,WAA8B,iBAAXl1E,EAAsBA,EAASvM,KAAKC,UAAUvL,MAAMmE,KAAK,IAAIiC,WAAWyR,OAEtFi1E,CACX,EACE,MAAME,EAAiBj8C,GACrBg1B,EAAIknB,MACJ,MACA,SAASp9B,GACP,OAAO,SAASi9B,GAWd,OAVAl1E,WACEgrE,GAAgB,KACd,MAAM3iF,EAAIwsF,EAAQjjF,IAAIsjF,GAClB7sF,IACFqnF,EAAOrnF,GACPwsF,EAAQr8E,OAAO08E,MAGnB,GAEKj9B,EAASvuD,MAAMb,KAAM,CAACqsF,GACrC,CACK,GAMH,OAJA9I,EAASvgF,KAAK,KACZk2C,EAAIgzC,SAAWD,IAEjB1I,EAASvgF,KAAKupF,GACPpK,GAAgB,KACrBoB,EAASx3E,QAASqiE,GAAMA,MAE5B,CAuLqBqe,CAAiBrG,KAGpC,MAAMsG,EAzLR,SAA+BC,GAC7B,MAAMrnB,IAAEA,EAAKhmC,OAAQqoC,EAAOz8B,WAAEA,EAAUhrB,cAAEA,EAAa4mE,YAAEA,GAAgB6F,EACzE,IAAIC,GAAY,EAChB,MAAMC,EAAkB1K,GAAgB,KACtC,MAAMoF,EAAYjiB,EAAIwnB,eACtB,IAAKvF,GAAaqF,IAA2B,MAAbrF,OAAoB,EAASA,EAAUwF,aAAc,OACrFH,EAAYrF,EAAUwF,cAAe,EACrC,MAAMC,EAAS,GACTtuD,EAAQ6oD,EAAU0F,YAAc,EACtC,IAAK,IAAI/pE,EAAK,EAAGA,EAAKwb,EAAOxb,IAAM,CACjC,MAAMiwB,EAAQo0C,EAAU2F,WAAWhqE,IAC7BiqE,eAAEA,EAAcC,YAAEA,EAAWC,aAAEA,EAAYC,UAAEA,GAAcn6C,EACjD20B,GAAUqlB,EAAgBjiD,EAAYhrB,GAAe,IAAS4nD,GAAUulB,EAAcniD,EAAYhrB,GAAe,IAEjI8sE,EAAOhqF,KAAK,CACVsH,MAAOq9D,EAAQltB,MAAM0yC,GACrBC,cACAxiF,IAAK+8D,EAAQltB,MAAM4yC,GACnBC,aAEH,CACDxG,EAAY,CAAEkG,aAGhB,OADAH,IACOlkB,GAAG,kBAAmBkkB,EAC/B,CAgK4BU,CAAsBnH,GAC1CoH,EAhKR,UAAmCloB,IACjCA,EAAGyhB,gBACHA,IAEA,MAAM7tC,EAAMosB,EAAIY,YAChB,OAAKhtB,GAAQA,EAAI0/B,eAEMtoC,GACrB4I,EAAI0/B,eACJ,SACA,SAASxpB,GACP,OAAO,SAASrlD,EAAM9J,EAAa+H,GACjC,IACE++E,EAAgB,CACd0G,OAAQ,CACN1jF,SAGL,CAAC,MAAOgoD,GACPhrD,QAAQC,KAAK,sCAAsC+C,IACpD,CACD,OAAOqlD,EAASvuD,MAAMb,KAAM,CAAC+J,EAAM9J,EAAa+H,GACxD,CACK,GAlBqC,MAqB1C,CAsIgC0lF,CAA0BtH,GAClDuH,EAAiB,GACvB,IAAK,MAAMjvC,KAAU0nC,EAAGx8C,QACtB+jD,EAAe3qF,KACb07C,EAAO7a,SAAS6a,EAAOzoC,SAAUowE,EAAe3nC,EAAO12C,UAG3D,OAAOm6E,GAAgB,KACrBG,GAAgBv2E,QAAS5M,GAAMA,EAAEi8C,SACb,MAApBb,GAAoCA,EAAiBqzC,aACrDjG,IACAa,IACAC,IACAC,IACAI,IACAmB,IACAO,IACAC,IACAC,IACAC,IACA+B,IACAc,IACAG,EAAe5hF,QAASqiE,GAAMA,MAElC,CACA,SAAS4W,GAAiB/1D,GACxB,YAA+B,IAAjBzqB,OAAOyqB,EACvB,CACA,SAASo8D,GAA4Bp8D,GACnC,OAAOkmB,aACmB,IAAjB3wC,OAAOyqB,IAEdzqB,OAAOyqB,GAAMxvB,WAAa,eAAgB+E,OAAOyqB,GAAMxvB,WAAa,eAAgB+E,OAAOyqB,GAAMxvB,UAErG,CACA,MAAMouF,GACJ,WAAA5tF,CAAY6tF,GACV12C,GAAcp3C,KAAM,wBAAyC,IAAI4uB,SACjEwoB,GAAcp3C,KAAM,wBAAyC,IAAI4uB,SACjE5uB,KAAK8tF,aAAeA,CACrB,CACD,KAAArzC,CAAMmkC,EAAQmP,EAAUC,EAAeC,GACrC,MAAMC,EAAkBF,GAAiBhuF,KAAKmuF,mBAAmBvP,GAC3DwP,EAAkBH,GAAiBjuF,KAAKquF,mBAAmBzP,GACjE,IAAI1oE,EAAKg4E,EAAgBnlF,IAAIglF,GAM7B,OALK73E,IACHA,EAAKlW,KAAK8tF,eACVI,EAAgBllF,IAAI+kF,EAAU73E,GAC9Bk4E,EAAgBplF,IAAIkN,EAAI63E,IAEnB73E,CACR,CACD,MAAA0kC,CAAOgkC,EAAQmP,GACb,MAAMG,EAAkBluF,KAAKmuF,mBAAmBvP,GAC1CwP,EAAkBpuF,KAAKquF,mBAAmBzP,GAChD,OAAOmP,EAASlpF,IACbqR,GAAOlW,KAAKy6C,MAAMmkC,EAAQ1oE,EAAIg4E,EAAiBE,GAEnD,CACD,WAAAE,CAAY1P,EAAQ1oE,EAAIrR,GACtB,MAAMupF,EAAkBvpF,GAAO7E,KAAKquF,mBAAmBzP,GACvD,GAAkB,iBAAP1oE,EAAiB,OAAOA,EACnC,MAAM63E,EAAWK,EAAgBrlF,IAAImN,GACrC,OAAK63E,IAAkB,CAExB,CACD,YAAAQ,CAAa3P,EAAQ4P,GACnB,MAAMJ,EAAkBpuF,KAAKquF,mBAAmBzP,GAChD,OAAO4P,EAAI3pF,IAAKqR,GAAOlW,KAAKsuF,YAAY1P,EAAQ1oE,EAAIk4E,GACrD,CACD,KAAAhzC,CAAMwjC,GACJ,IAAKA,EAGH,OAFA5+E,KAAKyuF,sBAAwC,IAAI7/D,aACjD5uB,KAAK0uF,sBAAwC,IAAI9/D,SAGnD5uB,KAAKyuF,sBAAsB9+E,OAAOivE,GAClC5+E,KAAK0uF,sBAAsB/+E,OAAOivE,EACnC,CACD,kBAAAuP,CAAmBvP,GACjB,IAAIsP,EAAkBluF,KAAKyuF,sBAAsB1lF,IAAI61E,GAKrD,OAJKsP,IACHA,EAAkC,IAAIn8D,IACtC/xB,KAAKyuF,sBAAsBzlF,IAAI41E,EAAQsP,IAElCA,CACR,CACD,kBAAAG,CAAmBzP,GACjB,IAAIwP,EAAkBpuF,KAAK0uF,sBAAsB3lF,IAAI61E,GAKrD,OAJKwP,IACHA,EAAkC,IAAIr8D,IACtC/xB,KAAK0uF,sBAAsB1lF,IAAI41E,EAAQwP,IAElCA,CACR,EAEH,MAAMO,GACJ,WAAA1uF,CAAY+H,GACVovC,GAAcp3C,KAAM,UAA2B,IAAI4uB,SACnDwoB,GAAcp3C,KAAM,uBAAwC,IAAI4uB,SAChEwoB,GAAcp3C,KAAM,0BAA2B,IAAI6tF,GAAwBlb,KAC3Ev7B,GAAcp3C,KAAM,gCACpBo3C,GAAcp3C,KAAM,6BAA8C,IAAI4uB,SACtEwoB,GAAcp3C,KAAM,UACpBo3C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,eACpBo3C,GAAcp3C,KAAM,gBACpBo3C,GAAcp3C,KAAM,qBACpBo3C,GAAcp3C,KAAM,4BACpBA,KAAKmgF,WAAan4E,EAAQm4E,WAC1BngF,KAAK4uF,YAAc5mF,EAAQ4mF,YAC3B5uF,KAAKw+E,kBAAoBx2E,EAAQw2E,kBACjCx+E,KAAK6uF,yBAA2B7mF,EAAQ6mF,yBACxC7uF,KAAK8uF,6BAA+B,IAAIjB,GACtC7tF,KAAKw+E,kBAAkBiH,YAAY3f,WAAWhsD,KAC5C9Z,KAAKw+E,kBAAkBiH,cAG3BzlF,KAAKs/B,OAASt3B,EAAQs3B,OAClBt/B,KAAK6uF,0BACPrqF,OAAO8rB,iBAAiB,UAAWtwB,KAAK+uF,cAAcj1E,KAAK9Z,MAE9D,CACD,SAAAu+E,CAAUxlC,GACR/4C,KAAKgvF,QAAQhmF,IAAI+vC,GAAU,GACvBA,EAASI,eACXn5C,KAAKivF,qBAAqBjmF,IAAI+vC,EAASI,cAAeJ,EACzD,CACD,eAAAm2C,CAAgBprD,GACd9jC,KAAKmvF,aAAerrD,CACrB,CACD,YAAAg7C,CAAa/lC,EAAU8lC,GACrB,IAAI15D,EAAKtf,EACT7F,KAAKmgF,WAAW,CACdtC,KAAM,CACJ,CACEnU,SAAU1pE,KAAKs/B,OAAOmb,MAAM1B,GAC5B0wB,OAAQ,KACR1sC,KAAM8hD,IAGVmB,QAAS,GACTP,MAAO,GACPrjD,WAAY,GACZgzD,gBAAgB,IAEdpvF,KAAK6uF,2BAC2B,OAAjC1pE,EAAM4zB,EAASI,gBAAkCh0B,EAAImL,iBACpD,UACAtwB,KAAK+uF,cAAcj1E,KAAK9Z,QAEA,OAA3B6F,EAAK7F,KAAKmvF,eAAiCtpF,EAAGlG,KAAKK,KAAM+4C,GACtDA,EAAS0/B,iBAAmB1/B,EAAS0/B,gBAAgB4W,oBAAsBt2C,EAAS0/B,gBAAgB4W,mBAAmBzuF,OAAS,GAClIZ,KAAKw+E,kBAAkB0H,iBACrBntC,EAAS0/B,gBAAgB4W,mBACzBrvF,KAAKs/B,OAAOmb,MAAM1B,EAAS0/B,iBAEhC,CACD,aAAAsW,CAAcprD,GACZ,MAAM2rD,EAA0B3rD,EAChC,GAA0C,UAAtC2rD,EAAwBnmE,KAAKrf,MACjCwlF,EAAwB1iC,SAAW0iC,EAAwBnmE,KAAKyjC,OAC9D,OAEF,IAD2BjpB,EAAQvsB,OACV,OACzB,MAAM2hC,EAAW/4C,KAAKivF,qBAAqBlmF,IAAI46B,EAAQvsB,QACvD,IAAK2hC,EAAU,OACf,MAAMw2C,EAAmBvvF,KAAKwvF,0BAC5Bz2C,EACAu2C,EAAwBnmE,KAAKvd,OAE3B2jF,GACFvvF,KAAK4uF,YACHW,EACAD,EAAwBnmE,KAAKsmE,WAElC,CACD,yBAAAD,CAA0Bz2C,EAAUgZ,GAClC,IAAI5sC,EACJ,OAAQ4sC,EAAGjoD,MACT,KAAKuU,GAAUqxE,aAAc,CAC3B1vF,KAAK2vF,wBAAwBv0C,MAAMrC,GACnC/4C,KAAK8uF,6BAA6B1zC,MAAMrC,GACxC/4C,KAAK4vF,gBAAgB79B,EAAG5oC,KAAK4T,KAAMgc,GACnC,MAAM27B,EAAS3iB,EAAG5oC,KAAK4T,KAAK7mB,GAG5B,OAFAlW,KAAK6vF,2BAA2B7mF,IAAI+vC,EAAU27B,GAC9C10E,KAAK8vF,kBAAkB/9B,EAAG5oC,KAAK4T,KAAM23C,GAC9B,CACL51C,UAAWizB,EAAGjzB,UACdh1B,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBwT,SAC1BnS,KAAM,CACJ,CACEnU,SAAU1pE,KAAKs/B,OAAOmb,MAAM1B,GAC5B0wB,OAAQ,KACR1sC,KAAMg1B,EAAG5oC,KAAK4T,OAGlBijD,QAAS,GACTP,MAAO,GACPrjD,WAAY,GACZgzD,gBAAgB,GAGrB,CACD,KAAK/wE,GAAUysB,KACf,KAAKzsB,GAAU4xE,KACf,KAAK5xE,GAAU6xE,iBACb,OAAO,EAET,KAAK7xE,GAAU8xE,OACb,OAAOp+B,EAET,KAAK1zC,GAAU+xE,OAMb,OALApwF,KAAKqwF,WACHt+B,EAAG5oC,KAAK9U,QACR0kC,EACA,CAAC,KAAM,WAAY,aAAc,WAE5BgZ,EAET,KAAK1zC,GAAU0xE,oBACb,OAAQh+B,EAAG5oC,KAAK/R,QACd,KAAKolE,GAAkBwT,SAoBrB,OAnBAj+B,EAAG5oC,KAAK00D,KAAK9xE,QAASkuC,IACpBj6C,KAAKqwF,WAAWp2C,EAAIlB,EAAU,CAC5B,WACA,SACA,eAEF/4C,KAAK4vF,gBAAgB31C,EAAGld,KAAMgc,GAC9B,MAAM27B,EAAS10E,KAAK6vF,2BAA2B9mF,IAAIgwC,GACnD27B,GAAU10E,KAAK8vF,kBAAkB71C,EAAGld,KAAM23C,KAE5C3iB,EAAG5oC,KAAK62D,QAAQj0E,QAASkuC,IACvBj6C,KAAKqwF,WAAWp2C,EAAIlB,EAAU,CAAC,WAAY,SAE7CgZ,EAAG5oC,KAAKiT,WAAWrwB,QAASkuC,IAC1Bj6C,KAAKqwF,WAAWp2C,EAAIlB,EAAU,CAAC,SAEjCgZ,EAAG5oC,KAAKs2D,MAAM1zE,QAASkuC,IACrBj6C,KAAKqwF,WAAWp2C,EAAIlB,EAAU,CAAC,SAE1BgZ,EAET,KAAKyqB,GAAkB2L,KACvB,KAAK3L,GAAkB8L,UACvB,KAAK9L,GAAkB6L,UAIrB,OAHAt2B,EAAG5oC,KAAK29C,UAAU/6D,QAASvM,IACzBQ,KAAKqwF,WAAW7wF,EAAGu5C,EAAU,CAAC,SAEzBgZ,EAET,KAAKyqB,GAAkB8T,eACrB,OAAO,EAET,KAAK9T,GAAkB+T,iBACvB,KAAK/T,GAAkBgU,iBACvB,KAAKhU,GAAkBiU,OACvB,KAAKjU,GAAkBkU,eACvB,KAAKlU,GAAkBlwB,MAErB,OADAtsD,KAAKqwF,WAAWt+B,EAAG5oC,KAAM4vB,EAAU,CAAC,OAC7BgZ,EAET,KAAKyqB,GAAkBmU,eACvB,KAAKnU,GAAkBoU,iBAGrB,OAFA5wF,KAAKqwF,WAAWt+B,EAAG5oC,KAAM4vB,EAAU,CAAC,OACpC/4C,KAAK6wF,gBAAgB9+B,EAAG5oC,KAAM4vB,EAAU,CAAC,YAClCgZ,EAET,KAAKyqB,GAAkBsU,KACrB,OAAO/+B,EAET,KAAKyqB,GAAkBuU,UAIrB,OAHAh/B,EAAG5oC,KAAK6jE,OAAOjhF,QAASonC,IACtBnzC,KAAKqwF,WAAWl9C,EAAO4F,EAAU,CAAC,QAAS,UAEtCgZ,EAET,KAAKyqB,GAAkBwU,kBAMrB,OALAhxF,KAAKqwF,WAAWt+B,EAAG5oC,KAAM4vB,EAAU,CAAC,OACpC/4C,KAAK6wF,gBAAgB9+B,EAAG5oC,KAAM4vB,EAAU,CAAC,aACf,OAAzB5zB,EAAM4sC,EAAG5oC,KAAK8nE,SAA2B9rE,EAAIpZ,QAAS2lE,IACrD1xE,KAAK6wF,gBAAgBnf,EAAO34B,EAAU,CAAC,cAElCgZ,GAKf,OAAO,CACR,CACD,OAAAtsD,CAAQyrF,EAAcjkF,EAAK8rC,EAAUn0C,GACnC,IAAK,MAAMoI,KAAOpI,GACXrF,MAAMmN,QAAQO,EAAID,KAA6B,iBAAbC,EAAID,MACvCzN,MAAMmN,QAAQO,EAAID,IACpBC,EAAID,GAAOkkF,EAAat2C,OACtB7B,EACA9rC,EAAID,IAGNC,EAAID,GAAOkkF,EAAaz2C,MAAM1B,EAAU9rC,EAAID,KAGhD,OAAOC,CACR,CACD,UAAAojF,CAAWpjF,EAAK8rC,EAAUn0C,GACxB,OAAO5E,KAAKyF,QAAQzF,KAAK2vF,wBAAyB1iF,EAAK8rC,EAAUn0C,EAClE,CACD,eAAAisF,CAAgB5jF,EAAK8rC,EAAUn0C,GAC7B,OAAO5E,KAAKyF,QAAQzF,KAAK8uF,6BAA8B7hF,EAAK8rC,EAAUn0C,EACvE,CACD,eAAAgrF,CAAgB30C,EAAOlC,GACrB/4C,KAAKqwF,WAAWp1C,EAAOlC,EAAU,CAAC,KAAM,WACpC,eAAgBkC,GAClBA,EAAMjB,WAAWjuC,QAAS4wB,IACxB38B,KAAK4vF,gBAAgBjzD,EAAOoc,IAGjC,CACD,iBAAA+2C,CAAkB70C,EAAOy5B,GACnBz5B,EAAMnxC,OAASkzE,GAASjjB,UAAa9e,EAAMy5B,SAAQz5B,EAAMy5B,OAASA,GAClE,eAAgBz5B,GAClBA,EAAMjB,WAAWjuC,QAAS4wB,IACxB38B,KAAK8vF,kBAAkBnzD,EAAO+3C,IAGnC,EAEH,MAAMyc,GACJ,WAAAlxF,CAAY+H,GACVovC,GAAcp3C,KAAM,aAA8B,IAAIoxF,SACtDh6C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,YACpBo3C,GAAcp3C,KAAM,iBACpBo3C,GAAcp3C,KAAM,UACpBo3C,GAAcp3C,KAAM,kBAAmB,IACvCA,KAAKmgF,WAAan4E,EAAQm4E,WAC1BngF,KAAKykF,SAAWz8E,EAAQy8E,SACxBzkF,KAAKq7E,cAAgBrzE,EAAQqzE,cAC7Br7E,KAAKs/B,OAASt3B,EAAQs3B,OACtBt/B,KAAKwnC,MACN,CACD,IAAAA,GACExnC,KAAKo7C,QACLp7C,KAAKqxF,kBAAkBt5C,QAASz3B,SACjC,CACD,aAAAq+D,CAAchQ,EAAarJ,GACzB,IAAKoJ,GAAkBC,GAAc,OACrC,GAAI3uE,KAAKsxF,WAAWhiE,IAAIq/C,GAAc,OACtC3uE,KAAKsxF,WAAW7hF,IAAIk/D,GACpB,MAAM9qC,EAAW4+C,GACf,IACKziF,KAAKq7E,cACR/V,MACA6a,WAAYngF,KAAKmgF,WACjB7gD,OAAQt/B,KAAKs/B,OACbo/C,iBAAkB1+E,MAEpB2uE,GAEF3uE,KAAKuxF,gBAAgBvuF,KAAK,IAAM6gC,EAAS+pD,cACzC5tF,KAAKuxF,gBAAgBvuF,KACnBwhF,GAAmB,IACdxkF,KAAKq7E,cACRoJ,SAAUzkF,KAAKykF,SAGfnf,IAAKqJ,EACLrvC,OAAQt/B,KAAKs/B,UAGjBnoB,WAAW,KACLw3D,EAAY0gB,oBAAsB1gB,EAAY0gB,mBAAmBzuF,OAAS,GAC5EZ,KAAKq7E,cAAcmD,kBAAkB0H,iBACnCvX,EAAY0gB,mBACZrvF,KAAKs/B,OAAOmb,MAAM31C,GAAMs1C,KAAKu0B,KAEjC3uE,KAAKuxF,gBAAgBvuF,KACnB2iF,GACE,CACErmD,OAAQt/B,KAAKs/B,OACbk/C,kBAAmBx+E,KAAKq7E,cAAcmD,mBAExC7P,KAGH,EACJ,CAID,mBAAAoQ,CAAoByS,GACbA,EAAcr4C,eAAkBq4C,EAAc/Y,iBACnDz4E,KAAKqxF,kBACHG,EAAcr4C,cAAcpB,QAC5By5C,EAAc/Y,gBAEjB,CAID,iBAAA4Y,CAAkBl3E,EAASmrD,GACzB,MAAM1rC,EAAU55B,KAChBA,KAAKuxF,gBAAgBvuF,KACnBstC,GACEn2B,EAAQ1a,UACR,eACA,SAAS2vD,GACP,OAAO,SAASqiC,GACd,MAAMC,EAAQtiC,EAASzvD,KAAKK,KAAMyxF,GAC5BvW,EAAep2E,GAAMw1C,WAAWt6C,MAGtC,OAFIk7E,GAAgBzT,GAAMznE,OACxB45B,EAAQ+kD,cAAczD,EAAc5V,GAC/BosB,CACnB,CACS,GAGN,CACD,KAAAt2C,GACEp7C,KAAKuxF,gBAAgBxlF,QAAS23E,IAC5B,IACEA,GACD,CAAC,MAAO3xB,GACR,IAEH/xD,KAAKuxF,gBAAkB,GACvBvxF,KAAKsxF,WAA6B,IAAIF,OACvC,EAIH,IAFA,IAAI7mB,GAAQ,mEACRC,GAA+B,oBAAf7kE,WAA6B,GAAK,IAAIA,WAAW,KAC5D8kE,GAAM,EAAGA,GAAMF,GAAcE,KACpCD,GAAOD,GAAMl6D,WAAWo6D,KAAQA,GAiBlC,MAAMknB,GAA+B,IAAI5/D,IAYzC,MAAM6/D,GAAe,CAACrwF,EAAO23C,EAAK88B,KAChC,IAAKz0E,IAAWswF,GAAwBtwF,EAAO23C,IAAyB,iBAAV33C,EAC5D,OACF,MACMurB,EAfR,SAA2BkpD,EAAK8b,GAC9B,IAAIC,EAAaJ,GAAa5oF,IAAIitE,GAQlC,OAPK+b,IACHA,EAA6B,IAAIhgE,IACjC4/D,GAAa3oF,IAAIgtE,EAAK+b,IAEnBA,EAAWziE,IAAIwiE,IAClBC,EAAW/oF,IAAI8oF,EAAM,IAEhBC,EAAWhpF,IAAI+oF,EACxB,CAKeE,CAAkBhc,EADlBz0E,EAAMtB,YAAY8J,MAE/B,IAAIw1C,EAASzyB,EAAKo7B,QAAQ3mD,GAK1B,OAJgB,IAAZg+C,IACFA,EAASzyB,EAAKlsB,OACdksB,EAAK9pB,KAAKzB,IAELg+C,GAET,SAAS0yC,GAAa1wF,EAAO23C,EAAK88B,GAChC,GAAIz0E,aAAiBhC,MACnB,OAAOgC,EAAMsD,IAAKqtF,GAAQD,GAAaC,EAAKh5C,EAAK88B,IAC5C,GAAc,OAAVz0E,EACT,OAAOA,EACF,GAAIA,aAAiB4wF,cAAgB5wF,aAAiB6wF,cAAgB7wF,aAAiB8wF,YAAc9wF,aAAiB0f,aAAe1f,aAAiBoE,YAAcpE,aAAiBwf,aAAexf,aAAiB+wF,YAAc/wF,aAAiBgxF,WAAahxF,aAAiBixF,kBAAmB,CAE1S,MAAO,CACLC,QAFWlxF,EAAMtB,YAAY8J,KAG7BnD,KAAM,CAACxH,OAAO6/B,OAAO19B,IAE3B,CAAS,GAILA,aAAiBmxF,YACjB,CAGA,MAAO,CACLD,QAHWlxF,EAAMtB,YAAY8J,KAI7B4oF,OA5DO,SAASC,GACpB,IAAyC1vE,EAArC2vE,EAAQ,IAAIltF,WAAWitF,GAAkBhsE,EAAMisE,EAAMjyF,OAAQ+xF,EAAS,GAC1E,IAAKzvE,EAAK,EAAGA,EAAK0D,EAAK1D,GAAM,EAC3ByvE,GAAUpoB,GAAMsoB,EAAM3vE,IAAO,GAC7ByvE,GAAUpoB,IAAmB,EAAZsoB,EAAM3vE,KAAY,EAAI2vE,EAAM3vE,EAAK,IAAM,GACxDyvE,GAAUpoB,IAAuB,GAAhBsoB,EAAM3vE,EAAK,KAAY,EAAI2vE,EAAM3vE,EAAK,IAAM,GAC7DyvE,GAAUpoB,GAAsB,GAAhBsoB,EAAM3vE,EAAK,IAO7B,OALI0D,EAAM,GAAM,EACd+rE,EAASA,EAAO79E,UAAU,EAAG69E,EAAO/xF,OAAS,GAAK,IACzCgmB,EAAM,GAAM,IACrB+rE,EAASA,EAAO79E,UAAU,EAAG69E,EAAO/xF,OAAS,GAAK,MAE7C+xF,CACT,CA2CmB5oE,CAAOxoB,GAK1B,CAAS,GAAIA,aAAiBuxF,SAAU,CAEpC,MAAO,CACLL,QAFWlxF,EAAMtB,YAAY8J,KAG7BnD,KAAM,CACJqrF,GAAa1wF,EAAM80D,OAAQnd,EAAK88B,GAChCz0E,EAAMwxF,WACNxxF,EAAMyxF,YAGd,CAAS,GAAIzxF,aAAiB0xF,iBAAkB,CAC5C,MAAMlpF,EAAOxI,EAAMtB,YAAY8J,MACzByuE,IAAEA,GAAQj3E,EAChB,MAAO,CACLkxF,QAAS1oF,EACTyuE,MAEN,CAAS,GAAIj3E,aAAiB2xF,kBAAmB,CAG7C,MAAO,CACLT,QAHW,mBAIXja,IAHUj3E,EAAMg1E,YAKtB,CAAS,GAAIh1E,aAAiB4xF,UAAW,CAErC,MAAO,CACLV,QAFWlxF,EAAMtB,YAAY8J,KAG7BnD,KAAM,CAACqrF,GAAa1wF,EAAM4nB,KAAM+vB,EAAK88B,GAAMz0E,EAAMqgC,MAAOrgC,EAAMsgC,QAEpE,CAAS,GAAIgwD,GAAwBtwF,EAAO23C,IAAyB,iBAAV33C,EAAoB,CAG3E,MAAO,CACLkxF,QAHWlxF,EAAMtB,YAAY8J,KAI7BjF,MAHa8sF,GAAarwF,EAAO23C,EAAK88B,GAKzC,CACD,OAAOz0E,CACT,CACA,MAAM6xF,GAAgB,CAACxsF,EAAMsyC,EAAK88B,IACzBpvE,EAAK/B,IAAKqtF,GAAQD,GAAaC,EAAKh5C,EAAK88B,IAE5C6b,GAA0B,CAACtwF,EAAO23C,KACtC,MAcMm6C,EAdwB,CAC5B,kBACA,cACA,mBACA,eACA,oBACA,cACA,6BACA,eACA,uBACA,yBAEA,6BAE2D3yE,OAC1D3W,GAA8B,mBAAdmvC,EAAInvC,IAEvB,OAAOorC,QACLk+C,EAA+B9d,KAC5BxrE,GAASxI,aAAiB23C,EAAInvC,MA2DrC,SAASupF,GAA0Bp6C,EAAKhO,EAAYhrB,EAAeqzE,GACjE,MAAMhQ,EAAW,GACjB,IACE,MAAMgJ,EAAiBj8C,GACrB4I,EAAIg6C,kBAAkBzzF,UACtB,aACA,SAAS2vD,GACP,OAAO,SAASokC,KAAgB5sF,GAC9B,IAAKkhE,GAAU9nE,KAAMkrC,EAAYhrB,GAAe,GAAO,CACrD,MAAMuzE,EAZlB,SAAkCD,GAChC,MAAuB,uBAAhBA,EAAuC,QAAUA,CAC1D,CAU4BE,CAAyBF,GAEzC,GADM,cAAexzF,OAAOA,KAAK81E,UAAY2d,GACzCF,GAAkC,CAAC,QAAS,UAAUxtF,SAAS0tF,GACjE,GAAI7sF,EAAK,IAAyB,iBAAZA,EAAK,GAAiB,CAC1C,MAAM+sF,EAAoB/sF,EAAK,GAC1B+sF,EAAkBC,wBACrBD,EAAkBC,uBAAwB,EAE5D,MACgBhtF,EAAK6P,OAAO,EAAG,EAAG,CAChBm9E,uBAAuB,GAI9B,CACD,OAAOxkC,EAASvuD,MAAMb,KAAM,CAACwzF,KAAgB5sF,GACvD,CACO,GAEH28E,EAASvgF,KAAKupF,EAClB,CAAI,MACAxlF,QAAQxD,MAAM,yDACf,CACD,MAAO,KACLggF,EAASx3E,QAASqiE,GAAMA,KAE5B,CACA,SAASylB,GAAiBp0F,EAAWqK,EAAMg6B,EAAIoH,EAAYhrB,EAAeg5B,GACxE,MAAMqqC,EAAW,GACX1xB,EAAQzyD,OAAO00F,oBAAoBr0F,GACzC,IAAK,MAAMwvB,KAAQ4iC,EACjB,IAEE,CACE,gBACA,SACA,qBACA,uBACA9rD,SAASkpB,GAIb,IACE,GAA+B,mBAApBxvB,EAAUwvB,GACnB,SAEF,MAAMs9D,EAAiBj8C,GACrB7wC,EACAwvB,EACA,SAASmgC,GACP,OAAO,YAAYxoD,GACjB,MAAM6hD,EAAU2G,EAASvuD,MAAMb,KAAM4G,GAErC,GADAgrF,GAAanpC,EAASvP,EAAKl5C,MACvB,YAAaA,KAAK+1E,SAAWjO,GAAU9nE,KAAK+1E,OAAQ7qC,EAAYhrB,GAAe,GAAO,CACxF,MAAM6zE,EAAaX,GAAcxsF,EAAMsyC,EAAKl5C,MACtCwpE,EAAW,CACf1/D,OACA4wE,SAAUzrD,EACVroB,KAAMmtF,GAERjwD,EAAG9jC,KAAK+1E,OAAQvM,EACjB,CACD,OAAO/gB,CACnB,CACS,GAEH86B,EAASvgF,KAAKupF,EACpB,CAAM,MACA,MAAMyH,EAAczsB,GAAW9nE,EAAWwvB,EAAM,CAC9C,GAAAjmB,CAAIwgF,GACF1lD,EAAG9jC,KAAK+1E,OAAQ,CACdjsE,OACA4wE,SAAUzrD,EACVroB,KAAM,CAAC4iF,GACPyK,QAAQ,GAEX,IAEH1Q,EAASvgF,KAAKgxF,EACf,CAEH,OAAOzQ,CACT,CA6BA,MAAM2Q,GAAY,uvFACZC,GAAuB,oBAAT1vF,MAAwBA,KAAK6mB,MAAQ,IAAIA,KAAK,CAAC4oE,IAAY,CAAEpqF,KAAM,kCACvF,SAASsqF,GAAcpsF,GACrB,IAAIqsF,EACJ,IAEE,GADAA,EAASF,KAAS1vF,KAAK2mB,KAAO3mB,KAAK6vF,WAAWjpE,gBAAgB8oE,KACzDE,EAAQ,KAAM,GACnB,MAAMvpE,EAAS,IAAIK,OAAOkpE,EAAQ,CAChCtqF,KAAiB,MAAX/B,OAAkB,EAASA,EAAQ+B,OAK3C,OAHA+gB,EAAOwF,iBAAiB,QAAS,MAC9B7rB,KAAK2mB,KAAO3mB,KAAK6vF,WAAWC,gBAAgBF,KAExCvpE,CACR,CAAC,MAAOinC,GACP,OAAO,IAAI5mC,OACT,sCAAwCtS,mBAAmBq7E,IAC3D,CACEnqF,KAAiB,MAAX/B,OAAkB,EAASA,EAAQ+B,MAGjD,CAAY,QACRsqF,IAAW5vF,KAAK2mB,KAAO3mB,KAAK6vF,WAAWC,gBAAgBF,EACxD,CACH,CACA,MAAMG,GACJ,WAAAv0F,CAAY+H,GACVovC,GAAcp3C,KAAM,yBAA0C,IAAI+xB,KAClEqlB,GAAcp3C,KAAM,YAAa,CAAEy0F,SAAU,EAAGC,SAAU,OAC1Dt9C,GAAcp3C,KAAM,UACpBo3C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,kBACpBo3C,GAAcp3C,KAAM,UAAU,GAC9Bo3C,GAAcp3C,KAAM,UAAU,GAC9Bo3C,GAAcp3C,KAAM,kBAAmB,CAACgvB,EAAQw6C,OAC7BxpE,KAAK20F,UAAUD,UAAY10F,KAAK20F,UAAUF,WAAaz0F,KAAK20F,UAAUD,WACtE10F,KAAK20F,UAAUD,WAC9B10F,KAAK20F,UAAUD,SAAW10F,KAAK20F,UAAUF,UACtCz0F,KAAK40F,uBAAuBtlE,IAAIN,IACnChvB,KAAK40F,uBAAuB5rF,IAAIgmB,EAAQ,IAE1ChvB,KAAK40F,uBAAuB7rF,IAAIimB,GAAQhsB,KAAKwmE,KAE/C,MAAM6Z,SACJA,EAAW,MAAKnqC,IAChBA,EAAGhO,WACHA,EAAUhrB,cACVA,EAAaorB,aACbA,EAAY+oC,eACZA,GACErsE,EACJhI,KAAKmgF,WAAan4E,EAAQm4E,WAC1BngF,KAAKs/B,OAASt3B,EAAQs3B,OAClBgM,GAA6B,QAAb+3C,GAClBrjF,KAAK60F,2BAA2B37C,EAAKhO,EAAYhrB,GAC/CorB,GAAoC,iBAAb+3C,GACzBrjF,KAAK80F,sBAAsBzR,EAAUnqC,EAAKhO,EAAYhrB,EAAe,CACnEm0D,kBAEL,CACD,KAAAj5B,GACEp7C,KAAK40F,uBAAuBG,QAC5B/0F,KAAKg1F,gBAAkBh1F,KAAKg1F,gBAC7B,CACD,MAAAj3C,GACE/9C,KAAK29E,QAAS,CACf,CACD,QAAAiE,GACE5hF,KAAK29E,QAAS,CACf,CACD,IAAAmE,GACE9hF,KAAK49E,QAAS,CACf,CACD,MAAAmE,GACE/hF,KAAK49E,QAAS,CACf,CACD,qBAAAkX,CAAsBG,EAAK/7C,EAAKhO,EAAYhrB,EAAelY,GACzD,MAAMktF,EAAqB5B,GACzBp6C,EACAhO,EACAhrB,GACA,GAEIi1E,EAAwC,IAAIpjE,IAC5CjH,EAAS,IAAIspE,GACnBtpE,EAAOU,UAAaumC,IAClB,MAAM77C,GAAEA,GAAO67C,EAAG5oC,KAElB,GADAgsE,EAAsBnsF,IAAIkN,GAAI,KACxB,WAAY67C,EAAG5oC,MAAO,OAC5B,MAAMwpE,OAAEA,EAAM7oF,KAAEA,EAAI83B,MAAEA,EAAKC,OAAEA,GAAWkwB,EAAG5oC,KAC3CnpB,KAAKmgF,WAAW,CACdjqE,KACApM,KAAM8yE,GAAc,MACpBwY,SAAU,CACR,CACE1a,SAAU,YAEV9zE,KAAM,CAAC,EAAG,EAAGg7B,EAAOC,IAEtB,CACE64C,SAAU,YAEV9zE,KAAM,CACJ,CACE6rF,QAAS,cACT7rF,KAAM,CACJ,CACE6rF,QAAS,OACTtpE,KAAM,CAAC,CAAEspE,QAAS,cAAeE,WACjC7oF,UAIN,EACA,QAMV,MAAMurF,EAAuB,IAAMJ,EACnC,IACIK,EADAC,EAAmB,EAEvB,MASMC,EAAuB12D,IACvBy2D,GAAoBz2D,EAAYy2D,EAAmBF,IAIvDE,EAAmBz2D,EAdH,MAChB,MAAM22D,EAAgB,GAMtB,OALAv8C,EAAI54B,SAASwd,iBAAiB,UAAU/xB,QAASgqE,IAC1CjO,GAAUiO,EAAQ7qC,EAAYhrB,GAAe,IAChDu1E,EAAczyF,KAAK+yE,KAGhB0f,GAQPC,GAAY3pF,QAAQqmB,MAAO2jD,IACzB,IAAI5wD,EACJ,MAAMjP,EAAKlW,KAAKs/B,OAAOmb,MAAMs7B,GAC7B,GAAIof,EAAsBpsF,IAAImN,GAAK,OACnC,GAAqB,IAAjB6/D,EAAOn0C,OAAiC,IAAlBm0C,EAAOl0C,OAAc,OAE/C,GADAszD,EAAsBnsF,IAAIkN,GAAI,GAC1B,CAAC,QAAS,UAAUnQ,SAASgwE,EAAOD,WAAY,CAClD,MAAM/oD,EAAUgpD,EAAOE,WAAWF,EAAOD,YACgF,KAA/C,OAApE3wD,EAAiB,MAAX4H,OAAkB,EAASA,EAAQ4oE,6BAAkC,EAASxwE,EAAIyuE,wBAC5F7mE,EAAQgoE,MAAMhoE,EAAQ6oE,iBAEzB,CACD,MAAMC,QAAeC,kBAAkB/f,GACvCjrD,EAAOC,YACL,CACE7U,KACA2/E,SACAj0D,MAAOm0C,EAAOn0C,MACdC,OAAQk0C,EAAOl0C,OACfwyC,eAAgBrsE,EAAQqsE,gBAE1B,CAACwhB,OAzBHP,EAAQS,sBAAsBP,IA8BlCF,EAAQS,sBAAsBP,GAC9Bx1F,KAAKg1F,eAAiB,KACpBE,IACAc,qBAAqBV,GAExB,CACD,0BAAAT,CAA2B37C,EAAKhO,EAAYhrB,GAC1ClgB,KAAKi2F,uBACLj2F,KAAKk2F,oCACL,MAAMhB,EAAqB5B,GACzBp6C,EACAhO,EACAhrB,GACA,GAEIi2E,EAlWV,SAAsCryD,EAAIoV,EAAKhO,EAAYhrB,GACzD,MAAMqjE,EAAW,GACX6S,EAAUh3F,OAAO00F,oBACrB56C,EAAIm9C,yBAAyB52F,WAE/B,IAAK,MAAMwvB,KAAQmnE,EACjB,IACE,GAA4D,mBAAjDl9C,EAAIm9C,yBAAyB52F,UAAUwvB,GAChD,SAEF,MAAMs9D,EAAiBj8C,GACrB4I,EAAIm9C,yBAAyB52F,UAC7BwvB,EACA,SAASmgC,GACP,OAAO,YAAYxoD,GAWjB,OAVKkhE,GAAU9nE,KAAK+1E,OAAQ7qC,EAAYhrB,GAAe,IACrD/I,WAAW,KACT,MAAM48E,EAAaX,GAAcxsF,EAAMsyC,EAAKl5C,MAC5C8jC,EAAG9jC,KAAK+1E,OAAQ,CACdjsE,KAAM8yE,GAAc,MACpBlC,SAAUzrD,EACVroB,KAAMmtF,KAEP,GAEE3kC,EAASvuD,MAAMb,KAAM4G,EACxC,CACS,GAEH28E,EAASvgF,KAAKupF,EACpB,CAAM,MACA,MAAMyH,EAAczsB,GAClBruB,EAAIm9C,yBAAyB52F,UAC7BwvB,EACA,CACE,GAAAjmB,CAAIwgF,GACF1lD,EAAG9jC,KAAK+1E,OAAQ,CACdjsE,KAAM8yE,GAAc,MACpBlC,SAAUzrD,EACVroB,KAAM,CAAC4iF,GACPyK,QAAQ,GAEX,IAGL1Q,EAASvgF,KAAKgxF,EACf,CAEH,MAAO,KACLzQ,EAASx3E,QAASqiE,GAAMA,KAE5B,CA+S0BkoB,CACpBt2F,KAAK09E,gBAAgB5jE,KAAK9Z,MAC1Bk5C,EACAhO,EACAhrB,GAEIq2E,EArNV,SAAyCzyD,EAAIoV,EAAKhO,EAAYhrB,GAC5D,MAAMqjE,EAAW,GAuBjB,OAtBAA,EAASvgF,QACJ6wF,GACD36C,EAAIs9C,sBAAsB/2F,UAC1Bm9E,GAAc6Z,MACd3yD,EACAoH,EACAhrB,EACAg5B,SAGsC,IAA/BA,EAAIw9C,wBACbnT,EAASvgF,QACJ6wF,GACD36C,EAAIw9C,uBAAuBj3F,UAC3Bm9E,GAAc+Z,OACd7yD,EACAoH,EACAhrB,EACAg5B,IAIC,KACLqqC,EAASx3E,QAASqiE,GAAMA,KAE5B,CA0LkCwoB,CAC5B52F,KAAK09E,gBAAgB5jE,KAAK9Z,MAC1Bk5C,EACAhO,EACAhrB,GAEFlgB,KAAKg1F,eAAiB,KACpBE,IACAiB,IACAI,IAEH,CACD,iCAAAL,GACEH,sBAAsB,IAAM/1F,KAAK62F,8BAClC,CACD,oBAAAZ,GACE,MAAMa,EAAyBh4D,IAC7B9+B,KAAK20F,UAAUF,SAAW31D,EAC1Bi3D,sBAAsBe,IAExBf,sBAAsBe,EACvB,CACD,2BAAAD,GACE72F,KAAK40F,uBAAuB7oF,QAC1B,CAACgrF,EAAShhB,KACR,MAAM7/D,EAAKlW,KAAKs/B,OAAOmb,MAAMs7B,GAC7B/1E,KAAKg3F,8BAA8BjhB,EAAQ7/D,KAG/C6/E,sBAAsB,IAAM/1F,KAAK62F,8BAClC,CACD,6BAAAG,CAA8BjhB,EAAQ7/D,GACpC,GAAIlW,KAAK29E,QAAU39E,KAAK49E,OACtB,OAEF,MAAMqZ,EAAiBj3F,KAAK40F,uBAAuB7rF,IAAIgtE,GACvD,IAAKkhB,IAA0B,IAAR/gF,EAAW,OAClC,MAAM+oB,EAASg4D,EAAepyF,IAAKtD,IACjC,MAAQuI,KAAMotF,KAAU9U,GAAS7gF,EACjC,OAAO6gF,KAEHt4E,KAAEA,GAASmtF,EAAe,GAChCj3F,KAAKmgF,WAAW,CAAEjqE,KAAIpM,OAAMsrF,SAAUn2D,IACtCj/B,KAAK40F,uBAAuBjlF,OAAOomE,EACpC,EAEH,MAAMohB,GACJ,WAAAl3F,CAAY+H,GACVovC,GAAcp3C,KAAM,sBAAuC,IAAIoxF,SAC/Dh6C,GAAcp3C,KAAM,cACpBo3C,GAAcp3C,KAAM,uBACpBo3C,GAAcp3C,KAAM,cAAe,IAAIwlE,IACvCxlE,KAAKmgF,WAAan4E,EAAQm4E,WAC1BngF,KAAKo3F,oBAAsBpvF,EAAQovF,mBACpC,CACD,iBAAApY,CAAkBqY,EAAQxY,GACpB,aAAcA,EAAQziD,YACxBp8B,KAAKmgF,WAAW,CACdtC,KAAM,GACNmC,QAAS,GACTP,MAAO,GACPrjD,WAAY,CACV,CACElmB,GAAI2oE,EAAQ3oE,GACZkmB,WAAYyiD,EAAQziD,eAI5Bp8B,KAAKy+E,iBAAiB4Y,EACvB,CACD,gBAAA5Y,CAAiB4Y,GACXr3F,KAAKs3F,oBAAoBhoE,IAAI+nE,KACjCr3F,KAAKs3F,oBAAoB7nF,IAAI4nF,GAC7Br3F,KAAKu3F,6BAA6BF,GACnC,CACD,gBAAAnR,CAAiBD,EAAQJ,GACvB,GAAsB,IAAlBI,EAAOrlF,OAAc,OACzB,MAAM42F,EAAwB,CAC5BthF,GAAI2vE,EACJ4R,SAAU,IAENxG,EAAS,GACf,IAAK,MAAMvb,KAASuQ,EAAQ,CAC1B,IAAIP,EACC1lF,KAAKylF,YAAYn2D,IAAIomD,GASnBgQ,EAAU1lF,KAAKylF,YAAYhrC,MAAMi7B,IARtCgQ,EAAU1lF,KAAKylF,YAAYh2E,IAAIimE,GAC/Bub,EAAOjuF,KAAK,CACV0iF,UACA7W,MAAOtvE,MAAMmE,KAAKgyE,EAAM7G,OAAS6oB,QAAS,CAACC,EAAIp4C,KAAY,CACzDvjC,KAAMizD,GAAc0oB,EAAIjiB,EAAMhoD,MAC9B5oB,MAAOy6C,QAIbi4C,EAAsBC,SAASz0F,KAAK0iF,EACrC,CACGuL,EAAOrwF,OAAS,IAAG42F,EAAsBvG,OAASA,GACtDjxF,KAAKo3F,oBAAoBI,EAC1B,CACD,KAAAp8C,GACEp7C,KAAKylF,YAAYrqC,QACjBp7C,KAAKs3F,oBAAsC,IAAIlG,OAChD,CAED,4BAAAmG,CAA6BK,GAC5B,EAEH,MAAMC,GACJ,WAAA53F,GACEm3C,GAAcp3C,KAAM,UAA2B,IAAI4uB,SACnDwoB,GAAcp3C,KAAM,UAAU,EAC/B,CACD,aAAAyhF,CAAcxmC,EAAO68C,GACnB,MAAMC,EAAU/3F,KAAKg4F,QAAQjvF,IAAIkyC,GACjC,OAAO88C,GAAWx4F,MAAMmE,KAAKq0F,GAASh9E,KAAMs7C,GAAWA,IAAWyhC,EACnE,CACD,GAAAroF,CAAIwrC,EAAOob,GACJr2D,KAAKi4F,SACRj4F,KAAKi4F,QAAS,EACdlC,sBAAsB,KACpB/1F,KAAKg4F,QAA0B,IAAIppE,QACnC5uB,KAAKi4F,QAAS,KAGlBj4F,KAAKg4F,QAAQhvF,IAAIiyC,GAAQj7C,KAAKg4F,QAAQjvF,IAAIkyC,IAA0B,IAAIxtC,KAAOgC,IAAI4mD,GACpF,CACD,OAAA6hC,GACC,EAEH,IAAItJ,GACAuJ,GACAxW,GACAyW,IAAY,EAChB,IACE,GAAyC,IAArC74F,MAAMmE,KAAK,CAAC,GAAKke,GAAU,EAAJA,GAAO,GAAU,CAC1C,MAAM8oD,EAAapqD,SAAS04B,cAAc,UAC1C14B,SAASte,KAAKi3C,YAAYyxB,GAC1BnrE,MAAMmE,MAA2C,OAAlCyB,GAAKulE,EAAWvxB,oBAAyB,EAASh0C,GAAG5F,MAAMmE,OAASnE,MAAMmE,KACzF4c,SAASte,KAAKq3C,YAAYqxB,EAC3B,CACH,CAAE,MAAO1/C,GACPjkB,QAAQG,MAAM,gCAAiC8jB,EACjD,CACA,MAAMsU,GAllXG,IAAIkb,GAmlXb,SAAS/b,GAAOz2B,EAAU,IACxB,MAAM4iC,KACJA,EAAIytD,iBACJA,EAAgBC,iBAChBA,EAAgBptD,WAChBA,EAAa,WAAUhrB,cACvBA,EAAgB,KAAI6oE,YACpBA,EAAc,YAAWC,eACzBA,EAAiB,KAAI/9C,cACrBA,EAAgB,UAASI,iBACzBA,EAAmB,KAAIN,iBACvBA,GAAmB,EAAIC,cACvBA,EACAmlC,iBAAkBooB,EAClBhtD,eAAgBitD,EAAertD,YAC/BA,EAAWC,WACXA,EAAUd,MACVA,EAAKmuD,OACLA,EAAMpV,SACNA,EAAW,CAAE,EAAAhP,eACbA,EAAiB,CAAE,EAAAqkB,cACnBA,EAAahR,UACbA,GAAY,EAAIp8C,aAChBA,GAAe,EAAKujD,yBACpBA,GAA2B,EAAK8J,YAChCA,GAAsC,qBAAxB3wF,EAAQ2wF,YAAqC3wF,EAAQ2wF,YAAc,QAAM1P,qBACvFA,GAAuB,EAAK8C,aAC5BA,GAAe,EAAKzX,aACpBA,GAAe,EAAK1qC,QACpBA,EAAO2qC,gBACPA,EAAkB,KAAM,EAAKkX,oBAC7BA,EAAsC,IAAIh+E,IAAI,IAC9Ci+B,aAAcktD,EAAar7E,sCAC3BA,GAAwC,GACtCvV,EAvkEJ0jC,GAwkEqBktD,EACrB,MAAMC,GAAkBhK,GAA2BrqF,OAAOi4B,SAAWj4B,OACrE,IAAIs0F,GAAoB,EACxB,IAAKD,EACH,IACMr0F,OAAOi4B,OAAOnc,WAChBw4E,GAAoB,EAEvB,CAAC,MAAO/mC,GACP+mC,GAAoB,CACrB,CAEH,GAAID,IAAoBjuD,EACtB,MAAM,IAAI3jC,MAAM,6BAElB,IAAK4xF,IAAoBC,EACvB,MAAO,YAGa,IAAlBJ,QAAmD,IAAvBrV,EAAS2D,YACvC3D,EAAS2D,UAAY0R,GAEvBp5D,GAAO8b,QACP,MAAM+0B,GAAqC,IAAlBnlC,EAAyB,CAChDkU,OAAO,EACP65C,MAAM,EACN,kBAAkB,EAClBC,OAAO,EACPC,OAAO,EACPz5C,QAAQ,EACRrM,OAAO,EACP+lD,QAAQ,EACRC,KAAK,EACLhvF,MAAM,EACNE,MAAM,EACNijB,KAAK,EACL8rE,MAAM,EACNhZ,UAAU,EACVvwC,QAAQ,EACRwpD,UAAU,QACc,IAAtBd,EAA+BA,EAAoB,CAAEc,UAAU,GAC7D9tD,GAAqC,IAApBitD,GAAgD,QAApBA,EAA4B,CAC7EhtD,QAAQ,EACRC,SAAS,EACT8uC,aAAa,EACba,gBAAgB,EAChBX,gBAAgB,EAChBE,gBAAgB,EAChBC,mBAAmB,EACnBE,sBAAsB,EAGtBD,mBAAwC,QAApB2d,EACpBhe,qBAA0C,QAApBge,EACtBtwB,mBAAwC,QAApBswB,GAClBA,GAAoC,GAExC,IAAIc,GA13FN,SAAoBpgD,EAAM10C,QACpB,aAAc00C,IAAQA,EAAI+vB,SAASxpE,UAAUsM,UAC/CmtC,EAAI+vB,SAASxpE,UAAUsM,QAAUxM,MAAME,UAAUsM,SAE/C,iBAAkBmtC,IAAQA,EAAIgwB,aAAazpE,UAAUsM,UACvDmtC,EAAIgwB,aAAazpE,UAAUsM,QAAUxM,MAAME,UAAUsM,QAEzD,CAk3FEwtF,GAEA,IAAIC,EAA2B,EAC/B,MAAMC,EAAkB1nC,IACtB,IAAK,MAAMrT,KAAU9U,GAAW,GAC1B8U,EAAO+6C,iBACT1nC,EAAKrT,EAAO+6C,eAAe1nC,IAO/B,OAJI0mC,IACHK,IACC/mC,EAAK0mC,EAAO1mC,IAEPA,GAET68B,GAAc,CAAC+I,EAAIlI,KACjB,IAAItqE,EACJ,MAAM4sC,EAAK4lC,EAKX,GAJA5lC,EAAGjzB,UAAYgmC,OACoB,OAA7B3/C,EAAMm9D,GAAgB,SAAc,EAASn9D,EAAI08D,aAAe9vB,EAAGjoD,OAASuU,GAAUqxE,cAAkB39B,EAAGjoD,OAASuU,GAAU0xE,qBAAuBh+B,EAAG5oC,KAAK/R,SAAWolE,GAAkBwT,UAC9L1N,GAAgBv2E,QAAS+4C,GAAQA,EAAI88B,YAEnCiX,EACM,MAARjuD,GAAwBA,EAAK6uD,EAAe1nC,GAAK09B,QAC5C,GAAIqJ,EAAmB,CAC5B,MAAMn1D,EAAU,CACd75B,KAAM,QACN8B,MAAO6tF,EAAe1nC,GACtBnF,OAAQpoD,OAAOipB,SAASm/B,OACxB6iC,cAEFjrF,OAAOi4B,OAAO1R,YAAY4Y,EAAS,IACpC,CACD,GAAIouB,EAAGjoD,OAASuU,GAAUqxE,aACxB4J,EAAwBvnC,EACxBynC,EAA2B,OACtB,GAAIznC,EAAGjoD,OAASuU,GAAU0xE,oBAAqB,CACpD,GAAIh+B,EAAG5oC,KAAK/R,SAAWolE,GAAkBwT,UAAYj+B,EAAG5oC,KAAKimE,eAC3D,OAEFoK,IACA,MAAME,EAAcpB,GAAoBkB,GAA4BlB,EAC9DqB,EAAatB,GAAoBtmC,EAAGjzB,UAAYw6D,EAAsBx6D,UAAYu5D,GACpFqB,GAAeC,IACjBxB,IAAmB,EAEtB,GAEH,MAAMyB,EAAuBz2F,IAC3ByrF,GAAY,CACV9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBwT,YACvB7sF,MAIH02F,EAAqBr6F,GAAMovF,GAAY,CAC3C9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBiU,UACvBjxF,KAGDs6F,EAA6Bt6F,GAAMovF,GAAY,CACnD9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBkU,kBACvBlxF,KAUDg/E,EAAoB,IAAI2Y,GAAkB,CAC9ChX,WAAYyZ,EACZxC,oBAToCx7C,GAAOgzC,GAAY,CACvD9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBwU,qBACvBp1C,OAOD0iC,EAAgB,IAAIqQ,GAAc,CACtCrvD,UACA6gD,WAAYyZ,EACZpb,oBACAqQ,2BACAD,iBAEF,IAAK,MAAMlwC,KAAU9U,GAAW,GAC1B8U,EAAOq7C,WACTr7C,EAAOq7C,UAAU,CACfC,WAAY16D,GACZqwD,wBAAyBrR,EAAcqR,wBACvCb,6BAA8BxQ,EAAcwQ,+BAGlD,MAAMtN,EAAuB,IAAIqW,GACjClW,GAAgB,IAAI6S,GAAc,CAChClpD,eACA60C,WAAY2Z,EACZ5gD,IAAK10C,OACL0mC,aACAhrB,gBACAof,UACA+jD,SAAUA,EAAStN,OACnB1B,mBAEF,MAAMqK,EAAmB,IAAIyS,GAAiB,CAC5ChR,WAAYyZ,EACZnV,SAAUoV,EACVxe,cAAe,CACbnwC,aACAhrB,gBACA+qB,gBACAI,mBACAN,mBACAolC,mBACAkE,iBACAjpC,aACAD,cACAG,eACAgpC,eACA+O,WACA93C,iBACA+yC,gBACAE,oBACAmD,iBACApN,kBACAiN,wBAEFliD,YAEF64D,GAAqB,CAAC1I,GAAa,KACjC,IAAK/H,EACH,OAEFkH,GACE,CACE9kF,KAAMuU,GAAUysB,KAChB3hB,KAAM,CACJuE,KAAMlpB,OAAOipB,SAASC,KACtBkU,MAAOzB,KACP0B,OAAQ7B,OAGZyvD,GAEFjR,EAAkBpjC,QAClBsjC,EAAiBl3C,OACjB86C,GAAgBv2E,QAAS+4C,GAAQA,EAAIg9B,QACrC,MAAM7mC,EA3zVV,SAAkBhB,EAAIjyC,GACpB,MACEs3B,OAAQqoC,EAAU,IAAIntB,GAAQtP,WAC9BA,EAAa,WAAUhrB,cACvBA,EAAgB,KAAI+qB,cACpBA,EAAgB,UAASI,iBACzBA,EAAmB,KAAIN,iBACvBA,GAAmB,EAAIupC,aACvBA,GAAe,EAAKhpC,aACpBA,GAAe,EAAKN,cACpBA,GAAgB,EAAKI,WACrBA,EAAUD,YACVA,EAAW8uD,QACXA,GAAU,EAAK5lB,eACfA,EAAc8F,mBACdA,EAAkBL,YAClBA,EAAWC,aACXA,EAAYC,kBACZA,EAAiBC,iBACjBA,EAAgBC,sBAChBA,EAAqB3F,gBACrBA,EAAkB,KAAM,EAAKh3D,sCAC7BA,GAAwC,GACtCvV,EAqCJ,OAAO4xE,GAAoB3/B,EAAI,CAC7BqrB,IAAKrrB,EACL3a,OAAQqoC,EACRz8B,aACAhrB,gBACA+qB,gBACAI,mBACAwuC,WAAW,EACX9uC,mBACAolC,kBA7CyC,IAAlBnlC,EAAyB,CAChDkU,OAAO,EACP65C,MAAM,EACN,kBAAkB,EAClBC,OAAO,EACPC,OAAO,EACPz5C,QAAQ,EACRrM,OAAO,EACP+lD,QAAQ,EACRC,KAAK,EACLhvF,MAAM,EACNE,MAAM,EACNijB,KAAK,EACL8rE,MAAM,EACNhZ,UAAU,EACVvwC,QAAQ,EACRwpD,UAAU,IACU,IAAlBruD,EAA0B,CAC5BquD,UAAU,GACRruD,EA2BFI,aACAD,cACAI,gBA5BiC,IAAZ0uD,GAAgC,QAAZA,EAAiB,CAGxDzuD,QAAQ,EACRC,SAAS,EACT8uC,aAAa,EACba,gBAAgB,EAChBZ,qBAAkC,QAAZyf,EAEtBxf,gBAAgB,EAChBE,gBAAgB,EAChBC,mBAAmB,EACnBC,oBAAoB,EACpBC,sBAAsB,IAEV,IAAZmf,EAAoB,CAAE,EAAGA,EAc3B5lB,iBACAC,eACAhpC,eACA6uC,qBACAL,cACAC,eACAC,oBACAC,mBACAC,wBACA3F,kBACAC,mBAAmB,EACnBj3D,yCAEJ,CAquVkB28E,CAAS55E,SAAU,CAC/Bgf,UACA4L,aACAhrB,gBACA+qB,gBACAI,mBACAN,mBACAC,cAAemlC,EACf/kC,aACAD,cACA8uD,QAAS1uD,EACT8oC,iBACA/oC,eACAgpC,eACA/2D,wCACAu8D,YAAc7/B,IACRmuB,GAAmBnuB,EAAI3a,KACzBg/C,EAAcC,UAAUtkC,GAEtBquB,GAAuBruB,EAAI3a,KAC7Bk/C,EAAkBC,iBAAiBxkC,GAEjCqtB,GAAcrtB,IAChBykC,EAAiBC,cAAc75E,GAAMw1C,WAAWL,GAAK35B,WAGzDy5D,aAAc,CAAC6E,EAAQC,KACrBP,EAAcQ,aAAaF,EAAQC,GACnCH,EAAiBK,oBAAoBH,IAEvC3E,iBAAkB,CAACod,EAAQxY,KACzBL,EAAkBQ,kBAAkBqY,EAAQxY,IAE9CtK,oBAEF,IAAKt5B,EACH,OAAOl0C,QAAQC,KAAK,mCAEtB4nF,GACE,CACE9kF,KAAMuU,GAAUqxE,aAChBvmE,KAAM,CACJ4T,KAAMke,EACNk/C,cAAepzB,GAAgBviE,UAGnCirF,GAEFnN,GAAgBv2E,QAAS+4C,GAAQA,EAAIi9B,UACjCzhE,SAAS+uE,oBAAsB/uE,SAAS+uE,mBAAmBzuF,OAAS,GACtE49E,EAAkB0H,iBAChB5lE,SAAS+uE,mBACT/vD,GAAOmb,MAAMn6B,YAGnB,IACE,MAAMijE,EAAW,GACXV,EAAWvd,IACf,IAAIngD,EACJ,OAAOg9D,GAAgBgE,GAAhBhE,CACL,CACEhC,WAAYyZ,EACZtT,YAAa,CAACxf,EAAW1vD,IAAWw3E,GAAY,CAC9C9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,SACA0vD,eAGJsc,mBAAqBlkF,GAAM0vF,GAAY,CACrC9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBgU,oBACvBtxF,KAGPulF,SAAUoV,EACVtT,iBAAmBrnF,GAAM0vF,GAAY,CACnC9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkB8T,kBACvBpxF,KAGPsnF,QAAUgD,GAAOoF,GAAY,CAC3B9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBlwB,SACvBk9B,KAGP/C,mBAAqBjnF,GAAMovF,GAAY,CACrC9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkB+T,oBACvB/wF,KAGPknF,iBAAmBiR,GAAO/I,GAAY,CACpC9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBmU,kBACvBgH,KAGPhR,mBAAqBgR,GAAO/I,GAAY,CACtC9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBoU,oBACvB+G,KAGP/Q,iBAAkBkT,EAClBjT,OAASrnF,GAAMovF,GAAY,CACzB9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBsU,QACvBtxF,KAGPsnF,YAActnF,IACZovF,GAAY,CACV9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkBuU,aACvBvxF,MAITunF,gBAAkBhT,IAChB6a,GAAY,CACV9kF,KAAMuU,GAAU0xE,oBAChB5mE,KAAM,CACJ/R,OAAQolE,GAAkB4d,iBACvBrmB,MAIT7oC,aACA69C,cACAC,iBACA/9C,gBACAI,mBACA8kC,mBACAplC,mBACAs4C,WACAqE,YACAp8C,eACAgpC,eACA2U,uBACA8C,eACAzmB,MACAn6B,cACAC,aACAmpC,kBACAr0D,gBACAqrB,iBACA8oC,iBACA/0C,UACAg/C,gBACAE,oBACAE,mBACA8C,uBACAG,iBACA8J,sBACA7hD,SAAkF,OAAvEzkB,EAAiB,MAAXykB,OAAkB,EAASA,EAAQlpB,OAAQlhB,GAAMA,EAAEqkC,gBAAqB,EAAS1e,EAAItgB,IAAKrF,IAAO,CAChHqkC,SAAUrkC,EAAEqkC,SACZ77B,QAASxI,EAAEwI,QACXiO,SAAW5B,GAAYu6E,GAAY,CACjC9kF,KAAMuU,GAAU8xE,OAChBhnE,KAAM,CACJu1B,OAAQl/C,EAAEuK,KACVsK,kBAGE,IAEVi2B,IAGJg0C,EAAc4Q,gBAAiBn2C,IAC7B,IACEwqC,EAASvgF,KAAK6/E,EAAQ9pC,EAAS0/B,iBAChC,CAAC,MAAOl1E,GACPwD,QAAQC,KAAKzD,EACd,IAEH,MAAMikC,EAAO,KACX2wD,KACA5U,EAASvgF,KAAK6/E,EAAQviE,WACtB83E,IAAY,GA4Bd,MA1B4B,gBAAxB93E,SAASm7D,YAAwD,aAAxBn7D,SAASm7D,WACpDj0C,KAEA+7C,EAASvgF,KACP2lE,GAAG,mBAAoB,KACrBimB,GAAY,CACV9kF,KAAMuU,GAAU6xE,iBAChB/mE,KAAM,CAAE,IAEU,qBAAhBwvE,GAAoCnxD,OAG5C+7C,EAASvgF,KACP2lE,GACE,OACA,KACEimB,GAAY,CACV9kF,KAAMuU,GAAU4xE,KAChB9mE,KAAM,CAAE,IAEU,SAAhBwvE,GAAwBnxD,KAE9BhjC,UAIC,KACL++E,EAASx3E,QAASqiE,GAAMA,KACxBoT,EAAqB0W,UACrBE,IAAY,EAj/EhB1sD,QAAe,EAo/Ed,CAAC,MAAOnoC,GACPwD,QAAQC,KAAKzD,EACd,CACH,CAuBA,IAAI7C,GAtBJ+9B,GAAO0I,eAAiB,CAACkzD,EAAKhmF,KAC5B,IAAK+jF,GACH,MAAM,IAAInxF,MAAM,iDAElB2nF,GAAY,CACV9kF,KAAMuU,GAAU+xE,OAChBjnE,KAAM,CACJkxE,MACAhmF,cAINoqB,GAAO67D,WAAa,KAClBhY,GAAgBv2E,QAAS+4C,GAAQA,EAAI/G,WAEvCtf,GAAO87D,iBAAoB9K,IACzB,IAAK2I,GACH,MAAM,IAAInxF,MAAM,mDAElBkxF,GAAmB1I,IAErBhxD,GAAOa,OAASA,GAEf,SAASvc,GACRA,EAAGA,EAAG4nD,WAAa,GAAK,aAAc5nD,EAAGA,EAAG6nD,QAAU,GAAK,UAAW7nD,EAAGA,EAAG8nD,QAAU,GAAK,SAC7F,CAFC,CAECnqE,KAAMA,GAAI,CAAA,qDC73YRisC,GAAkC,WAClC,SAASA,IACL3sC,KAAKw6F,cAAgB,IACxB,CAuED,OAtEA7tD,EAAiBltC,UAAU6K,MAAQ,SAAUmwF,GACzCz6F,KAAKy6F,cAAgBA,EACrBz6F,KAAK06F,cACb,EACI/tD,EAAiBltC,UAAU6nC,KAAO,WAC9B,IAAIniC,EAC0B,QAA7BA,EAAKnF,KAAKw6F,qBAAkC,IAAPr1F,GAAyBA,EAAGxF,KAAKK,MACvEA,KAAKw6F,cAAgB,KACrBx6F,KAAKy6F,mBAAgBhyF,CAC7B,EACIkkC,EAAiBltC,UAAUk7F,YAAc,SAAU/uF,GAC/C,IAAIzG,EAC0B,QAA7BA,EAAKnF,KAAKy6F,qBAAkC,IAAPt1F,GAAyBA,EAAGxF,KAAKK,KAAM4L,EACrF,EACI+gC,EAAiBltC,UAAUi7F,aAAe,WACtC,IAAItmF,EAAQpU,KACRoF,EAAcf,IAClB,GAAKe,EAAL,CAEA,IAAIw1F,EAAgBx1F,EAAYoP,MAC3BomF,IAELx1F,EAAYoP,MAAQ,SAAUulB,EAAOyN,GAAQ,OAAO1mC,EAAUsT,OAAO,OAAQ,EAAQ,WACjF,IAAIymF,EAAWC,EAAcxmF,EAAmBymF,EAAWj8E,EAASk8E,EAASzzD,EAC7E,OAAOxlC,EAAY/B,KAAM,SAAUmF,GAC/B,OAAQA,EAAG/C,OACP,KAAK,EACDy4F,EAAYtwF,KAAKoM,MACjBmkF,EAAe,CACXh8D,UAAW+7D,EACX/wF,KAAM,QACN6K,QAAS6yB,aAAmC,EAASA,EAAK7yB,SAAW,MACrE2Y,IAAKyM,EAAMh1B,WACXk2F,eAAgBzzD,aAAmC,EAASA,EAAK/yB,SAErEtP,EAAG/C,MAAQ,EACf,KAAK,EAED,OADA+C,EAAG7C,KAAKU,KAAK,CAAC,EAAG,EAAC,CAAI,IACf,CAAC,EAAa43F,EAAc7gE,EAAOyN,IAC9C,KAAK,EAWD,OAVAlzB,EAAWnP,EAAG9C,OACd24F,EAAUzwF,KAAKoM,MACfmkF,EAAarpF,OAAS6C,EAAS7C,OAC/BqpF,EAAaI,SAAWF,EAAUH,EAClCE,EAAY,CAAA,EACZzmF,EAASG,QAAQ1I,QAAQ,SAAUxK,EAAOyL,GACtC+tF,EAAU/tF,GAAOzL,CAC7C,GACwBu5F,EAAaK,gBAAkBJ,EAC/B/6F,KAAK26F,YAAYG,GACV,CAAC,EAAcxmF,GAC1B,KAAK,EAUD,MATAwK,EAAU3Z,EAAG9C,OACb24F,EAAUzwF,KAAKoM,MACfmkF,EAAaI,SAAWF,EAAUH,EAClCtzD,EAAazoB,EACbg8E,EAAav3F,MAAQ,CACjBwG,KAAMw9B,EAAWx9B,MAAQ,eACzB45B,QAAS4D,EAAW5D,SAAW,6BAEnC3jC,KAAK26F,YAAYG,GACXh8E,EACV,KAAK,EAAG,MAAO,CAAC,GAEpC,EACS,EAAE,EACH9e,KAAKw6F,cAAgB,WACjBp1F,EAAYoP,MAAQomF,CAChC,EAlDmB,CAmDnB,EACWjuD,CACX"}