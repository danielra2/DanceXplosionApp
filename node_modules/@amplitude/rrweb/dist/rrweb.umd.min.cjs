(function (g, f) {
    if ("object" == typeof exports && "object" == typeof module) {
      module.exports = f();
    } else if ("function" == typeof define && define.amd) {
      define("rrweb", [], f);
    } else if ("object" == typeof exports) {
      exports["rrweb"] = f();
    } else {
      g["rrweb"] = f();
    }
  }(this, () => {
var exports = {};
var module = { exports };
"use strict";var Ao=Object.defineProperty,To=Object.defineProperties;var _o=Object.getOwnPropertyDescriptors;var ct=Object.getOwnPropertySymbols;var js=Object.prototype.hasOwnProperty,Gs=Object.prototype.propertyIsEnumerable;var qs=(e,t,r)=>t in e?Ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t)=>{for(var r in t||(t={}))js.call(t,r)&&qs(e,r,t[r]);if(ct)for(var r of ct(t))Gs.call(t,r)&&qs(e,r,t[r]);return e},se=(e,t)=>To(e,_o(t));var $e=(e,t)=>{var r={};for(var s in e)js.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&ct)for(var s of ct(e))t.indexOf(s)<0&&Gs.call(e,s)&&(r[s]=e[s]);return r};var ko=Object.defineProperty,Po=(e,t,r)=>t in e?ko(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M=(e,t,r)=>Po(e,typeof t!="symbol"?t+"":t,r),Hs;Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});var Lo=Object.defineProperty,Fo=(e,t,r)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ys=(e,t,r)=>Fo(e,typeof t!="symbol"?t+"":t,r),F=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(F||{});const Js={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Xs={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},ht={};function Uo(e){var t,r;const s=(r=(t=globalThis==null?void 0:globalThis.Zone)==null?void 0:t.__symbol__)==null?void 0:r.call(t,e);if(s&&globalThis[s])return globalThis[s]}function cs(e){if(ht[e])return ht[e];const t=Uo(e)||globalThis[e],r=t.prototype,s=e in Js?Js[e]:void 0,i=!!(s&&s.every(u=>{var l,c;return!!((c=(l=Object.getOwnPropertyDescriptor(r,u))==null?void 0:l.get)!=null&&c.toString().includes("[native code]"))})),a=e in Xs?Xs[e]:void 0,o=!!(a&&a.every(u=>{var l;return typeof r[u]=="function"&&((l=r[u])==null?void 0:l.toString().includes("[native code]"))}));if(i&&o)return ht[e]=t.prototype,t.prototype;try{const u=document.createElement("iframe");document.body.appendChild(u);const l=u.contentWindow;if(!l)return t.prototype;const c=l[e].prototype;return document.body.removeChild(u),c?ht[e]=c:r}catch(u){return r}}const Xt={};function Ae(e,t,r){var s;const i=`${e}.${String(r)}`;if(Xt[i])return Xt[i].call(t);const a=cs(e),o=(s=Object.getOwnPropertyDescriptor(a,r))==null?void 0:s.get;return o?(Xt[i]=o,o.call(t)):t[r]}const Qt={};function _n(e,t,r){const s=`${e}.${String(r)}`;if(Qt[s])return Qt[s].bind(t);const a=cs(e)[r];return typeof a!="function"?t[r]:(Qt[s]=a,a.bind(t))}function Bo(e){return Ae("Node",e,"childNodes")}function $o(e){return Ae("Node",e,"parentNode")}function Wo(e){return Ae("Node",e,"parentElement")}function zo(e){return Ae("Node",e,"textContent")}function Vo(e,t){return _n("Node",e,"contains")(t)}function qo(e){return _n("Node",e,"getRootNode")()}function jo(e){return!e||!("host"in e)?null:Ae("ShadowRoot",e,"host")}function Go(e){return e.styleSheets}function Ho(e){return!e||!("shadowRoot"in e)?null:Ae("Element",e,"shadowRoot")}function Yo(e,t){return Ae("Element",e,"querySelector")(t)}function Jo(e,t){return Ae("Element",e,"querySelectorAll")(t)}function Xo(){return cs("MutationObserver").constructor}const oe={childNodes:Bo,parentNode:$o,parentElement:Wo,textContent:zo,contains:Vo,getRootNode:qo,host:jo,styleSheets:Go,shadowRoot:Ho,querySelector:Yo,querySelectorAll:Jo,mutationObserver:Xo};function hs(e){return e.nodeType===e.ELEMENT_NODE}function et(e){const t=e&&"host"in e&&"mode"in e&&oe.host(e)||null;return!!(t&&"shadowRoot"in t&&oe.shadowRoot(t)===e)}function tt(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Qo(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function Ko(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const r=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?r.push("layer"):e.layerName&&r.push(`layer(${e.layerName})`),e.supportsText&&r.push(`supports(${e.supportsText})`),e.media.length&&r.push(e.media.mediaText),r.join(" ")+";"}function ss(e){try{const t=e.rules||e.cssRules;if(!t)return null;let r=e.href;!r&&e.ownerNode&&e.ownerNode.ownerDocument&&(r=e.ownerNode.ownerDocument.location.href);const s=Array.from(t,i=>kn(i,r)).join("");return Qo(s)}catch(t){return null}}function kn(e,t){if(ea(e)){let r;try{r=ss(e.styleSheet)||Ko(e)}catch(s){r=e.cssText}return e.styleSheet.href?Ot(r,e.styleSheet.href):r}else{let r=e.cssText;return ta(e)&&e.selectorText.includes(":")&&(r=Zo(r)),t?Ot(r,t):r}}function Zo(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function ea(e){return"styleSheet"in e}function ta(e){return"selectorText"in e}class fs{constructor(){Ys(this,"idNodeMap",new Map),Ys(this,"nodeMetaMap",new WeakMap)}getId(t){var r;if(!t)return-1;const s=(r=this.getMeta(t))==null?void 0:r.id;return s!=null?s:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(s=>this.removeNodeFromMap(s))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const s=r.id;this.idNodeMap.set(s,t),this.nodeMetaMap.set(t,r)}replace(t,r){const s=this.getNode(t);if(s){const i=this.nodeMetaMap.get(s);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Pn(){return new fs}function Mt({element:e,maskInputOptions:t,tagName:r,type:s,value:i,maskInputFn:a}){let o=i||"";const u=s&&De(s);return(t[r.toLowerCase()]||u&&t[u])&&(a?o=a(o,e):o="*".repeat(o.length)),o}function De(e){return e.toLowerCase()}const Qs="__rrweb_original__";function ra(e){const t=e.getContext("2d");if(!t)return!0;const r=50;for(let s=0;s<e.width;s+=r)for(let i=0;i<e.height;i+=r){const a=t.getImageData,o=Qs in a?a[Qs]:a;if(new Uint32Array(o.call(t,s,i,Math.min(r,e.width-s),Math.min(r,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function sa(e,t){return!e||!t||e.type!==t.type?!1:e.type===F.Document?e.compatMode===t.compatMode:e.type===F.DocumentType?e.name===t.name&&e.publicId===t.publicId&&e.systemId===t.systemId:e.type===F.Comment||e.type===F.Text||e.type===F.CDATA?e.textContent===t.textContent:e.type===F.Element?e.tagName===t.tagName&&JSON.stringify(e.attributes)===JSON.stringify(t.attributes)&&e.isSVG===t.isSVG&&e.needBlock===t.needBlock:!1}function Nt(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?De(t):null}function Ln(e,t){var a;let r;try{r=new URL(e,t!=null?t:window.location.href)}catch(o){return null}const s=/\.([0-9a-z]+)(?:$)/i,i=r.pathname.match(s);return(a=i==null?void 0:i[1])!=null?a:null}function ia(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}const na=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,oa=/^(?:[a-z+]+:)?\/\//i,aa=/^www\..*/i,la=/^(data:)([^,]*),(.*)/i;function Ot(e,t){return(e||"").replace(na,(r,s,i,a,o,u)=>{const l=i||o||u,c=s||a||"";if(!l)return r;if(oa.test(l)||aa.test(l))return`url(${c}${l}${c})`;if(la.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${ia(t)+l}${c})`;const n=t.split("/"),d=l.split("/");n.pop();for(const h of d)h!=="."&&(h===".."?n.pop():n.push(h));return`url(${c}${n.join("/")}${c})`})}function ft(e,t=!1){return t?e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function ua(e,t,r=!1){const s=Array.from(t.childNodes),i=[];let a=0;if(s.length>1&&e&&typeof e=="string"){let o=ft(e,r);const u=o.length/e.length;for(let l=1;l<s.length;l++)if(s[l].textContent&&typeof s[l].textContent=="string"){const c=ft(s[l].textContent,r),n=100;let d=3;for(;d<c.length&&(c[d].match(/[a-zA-Z0-9]/)||c.indexOf(c.substring(0,d),1)!==-1);d++);for(;d<c.length;d++){let h=c.substring(0,d),f=o.split(h),m=-1;if(f.length===2)m=f[0].length;else if(f.length>2&&f[0]===""&&s[l-1].textContent!=="")m=o.indexOf(h,1);else if(f.length===1){if(h=h.substring(0,h.length-1),f=o.split(h),f.length<=1)return i.push(e),i;d=n+1}else d===c.length-1&&(m=o.indexOf(h));if(f.length>=2&&d>n){const p=s[l-1].textContent;if(p&&typeof p=="string"){const g=ft(p).length;m=o.indexOf(h,g)}m===-1&&(m=f[0].length)}if(m!==-1){let p=Math.floor(m/u);for(;p>0&&p<e.length;){if(a+=1,a>50*s.length)return i.push(e),i;const g=ft(e.substring(0,p),r);if(g.length===m){i.push(e.substring(0,p)),e=e.substring(p),o=o.substring(m);break}else g.length<m?p+=Math.max(1,Math.floor((m-g.length)/u)):p-=Math.max(1,Math.floor((g.length-m)*u))}break}}}}return i.push(e),i}function ca(e,t){return ua(e,t).join("/* rr_split */")}const ha="lightgrey";let fa=1;const da=new RegExp("[^a-z0-9-_:]"),it=-2;function Fn(){return fa++}function pa(e){if(e instanceof HTMLFormElement)return"form";const t=De(e.tagName);return da.test(t)?"div":t}let We,Ks;const ma=/^[^ \t\n\r\u000c]+/,ga=/^[, \t\n\r\u000c]+/;function ya(e,t){if(t.trim()==="")return t;let r=0;function s(a){let o;const u=a.exec(t.substring(r));return u?(o=u[0],r+=o.length,o):""}const i=[];for(;s(ga),!(r>=t.length);){let a=s(ma);if(a.slice(-1)===",")a=je(e,a.substring(0,a.length-1)),i.push(a);else{let o="";a=je(e,a);let u=!1;for(;;){const l=t.charAt(r);if(l===""){i.push((a+o).trim());break}else if(u)l===")"&&(u=!1);else if(l===","){r+=1,i.push((a+o).trim());break}else l==="("&&(u=!0);o+=l,r+=1}}}return i.join(", ")}const Zs=new WeakMap;function je(e,t){return!t||t.trim()===""?t:ds(e,t)}function wa(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function ds(e,t){let r=Zs.get(e);if(r||(r=e.createElement("a"),Zs.set(e,r)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return r.setAttribute("href",t),r.href}function Un(e,t,r,s){return s&&(r==="src"||r==="href"&&!(t==="use"&&s[0]==="#")||r==="xlink:href"&&s[0]!=="#"||r==="background"&&(t==="table"||t==="td"||t==="th")?je(e,s):r==="srcset"?ya(e,s):r==="style"?Ot(s,ds(e)):t==="object"&&r==="data"?je(e,s):s)}function Bn(e,t,r){return(e==="video"||e==="audio")&&t==="autoplay"}function va(e,t,r){try{if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}if(r)return e.matches(r)}catch(s){}return!1}function It(e,t,r){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return r?It(oe.parentNode(e),t,r):!1;for(let s=e.classList.length;s--;){const i=e.classList[s];if(t.test(i))return!0}return r?It(oe.parentNode(e),t,r):!1}function $n(e,t,r,s){let i;if(hs(e)){if(i=e,!oe.childNodes(i).length)return!1}else{if(oe.parentElement(e)===null)return!1;i=oe.parentElement(e)}try{if(typeof t=="string"){if(s){if(i.closest(`.${t}`))return!0}else if(i.classList.contains(t))return!0}else if(It(i,t,s))return!0;if(r){if(s){if(i.closest(r))return!0}else if(i.matches(r))return!0}}catch(a){}return!1}function ba(e,t,r){const s=e.contentWindow;if(!s)return;let i=!1,a;try{a=s.document.readyState}catch(u){return}if(a!=="complete"){const u=setTimeout(()=>{i||(t(),i=!0)},r);e.addEventListener("load",()=>{clearTimeout(u),i=!0,t()});return}const o="about:blank";if(s.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Sa(e,t,r){let s=!1,i;try{i=e.sheet}catch(o){return}if(i)return;const a=setTimeout(()=>{s||(t(),s=!0)},r);e.addEventListener("load",()=>{clearTimeout(a),s=!0,t()})}function Ca(e,t){const{doc:r,mirror:s,blockClass:i,blockSelector:a,needsMask:o,inlineStylesheet:u,maskInputOptions:l={},maskTextFn:c,maskInputFn:n,dataURLOptions:d={},inlineImages:h,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:p=!1,cssCaptured:g=!1,applyBackgroundColorToBlockedElements:y=!1}=t,w=Ea(r,s);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:F.Document,childNodes:[],compatMode:e.compatMode}:{type:F.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:F.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return Ra(e,{doc:r,blockClass:i,blockSelector:a,inlineStylesheet:u,maskInputOptions:l,maskInputFn:n,dataURLOptions:d,inlineImages:h,recordCanvas:f,keepIframeSrcFn:m,newlyAddedElement:p,rootId:w,applyBackgroundColorToBlockedElements:y});case e.TEXT_NODE:return xa(e,{doc:r,needsMask:o,maskTextFn:c,rootId:w,cssCaptured:g});case e.CDATA_SECTION_NODE:return{type:F.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:F.Comment,textContent:oe.textContent(e)||"",rootId:w};default:return!1}}function Ea(e,t){if(!t.hasNode(e))return;const r=t.getId(e);return r===1?void 0:r}function xa(e,t){const{needsMask:r,maskTextFn:s,rootId:i,cssCaptured:a}=t,o=oe.parentNode(e),u=o&&o.tagName;let l="";const c=u==="STYLE"?!0:void 0,n=u==="SCRIPT"?!0:void 0;return n?l="SCRIPT_PLACEHOLDER":a||(l=oe.textContent(e),c&&l&&(l=Ot(l,ds(t.doc)))),!c&&!n&&l&&r&&(l=s?s(l,oe.parentElement(e)):l.replace(/[\S]/g,"*")),{type:F.Text,textContent:l||"",rootId:i}}function Ra(e,t){const{doc:r,blockClass:s,blockSelector:i,inlineStylesheet:a,maskInputOptions:o={},maskInputFn:u,dataURLOptions:l={},inlineImages:c,recordCanvas:n,keepIframeSrcFn:d,newlyAddedElement:h=!1,rootId:f,applyBackgroundColorToBlockedElements:m=!1}=t,p=va(e,s,i),g=pa(e);let y={};const w=e.attributes.length;for(let C=0;C<w;C++){const v=e.attributes[C];Bn(g,v.name,v.value)||(y[v.name]=Un(r,g,De(v.name),v.value))}if(g==="link"&&a){const C=Array.from(r.styleSheets).find(b=>b.href===e.href);let v=null;C&&(v=ss(C)),v&&(delete y.rel,delete y.href,y._cssText=v)}if(g==="style"&&e.sheet){let C=ss(e.sheet);C&&(e.childNodes.length>1&&(C=ca(C,e)),y._cssText=C)}if(g==="input"||g==="textarea"||g==="select"){const C=e.value,v=e.checked;y.type!=="radio"&&y.type!=="checkbox"&&y.type!=="submit"&&y.type!=="button"&&C?y.value=Mt({element:e,type:Nt(e),tagName:g,value:C,maskInputOptions:o,maskInputFn:u}):v&&(y.checked=v)}if(g==="option"&&(e.selected&&!o.select?y.selected=!0:delete y.selected),g==="dialog"&&e.open&&(y.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),g==="canvas"&&n){if(e.__context==="2d")ra(e)||(y.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const C=e.toDataURL(l.type,l.quality),v=r.createElement("canvas");v.width=e.width,v.height=e.height;const b=v.toDataURL(l.type,l.quality);C!==b&&(y.rr_dataURL=C)}}if(g==="img"&&c){We||(We=r.createElement("canvas"),Ks=We.getContext("2d"));const C=e,v=C.currentSrc||C.getAttribute("src")||"<unknown-src>",b=C.crossOrigin,E=()=>{C.removeEventListener("load",E);try{We.width=C.naturalWidth,We.height=C.naturalHeight,Ks.drawImage(C,0,0),y.rr_dataURL=We.toDataURL(l.type,l.quality)}catch(x){if(C.crossOrigin!=="anonymous"){C.crossOrigin="anonymous",C.complete&&C.naturalWidth!==0?E():C.addEventListener("load",E);return}else console.warn(`Cannot inline img src=${v}! Error: ${x}`)}C.crossOrigin==="anonymous"&&(b?y.crossOrigin=b:C.removeAttribute("crossorigin"))};C.complete&&C.naturalWidth!==0?E():C.addEventListener("load",E)}if(g==="audio"||g==="video"){const C=y;C.rr_mediaState=e.paused?"paused":"played",C.rr_mediaCurrentTime=e.currentTime,C.rr_mediaPlaybackRate=e.playbackRate,C.rr_mediaMuted=e.muted,C.rr_mediaLoop=e.loop,C.rr_mediaVolume=e.volume}if(h||(e.scrollLeft&&(y.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(y.rr_scrollTop=e.scrollTop)),p){const{width:C,height:v}=e.getBoundingClientRect();y=P({class:y.class,rr_width:`${C}px`,rr_height:`${v}px`},m?{rr_background_color:ha}:{})}g==="iframe"&&!d(y.src)&&(e.contentDocument||(y.rr_src=y.src),delete y.src);let S;try{customElements.get(g)&&(S=!0)}catch(C){}return{type:F.Element,tagName:g,attributes:y,childNodes:[],isSVG:wa(e)||void 0,needBlock:p,rootId:f,isCustom:S}}function J(e){return e==null?"":e.toLowerCase()}function Ma(e,t){if(t.comment&&e.type===F.Comment)return!0;if(e.type===F.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Ln(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(J(e.attributes.name).match(/^msapplication-tile(image|color)$/)||J(e.attributes.name)==="application-name"||J(e.attributes.rel)==="icon"||J(e.attributes.rel)==="apple-touch-icon"||J(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&J(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(J(e.attributes.property).match(/^(og|twitter|fb):/)||J(e.attributes.name).match(/^(og|twitter):/)||J(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(J(e.attributes.name)==="robots"||J(e.attributes.name)==="googlebot"||J(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(J(e.attributes.name)==="author"||J(e.attributes.name)==="generator"||J(e.attributes.name)==="framework"||J(e.attributes.name)==="publisher"||J(e.attributes.name)==="progid"||J(e.attributes.property).match(/^article:/)||J(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(J(e.attributes.name)==="google-site-verification"||J(e.attributes.name)==="yandex-verification"||J(e.attributes.name)==="csrf-token"||J(e.attributes.name)==="p:domain_verify"||J(e.attributes.name)==="verify-v1"||J(e.attributes.name)==="verification"||J(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Ge(e,t){const{doc:r,mirror:s,blockClass:i,blockSelector:a,maskTextClass:o,maskTextSelector:u,skipChild:l=!1,inlineStylesheet:c=!0,maskInputOptions:n={},maskTextFn:d,maskInputFn:h,slimDOMOptions:f,dataURLOptions:m={},inlineImages:p=!1,recordCanvas:g=!1,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:S=5e3,onStylesheetLoad:C,stylesheetLoadTimeout:v=5e3,keepIframeSrcFn:b=()=>!1,newlyAddedElement:E=!1,cssCaptured:x=!1,applyBackgroundColorToBlockedElements:I=!1}=t;let{needsMask:N}=t,{preserveWhiteSpace:L=!0}=t;N||(N=$n(e,o,u,N===void 0));const T=Ca(e,{doc:r,mirror:s,blockClass:i,blockSelector:a,needsMask:N,inlineStylesheet:c,maskInputOptions:n,maskTextFn:d,maskInputFn:h,dataURLOptions:m,inlineImages:p,recordCanvas:g,keepIframeSrcFn:b,newlyAddedElement:E,cssCaptured:x,applyBackgroundColorToBlockedElements:I});if(!T)return console.warn(e,"not serialized"),null;let R;s.hasNode(e)?R=s.getId(e):Ma(T,f)||!L&&T.type===F.Text&&!T.textContent.replace(/^\s+|\s+$/gm,"").length?R=it:R=Fn();const U=Object.assign(T,{id:R});if(s.add(e,U),R===it)return null;y&&y(e);let ue=!l;if(U.type===F.Element){ue=ue&&!U.needBlock,delete U.needBlock;const k=oe.shadowRoot(e);k&&tt(k)&&(U.isShadowHost=!0)}if((U.type===F.Document||U.type===F.Element)&&ue){f.headWhitespace&&U.type===F.Element&&U.tagName==="head"&&(L=!1);const k={doc:r,mirror:s,blockClass:i,blockSelector:a,needsMask:N,maskTextClass:o,maskTextSelector:u,skipChild:l,inlineStylesheet:c,maskInputOptions:n,maskTextFn:d,maskInputFn:h,slimDOMOptions:f,dataURLOptions:m,inlineImages:p,recordCanvas:g,preserveWhiteSpace:L,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:b,cssCaptured:!1,applyBackgroundColorToBlockedElements:I};if(!(U.type===F.Element&&U.tagName==="textarea"&&U.attributes.value!==void 0)){U.type===F.Element&&U.attributes._cssText!==void 0&&typeof U.attributes._cssText=="string"&&(k.cssCaptured=!0);for(const ne of Array.from(oe.childNodes(e))){const j=Ge(ne,k);j&&U.childNodes.push(j)}}let G=null;if(hs(e)&&(G=oe.shadowRoot(e)))for(const ne of Array.from(oe.childNodes(G))){const j=Ge(ne,k);j&&(tt(G)&&(j.isShadow=!0),U.childNodes.push(j))}}const te=oe.parentNode(e);return te&&et(te)&&tt(te)&&(U.isShadow=!0),U.type===F.Element&&U.tagName==="iframe"&&ba(e,()=>{const k=e.contentDocument;if(k&&w){const G=Ge(k,{doc:k,mirror:s,blockClass:i,blockSelector:a,needsMask:N,maskTextClass:o,maskTextSelector:u,skipChild:!1,inlineStylesheet:c,maskInputOptions:n,maskTextFn:d,maskInputFn:h,slimDOMOptions:f,dataURLOptions:m,inlineImages:p,recordCanvas:g,preserveWhiteSpace:L,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:b});G&&w(e,G)}},S),U.type===F.Element&&U.tagName==="link"&&typeof U.attributes.rel=="string"&&(U.attributes.rel==="stylesheet"||U.attributes.rel==="preload"&&typeof U.attributes.href=="string"&&Ln(U.attributes.href)==="css")&&Sa(e,()=>{if(C){const k=Ge(e,{doc:r,mirror:s,blockClass:i,blockSelector:a,needsMask:N,maskTextClass:o,maskTextSelector:u,skipChild:!1,inlineStylesheet:c,maskInputOptions:n,maskTextFn:d,maskInputFn:h,slimDOMOptions:f,dataURLOptions:m,inlineImages:p,recordCanvas:g,preserveWhiteSpace:L,onSerialize:y,onIframeLoad:w,iframeLoadTimeout:S,onStylesheetLoad:C,stylesheetLoadTimeout:v,keepIframeSrcFn:b});k&&C(e,k)}},v),U}function Na(e,t){const{mirror:r=new fs,blockClass:s="rr-block",blockSelector:i=null,maskTextClass:a="rr-mask",maskTextSelector:o=null,inlineStylesheet:u=!0,inlineImages:l=!1,recordCanvas:c=!1,maskAllInputs:n=!1,maskTextFn:d,maskInputFn:h,slimDOM:f=!1,dataURLOptions:m,preserveWhiteSpace:p,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:w,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:v=()=>!1,applyBackgroundColorToBlockedElements:b=!1}=t||{};return Ge(e,{doc:e,mirror:r,blockClass:s,blockSelector:i,maskTextClass:a,maskTextSelector:o,skipChild:!1,inlineStylesheet:u,maskInputOptions:n===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:n===!1?{password:!0}:n,maskTextFn:d,maskInputFn:h,slimDOMOptions:f===!0||f==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:f==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:f===!1?{}:f,dataURLOptions:m,inlineImages:l,recordCanvas:c,preserveWhiteSpace:p,onSerialize:g,onIframeLoad:y,iframeLoadTimeout:w,onStylesheetLoad:S,stylesheetLoadTimeout:C,keepIframeSrcFn:v,newlyAddedElement:!1,applyBackgroundColorToBlockedElements:b})}const Oa=/(max|min)-device-(width|height)/,ei=new RegExp(Oa.source,"g"),Ia={postcssPlugin:"postcss-custom-selectors",prepare(){return{postcssPlugin:"postcss-custom-selectors",AtRule:function(e){e.params.match(ei)&&(e.params=e.params.replace(ei,"$1-$2"))}}}},Da={postcssPlugin:"postcss-hover-classes",prepare:function(){const e=[];return{Rule:function(t){e.indexOf(t)===-1&&(e.push(t),t.selectors.forEach(function(r){r.includes(":hover")&&(t.selector+=`,
`+r.replace(/:hover/g,".\\:hover"))}))}}}};function Aa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ta(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),r}var dt={exports:{}},ti;function _a(){if(ti)return dt.exports;ti=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e}};return dt.exports=t(),dt.exports.createColors=t,dt.exports}const ka={},Pa=Object.freeze(Object.defineProperty({__proto__:null,default:ka},Symbol.toStringTag,{value:"Module"})),ge=Ta(Pa);var Kt,ri;function ps(){if(ri)return Kt;ri=1;let e=_a(),t=ge;class r extends Error{constructor(i,a,o,u,l,c){super(i),this.name="CssSyntaxError",this.reason=i,l&&(this.file=l),u&&(this.source=u),c&&(this.plugin=c),typeof a!="undefined"&&typeof o!="undefined"&&(typeof a=="number"?(this.line=a,this.column=o):(this.line=a.line,this.column=a.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,r)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let a=this.source;i==null&&(i=e.isColorSupported),t&&i&&(a=t(a));let o=a.split(/\r?\n/),u=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),c=String(l).length,n,d;if(i){let{bold:h,gray:f,red:m}=e.createColors(!0);n=p=>h(m(p)),d=p=>f(p)}else n=d=h=>h;return o.slice(u,l).map((h,f)=>{let m=u+1+f,p=" "+(" "+m).slice(-c)+" | ";if(m===this.line){let g=d(p.replace(/\d/g," "))+h.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+d(p)+h+`
 `+g+n("^")}return" "+d(p)+h}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return Kt=r,r.default=r,Kt}var pt={},si;function ms(){return si||(si=1,pt.isClean=Symbol("isClean"),pt.my=Symbol("my")),pt}var Zt,ii;function Wn(){if(ii)return Zt;ii=1;const e={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function t(s){return s[0].toUpperCase()+s.slice(1)}class r{constructor(i){this.builder=i}atrule(i,a){let o="@"+i.name,u=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName!="undefined"?o+=i.raws.afterName:u&&(o+=" "),i.nodes)this.block(i,o+u);else{let l=(i.raws.between||"")+(a?";":"");this.builder(o+u+l,i)}}beforeAfter(i,a){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):a==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let u=i.parent,l=0;for(;u&&u.type!=="root";)l+=1,u=u.parent;if(o.includes(`
`)){let c=this.raw(i,null,"indent");if(c.length)for(let n=0;n<l;n++)o+=c}return o}block(i,a){let o=this.raw(i,"between","beforeOpen");this.builder(a+o+"{",i,"start");let u;i.nodes&&i.nodes.length?(this.body(i),u=this.raw(i,"after")):u=this.raw(i,"after","emptyBody"),u&&this.builder(u),this.builder("}",i,"end")}body(i){let a=i.nodes.length-1;for(;a>0&&i.nodes[a].type==="comment";)a-=1;let o=this.raw(i,"semicolon");for(let u=0;u<i.nodes.length;u++){let l=i.nodes[u],c=this.raw(l,"before");c&&this.builder(c),this.stringify(l,a!==u||o)}}comment(i){let a=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+a+i.text+o+"*/",i)}decl(i,a){let o=this.raw(i,"between","colon"),u=i.prop+o+this.rawValue(i,"value");i.important&&(u+=i.raws.important||" !important"),a&&(u+=";"),this.builder(u,i)}document(i){this.body(i)}raw(i,a,o){let u;if(o||(o=a),a&&(u=i.raws[a],typeof u!="undefined"))return u;let l=i.parent;if(o==="before"&&(!l||l.type==="root"&&l.first===i||l&&l.type==="document"))return"";if(!l)return e[o];let c=i.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[o]!="undefined")return c.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let n="raw"+t(o);this[n]?u=this[n](c,i):c.walk(d=>{if(u=d.raws[a],typeof u!="undefined")return!1})}return typeof u=="undefined"&&(u=e[o]),c.rawCache[o]=u,u}rawBeforeClose(i){let a;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after!="undefined")return a=o.raws.after,a.includes(`
`)&&(a=a.replace(/[^\n]+$/,"")),!1}),a&&(a=a.replace(/\S/g,"")),a}rawBeforeComment(i,a){let o;return i.walkComments(u=>{if(typeof u.raws.before!="undefined")return o=u.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o=="undefined"?o=this.raw(a,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,a){let o;return i.walkDecls(u=>{if(typeof u.raws.before!="undefined")return o=u.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o=="undefined"?o=this.raw(a,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let a;return i.walk(o=>{if(o.type!=="decl"&&(a=o.raws.between,typeof a!="undefined"))return!1}),a}rawBeforeRule(i){let a;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before!="undefined")return a=o.raws.before,a.includes(`
`)&&(a=a.replace(/[^\n]+$/,"")),!1}),a&&(a=a.replace(/\S/g,"")),a}rawColon(i){let a;return i.walkDecls(o=>{if(typeof o.raws.between!="undefined")return a=o.raws.between.replace(/[^\s:]/g,""),!1}),a}rawEmptyBody(i){let a;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(a=o.raws.after,typeof a!="undefined"))return!1}),a}rawIndent(i){if(i.raws.indent)return i.raws.indent;let a;return i.walk(o=>{let u=o.parent;if(u&&u!==i&&u.parent&&u.parent===i&&typeof o.raws.before!="undefined"){let l=o.raws.before.split(`
`);return a=l[l.length-1],a=a.replace(/\S/g,""),!1}}),a}rawSemicolon(i){let a;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(a=o.raws.semicolon,typeof a!="undefined"))return!1}),a}rawValue(i,a){let o=i[a],u=i.raws[a];return u&&u.value===o?u.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,a){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,a)}}return Zt=r,r.default=r,Zt}var er,ni;function Lt(){if(ni)return er;ni=1;let e=Wn();function t(r,s){new e(s).stringify(r)}return er=t,t.default=t,er}var tr,oi;function Ft(){if(oi)return tr;oi=1;let{isClean:e,my:t}=ms(),r=ps(),s=Wn(),i=Lt();function a(u,l){let c=new u.constructor;for(let n in u){if(!Object.prototype.hasOwnProperty.call(u,n)||n==="proxyCache")continue;let d=u[n],h=typeof d;n==="parent"&&h==="object"?l&&(c[n]=l):n==="source"?c[n]=d:Array.isArray(d)?c[n]=d.map(f=>a(f,c)):(h==="object"&&d!==null&&(d=a(d)),c[n]=d)}return c}class o{constructor(l={}){this.raws={},this[e]=!1,this[t]=!0;for(let c in l)if(c==="nodes"){this.nodes=[];for(let n of l[c])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[c]=l[c]}addToError(l){if(l.postcssNode=this,l.stack&&this.source&&/\n\s{4}at /.test(l.stack)){let c=this.source;l.stack=l.stack.replace(/\n\s{4}at /,`$&${c.input.from}:${c.start.line}:${c.start.column}$&`)}return l}after(l){return this.parent.insertAfter(this,l),this}assign(l={}){for(let c in l)this[c]=l[c];return this}before(l){return this.parent.insertBefore(this,l),this}cleanRaws(l){delete this.raws.before,delete this.raws.after,l||delete this.raws.between}clone(l={}){let c=a(this);for(let n in l)c[n]=l[n];return c}cloneAfter(l={}){let c=this.clone(l);return this.parent.insertAfter(this,c),c}cloneBefore(l={}){let c=this.clone(l);return this.parent.insertBefore(this,c),c}error(l,c={}){if(this.source){let{end:n,start:d}=this.rangeBy(c);return this.source.input.error(l,{column:d.column,line:d.line},{column:n.column,line:n.line},c)}return new r(l)}getProxyProcessor(){return{get(l,c){return c==="proxyOf"?l:c==="root"?()=>l.root().toProxy():l[c]},set(l,c,n){return l[c]===n||(l[c]=n,(c==="prop"||c==="value"||c==="name"||c==="params"||c==="important"||c==="text")&&l.markDirty()),!0}}}markDirty(){if(this[e]){this[e]=!1;let l=this;for(;l=l.parent;)l[e]=!1}}next(){if(!this.parent)return;let l=this.parent.index(this);return this.parent.nodes[l+1]}positionBy(l,c){let n=this.source.start;if(l.index)n=this.positionInside(l.index,c);else if(l.word){c=this.toString();let d=c.indexOf(l.word);d!==-1&&(n=this.positionInside(d,c))}return n}positionInside(l,c){let n=c||this.toString(),d=this.source.start.column,h=this.source.start.line;for(let f=0;f<l;f++)n[f]===`
`?(d=1,h+=1):d+=1;return{column:d,line:h}}prev(){if(!this.parent)return;let l=this.parent.index(this);return this.parent.nodes[l-1]}rangeBy(l){let c={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(l.word){let d=this.toString(),h=d.indexOf(l.word);h!==-1&&(c=this.positionInside(h,d),n=this.positionInside(h+l.word.length,d))}else l.start?c={column:l.start.column,line:l.start.line}:l.index&&(c=this.positionInside(l.index)),l.end?n={column:l.end.column,line:l.end.line}:typeof l.endIndex=="number"?n=this.positionInside(l.endIndex):l.index&&(n=this.positionInside(l.index+1));return(n.line<c.line||n.line===c.line&&n.column<=c.column)&&(n={column:c.column+1,line:c.line}),{end:n,start:c}}raw(l,c){return new s().raw(this,l,c)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...l){if(this.parent){let c=this,n=!1;for(let d of l)d===this?n=!0:n?(this.parent.insertAfter(c,d),c=d):this.parent.insertBefore(c,d);n||this.remove()}return this}root(){let l=this;for(;l.parent&&l.parent.type!=="document";)l=l.parent;return l}toJSON(l,c){let n={},d=c==null;c=c||new Map;let h=0;for(let f in this){if(!Object.prototype.hasOwnProperty.call(this,f)||f==="parent"||f==="proxyCache")continue;let m=this[f];if(Array.isArray(m))n[f]=m.map(p=>typeof p=="object"&&p.toJSON?p.toJSON(null,c):p);else if(typeof m=="object"&&m.toJSON)n[f]=m.toJSON(null,c);else if(f==="source"){let p=c.get(m.input);p==null&&(p=h,c.set(m.input,h),h++),n[f]={end:m.end,inputId:p,start:m.start}}else n[f]=m}return d&&(n.inputs=[...c.keys()].map(f=>f.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(l=i){l.stringify&&(l=l.stringify);let c="";return l(this,n=>{c+=n}),c}warn(l,c,n){let d={node:this};for(let h in n)d[h]=n[h];return l.warn(c,d)}get proxyOf(){return this}}return tr=o,o.default=o,tr}var rr,ai;function Ut(){if(ai)return rr;ai=1;let e=Ft();class t extends e{constructor(s){s&&typeof s.value!="undefined"&&typeof s.value!="string"&&(s=se(P({},s),{value:String(s.value)})),super(s),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return rr=t,t.default=t,rr}var sr,li;function La(){if(li)return sr;li=1;let e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return sr={nanoid:(s=21)=>{let i="",a=s;for(;a--;)i+=e[Math.random()*64|0];return i},customAlphabet:(s,i=21)=>(a=i)=>{let o="",u=a;for(;u--;)o+=s[Math.random()*s.length|0];return o}},sr}var ir,ui;function zn(){if(ui)return ir;ui=1;let{SourceMapConsumer:e,SourceMapGenerator:t}=ge,{existsSync:r,readFileSync:s}=ge,{dirname:i,join:a}=ge;function o(l){return Buffer?Buffer.from(l,"base64").toString():window.atob(l)}class u{constructor(c,n){if(n.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let d=n.map?n.map.prev:void 0,h=this.loadMap(n.from,d);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=i(this.mapFile)),h&&(this.text=h)}consumer(){return this.consumerCache||(this.consumerCache=new e(this.text)),this.consumerCache}decodeInline(c){let n=/^data:application\/json;charset=utf-?8;base64,/,d=/^data:application\/json;base64,/,h=/^data:application\/json;charset=utf-?8,/,f=/^data:application\/json,/;if(h.test(c)||f.test(c))return decodeURIComponent(c.substr(RegExp.lastMatch.length));if(n.test(c)||d.test(c))return o(c.substr(RegExp.lastMatch.length));let m=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+m)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let n=c.match(/\/\*\s*# sourceMappingURL=/gm);if(!n)return;let d=c.lastIndexOf(n.pop()),h=c.indexOf("*/",d);d>-1&&h>-1&&(this.annotation=this.getAnnotationURL(c.substring(d,h)))}loadFile(c){if(this.root=i(c),r(c))return this.mapFile=c,s(c,"utf-8").toString().trim()}loadMap(c,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let d=n(c);if(d){let h=this.loadFile(d);if(!h)throw new Error("Unable to load previous source map: "+d.toString());return h}}else{if(n instanceof e)return t.fromSourceMap(n).toString();if(n instanceof t)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let d=this.annotation;return c&&(d=a(i(c),d)),this.loadFile(d)}}}startWith(c,n){return c?c.substr(0,n.length)===n:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return ir=u,u.default=u,ir}var nr,ci;function Bt(){if(ci)return nr;ci=1;let{SourceMapConsumer:e,SourceMapGenerator:t}=ge,{fileURLToPath:r,pathToFileURL:s}=ge,{isAbsolute:i,resolve:a}=ge,{nanoid:o}=La(),u=ge,l=ps(),c=zn(),n=Symbol("fromOffsetCache"),d=!!(e&&t),h=!!(a&&i);class f{constructor(p,g={}){if(p===null||typeof p=="undefined"||typeof p=="object"&&!p.toString)throw new Error(`PostCSS received ${p} instead of CSS string`);if(this.css=p.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,g.from&&(!h||/^\w+:\/\//.test(g.from)||i(g.from)?this.file=g.from:this.file=a(g.from)),h&&d){let y=new c(this.css,g);if(y.text){this.map=y;let w=y.consumer().file;!this.file&&w&&(this.file=this.mapResolve(w))}}this.file||(this.id="<input css "+o(6)+">"),this.map&&(this.map.file=this.from)}error(p,g,y,w={}){let S,C,v;if(g&&typeof g=="object"){let E=g,x=y;if(typeof E.offset=="number"){let I=this.fromOffset(E.offset);g=I.line,y=I.col}else g=E.line,y=E.column;if(typeof x.offset=="number"){let I=this.fromOffset(x.offset);C=I.line,v=I.col}else C=x.line,v=x.column}else if(!y){let E=this.fromOffset(g);g=E.line,y=E.col}let b=this.origin(g,y,C,v);return b?S=new l(p,b.endLine===void 0?b.line:{column:b.column,line:b.line},b.endLine===void 0?b.column:{column:b.endColumn,line:b.endLine},b.source,b.file,w.plugin):S=new l(p,C===void 0?g:{column:y,line:g},C===void 0?y:{column:v,line:C},this.css,this.file,w.plugin),S.input={column:y,endColumn:v,endLine:C,line:g,source:this.css},this.file&&(s&&(S.input.url=s(this.file).toString()),S.input.file=this.file),S}fromOffset(p){let g,y;if(this[n])y=this[n];else{let S=this.css.split(`
`);y=new Array(S.length);let C=0;for(let v=0,b=S.length;v<b;v++)y[v]=C,C+=S[v].length+1;this[n]=y}g=y[y.length-1];let w=0;if(p>=g)w=y.length-1;else{let S=y.length-2,C;for(;w<S;)if(C=w+(S-w>>1),p<y[C])S=C-1;else if(p>=y[C+1])w=C+1;else{w=C;break}}return{col:p-y[w]+1,line:w+1}}mapResolve(p){return/^\w+:\/\//.test(p)?p:a(this.map.consumer().sourceRoot||this.map.root||".",p)}origin(p,g,y,w){if(!this.map)return!1;let S=this.map.consumer(),C=S.originalPositionFor({column:g,line:p});if(!C.source)return!1;let v;typeof y=="number"&&(v=S.originalPositionFor({column:w,line:y}));let b;i(C.source)?b=s(C.source):b=new URL(C.source,this.map.consumer().sourceRoot||s(this.map.mapFile));let E={column:C.column,endColumn:v&&v.column,endLine:v&&v.line,line:C.line,url:b.toString()};if(b.protocol==="file:")if(r)E.file=r(b);else throw new Error("file: protocol is not available in this PostCSS build");let x=S.sourceContentFor(C.source);return x&&(E.source=x),E}toJSON(){let p={};for(let g of["hasBOM","css","file","id"])this[g]!=null&&(p[g]=this[g]);return this.map&&(p.map=P({},this.map),p.map.consumerCache&&(p.map.consumerCache=void 0)),p}get from(){return this.file||this.id}}return nr=f,f.default=f,u&&u.registerInput&&u.registerInput(f),nr}var or,hi;function Vn(){if(hi)return or;hi=1;let{SourceMapConsumer:e,SourceMapGenerator:t}=ge,{dirname:r,relative:s,resolve:i,sep:a}=ge,{pathToFileURL:o}=ge,u=Bt(),l=!!(e&&t),c=!!(r&&i&&s&&a);class n{constructor(h,f,m,p){this.stringify=h,this.mapOpts=m.map||{},this.root=f,this.opts=m,this.css=p,this.originalCSS=p,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let h;this.isInline()?h="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?h=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?h=this.mapOpts.annotation(this.opts.to,this.root):h=this.outputFile()+".map";let f=`
`;this.css.includes(`\r
`)&&(f=`\r
`),this.css+=f+"/*# sourceMappingURL="+h+" */"}applyPrevMaps(){for(let h of this.previous()){let f=this.toUrl(this.path(h.file)),m=h.root||r(h.file),p;this.mapOpts.sourcesContent===!1?(p=new e(h.text),p.sourcesContent&&(p.sourcesContent=null)):p=h.consumer(),this.map.applySourceMap(p,f,this.toUrl(this.path(m)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let h;for(let f=this.root.nodes.length-1;f>=0;f--)h=this.root.nodes[f],h.type==="comment"&&h.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(f)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&l&&this.isMap())return this.generateMap();{let h="";return this.stringify(this.root,f=>{h+=f}),[h]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let h=this.previous()[0].consumer();h.file=this.outputFile(),this.map=t.fromSourceMap(h,{ignoreInvalidMapping:!0})}else this.map=new t({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new t({file:this.outputFile(),ignoreInvalidMapping:!0});let h=1,f=1,m="<no source>",p={generated:{column:0,line:0},original:{column:0,line:0},source:""},g,y;this.stringify(this.root,(w,S,C)=>{if(this.css+=w,S&&C!=="end"&&(p.generated.line=h,p.generated.column=f-1,S.source&&S.source.start?(p.source=this.sourcePath(S),p.original.line=S.source.start.line,p.original.column=S.source.start.column-1,this.map.addMapping(p)):(p.source=m,p.original.line=1,p.original.column=0,this.map.addMapping(p))),g=w.match(/\n/g),g?(h+=g.length,y=w.lastIndexOf(`
`),f=w.length-y):f+=w.length,S&&C!=="start"){let v=S.parent||{raws:{}};(!(S.type==="decl"||S.type==="atrule"&&!S.nodes)||S!==v.last||v.raws.semicolon)&&(S.source&&S.source.end?(p.source=this.sourcePath(S),p.original.line=S.source.end.line,p.original.column=S.source.end.column-1,p.generated.line=h,p.generated.column=f-2,this.map.addMapping(p)):(p.source=m,p.original.line=1,p.original.column=0,p.generated.line=h,p.generated.column=f-1,this.map.addMapping(p)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(h=>h.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let h=this.mapOpts.annotation;return typeof h!="undefined"&&h!==!0?!1:this.previous().length?this.previous().some(f=>f.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(h=>h.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(h){if(this.mapOpts.absolute||h.charCodeAt(0)===60||/^\w+:\/\//.test(h))return h;let f=this.memoizedPaths.get(h);if(f)return f;let m=this.opts.to?r(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(m=r(i(m,this.mapOpts.annotation)));let p=s(m,h);return this.memoizedPaths.set(h,p),p}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(h=>{if(h.source&&h.source.input.map){let f=h.source.input.map;this.previousMaps.includes(f)||this.previousMaps.push(f)}});else{let h=new u(this.originalCSS,this.opts);h.map&&this.previousMaps.push(h.map)}return this.previousMaps}setSourcesContent(){let h={};if(this.root)this.root.walk(f=>{if(f.source){let m=f.source.input.from;if(m&&!h[m]){h[m]=!0;let p=this.usesFileUrls?this.toFileUrl(m):this.toUrl(this.path(m));this.map.setSourceContent(p,f.source.input.css)}}});else if(this.css){let f=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(f,this.css)}}sourcePath(h){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(h.source.input.from):this.toUrl(this.path(h.source.input.from))}toBase64(h){return Buffer?Buffer.from(h).toString("base64"):window.btoa(unescape(encodeURIComponent(h)))}toFileUrl(h){let f=this.memoizedFileURLs.get(h);if(f)return f;if(o){let m=o(h).toString();return this.memoizedFileURLs.set(h,m),m}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(h){let f=this.memoizedURLs.get(h);if(f)return f;a==="\\"&&(h=h.replace(/\\/g,"/"));let m=encodeURI(h).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(h,m),m}}return or=n,or}var ar,fi;function $t(){if(fi)return ar;fi=1;let e=Ft();class t extends e{constructor(s){super(s),this.type="comment"}}return ar=t,t.default=t,ar}var lr,di;function Le(){if(di)return lr;di=1;let{isClean:e,my:t}=ms(),r=Ut(),s=$t(),i=Ft(),a,o,u,l;function c(h){return h.map(f=>(f.nodes&&(f.nodes=c(f.nodes)),delete f.source,f))}function n(h){if(h[e]=!1,h.proxyOf.nodes)for(let f of h.proxyOf.nodes)n(f)}class d extends i{append(...f){for(let m of f){let p=this.normalize(m,this.last);for(let g of p)this.proxyOf.nodes.push(g)}return this.markDirty(),this}cleanRaws(f){if(super.cleanRaws(f),this.nodes)for(let m of this.nodes)m.cleanRaws(f)}each(f){if(!this.proxyOf.nodes)return;let m=this.getIterator(),p,g;for(;this.indexes[m]<this.proxyOf.nodes.length&&(p=this.indexes[m],g=f(this.proxyOf.nodes[p],p),g!==!1);)this.indexes[m]+=1;return delete this.indexes[m],g}every(f){return this.nodes.every(f)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let f=this.lastEach;return this.indexes[f]=0,f}getProxyProcessor(){return{get(f,m){return m==="proxyOf"?f:f[m]?m==="each"||typeof m=="string"&&m.startsWith("walk")?(...p)=>f[m](...p.map(g=>typeof g=="function"?(y,w)=>g(y.toProxy(),w):g)):m==="every"||m==="some"?p=>f[m]((g,...y)=>p(g.toProxy(),...y)):m==="root"?()=>f.root().toProxy():m==="nodes"?f.nodes.map(p=>p.toProxy()):m==="first"||m==="last"?f[m].toProxy():f[m]:f[m]},set(f,m,p){return f[m]===p||(f[m]=p,(m==="name"||m==="params"||m==="selector")&&f.markDirty()),!0}}}index(f){return typeof f=="number"?f:(f.proxyOf&&(f=f.proxyOf),this.proxyOf.nodes.indexOf(f))}insertAfter(f,m){let p=this.index(f),g=this.normalize(m,this.proxyOf.nodes[p]).reverse();p=this.index(f);for(let w of g)this.proxyOf.nodes.splice(p+1,0,w);let y;for(let w in this.indexes)y=this.indexes[w],p<y&&(this.indexes[w]=y+g.length);return this.markDirty(),this}insertBefore(f,m){let p=this.index(f),g=p===0?"prepend":!1,y=this.normalize(m,this.proxyOf.nodes[p],g).reverse();p=this.index(f);for(let S of y)this.proxyOf.nodes.splice(p,0,S);let w;for(let S in this.indexes)w=this.indexes[S],p<=w&&(this.indexes[S]=w+y.length);return this.markDirty(),this}normalize(f,m){if(typeof f=="string")f=c(a(f).nodes);else if(typeof f=="undefined")f=[];else if(Array.isArray(f)){f=f.slice(0);for(let g of f)g.parent&&g.parent.removeChild(g,"ignore")}else if(f.type==="root"&&this.type!=="document"){f=f.nodes.slice(0);for(let g of f)g.parent&&g.parent.removeChild(g,"ignore")}else if(f.type)f=[f];else if(f.prop){if(typeof f.value=="undefined")throw new Error("Value field is missed in node creation");typeof f.value!="string"&&(f.value=String(f.value)),f=[new r(f)]}else if(f.selector)f=[new o(f)];else if(f.name)f=[new u(f)];else if(f.text)f=[new s(f)];else throw new Error("Unknown node type in node creation");return f.map(g=>(g[t]||d.rebuild(g),g=g.proxyOf,g.parent&&g.parent.removeChild(g),g[e]&&n(g),typeof g.raws.before=="undefined"&&m&&typeof m.raws.before!="undefined"&&(g.raws.before=m.raws.before.replace(/\S/g,"")),g.parent=this.proxyOf,g))}prepend(...f){f=f.reverse();for(let m of f){let p=this.normalize(m,this.first,"prepend").reverse();for(let g of p)this.proxyOf.nodes.unshift(g);for(let g in this.indexes)this.indexes[g]=this.indexes[g]+p.length}return this.markDirty(),this}push(f){return f.parent=this,this.proxyOf.nodes.push(f),this}removeAll(){for(let f of this.proxyOf.nodes)f.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(f){f=this.index(f),this.proxyOf.nodes[f].parent=void 0,this.proxyOf.nodes.splice(f,1);let m;for(let p in this.indexes)m=this.indexes[p],m>=f&&(this.indexes[p]=m-1);return this.markDirty(),this}replaceValues(f,m,p){return p||(p=m,m={}),this.walkDecls(g=>{m.props&&!m.props.includes(g.prop)||m.fast&&!g.value.includes(m.fast)||(g.value=g.value.replace(f,p))}),this.markDirty(),this}some(f){return this.nodes.some(f)}walk(f){return this.each((m,p)=>{let g;try{g=f(m,p)}catch(y){throw m.addToError(y)}return g!==!1&&m.walk&&(g=m.walk(f)),g})}walkAtRules(f,m){return m?f instanceof RegExp?this.walk((p,g)=>{if(p.type==="atrule"&&f.test(p.name))return m(p,g)}):this.walk((p,g)=>{if(p.type==="atrule"&&p.name===f)return m(p,g)}):(m=f,this.walk((p,g)=>{if(p.type==="atrule")return m(p,g)}))}walkComments(f){return this.walk((m,p)=>{if(m.type==="comment")return f(m,p)})}walkDecls(f,m){return m?f instanceof RegExp?this.walk((p,g)=>{if(p.type==="decl"&&f.test(p.prop))return m(p,g)}):this.walk((p,g)=>{if(p.type==="decl"&&p.prop===f)return m(p,g)}):(m=f,this.walk((p,g)=>{if(p.type==="decl")return m(p,g)}))}walkRules(f,m){return m?f instanceof RegExp?this.walk((p,g)=>{if(p.type==="rule"&&f.test(p.selector))return m(p,g)}):this.walk((p,g)=>{if(p.type==="rule"&&p.selector===f)return m(p,g)}):(m=f,this.walk((p,g)=>{if(p.type==="rule")return m(p,g)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return d.registerParse=h=>{a=h},d.registerRule=h=>{o=h},d.registerAtRule=h=>{u=h},d.registerRoot=h=>{l=h},lr=d,d.default=d,d.rebuild=h=>{h.type==="atrule"?Object.setPrototypeOf(h,u.prototype):h.type==="rule"?Object.setPrototypeOf(h,o.prototype):h.type==="decl"?Object.setPrototypeOf(h,r.prototype):h.type==="comment"?Object.setPrototypeOf(h,s.prototype):h.type==="root"&&Object.setPrototypeOf(h,l.prototype),h[t]=!0,h.nodes&&h.nodes.forEach(f=>{d.rebuild(f)})},lr}var ur,pi;function gs(){if(pi)return ur;pi=1;let e=Le(),t,r;class s extends e{constructor(a){super(P({type:"document"},a)),this.nodes||(this.nodes=[])}toResult(a={}){return new t(new r,this,a).stringify()}}return s.registerLazyResult=i=>{t=i},s.registerProcessor=i=>{r=i},ur=s,s.default=s,ur}var cr,mi;function qn(){if(mi)return cr;mi=1;let e={};return cr=function(r){e[r]||(e[r]=!0,typeof console!="undefined"&&console.warn&&console.warn(r))},cr}var hr,gi;function jn(){if(gi)return hr;gi=1;class e{constructor(r,s={}){if(this.type="warning",this.text=r,s.node&&s.node.source){let i=s.node.rangeBy(s);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in s)this[i]=s[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return hr=e,e.default=e,hr}var fr,yi;function ys(){if(yi)return fr;yi=1;let e=jn();class t{constructor(s,i,a){this.processor=s,this.messages=[],this.root=i,this.opts=a,this.css=void 0,this.map=void 0}toString(){return this.css}warn(s,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let a=new e(s,i);return this.messages.push(a),a}warnings(){return this.messages.filter(s=>s.type==="warning")}get content(){return this.css}}return fr=t,t.default=t,fr}var dr,wi;function Fa(){if(wi)return dr;wi=1;const e=39,t=34,r=92,s=47,i=10,a=32,o=12,u=9,l=13,c=91,n=93,d=40,h=41,f=123,m=125,p=59,g=42,y=58,w=64,S=/[\t\n\f\r "#'()/;[\\\]{}]/g,C=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,v=/.[\r\n"'(/\\]/,b=/[\da-f]/i;return dr=function(x,I={}){let N=x.css.valueOf(),L=I.ignoreErrors,T,R,U,ue,te,k,G,ne,j,H,Se=N.length,O=0,he=[],fe=[];function Be(){return O}function Ce(re){throw x.error("Unclosed "+re,O)}function de(){return fe.length===0&&O>=Se}function pe(re){if(fe.length)return fe.pop();if(O>=Se)return;let B=re?re.ignoreUnclosed:!1;switch(T=N.charCodeAt(O),T){case i:case a:case u:case l:case o:{R=O;do R+=1,T=N.charCodeAt(R);while(T===a||T===i||T===u||T===l||T===o);H=["space",N.slice(O,R)],O=R-1;break}case c:case n:case f:case m:case y:case p:case h:{let ie=String.fromCharCode(T);H=[ie,ie,O];break}case d:{if(ne=he.length?he.pop()[1]:"",j=N.charCodeAt(O+1),ne==="url"&&j!==e&&j!==t&&j!==a&&j!==i&&j!==u&&j!==o&&j!==l){R=O;do{if(k=!1,R=N.indexOf(")",R+1),R===-1)if(L||B){R=O;break}else Ce("bracket");for(G=R;N.charCodeAt(G-1)===r;)G-=1,k=!k}while(k);H=["brackets",N.slice(O,R+1),O,R],O=R}else R=N.indexOf(")",O+1),ue=N.slice(O,R+1),R===-1||v.test(ue)?H=["(","(",O]:(H=["brackets",ue,O,R],O=R);break}case e:case t:{U=T===e?"'":'"',R=O;do{if(k=!1,R=N.indexOf(U,R+1),R===-1)if(L||B){R=O+1;break}else Ce("string");for(G=R;N.charCodeAt(G-1)===r;)G-=1,k=!k}while(k);H=["string",N.slice(O,R+1),O,R],O=R;break}case w:{S.lastIndex=O+1,S.test(N),S.lastIndex===0?R=N.length-1:R=S.lastIndex-2,H=["at-word",N.slice(O,R+1),O,R],O=R;break}case r:{for(R=O,te=!0;N.charCodeAt(R+1)===r;)R+=1,te=!te;if(T=N.charCodeAt(R+1),te&&T!==s&&T!==a&&T!==i&&T!==u&&T!==l&&T!==o&&(R+=1,b.test(N.charAt(R)))){for(;b.test(N.charAt(R+1));)R+=1;N.charCodeAt(R+1)===a&&(R+=1)}H=["word",N.slice(O,R+1),O,R],O=R;break}default:{T===s&&N.charCodeAt(O+1)===g?(R=N.indexOf("*/",O+2)+1,R===0&&(L||B?R=N.length:Ce("comment")),H=["comment",N.slice(O,R+1),O,R],O=R):(C.lastIndex=O+1,C.test(N),C.lastIndex===0?R=N.length-1:R=C.lastIndex-2,H=["word",N.slice(O,R+1),O,R],he.push(H),O=R);break}}return O++,H}function ke(re){fe.push(re)}return{back:ke,endOfFile:de,nextToken:pe,position:Be}},dr}var pr,vi;function ws(){if(vi)return pr;vi=1;let e=Le();class t extends e{constructor(s){super(s),this.type="atrule"}append(...s){return this.proxyOf.nodes||(this.nodes=[]),super.append(...s)}prepend(...s){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...s)}}return pr=t,t.default=t,e.registerAtRule(t),pr}var mr,bi;function ot(){if(bi)return mr;bi=1;let e=Le(),t,r;class s extends e{constructor(a){super(a),this.type="root",this.nodes||(this.nodes=[])}normalize(a,o,u){let l=super.normalize(a);if(o){if(u==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(let c of l)c.raws.before=o.raws.before}return l}removeChild(a,o){let u=this.index(a);return!o&&u===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[u].raws.before),super.removeChild(a)}toResult(a={}){return new t(new r,this,a).stringify()}}return s.registerLazyResult=i=>{t=i},s.registerProcessor=i=>{r=i},mr=s,s.default=s,e.registerRoot(s),mr}var gr,Si;function Gn(){if(Si)return gr;Si=1;let e={comma(t){return e.split(t,[","],!0)},space(t){let r=[" ",`
`,"	"];return e.split(t,r)},split(t,r,s){let i=[],a="",o=!1,u=0,l=!1,c="",n=!1;for(let d of t)n?n=!1:d==="\\"?n=!0:l?d===c&&(l=!1):d==='"'||d==="'"?(l=!0,c=d):d==="("?u+=1:d===")"?u>0&&(u-=1):u===0&&r.includes(d)&&(o=!0),o?(a!==""&&i.push(a.trim()),a="",o=!1):a+=d;return(s||a!=="")&&i.push(a.trim()),i}};return gr=e,e.default=e,gr}var yr,Ci;function vs(){if(Ci)return yr;Ci=1;let e=Le(),t=Gn();class r extends e{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return t.comma(this.selector)}set selectors(i){let a=this.selector?this.selector.match(/,\s*/):null,o=a?a[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}}return yr=r,r.default=r,e.registerRule(r),yr}var wr,Ei;function Ua(){if(Ei)return wr;Ei=1;let e=Ut(),t=Fa(),r=$t(),s=ws(),i=ot(),a=vs();const o={empty:!0,space:!0};function u(c){for(let n=c.length-1;n>=0;n--){let d=c[n],h=d[3]||d[2];if(h)return h}}class l{constructor(n){this.input=n,this.root=new i,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:n,start:{column:1,line:1,offset:0}}}atrule(n){let d=new s;d.name=n[1].slice(1),d.name===""&&this.unnamedAtrule(d,n),this.init(d,n[2]);let h,f,m,p=!1,g=!1,y=[],w=[];for(;!this.tokenizer.endOfFile();){if(n=this.tokenizer.nextToken(),h=n[0],h==="("||h==="["?w.push(h==="("?")":"]"):h==="{"&&w.length>0?w.push("}"):h===w[w.length-1]&&w.pop(),w.length===0)if(h===";"){d.source.end=this.getPosition(n[2]),d.source.end.offset++,this.semicolon=!0;break}else if(h==="{"){g=!0;break}else if(h==="}"){if(y.length>0){for(m=y.length-1,f=y[m];f&&f[0]==="space";)f=y[--m];f&&(d.source.end=this.getPosition(f[3]||f[2]),d.source.end.offset++)}this.end(n);break}else y.push(n);else y.push(n);if(this.tokenizer.endOfFile()){p=!0;break}}d.raws.between=this.spacesAndCommentsFromEnd(y),y.length?(d.raws.afterName=this.spacesAndCommentsFromStart(y),this.raw(d,"params",y),p&&(n=y[y.length-1],d.source.end=this.getPosition(n[3]||n[2]),d.source.end.offset++,this.spaces=d.raws.between,d.raws.between="")):(d.raws.afterName="",d.params=""),g&&(d.nodes=[],this.current=d)}checkMissedSemicolon(n){let d=this.colon(n);if(d===!1)return;let h=0,f;for(let m=d-1;m>=0&&(f=n[m],!(f[0]!=="space"&&(h+=1,h===2)));m--);throw this.input.error("Missed semicolon",f[0]==="word"?f[3]+1:f[2])}colon(n){let d=0,h,f,m;for(let[p,g]of n.entries()){if(h=g,f=h[0],f==="("&&(d+=1),f===")"&&(d-=1),d===0&&f===":")if(!m)this.doubleColon(h);else{if(m[0]==="word"&&m[1]==="progid")continue;return p}m=h}return!1}comment(n){let d=new r;this.init(d,n[2]),d.source.end=this.getPosition(n[3]||n[2]),d.source.end.offset++;let h=n[1].slice(2,-2);if(/^\s*$/.test(h))d.text="",d.raws.left=h,d.raws.right="";else{let f=h.match(/^(\s*)([^]*\S)(\s*)$/);d.text=f[2],d.raws.left=f[1],d.raws.right=f[3]}}createTokenizer(){this.tokenizer=t(this.input)}decl(n,d){let h=new e;this.init(h,n[0][2]);let f=n[n.length-1];for(f[0]===";"&&(this.semicolon=!0,n.pop()),h.source.end=this.getPosition(f[3]||f[2]||u(n)),h.source.end.offset++;n[0][0]!=="word";)n.length===1&&this.unknownWord(n),h.raws.before+=n.shift()[1];for(h.source.start=this.getPosition(n[0][2]),h.prop="";n.length;){let w=n[0][0];if(w===":"||w==="space"||w==="comment")break;h.prop+=n.shift()[1]}h.raws.between="";let m;for(;n.length;)if(m=n.shift(),m[0]===":"){h.raws.between+=m[1];break}else m[0]==="word"&&/\w/.test(m[1])&&this.unknownWord([m]),h.raws.between+=m[1];(h.prop[0]==="_"||h.prop[0]==="*")&&(h.raws.before+=h.prop[0],h.prop=h.prop.slice(1));let p=[],g;for(;n.length&&(g=n[0][0],!(g!=="space"&&g!=="comment"));)p.push(n.shift());this.precheckMissedSemicolon(n);for(let w=n.length-1;w>=0;w--){if(m=n[w],m[1].toLowerCase()==="!important"){h.important=!0;let S=this.stringFrom(n,w);S=this.spacesFromEnd(n)+S,S!==" !important"&&(h.raws.important=S);break}else if(m[1].toLowerCase()==="important"){let S=n.slice(0),C="";for(let v=w;v>0;v--){let b=S[v][0];if(C.trim().indexOf("!")===0&&b!=="space")break;C=S.pop()[1]+C}C.trim().indexOf("!")===0&&(h.important=!0,h.raws.important=C,n=S)}if(m[0]!=="space"&&m[0]!=="comment")break}n.some(w=>w[0]!=="space"&&w[0]!=="comment")&&(h.raws.between+=p.map(w=>w[1]).join(""),p=[]),this.raw(h,"value",p.concat(n),d),h.value.includes(":")&&!d&&this.checkMissedSemicolon(n)}doubleColon(n){throw this.input.error("Double colon",{offset:n[2]},{offset:n[2]+n[1].length})}emptyRule(n){let d=new a;this.init(d,n[2]),d.selector="",d.raws.between="",this.current=d}end(n){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(n[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(n)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(n){if(this.spaces+=n[1],this.current.nodes){let d=this.current.nodes[this.current.nodes.length-1];d&&d.type==="rule"&&!d.raws.ownSemicolon&&(d.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(n){let d=this.input.fromOffset(n);return{column:d.col,line:d.line,offset:n}}init(n,d){this.current.push(n),n.source={input:this.input,start:this.getPosition(d)},n.raws.before=this.spaces,this.spaces="",n.type!=="comment"&&(this.semicolon=!1)}other(n){let d=!1,h=null,f=!1,m=null,p=[],g=n[1].startsWith("--"),y=[],w=n;for(;w;){if(h=w[0],y.push(w),h==="("||h==="[")m||(m=w),p.push(h==="("?")":"]");else if(g&&f&&h==="{")m||(m=w),p.push("}");else if(p.length===0)if(h===";")if(f){this.decl(y,g);return}else break;else if(h==="{"){this.rule(y);return}else if(h==="}"){this.tokenizer.back(y.pop()),d=!0;break}else h===":"&&(f=!0);else h===p[p.length-1]&&(p.pop(),p.length===0&&(m=null));w=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(d=!0),p.length>0&&this.unclosedBracket(m),d&&f){if(!g)for(;y.length&&(w=y[y.length-1][0],!(w!=="space"&&w!=="comment"));)this.tokenizer.back(y.pop());this.decl(y,g)}else this.unknownWord(y)}parse(){let n;for(;!this.tokenizer.endOfFile();)switch(n=this.tokenizer.nextToken(),n[0]){case"space":this.spaces+=n[1];break;case";":this.freeSemicolon(n);break;case"}":this.end(n);break;case"comment":this.comment(n);break;case"at-word":this.atrule(n);break;case"{":this.emptyRule(n);break;default:this.other(n);break}this.endFile()}precheckMissedSemicolon(){}raw(n,d,h,f){let m,p,g=h.length,y="",w=!0,S,C;for(let v=0;v<g;v+=1)m=h[v],p=m[0],p==="space"&&v===g-1&&!f?w=!1:p==="comment"?(C=h[v-1]?h[v-1][0]:"empty",S=h[v+1]?h[v+1][0]:"empty",!o[C]&&!o[S]?y.slice(-1)===","?w=!1:y+=m[1]:w=!1):y+=m[1];if(!w){let v=h.reduce((b,E)=>b+E[1],"");n.raws[d]={raw:v,value:y}}n[d]=y}rule(n){n.pop();let d=new a;this.init(d,n[0][2]),d.raws.between=this.spacesAndCommentsFromEnd(n),this.raw(d,"selector",n),this.current=d}spacesAndCommentsFromEnd(n){let d,h="";for(;n.length&&(d=n[n.length-1][0],!(d!=="space"&&d!=="comment"));)h=n.pop()[1]+h;return h}spacesAndCommentsFromStart(n){let d,h="";for(;n.length&&(d=n[0][0],!(d!=="space"&&d!=="comment"));)h+=n.shift()[1];return h}spacesFromEnd(n){let d,h="";for(;n.length&&(d=n[n.length-1][0],d==="space");)h=n.pop()[1]+h;return h}stringFrom(n,d){let h="";for(let f=d;f<n.length;f++)h+=n[f][1];return n.splice(d,n.length-d),h}unclosedBlock(){let n=this.current.source.start;throw this.input.error("Unclosed block",n.line,n.column)}unclosedBracket(n){throw this.input.error("Unclosed bracket",{offset:n[2]},{offset:n[2]+1})}unexpectedClose(n){throw this.input.error("Unexpected }",{offset:n[2]},{offset:n[2]+1})}unknownWord(n){throw this.input.error("Unknown word",{offset:n[0][2]},{offset:n[0][2]+n[0][1].length})}unnamedAtrule(n,d){throw this.input.error("At-rule without name",{offset:d[2]},{offset:d[2]+d[1].length})}}return wr=l,wr}var vr,xi;function bs(){if(xi)return vr;xi=1;let e=Le(),t=Ua(),r=Bt();function s(i,a){let o=new r(i,a),u=new t(o);try{u.parse()}catch(l){throw l}return u.root}return vr=s,s.default=s,e.registerParse(s),vr}var br,Ri;function Hn(){if(Ri)return br;Ri=1;let{isClean:e,my:t}=ms(),r=Vn(),s=Lt(),i=Le(),a=gs(),o=qn(),u=ys(),l=bs(),c=ot();const n={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},h={Once:!0,postcssPlugin:!0,prepare:!0},f=0;function m(C){return typeof C=="object"&&typeof C.then=="function"}function p(C){let v=!1,b=n[C.type];return C.type==="decl"?v=C.prop.toLowerCase():C.type==="atrule"&&(v=C.name.toLowerCase()),v&&C.append?[b,b+"-"+v,f,b+"Exit",b+"Exit-"+v]:v?[b,b+"-"+v,b+"Exit",b+"Exit-"+v]:C.append?[b,f,b+"Exit"]:[b,b+"Exit"]}function g(C){let v;return C.type==="document"?v=["Document",f,"DocumentExit"]:C.type==="root"?v=["Root",f,"RootExit"]:v=p(C),{eventIndex:0,events:v,iterator:0,node:C,visitorIndex:0,visitors:[]}}function y(C){return C[e]=!1,C.nodes&&C.nodes.forEach(v=>y(v)),C}let w={};class S{constructor(v,b,E){this.stringified=!1,this.processed=!1;let x;if(typeof b=="object"&&b!==null&&(b.type==="root"||b.type==="document"))x=y(b);else if(b instanceof S||b instanceof u)x=y(b.root),b.map&&(typeof E.map=="undefined"&&(E.map={}),E.map.inline||(E.map.inline=!1),E.map.prev=b.map);else{let I=l;E.syntax&&(I=E.syntax.parse),E.parser&&(I=E.parser),I.parse&&(I=I.parse);try{x=I(b,E)}catch(N){this.processed=!0,this.error=N}x&&!x[t]&&i.rebuild(x)}this.result=new u(v,x,E),this.helpers=se(P({},w),{postcss:w,result:this.result}),this.plugins=this.processor.plugins.map(I=>typeof I=="object"&&I.prepare?P(P({},I),I.prepare(this.result)):I)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(v,b){let E=this.result.lastPlugin;try{b&&b.addToError(v),this.error=v,v.name==="CssSyntaxError"&&!v.plugin?(v.plugin=E.postcssPlugin,v.setMessage()):E.postcssVersion}catch(x){console&&console.error&&console.error(x)}return v}prepareVisitors(){this.listeners={};let v=(b,E,x)=>{this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push([b,x])};for(let b of this.plugins)if(typeof b=="object")for(let E in b){if(!d[E]&&/^[A-Z]/.test(E))throw new Error(`Unknown event ${E} in ${b.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!h[E])if(typeof b[E]=="object")for(let x in b[E])x==="*"?v(b,E,b[E][x]):v(b,E+"-"+x.toLowerCase(),b[E][x]);else typeof b[E]=="function"&&v(b,E,b[E])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let v=0;v<this.plugins.length;v++){let b=this.plugins[v],E=this.runOnRoot(b);if(m(E))try{await E}catch(x){throw this.handleError(x)}}if(this.prepareVisitors(),this.hasListener){let v=this.result.root;for(;!v[e];){v[e]=!0;let b=[g(v)];for(;b.length>0;){let E=this.visitTick(b);if(m(E))try{await E}catch(x){let I=b[b.length-1].node;throw this.handleError(x,I)}}}if(this.listeners.OnceExit)for(let[b,E]of this.listeners.OnceExit){this.result.lastPlugin=b;try{if(v.type==="document"){let x=v.nodes.map(I=>E(I,this.helpers));await Promise.all(x)}else await E(v,this.helpers)}catch(x){throw this.handleError(x)}}}return this.processed=!0,this.stringify()}runOnRoot(v){this.result.lastPlugin=v;try{if(typeof v=="object"&&v.Once){if(this.result.root.type==="document"){let b=this.result.root.nodes.map(E=>v.Once(E,this.helpers));return m(b[0])?Promise.all(b):b}return v.Once(this.result.root,this.helpers)}else if(typeof v=="function")return v(this.result.root,this.result)}catch(b){throw this.handleError(b)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let v=this.result.opts,b=s;v.syntax&&(b=v.syntax.stringify),v.stringifier&&(b=v.stringifier),b.stringify&&(b=b.stringify);let x=new r(b,this.result.root,this.result.opts).generate();return this.result.css=x[0],this.result.map=x[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let v of this.plugins){let b=this.runOnRoot(v);if(m(b))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let v=this.result.root;for(;!v[e];)v[e]=!0,this.walkSync(v);if(this.listeners.OnceExit)if(v.type==="document")for(let b of v.nodes)this.visitSync(this.listeners.OnceExit,b);else this.visitSync(this.listeners.OnceExit,v)}return this.result}then(v,b){return this.async().then(v,b)}toString(){return this.css}visitSync(v,b){for(let[E,x]of v){this.result.lastPlugin=E;let I;try{I=x(b,this.helpers)}catch(N){throw this.handleError(N,b.proxyOf)}if(b.type!=="root"&&b.type!=="document"&&!b.parent)return!0;if(m(I))throw this.getAsyncError()}}visitTick(v){let b=v[v.length-1],{node:E,visitors:x}=b;if(E.type!=="root"&&E.type!=="document"&&!E.parent){v.pop();return}if(x.length>0&&b.visitorIndex<x.length){let[N,L]=x[b.visitorIndex];b.visitorIndex+=1,b.visitorIndex===x.length&&(b.visitors=[],b.visitorIndex=0),this.result.lastPlugin=N;try{return L(E.toProxy(),this.helpers)}catch(T){throw this.handleError(T,E)}}if(b.iterator!==0){let N=b.iterator,L;for(;L=E.nodes[E.indexes[N]];)if(E.indexes[N]+=1,!L[e]){L[e]=!0,v.push(g(L));return}b.iterator=0,delete E.indexes[N]}let I=b.events;for(;b.eventIndex<I.length;){let N=I[b.eventIndex];if(b.eventIndex+=1,N===f){E.nodes&&E.nodes.length&&(E[e]=!0,b.iterator=E.getIterator());return}else if(this.listeners[N]){b.visitors=this.listeners[N];return}}v.pop()}walkSync(v){v[e]=!0;let b=p(v);for(let E of b)if(E===f)v.nodes&&v.each(x=>{x[e]||this.walkSync(x)});else{let x=this.listeners[E];if(x&&this.visitSync(x,v.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return S.registerPostcss=C=>{w=C},br=S,S.default=S,c.registerLazyResult(S),a.registerLazyResult(S),br}var Sr,Mi;function Ba(){if(Mi)return Sr;Mi=1;let e=Vn(),t=Lt(),r=qn(),s=bs();const i=ys();class a{constructor(u,l,c){l=l.toString(),this.stringified=!1,this._processor=u,this._css=l,this._opts=c,this._map=void 0;let n,d=t;this.result=new i(this._processor,n,this._opts),this.result.css=l;let h=this;Object.defineProperty(this.result,"root",{get(){return h.root}});let f=new e(d,n,this._opts,l);if(f.isMap()){let[m,p]=f.generate();m&&(this.result.css=m),p&&(this.result.map=p)}else f.clearAnnotation(),this.result.css=f.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(u){return this.async().catch(u)}finally(u){return this.async().then(u,u)}sync(){if(this.error)throw this.error;return this.result}then(u,l){return this.async().then(u,l)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let u,l=s;try{u=l(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=u,u}get[Symbol.toStringTag](){return"NoWorkResult"}}return Sr=a,a.default=a,Sr}var Cr,Ni;function $a(){if(Ni)return Cr;Ni=1;let e=Ba(),t=Hn(),r=gs(),s=ot();class i{constructor(o=[]){this.version="8.4.38",this.plugins=this.normalize(o)}normalize(o){let u=[];for(let l of o)if(l.postcss===!0?l=l():l.postcss&&(l=l.postcss),typeof l=="object"&&Array.isArray(l.plugins))u=u.concat(l.plugins);else if(typeof l=="object"&&l.postcssPlugin)u.push(l);else if(typeof l=="function")u.push(l);else if(!(typeof l=="object"&&(l.parse||l.stringify)))throw new Error(l+" is not a PostCSS plugin");return u}process(o,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new e(this,o,u):new t(this,o,u)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return Cr=i,i.default=i,s.registerProcessor(i),r.registerProcessor(i),Cr}var Er,Oi;function Wa(){if(Oi)return Er;Oi=1;let e=Ut(),t=zn(),r=$t(),s=ws(),i=Bt(),a=ot(),o=vs();function u(l,c){if(Array.isArray(l))return l.map(m=>u(m));let h=l,{inputs:n}=h,d=$e(h,["inputs"]);if(n){c=[];for(let m of n){let p=se(P({},m),{__proto__:i.prototype});p.map&&(p.map=se(P({},p.map),{__proto__:t.prototype})),c.push(p)}}if(d.nodes&&(d.nodes=l.nodes.map(m=>u(m,c))),d.source){let f=d.source,{inputId:m}=f,p=$e(f,["inputId"]);d.source=p,m!=null&&(d.source.input=c[m])}if(d.type==="root")return new a(d);if(d.type==="decl")return new e(d);if(d.type==="rule")return new o(d);if(d.type==="comment")return new r(d);if(d.type==="atrule")return new s(d);throw new Error("Unknown node type: "+l.type)}return Er=u,u.default=u,Er}var xr,Ii;function za(){if(Ii)return xr;Ii=1;let e=ps(),t=Ut(),r=Hn(),s=Le(),i=$a(),a=Lt(),o=Wa(),u=gs(),l=jn(),c=$t(),n=ws(),d=ys(),h=Bt(),f=bs(),m=Gn(),p=vs(),g=ot(),y=Ft();function w(...S){return S.length===1&&Array.isArray(S[0])&&(S=S[0]),new i(S)}return w.plugin=function(C,v){let b=!1;function E(...I){console&&console.warn&&!b&&(b=!0,console.warn(C+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(C+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let N=v(...I);return N.postcssPlugin=C,N.postcssVersion=new i().version,N}let x;return Object.defineProperty(E,"postcss",{get(){return x||(x=E()),x}}),E.process=function(I,N,L){return w([E(L)]).process(I,N)},E},w.stringify=a,w.parse=f,w.fromJSON=o,w.list=m,w.comment=S=>new c(S),w.atRule=S=>new n(S),w.decl=S=>new t(S),w.rule=S=>new p(S),w.root=S=>new g(S),w.document=S=>new u(S),w.CssSyntaxError=e,w.Declaration=t,w.Container=s,w.Processor=i,w.Document=u,w.Comment=c,w.Warning=l,w.AtRule=n,w.Result=d,w.Input=h,w.Rule=p,w.Root=g,w.Node=y,r.registerPostcss(w),xr=w,w.default=w,xr}var Va=za();const X=Aa(Va);X.stringify;X.fromJSON;X.plugin;X.parse;X.list;X.document;X.comment;X.atRule;X.rule;X.decl;X.root;X.CssSyntaxError;X.Declaration;X.Container;X.Processor;X.Document;X.Comment;X.Warning;X.AtRule;X.Result;X.Input;X.Rule;X.Root;X.Node;const qa=["webview"],Di={script:"noscript",altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};function ja(e){let t=Di[e.tagName]?Di[e.tagName]:e.tagName;return t==="link"&&e.attributes._cssText&&(t="style"),t}function Wt(e,t){const r=t==null?void 0:t.stylesWithHoverClass.get(e);if(r)return r;let s=e;try{s=X([Ia,Da]).process(e).css}catch(i){console.warn("Failed to adapt css for replay",i)}return t==null||t.stylesWithHoverClass.set(e,s),s}function Ai(){return{stylesWithHoverClass:new Map}}function Ga(e,t,r,s){const i=[];for(const o of e.childNodes)o.type===F.Text&&i.push(o);const a=t.split("/* rr_split */");for(;a.length>1&&a.length>i.length;)a.splice(-2,2,a.slice(-2).join(""));for(let o=0;o<i.length;o++){const u=i[o],l=a[o];u&&l&&(u.textContent=r?Wt(l,s):l)}}function Ha(e,t,r,s){const{doc:i,hackCss:a,cache:o}=s;e.childNodes.length?Ga(e,r,a,o):(a&&(r=Wt(r,o)),t.appendChild(i.createTextNode(r)))}function Ya(e,t){var r;const{doc:s,hackCss:i,cache:a}=t;switch(e.type){case F.Document:return s.implementation.createDocument(null,"",null);case F.DocumentType:return s.implementation.createDocumentType(e.name||"html",e.publicId,e.systemId);case F.Element:{const o=ja(e);let u;e.isSVG?u=s.createElementNS("http://www.w3.org/2000/svg",o):(e.isCustom&&((r=s.defaultView)!=null&&r.customElements)&&!s.defaultView.customElements.get(e.tagName)&&!qa.includes(e.tagName)&&s.defaultView.customElements.define(e.tagName,class extends s.defaultView.HTMLElement{}),u=s.createElement(o));const l={};for(const c in e.attributes){if(!Object.prototype.hasOwnProperty.call(e.attributes,c))continue;let n=e.attributes[c];if(!(o==="option"&&c==="selected"&&n===!1)&&n!==null){if(n===!0&&(n=""),c.startsWith("rr_")){l[c]=n;continue}if(typeof n=="string"){if(o==="style"&&c==="_cssText"){Ha(e,u,n,t);continue}else if(o==="textarea"&&c==="value"){u.appendChild(s.createTextNode(n)),e.childNodes=[];continue}}try{if(e.isSVG&&c==="xlink:href")u.setAttributeNS("http://www.w3.org/1999/xlink",c,n.toString());else if(c==="onload"||c==="onclick"||c.substring(0,7)==="onmouse")u.setAttribute("_"+c,n.toString());else if(o==="meta"&&e.attributes["http-equiv"]==="Content-Security-Policy"&&c==="content"){u.setAttribute("csp-content",n.toString());continue}else o==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||o==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")||(o==="img"&&e.attributes.srcset&&e.attributes.rr_dataURL?u.setAttribute("rrweb-original-srcset",e.attributes.srcset):u.setAttribute(c,n.toString()))}catch(d){}}}for(const c in l){const n=l[c];if(o==="canvas"&&c==="rr_dataURL"){const d=s.createElement("img");d.onload=()=>{const h=u.getContext("2d");h&&h.drawImage(d,0,0,d.width,d.height)},d.src=n.toString(),u.RRNodeType&&(u.rr_dataURL=n.toString())}else if(o==="img"&&c==="rr_dataURL"){const d=u;d.currentSrc.startsWith("data:")||(d.setAttribute("rrweb-original-src",e.attributes.src),d.src=n.toString())}if(c==="rr_width")u.style.setProperty("width",n.toString());else if(c==="rr_height")u.style.setProperty("height",n.toString());else if(c==="rr_background_color")u.style.setProperty("background-color",n.toString());else if(c==="rr_mediaCurrentTime"&&typeof n=="number")u.currentTime=n;else if(c==="rr_mediaState")switch(n){case"played":u.play().catch(d=>console.warn("media playback error",d));break;case"paused":u.pause();break}else c==="rr_mediaPlaybackRate"&&typeof n=="number"?u.playbackRate=n:c==="rr_mediaMuted"&&typeof n=="boolean"?u.muted=n:c==="rr_mediaLoop"&&typeof n=="boolean"?u.loop=n:c==="rr_mediaVolume"&&typeof n=="number"?u.volume=n:c==="rr_open_mode"&&u.setAttribute("rr_open_mode",n)}if(e.isShadowHost)if(!u.shadowRoot)u.attachShadow({mode:"open"});else for(;u.shadowRoot.firstChild;)u.shadowRoot.removeChild(u.shadowRoot.firstChild);return u}case F.Text:return e.isStyle&&i?s.createTextNode(Wt(e.textContent,a)):s.createTextNode(e.textContent);case F.CDATA:return s.createCDATASection(e.textContent);case F.Comment:return s.createComment(e.textContent);default:return null}}function rt(e,t){const{doc:r,mirror:s,skipChild:i=!1,hackCss:a=!0,afterAppend:o,cache:u}=t;if(s.has(e.id)){const c=s.getNode(e.id),n=s.getMeta(c);if(sa(n,e))return s.getNode(e.id)}let l=Ya(e,{doc:r,hackCss:a,cache:u});if(!l)return null;if(e.rootId&&s.getNode(e.rootId)!==r&&s.replace(e.rootId,r),e.type===F.Document&&(r.close(),r.open(),e.compatMode==="BackCompat"&&e.childNodes&&e.childNodes[0].type!==F.DocumentType&&(e.childNodes[0].type===F.Element&&"xmlns"in e.childNodes[0].attributes&&e.childNodes[0].attributes.xmlns==="http://www.w3.org/1999/xhtml"?r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'):r.write('<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">')),l=r),s.add(l,e),(e.type===F.Document||e.type===F.Element)&&!i)for(const c of e.childNodes){const n=rt(c,{doc:r,mirror:s,skipChild:!1,hackCss:a,afterAppend:o,cache:u});if(!n){console.warn("Failed to rebuild",c);continue}if(c.isShadow&&hs(l)&&l.shadowRoot)l.shadowRoot.appendChild(n);else if(e.type===F.Document&&c.type==F.Element){const d=n;let h=null;d.childNodes.forEach(f=>{f.nodeName==="BODY"&&(h=f)}),h?(d.removeChild(h),l.appendChild(n),d.appendChild(h)):l.appendChild(n)}else l.appendChild(n);o&&o(n,c.id)}return l}function Ja(e,t){function r(s){t(s)}for(const s of e.getIds())e.has(s)&&r(e.getNode(s))}function Xa(e,t){const r=t.getMeta(e);if((r==null?void 0:r.type)!==F.Element)return;const s=e;for(const i in r.attributes){if(!(Object.prototype.hasOwnProperty.call(r.attributes,i)&&i.startsWith("rr_")))continue;const a=r.attributes[i];i==="rr_scrollLeft"&&(s.scrollLeft=a),i==="rr_scrollTop"&&(s.scrollTop=a)}}function Qa(e,t){const{doc:r,onVisit:s,hackCss:i=!0,afterAppend:a,cache:o,mirror:u=new fs}=t,l=rt(e,{doc:r,mirror:u,skipChild:!1,hackCss:i,afterAppend:a,cache:o});return Ja(u,c=>{s&&s(c),Xa(c,u)}),l}var Ka=Object.defineProperty,Za=(e,t,r)=>t in e?Ka(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A=(e,t,r)=>Za(e,typeof t!="symbol"?t+"":t,r),el=Object.defineProperty,tl=(e,t,r)=>t in e?el(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ti=(e,t,r)=>tl(e,typeof t!="symbol"?t+"":t,r);let rl=class{constructor(){Ti(this,"idNodeMap",new Map),Ti(this,"nodeMetaMap",new WeakMap)}getId(t){var r;if(!t)return-1;const s=(r=this.getMeta(t))==null?void 0:r.id;return s!=null?s:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(s=>this.removeNodeFromMap(s))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const s=r.id;this.idNodeMap.set(s,t),this.nodeMetaMap.set(t,r)}replace(t,r){const s=this.getNode(t);if(s){const i=this.nodeMetaMap.get(s);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function sl(){return new rl}function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nl(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),r}var mt={exports:{}},_i;function ol(){if(_i)return mt.exports;_i=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e}};return mt.exports=t(),mt.exports.createColors=t,mt.exports}const al={},ll=Object.freeze(Object.defineProperty({__proto__:null,default:al},Symbol.toStringTag,{value:"Module"})),ye=nl(ll);var Rr,ki;function Ss(){if(ki)return Rr;ki=1;let e=ol(),t=ye;class r extends Error{constructor(i,a,o,u,l,c){super(i),this.name="CssSyntaxError",this.reason=i,l&&(this.file=l),u&&(this.source=u),c&&(this.plugin=c),typeof a!="undefined"&&typeof o!="undefined"&&(typeof a=="number"?(this.line=a,this.column=o):(this.line=a.line,this.column=a.column,this.endLine=o.line,this.endColumn=o.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,r)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(i){if(!this.source)return"";let a=this.source;i==null&&(i=e.isColorSupported),t&&i&&(a=t(a));let o=a.split(/\r?\n/),u=Math.max(this.line-3,0),l=Math.min(this.line+2,o.length),c=String(l).length,n,d;if(i){let{bold:h,gray:f,red:m}=e.createColors(!0);n=p=>h(m(p)),d=p=>f(p)}else n=d=h=>h;return o.slice(u,l).map((h,f)=>{let m=u+1+f,p=" "+(" "+m).slice(-c)+" | ";if(m===this.line){let g=d(p.replace(/\d/g," "))+h.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+d(p)+h+`
 `+g+n("^")}return" "+d(p)+h}).join(`
`)}toString(){let i=this.showSourceCode();return i&&(i=`

`+i+`
`),this.name+": "+this.message+i}}return Rr=r,r.default=r,Rr}var gt={},Pi;function Cs(){return Pi||(Pi=1,gt.isClean=Symbol("isClean"),gt.my=Symbol("my")),gt}var Mr,Li;function Yn(){if(Li)return Mr;Li=1;const e={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function t(s){return s[0].toUpperCase()+s.slice(1)}class r{constructor(i){this.builder=i}atrule(i,a){let o="@"+i.name,u=i.params?this.rawValue(i,"params"):"";if(typeof i.raws.afterName!="undefined"?o+=i.raws.afterName:u&&(o+=" "),i.nodes)this.block(i,o+u);else{let l=(i.raws.between||"")+(a?";":"");this.builder(o+u+l,i)}}beforeAfter(i,a){let o;i.type==="decl"?o=this.raw(i,null,"beforeDecl"):i.type==="comment"?o=this.raw(i,null,"beforeComment"):a==="before"?o=this.raw(i,null,"beforeRule"):o=this.raw(i,null,"beforeClose");let u=i.parent,l=0;for(;u&&u.type!=="root";)l+=1,u=u.parent;if(o.includes(`
`)){let c=this.raw(i,null,"indent");if(c.length)for(let n=0;n<l;n++)o+=c}return o}block(i,a){let o=this.raw(i,"between","beforeOpen");this.builder(a+o+"{",i,"start");let u;i.nodes&&i.nodes.length?(this.body(i),u=this.raw(i,"after")):u=this.raw(i,"after","emptyBody"),u&&this.builder(u),this.builder("}",i,"end")}body(i){let a=i.nodes.length-1;for(;a>0&&i.nodes[a].type==="comment";)a-=1;let o=this.raw(i,"semicolon");for(let u=0;u<i.nodes.length;u++){let l=i.nodes[u],c=this.raw(l,"before");c&&this.builder(c),this.stringify(l,a!==u||o)}}comment(i){let a=this.raw(i,"left","commentLeft"),o=this.raw(i,"right","commentRight");this.builder("/*"+a+i.text+o+"*/",i)}decl(i,a){let o=this.raw(i,"between","colon"),u=i.prop+o+this.rawValue(i,"value");i.important&&(u+=i.raws.important||" !important"),a&&(u+=";"),this.builder(u,i)}document(i){this.body(i)}raw(i,a,o){let u;if(o||(o=a),a&&(u=i.raws[a],typeof u!="undefined"))return u;let l=i.parent;if(o==="before"&&(!l||l.type==="root"&&l.first===i||l&&l.type==="document"))return"";if(!l)return e[o];let c=i.root();if(c.rawCache||(c.rawCache={}),typeof c.rawCache[o]!="undefined")return c.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(i,o);{let n="raw"+t(o);this[n]?u=this[n](c,i):c.walk(d=>{if(u=d.raws[a],typeof u!="undefined")return!1})}return typeof u=="undefined"&&(u=e[o]),c.rawCache[o]=u,u}rawBeforeClose(i){let a;return i.walk(o=>{if(o.nodes&&o.nodes.length>0&&typeof o.raws.after!="undefined")return a=o.raws.after,a.includes(`
`)&&(a=a.replace(/[^\n]+$/,"")),!1}),a&&(a=a.replace(/\S/g,"")),a}rawBeforeComment(i,a){let o;return i.walkComments(u=>{if(typeof u.raws.before!="undefined")return o=u.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o=="undefined"?o=this.raw(a,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeDecl(i,a){let o;return i.walkDecls(u=>{if(typeof u.raws.before!="undefined")return o=u.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o=="undefined"?o=this.raw(a,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o}rawBeforeOpen(i){let a;return i.walk(o=>{if(o.type!=="decl"&&(a=o.raws.between,typeof a!="undefined"))return!1}),a}rawBeforeRule(i){let a;return i.walk(o=>{if(o.nodes&&(o.parent!==i||i.first!==o)&&typeof o.raws.before!="undefined")return a=o.raws.before,a.includes(`
`)&&(a=a.replace(/[^\n]+$/,"")),!1}),a&&(a=a.replace(/\S/g,"")),a}rawColon(i){let a;return i.walkDecls(o=>{if(typeof o.raws.between!="undefined")return a=o.raws.between.replace(/[^\s:]/g,""),!1}),a}rawEmptyBody(i){let a;return i.walk(o=>{if(o.nodes&&o.nodes.length===0&&(a=o.raws.after,typeof a!="undefined"))return!1}),a}rawIndent(i){if(i.raws.indent)return i.raws.indent;let a;return i.walk(o=>{let u=o.parent;if(u&&u!==i&&u.parent&&u.parent===i&&typeof o.raws.before!="undefined"){let l=o.raws.before.split(`
`);return a=l[l.length-1],a=a.replace(/\S/g,""),!1}}),a}rawSemicolon(i){let a;return i.walk(o=>{if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(a=o.raws.semicolon,typeof a!="undefined"))return!1}),a}rawValue(i,a){let o=i[a],u=i.raws[a];return u&&u.value===o?u.raw:o}root(i){this.body(i),i.raws.after&&this.builder(i.raws.after)}rule(i){this.block(i,this.rawValue(i,"selector")),i.raws.ownSemicolon&&this.builder(i.raws.ownSemicolon,i,"end")}stringify(i,a){if(!this[i.type])throw new Error("Unknown AST node type "+i.type+". Maybe you need to change PostCSS stringifier.");this[i.type](i,a)}}return Mr=r,r.default=r,Mr}var Nr,Fi;function zt(){if(Fi)return Nr;Fi=1;let e=Yn();function t(r,s){new e(s).stringify(r)}return Nr=t,t.default=t,Nr}var Or,Ui;function Vt(){if(Ui)return Or;Ui=1;let{isClean:e,my:t}=Cs(),r=Ss(),s=Yn(),i=zt();function a(u,l){let c=new u.constructor;for(let n in u){if(!Object.prototype.hasOwnProperty.call(u,n)||n==="proxyCache")continue;let d=u[n],h=typeof d;n==="parent"&&h==="object"?l&&(c[n]=l):n==="source"?c[n]=d:Array.isArray(d)?c[n]=d.map(f=>a(f,c)):(h==="object"&&d!==null&&(d=a(d)),c[n]=d)}return c}class o{constructor(l={}){this.raws={},this[e]=!1,this[t]=!0;for(let c in l)if(c==="nodes"){this.nodes=[];for(let n of l[c])typeof n.clone=="function"?this.append(n.clone()):this.append(n)}else this[c]=l[c]}addToError(l){if(l.postcssNode=this,l.stack&&this.source&&/\n\s{4}at /.test(l.stack)){let c=this.source;l.stack=l.stack.replace(/\n\s{4}at /,`$&${c.input.from}:${c.start.line}:${c.start.column}$&`)}return l}after(l){return this.parent.insertAfter(this,l),this}assign(l={}){for(let c in l)this[c]=l[c];return this}before(l){return this.parent.insertBefore(this,l),this}cleanRaws(l){delete this.raws.before,delete this.raws.after,l||delete this.raws.between}clone(l={}){let c=a(this);for(let n in l)c[n]=l[n];return c}cloneAfter(l={}){let c=this.clone(l);return this.parent.insertAfter(this,c),c}cloneBefore(l={}){let c=this.clone(l);return this.parent.insertBefore(this,c),c}error(l,c={}){if(this.source){let{end:n,start:d}=this.rangeBy(c);return this.source.input.error(l,{column:d.column,line:d.line},{column:n.column,line:n.line},c)}return new r(l)}getProxyProcessor(){return{get(l,c){return c==="proxyOf"?l:c==="root"?()=>l.root().toProxy():l[c]},set(l,c,n){return l[c]===n||(l[c]=n,(c==="prop"||c==="value"||c==="name"||c==="params"||c==="important"||c==="text")&&l.markDirty()),!0}}}markDirty(){if(this[e]){this[e]=!1;let l=this;for(;l=l.parent;)l[e]=!1}}next(){if(!this.parent)return;let l=this.parent.index(this);return this.parent.nodes[l+1]}positionBy(l,c){let n=this.source.start;if(l.index)n=this.positionInside(l.index,c);else if(l.word){c=this.toString();let d=c.indexOf(l.word);d!==-1&&(n=this.positionInside(d,c))}return n}positionInside(l,c){let n=c||this.toString(),d=this.source.start.column,h=this.source.start.line;for(let f=0;f<l;f++)n[f]===`
`?(d=1,h+=1):d+=1;return{column:d,line:h}}prev(){if(!this.parent)return;let l=this.parent.index(this);return this.parent.nodes[l-1]}rangeBy(l){let c={column:this.source.start.column,line:this.source.start.line},n=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:c.column+1,line:c.line};if(l.word){let d=this.toString(),h=d.indexOf(l.word);h!==-1&&(c=this.positionInside(h,d),n=this.positionInside(h+l.word.length,d))}else l.start?c={column:l.start.column,line:l.start.line}:l.index&&(c=this.positionInside(l.index)),l.end?n={column:l.end.column,line:l.end.line}:typeof l.endIndex=="number"?n=this.positionInside(l.endIndex):l.index&&(n=this.positionInside(l.index+1));return(n.line<c.line||n.line===c.line&&n.column<=c.column)&&(n={column:c.column+1,line:c.line}),{end:n,start:c}}raw(l,c){return new s().raw(this,l,c)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}replaceWith(...l){if(this.parent){let c=this,n=!1;for(let d of l)d===this?n=!0:n?(this.parent.insertAfter(c,d),c=d):this.parent.insertBefore(c,d);n||this.remove()}return this}root(){let l=this;for(;l.parent&&l.parent.type!=="document";)l=l.parent;return l}toJSON(l,c){let n={},d=c==null;c=c||new Map;let h=0;for(let f in this){if(!Object.prototype.hasOwnProperty.call(this,f)||f==="parent"||f==="proxyCache")continue;let m=this[f];if(Array.isArray(m))n[f]=m.map(p=>typeof p=="object"&&p.toJSON?p.toJSON(null,c):p);else if(typeof m=="object"&&m.toJSON)n[f]=m.toJSON(null,c);else if(f==="source"){let p=c.get(m.input);p==null&&(p=h,c.set(m.input,h),h++),n[f]={end:m.end,inputId:p,start:m.start}}else n[f]=m}return d&&(n.inputs=[...c.keys()].map(f=>f.toJSON())),n}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}toString(l=i){l.stringify&&(l=l.stringify);let c="";return l(this,n=>{c+=n}),c}warn(l,c,n){let d={node:this};for(let h in n)d[h]=n[h];return l.warn(c,d)}get proxyOf(){return this}}return Or=o,o.default=o,Or}var Ir,Bi;function qt(){if(Bi)return Ir;Bi=1;let e=Vt();class t extends e{constructor(s){s&&typeof s.value!="undefined"&&typeof s.value!="string"&&(s=se(P({},s),{value:String(s.value)})),super(s),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}return Ir=t,t.default=t,Ir}var Dr,$i;function ul(){if($i)return Dr;$i=1;let e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";return Dr={nanoid:(s=21)=>{let i="",a=s;for(;a--;)i+=e[Math.random()*64|0];return i},customAlphabet:(s,i=21)=>(a=i)=>{let o="",u=a;for(;u--;)o+=s[Math.random()*s.length|0];return o}},Dr}var Ar,Wi;function Jn(){if(Wi)return Ar;Wi=1;let{SourceMapConsumer:e,SourceMapGenerator:t}=ye,{existsSync:r,readFileSync:s}=ye,{dirname:i,join:a}=ye;function o(l){return Buffer?Buffer.from(l,"base64").toString():window.atob(l)}class u{constructor(c,n){if(n.map===!1)return;this.loadAnnotation(c),this.inline=this.startWith(this.annotation,"data:");let d=n.map?n.map.prev:void 0,h=this.loadMap(n.from,d);!this.mapFile&&n.from&&(this.mapFile=n.from),this.mapFile&&(this.root=i(this.mapFile)),h&&(this.text=h)}consumer(){return this.consumerCache||(this.consumerCache=new e(this.text)),this.consumerCache}decodeInline(c){let n=/^data:application\/json;charset=utf-?8;base64,/,d=/^data:application\/json;base64,/,h=/^data:application\/json;charset=utf-?8,/,f=/^data:application\/json,/;if(h.test(c)||f.test(c))return decodeURIComponent(c.substr(RegExp.lastMatch.length));if(n.test(c)||d.test(c))return o(c.substr(RegExp.lastMatch.length));let m=c.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+m)}getAnnotationURL(c){return c.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}isMap(c){return typeof c!="object"?!1:typeof c.mappings=="string"||typeof c._mappings=="string"||Array.isArray(c.sections)}loadAnnotation(c){let n=c.match(/\/\*\s*# sourceMappingURL=/gm);if(!n)return;let d=c.lastIndexOf(n.pop()),h=c.indexOf("*/",d);d>-1&&h>-1&&(this.annotation=this.getAnnotationURL(c.substring(d,h)))}loadFile(c){if(this.root=i(c),r(c))return this.mapFile=c,s(c,"utf-8").toString().trim()}loadMap(c,n){if(n===!1)return!1;if(n){if(typeof n=="string")return n;if(typeof n=="function"){let d=n(c);if(d){let h=this.loadFile(d);if(!h)throw new Error("Unable to load previous source map: "+d.toString());return h}}else{if(n instanceof e)return t.fromSourceMap(n).toString();if(n instanceof t)return n.toString();if(this.isMap(n))return JSON.stringify(n);throw new Error("Unsupported previous source map format: "+n.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let d=this.annotation;return c&&(d=a(i(c),d)),this.loadFile(d)}}}startWith(c,n){return c?c.substr(0,n.length)===n:!1}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}}return Ar=u,u.default=u,Ar}var Tr,zi;function jt(){if(zi)return Tr;zi=1;let{SourceMapConsumer:e,SourceMapGenerator:t}=ye,{fileURLToPath:r,pathToFileURL:s}=ye,{isAbsolute:i,resolve:a}=ye,{nanoid:o}=ul(),u=ye,l=Ss(),c=Jn(),n=Symbol("fromOffsetCache"),d=!!(e&&t),h=!!(a&&i);class f{constructor(p,g={}){if(p===null||typeof p=="undefined"||typeof p=="object"&&!p.toString)throw new Error(`PostCSS received ${p} instead of CSS string`);if(this.css=p.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,g.from&&(!h||/^\w+:\/\//.test(g.from)||i(g.from)?this.file=g.from:this.file=a(g.from)),h&&d){let y=new c(this.css,g);if(y.text){this.map=y;let w=y.consumer().file;!this.file&&w&&(this.file=this.mapResolve(w))}}this.file||(this.id="<input css "+o(6)+">"),this.map&&(this.map.file=this.from)}error(p,g,y,w={}){let S,C,v;if(g&&typeof g=="object"){let E=g,x=y;if(typeof E.offset=="number"){let I=this.fromOffset(E.offset);g=I.line,y=I.col}else g=E.line,y=E.column;if(typeof x.offset=="number"){let I=this.fromOffset(x.offset);C=I.line,v=I.col}else C=x.line,v=x.column}else if(!y){let E=this.fromOffset(g);g=E.line,y=E.col}let b=this.origin(g,y,C,v);return b?S=new l(p,b.endLine===void 0?b.line:{column:b.column,line:b.line},b.endLine===void 0?b.column:{column:b.endColumn,line:b.endLine},b.source,b.file,w.plugin):S=new l(p,C===void 0?g:{column:y,line:g},C===void 0?y:{column:v,line:C},this.css,this.file,w.plugin),S.input={column:y,endColumn:v,endLine:C,line:g,source:this.css},this.file&&(s&&(S.input.url=s(this.file).toString()),S.input.file=this.file),S}fromOffset(p){let g,y;if(this[n])y=this[n];else{let S=this.css.split(`
`);y=new Array(S.length);let C=0;for(let v=0,b=S.length;v<b;v++)y[v]=C,C+=S[v].length+1;this[n]=y}g=y[y.length-1];let w=0;if(p>=g)w=y.length-1;else{let S=y.length-2,C;for(;w<S;)if(C=w+(S-w>>1),p<y[C])S=C-1;else if(p>=y[C+1])w=C+1;else{w=C;break}}return{col:p-y[w]+1,line:w+1}}mapResolve(p){return/^\w+:\/\//.test(p)?p:a(this.map.consumer().sourceRoot||this.map.root||".",p)}origin(p,g,y,w){if(!this.map)return!1;let S=this.map.consumer(),C=S.originalPositionFor({column:g,line:p});if(!C.source)return!1;let v;typeof y=="number"&&(v=S.originalPositionFor({column:w,line:y}));let b;i(C.source)?b=s(C.source):b=new URL(C.source,this.map.consumer().sourceRoot||s(this.map.mapFile));let E={column:C.column,endColumn:v&&v.column,endLine:v&&v.line,line:C.line,url:b.toString()};if(b.protocol==="file:")if(r)E.file=r(b);else throw new Error("file: protocol is not available in this PostCSS build");let x=S.sourceContentFor(C.source);return x&&(E.source=x),E}toJSON(){let p={};for(let g of["hasBOM","css","file","id"])this[g]!=null&&(p[g]=this[g]);return this.map&&(p.map=P({},this.map),p.map.consumerCache&&(p.map.consumerCache=void 0)),p}get from(){return this.file||this.id}}return Tr=f,f.default=f,u&&u.registerInput&&u.registerInput(f),Tr}var _r,Vi;function Xn(){if(Vi)return _r;Vi=1;let{SourceMapConsumer:e,SourceMapGenerator:t}=ye,{dirname:r,relative:s,resolve:i,sep:a}=ye,{pathToFileURL:o}=ye,u=jt(),l=!!(e&&t),c=!!(r&&i&&s&&a);class n{constructor(h,f,m,p){this.stringify=h,this.mapOpts=m.map||{},this.root=f,this.opts=m,this.css=p,this.originalCSS=p,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}addAnnotation(){let h;this.isInline()?h="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?h=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?h=this.mapOpts.annotation(this.opts.to,this.root):h=this.outputFile()+".map";let f=`
`;this.css.includes(`\r
`)&&(f=`\r
`),this.css+=f+"/*# sourceMappingURL="+h+" */"}applyPrevMaps(){for(let h of this.previous()){let f=this.toUrl(this.path(h.file)),m=h.root||r(h.file),p;this.mapOpts.sourcesContent===!1?(p=new e(h.text),p.sourcesContent&&(p.sourcesContent=null)):p=h.consumer(),this.map.applySourceMap(p,f,this.toUrl(this.path(m)))}}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let h;for(let f=this.root.nodes.length-1;f>=0;f--)h=this.root.nodes[f],h.type==="comment"&&h.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(f)}else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))}generate(){if(this.clearAnnotation(),c&&l&&this.isMap())return this.generateMap();{let h="";return this.stringify(this.root,f=>{h+=f}),[h]}}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let h=this.previous()[0].consumer();h.file=this.outputFile(),this.map=t.fromSourceMap(h,{ignoreInvalidMapping:!0})}else this.map=new t({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}generateString(){this.css="",this.map=new t({file:this.outputFile(),ignoreInvalidMapping:!0});let h=1,f=1,m="<no source>",p={generated:{column:0,line:0},original:{column:0,line:0},source:""},g,y;this.stringify(this.root,(w,S,C)=>{if(this.css+=w,S&&C!=="end"&&(p.generated.line=h,p.generated.column=f-1,S.source&&S.source.start?(p.source=this.sourcePath(S),p.original.line=S.source.start.line,p.original.column=S.source.start.column-1,this.map.addMapping(p)):(p.source=m,p.original.line=1,p.original.column=0,this.map.addMapping(p))),g=w.match(/\n/g),g?(h+=g.length,y=w.lastIndexOf(`
`),f=w.length-y):f+=w.length,S&&C!=="start"){let v=S.parent||{raws:{}};(!(S.type==="decl"||S.type==="atrule"&&!S.nodes)||S!==v.last||v.raws.semicolon)&&(S.source&&S.source.end?(p.source=this.sourcePath(S),p.original.line=S.source.end.line,p.original.column=S.source.end.column-1,p.generated.line=h,p.generated.column=f-2,this.map.addMapping(p)):(p.source=m,p.original.line=1,p.original.column=0,p.generated.line=h,p.generated.column=f-1,this.map.addMapping(p)))}})}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(h=>h.annotation):!0}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let h=this.mapOpts.annotation;return typeof h!="undefined"&&h!==!0?!1:this.previous().length?this.previous().some(f=>f.inline):!0}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(h=>h.withContent()):!0}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}path(h){if(this.mapOpts.absolute||h.charCodeAt(0)===60||/^\w+:\/\//.test(h))return h;let f=this.memoizedPaths.get(h);if(f)return f;let m=this.opts.to?r(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(m=r(i(m,this.mapOpts.annotation)));let p=s(m,h);return this.memoizedPaths.set(h,p),p}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(h=>{if(h.source&&h.source.input.map){let f=h.source.input.map;this.previousMaps.includes(f)||this.previousMaps.push(f)}});else{let h=new u(this.originalCSS,this.opts);h.map&&this.previousMaps.push(h.map)}return this.previousMaps}setSourcesContent(){let h={};if(this.root)this.root.walk(f=>{if(f.source){let m=f.source.input.from;if(m&&!h[m]){h[m]=!0;let p=this.usesFileUrls?this.toFileUrl(m):this.toUrl(this.path(m));this.map.setSourceContent(p,f.source.input.css)}}});else if(this.css){let f=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(f,this.css)}}sourcePath(h){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(h.source.input.from):this.toUrl(this.path(h.source.input.from))}toBase64(h){return Buffer?Buffer.from(h).toString("base64"):window.btoa(unescape(encodeURIComponent(h)))}toFileUrl(h){let f=this.memoizedFileURLs.get(h);if(f)return f;if(o){let m=o(h).toString();return this.memoizedFileURLs.set(h,m),m}else throw new Error("`map.absolute` option is not available in this PostCSS build")}toUrl(h){let f=this.memoizedURLs.get(h);if(f)return f;a==="\\"&&(h=h.replace(/\\/g,"/"));let m=encodeURI(h).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(h,m),m}}return _r=n,_r}var kr,qi;function Gt(){if(qi)return kr;qi=1;let e=Vt();class t extends e{constructor(s){super(s),this.type="comment"}}return kr=t,t.default=t,kr}var Pr,ji;function Fe(){if(ji)return Pr;ji=1;let{isClean:e,my:t}=Cs(),r=qt(),s=Gt(),i=Vt(),a,o,u,l;function c(h){return h.map(f=>(f.nodes&&(f.nodes=c(f.nodes)),delete f.source,f))}function n(h){if(h[e]=!1,h.proxyOf.nodes)for(let f of h.proxyOf.nodes)n(f)}class d extends i{append(...f){for(let m of f){let p=this.normalize(m,this.last);for(let g of p)this.proxyOf.nodes.push(g)}return this.markDirty(),this}cleanRaws(f){if(super.cleanRaws(f),this.nodes)for(let m of this.nodes)m.cleanRaws(f)}each(f){if(!this.proxyOf.nodes)return;let m=this.getIterator(),p,g;for(;this.indexes[m]<this.proxyOf.nodes.length&&(p=this.indexes[m],g=f(this.proxyOf.nodes[p],p),g!==!1);)this.indexes[m]+=1;return delete this.indexes[m],g}every(f){return this.nodes.every(f)}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let f=this.lastEach;return this.indexes[f]=0,f}getProxyProcessor(){return{get(f,m){return m==="proxyOf"?f:f[m]?m==="each"||typeof m=="string"&&m.startsWith("walk")?(...p)=>f[m](...p.map(g=>typeof g=="function"?(y,w)=>g(y.toProxy(),w):g)):m==="every"||m==="some"?p=>f[m]((g,...y)=>p(g.toProxy(),...y)):m==="root"?()=>f.root().toProxy():m==="nodes"?f.nodes.map(p=>p.toProxy()):m==="first"||m==="last"?f[m].toProxy():f[m]:f[m]},set(f,m,p){return f[m]===p||(f[m]=p,(m==="name"||m==="params"||m==="selector")&&f.markDirty()),!0}}}index(f){return typeof f=="number"?f:(f.proxyOf&&(f=f.proxyOf),this.proxyOf.nodes.indexOf(f))}insertAfter(f,m){let p=this.index(f),g=this.normalize(m,this.proxyOf.nodes[p]).reverse();p=this.index(f);for(let w of g)this.proxyOf.nodes.splice(p+1,0,w);let y;for(let w in this.indexes)y=this.indexes[w],p<y&&(this.indexes[w]=y+g.length);return this.markDirty(),this}insertBefore(f,m){let p=this.index(f),g=p===0?"prepend":!1,y=this.normalize(m,this.proxyOf.nodes[p],g).reverse();p=this.index(f);for(let S of y)this.proxyOf.nodes.splice(p,0,S);let w;for(let S in this.indexes)w=this.indexes[S],p<=w&&(this.indexes[S]=w+y.length);return this.markDirty(),this}normalize(f,m){if(typeof f=="string")f=c(a(f).nodes);else if(typeof f=="undefined")f=[];else if(Array.isArray(f)){f=f.slice(0);for(let g of f)g.parent&&g.parent.removeChild(g,"ignore")}else if(f.type==="root"&&this.type!=="document"){f=f.nodes.slice(0);for(let g of f)g.parent&&g.parent.removeChild(g,"ignore")}else if(f.type)f=[f];else if(f.prop){if(typeof f.value=="undefined")throw new Error("Value field is missed in node creation");typeof f.value!="string"&&(f.value=String(f.value)),f=[new r(f)]}else if(f.selector)f=[new o(f)];else if(f.name)f=[new u(f)];else if(f.text)f=[new s(f)];else throw new Error("Unknown node type in node creation");return f.map(g=>(g[t]||d.rebuild(g),g=g.proxyOf,g.parent&&g.parent.removeChild(g),g[e]&&n(g),typeof g.raws.before=="undefined"&&m&&typeof m.raws.before!="undefined"&&(g.raws.before=m.raws.before.replace(/\S/g,"")),g.parent=this.proxyOf,g))}prepend(...f){f=f.reverse();for(let m of f){let p=this.normalize(m,this.first,"prepend").reverse();for(let g of p)this.proxyOf.nodes.unshift(g);for(let g in this.indexes)this.indexes[g]=this.indexes[g]+p.length}return this.markDirty(),this}push(f){return f.parent=this,this.proxyOf.nodes.push(f),this}removeAll(){for(let f of this.proxyOf.nodes)f.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}removeChild(f){f=this.index(f),this.proxyOf.nodes[f].parent=void 0,this.proxyOf.nodes.splice(f,1);let m;for(let p in this.indexes)m=this.indexes[p],m>=f&&(this.indexes[p]=m-1);return this.markDirty(),this}replaceValues(f,m,p){return p||(p=m,m={}),this.walkDecls(g=>{m.props&&!m.props.includes(g.prop)||m.fast&&!g.value.includes(m.fast)||(g.value=g.value.replace(f,p))}),this.markDirty(),this}some(f){return this.nodes.some(f)}walk(f){return this.each((m,p)=>{let g;try{g=f(m,p)}catch(y){throw m.addToError(y)}return g!==!1&&m.walk&&(g=m.walk(f)),g})}walkAtRules(f,m){return m?f instanceof RegExp?this.walk((p,g)=>{if(p.type==="atrule"&&f.test(p.name))return m(p,g)}):this.walk((p,g)=>{if(p.type==="atrule"&&p.name===f)return m(p,g)}):(m=f,this.walk((p,g)=>{if(p.type==="atrule")return m(p,g)}))}walkComments(f){return this.walk((m,p)=>{if(m.type==="comment")return f(m,p)})}walkDecls(f,m){return m?f instanceof RegExp?this.walk((p,g)=>{if(p.type==="decl"&&f.test(p.prop))return m(p,g)}):this.walk((p,g)=>{if(p.type==="decl"&&p.prop===f)return m(p,g)}):(m=f,this.walk((p,g)=>{if(p.type==="decl")return m(p,g)}))}walkRules(f,m){return m?f instanceof RegExp?this.walk((p,g)=>{if(p.type==="rule"&&f.test(p.selector))return m(p,g)}):this.walk((p,g)=>{if(p.type==="rule"&&p.selector===f)return m(p,g)}):(m=f,this.walk((p,g)=>{if(p.type==="rule")return m(p,g)}))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}return d.registerParse=h=>{a=h},d.registerRule=h=>{o=h},d.registerAtRule=h=>{u=h},d.registerRoot=h=>{l=h},Pr=d,d.default=d,d.rebuild=h=>{h.type==="atrule"?Object.setPrototypeOf(h,u.prototype):h.type==="rule"?Object.setPrototypeOf(h,o.prototype):h.type==="decl"?Object.setPrototypeOf(h,r.prototype):h.type==="comment"?Object.setPrototypeOf(h,s.prototype):h.type==="root"&&Object.setPrototypeOf(h,l.prototype),h[t]=!0,h.nodes&&h.nodes.forEach(f=>{d.rebuild(f)})},Pr}var Lr,Gi;function Es(){if(Gi)return Lr;Gi=1;let e=Fe(),t,r;class s extends e{constructor(a){super(P({type:"document"},a)),this.nodes||(this.nodes=[])}toResult(a={}){return new t(new r,this,a).stringify()}}return s.registerLazyResult=i=>{t=i},s.registerProcessor=i=>{r=i},Lr=s,s.default=s,Lr}var Fr,Hi;function Qn(){if(Hi)return Fr;Hi=1;let e={};return Fr=function(r){e[r]||(e[r]=!0,typeof console!="undefined"&&console.warn&&console.warn(r))},Fr}var Ur,Yi;function Kn(){if(Yi)return Ur;Yi=1;class e{constructor(r,s={}){if(this.type="warning",this.text=r,s.node&&s.node.source){let i=s.node.rangeBy(s);this.line=i.start.line,this.column=i.start.column,this.endLine=i.end.line,this.endColumn=i.end.column}for(let i in s)this[i]=s[i]}toString(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}return Ur=e,e.default=e,Ur}var Br,Ji;function xs(){if(Ji)return Br;Ji=1;let e=Kn();class t{constructor(s,i,a){this.processor=s,this.messages=[],this.root=i,this.opts=a,this.css=void 0,this.map=void 0}toString(){return this.css}warn(s,i={}){i.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(i.plugin=this.lastPlugin.postcssPlugin);let a=new e(s,i);return this.messages.push(a),a}warnings(){return this.messages.filter(s=>s.type==="warning")}get content(){return this.css}}return Br=t,t.default=t,Br}var $r,Xi;function cl(){if(Xi)return $r;Xi=1;const e=39,t=34,r=92,s=47,i=10,a=32,o=12,u=9,l=13,c=91,n=93,d=40,h=41,f=123,m=125,p=59,g=42,y=58,w=64,S=/[\t\n\f\r "#'()/;[\\\]{}]/g,C=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,v=/.[\r\n"'(/\\]/,b=/[\da-f]/i;return $r=function(x,I={}){let N=x.css.valueOf(),L=I.ignoreErrors,T,R,U,ue,te,k,G,ne,j,H,Se=N.length,O=0,he=[],fe=[];function Be(){return O}function Ce(re){throw x.error("Unclosed "+re,O)}function de(){return fe.length===0&&O>=Se}function pe(re){if(fe.length)return fe.pop();if(O>=Se)return;let B=re?re.ignoreUnclosed:!1;switch(T=N.charCodeAt(O),T){case i:case a:case u:case l:case o:{R=O;do R+=1,T=N.charCodeAt(R);while(T===a||T===i||T===u||T===l||T===o);H=["space",N.slice(O,R)],O=R-1;break}case c:case n:case f:case m:case y:case p:case h:{let ie=String.fromCharCode(T);H=[ie,ie,O];break}case d:{if(ne=he.length?he.pop()[1]:"",j=N.charCodeAt(O+1),ne==="url"&&j!==e&&j!==t&&j!==a&&j!==i&&j!==u&&j!==o&&j!==l){R=O;do{if(k=!1,R=N.indexOf(")",R+1),R===-1)if(L||B){R=O;break}else Ce("bracket");for(G=R;N.charCodeAt(G-1)===r;)G-=1,k=!k}while(k);H=["brackets",N.slice(O,R+1),O,R],O=R}else R=N.indexOf(")",O+1),ue=N.slice(O,R+1),R===-1||v.test(ue)?H=["(","(",O]:(H=["brackets",ue,O,R],O=R);break}case e:case t:{U=T===e?"'":'"',R=O;do{if(k=!1,R=N.indexOf(U,R+1),R===-1)if(L||B){R=O+1;break}else Ce("string");for(G=R;N.charCodeAt(G-1)===r;)G-=1,k=!k}while(k);H=["string",N.slice(O,R+1),O,R],O=R;break}case w:{S.lastIndex=O+1,S.test(N),S.lastIndex===0?R=N.length-1:R=S.lastIndex-2,H=["at-word",N.slice(O,R+1),O,R],O=R;break}case r:{for(R=O,te=!0;N.charCodeAt(R+1)===r;)R+=1,te=!te;if(T=N.charCodeAt(R+1),te&&T!==s&&T!==a&&T!==i&&T!==u&&T!==l&&T!==o&&(R+=1,b.test(N.charAt(R)))){for(;b.test(N.charAt(R+1));)R+=1;N.charCodeAt(R+1)===a&&(R+=1)}H=["word",N.slice(O,R+1),O,R],O=R;break}default:{T===s&&N.charCodeAt(O+1)===g?(R=N.indexOf("*/",O+2)+1,R===0&&(L||B?R=N.length:Ce("comment")),H=["comment",N.slice(O,R+1),O,R],O=R):(C.lastIndex=O+1,C.test(N),C.lastIndex===0?R=N.length-1:R=C.lastIndex-2,H=["word",N.slice(O,R+1),O,R],he.push(H),O=R);break}}return O++,H}function ke(re){fe.push(re)}return{back:ke,endOfFile:de,nextToken:pe,position:Be}},$r}var Wr,Qi;function Rs(){if(Qi)return Wr;Qi=1;let e=Fe();class t extends e{constructor(s){super(s),this.type="atrule"}append(...s){return this.proxyOf.nodes||(this.nodes=[]),super.append(...s)}prepend(...s){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...s)}}return Wr=t,t.default=t,e.registerAtRule(t),Wr}var zr,Ki;function at(){if(Ki)return zr;Ki=1;let e=Fe(),t,r;class s extends e{constructor(a){super(a),this.type="root",this.nodes||(this.nodes=[])}normalize(a,o,u){let l=super.normalize(a);if(o){if(u==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(let c of l)c.raws.before=o.raws.before}return l}removeChild(a,o){let u=this.index(a);return!o&&u===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[u].raws.before),super.removeChild(a)}toResult(a={}){return new t(new r,this,a).stringify()}}return s.registerLazyResult=i=>{t=i},s.registerProcessor=i=>{r=i},zr=s,s.default=s,e.registerRoot(s),zr}var Vr,Zi;function Zn(){if(Zi)return Vr;Zi=1;let e={comma(t){return e.split(t,[","],!0)},space(t){let r=[" ",`
`,"	"];return e.split(t,r)},split(t,r,s){let i=[],a="",o=!1,u=0,l=!1,c="",n=!1;for(let d of t)n?n=!1:d==="\\"?n=!0:l?d===c&&(l=!1):d==='"'||d==="'"?(l=!0,c=d):d==="("?u+=1:d===")"?u>0&&(u-=1):u===0&&r.includes(d)&&(o=!0),o?(a!==""&&i.push(a.trim()),a="",o=!1):a+=d;return(s||a!=="")&&i.push(a.trim()),i}};return Vr=e,e.default=e,Vr}var qr,en;function Ms(){if(en)return qr;en=1;let e=Fe(),t=Zn();class r extends e{constructor(i){super(i),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return t.comma(this.selector)}set selectors(i){let a=this.selector?this.selector.match(/,\s*/):null,o=a?a[0]:","+this.raw("between","beforeOpen");this.selector=i.join(o)}}return qr=r,r.default=r,e.registerRule(r),qr}var jr,tn;function hl(){if(tn)return jr;tn=1;let e=qt(),t=cl(),r=Gt(),s=Rs(),i=at(),a=Ms();const o={empty:!0,space:!0};function u(c){for(let n=c.length-1;n>=0;n--){let d=c[n],h=d[3]||d[2];if(h)return h}}class l{constructor(n){this.input=n,this.root=new i,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:n,start:{column:1,line:1,offset:0}}}atrule(n){let d=new s;d.name=n[1].slice(1),d.name===""&&this.unnamedAtrule(d,n),this.init(d,n[2]);let h,f,m,p=!1,g=!1,y=[],w=[];for(;!this.tokenizer.endOfFile();){if(n=this.tokenizer.nextToken(),h=n[0],h==="("||h==="["?w.push(h==="("?")":"]"):h==="{"&&w.length>0?w.push("}"):h===w[w.length-1]&&w.pop(),w.length===0)if(h===";"){d.source.end=this.getPosition(n[2]),d.source.end.offset++,this.semicolon=!0;break}else if(h==="{"){g=!0;break}else if(h==="}"){if(y.length>0){for(m=y.length-1,f=y[m];f&&f[0]==="space";)f=y[--m];f&&(d.source.end=this.getPosition(f[3]||f[2]),d.source.end.offset++)}this.end(n);break}else y.push(n);else y.push(n);if(this.tokenizer.endOfFile()){p=!0;break}}d.raws.between=this.spacesAndCommentsFromEnd(y),y.length?(d.raws.afterName=this.spacesAndCommentsFromStart(y),this.raw(d,"params",y),p&&(n=y[y.length-1],d.source.end=this.getPosition(n[3]||n[2]),d.source.end.offset++,this.spaces=d.raws.between,d.raws.between="")):(d.raws.afterName="",d.params=""),g&&(d.nodes=[],this.current=d)}checkMissedSemicolon(n){let d=this.colon(n);if(d===!1)return;let h=0,f;for(let m=d-1;m>=0&&(f=n[m],!(f[0]!=="space"&&(h+=1,h===2)));m--);throw this.input.error("Missed semicolon",f[0]==="word"?f[3]+1:f[2])}colon(n){let d=0,h,f,m;for(let[p,g]of n.entries()){if(h=g,f=h[0],f==="("&&(d+=1),f===")"&&(d-=1),d===0&&f===":")if(!m)this.doubleColon(h);else{if(m[0]==="word"&&m[1]==="progid")continue;return p}m=h}return!1}comment(n){let d=new r;this.init(d,n[2]),d.source.end=this.getPosition(n[3]||n[2]),d.source.end.offset++;let h=n[1].slice(2,-2);if(/^\s*$/.test(h))d.text="",d.raws.left=h,d.raws.right="";else{let f=h.match(/^(\s*)([^]*\S)(\s*)$/);d.text=f[2],d.raws.left=f[1],d.raws.right=f[3]}}createTokenizer(){this.tokenizer=t(this.input)}decl(n,d){let h=new e;this.init(h,n[0][2]);let f=n[n.length-1];for(f[0]===";"&&(this.semicolon=!0,n.pop()),h.source.end=this.getPosition(f[3]||f[2]||u(n)),h.source.end.offset++;n[0][0]!=="word";)n.length===1&&this.unknownWord(n),h.raws.before+=n.shift()[1];for(h.source.start=this.getPosition(n[0][2]),h.prop="";n.length;){let w=n[0][0];if(w===":"||w==="space"||w==="comment")break;h.prop+=n.shift()[1]}h.raws.between="";let m;for(;n.length;)if(m=n.shift(),m[0]===":"){h.raws.between+=m[1];break}else m[0]==="word"&&/\w/.test(m[1])&&this.unknownWord([m]),h.raws.between+=m[1];(h.prop[0]==="_"||h.prop[0]==="*")&&(h.raws.before+=h.prop[0],h.prop=h.prop.slice(1));let p=[],g;for(;n.length&&(g=n[0][0],!(g!=="space"&&g!=="comment"));)p.push(n.shift());this.precheckMissedSemicolon(n);for(let w=n.length-1;w>=0;w--){if(m=n[w],m[1].toLowerCase()==="!important"){h.important=!0;let S=this.stringFrom(n,w);S=this.spacesFromEnd(n)+S,S!==" !important"&&(h.raws.important=S);break}else if(m[1].toLowerCase()==="important"){let S=n.slice(0),C="";for(let v=w;v>0;v--){let b=S[v][0];if(C.trim().indexOf("!")===0&&b!=="space")break;C=S.pop()[1]+C}C.trim().indexOf("!")===0&&(h.important=!0,h.raws.important=C,n=S)}if(m[0]!=="space"&&m[0]!=="comment")break}n.some(w=>w[0]!=="space"&&w[0]!=="comment")&&(h.raws.between+=p.map(w=>w[1]).join(""),p=[]),this.raw(h,"value",p.concat(n),d),h.value.includes(":")&&!d&&this.checkMissedSemicolon(n)}doubleColon(n){throw this.input.error("Double colon",{offset:n[2]},{offset:n[2]+n[1].length})}emptyRule(n){let d=new a;this.init(d,n[2]),d.selector="",d.raws.between="",this.current=d}end(n){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(n[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(n)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())}freeSemicolon(n){if(this.spaces+=n[1],this.current.nodes){let d=this.current.nodes[this.current.nodes.length-1];d&&d.type==="rule"&&!d.raws.ownSemicolon&&(d.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(n){let d=this.input.fromOffset(n);return{column:d.col,line:d.line,offset:n}}init(n,d){this.current.push(n),n.source={input:this.input,start:this.getPosition(d)},n.raws.before=this.spaces,this.spaces="",n.type!=="comment"&&(this.semicolon=!1)}other(n){let d=!1,h=null,f=!1,m=null,p=[],g=n[1].startsWith("--"),y=[],w=n;for(;w;){if(h=w[0],y.push(w),h==="("||h==="[")m||(m=w),p.push(h==="("?")":"]");else if(g&&f&&h==="{")m||(m=w),p.push("}");else if(p.length===0)if(h===";")if(f){this.decl(y,g);return}else break;else if(h==="{"){this.rule(y);return}else if(h==="}"){this.tokenizer.back(y.pop()),d=!0;break}else h===":"&&(f=!0);else h===p[p.length-1]&&(p.pop(),p.length===0&&(m=null));w=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(d=!0),p.length>0&&this.unclosedBracket(m),d&&f){if(!g)for(;y.length&&(w=y[y.length-1][0],!(w!=="space"&&w!=="comment"));)this.tokenizer.back(y.pop());this.decl(y,g)}else this.unknownWord(y)}parse(){let n;for(;!this.tokenizer.endOfFile();)switch(n=this.tokenizer.nextToken(),n[0]){case"space":this.spaces+=n[1];break;case";":this.freeSemicolon(n);break;case"}":this.end(n);break;case"comment":this.comment(n);break;case"at-word":this.atrule(n);break;case"{":this.emptyRule(n);break;default:this.other(n);break}this.endFile()}precheckMissedSemicolon(){}raw(n,d,h,f){let m,p,g=h.length,y="",w=!0,S,C;for(let v=0;v<g;v+=1)m=h[v],p=m[0],p==="space"&&v===g-1&&!f?w=!1:p==="comment"?(C=h[v-1]?h[v-1][0]:"empty",S=h[v+1]?h[v+1][0]:"empty",!o[C]&&!o[S]?y.slice(-1)===","?w=!1:y+=m[1]:w=!1):y+=m[1];if(!w){let v=h.reduce((b,E)=>b+E[1],"");n.raws[d]={raw:v,value:y}}n[d]=y}rule(n){n.pop();let d=new a;this.init(d,n[0][2]),d.raws.between=this.spacesAndCommentsFromEnd(n),this.raw(d,"selector",n),this.current=d}spacesAndCommentsFromEnd(n){let d,h="";for(;n.length&&(d=n[n.length-1][0],!(d!=="space"&&d!=="comment"));)h=n.pop()[1]+h;return h}spacesAndCommentsFromStart(n){let d,h="";for(;n.length&&(d=n[0][0],!(d!=="space"&&d!=="comment"));)h+=n.shift()[1];return h}spacesFromEnd(n){let d,h="";for(;n.length&&(d=n[n.length-1][0],d==="space");)h=n.pop()[1]+h;return h}stringFrom(n,d){let h="";for(let f=d;f<n.length;f++)h+=n[f][1];return n.splice(d,n.length-d),h}unclosedBlock(){let n=this.current.source.start;throw this.input.error("Unclosed block",n.line,n.column)}unclosedBracket(n){throw this.input.error("Unclosed bracket",{offset:n[2]},{offset:n[2]+1})}unexpectedClose(n){throw this.input.error("Unexpected }",{offset:n[2]},{offset:n[2]+1})}unknownWord(n){throw this.input.error("Unknown word",{offset:n[0][2]},{offset:n[0][2]+n[0][1].length})}unnamedAtrule(n,d){throw this.input.error("At-rule without name",{offset:d[2]},{offset:d[2]+d[1].length})}}return jr=l,jr}var Gr,rn;function Ns(){if(rn)return Gr;rn=1;let e=Fe(),t=hl(),r=jt();function s(i,a){let o=new r(i,a),u=new t(o);try{u.parse()}catch(l){throw l}return u.root}return Gr=s,s.default=s,e.registerParse(s),Gr}var Hr,sn;function eo(){if(sn)return Hr;sn=1;let{isClean:e,my:t}=Cs(),r=Xn(),s=zt(),i=Fe(),a=Es(),o=Qn(),u=xs(),l=Ns(),c=at();const n={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},d={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},h={Once:!0,postcssPlugin:!0,prepare:!0},f=0;function m(C){return typeof C=="object"&&typeof C.then=="function"}function p(C){let v=!1,b=n[C.type];return C.type==="decl"?v=C.prop.toLowerCase():C.type==="atrule"&&(v=C.name.toLowerCase()),v&&C.append?[b,b+"-"+v,f,b+"Exit",b+"Exit-"+v]:v?[b,b+"-"+v,b+"Exit",b+"Exit-"+v]:C.append?[b,f,b+"Exit"]:[b,b+"Exit"]}function g(C){let v;return C.type==="document"?v=["Document",f,"DocumentExit"]:C.type==="root"?v=["Root",f,"RootExit"]:v=p(C),{eventIndex:0,events:v,iterator:0,node:C,visitorIndex:0,visitors:[]}}function y(C){return C[e]=!1,C.nodes&&C.nodes.forEach(v=>y(v)),C}let w={};class S{constructor(v,b,E){this.stringified=!1,this.processed=!1;let x;if(typeof b=="object"&&b!==null&&(b.type==="root"||b.type==="document"))x=y(b);else if(b instanceof S||b instanceof u)x=y(b.root),b.map&&(typeof E.map=="undefined"&&(E.map={}),E.map.inline||(E.map.inline=!1),E.map.prev=b.map);else{let I=l;E.syntax&&(I=E.syntax.parse),E.parser&&(I=E.parser),I.parse&&(I=I.parse);try{x=I(b,E)}catch(N){this.processed=!0,this.error=N}x&&!x[t]&&i.rebuild(x)}this.result=new u(v,x,E),this.helpers=se(P({},w),{postcss:w,result:this.result}),this.plugins=this.processor.plugins.map(I=>typeof I=="object"&&I.prepare?P(P({},I),I.prepare(this.result)):I)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(v,b){let E=this.result.lastPlugin;try{b&&b.addToError(v),this.error=v,v.name==="CssSyntaxError"&&!v.plugin?(v.plugin=E.postcssPlugin,v.setMessage()):E.postcssVersion}catch(x){console&&console.error&&console.error(x)}return v}prepareVisitors(){this.listeners={};let v=(b,E,x)=>{this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push([b,x])};for(let b of this.plugins)if(typeof b=="object")for(let E in b){if(!d[E]&&/^[A-Z]/.test(E))throw new Error(`Unknown event ${E} in ${b.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!h[E])if(typeof b[E]=="object")for(let x in b[E])x==="*"?v(b,E,b[E][x]):v(b,E+"-"+x.toLowerCase(),b[E][x]);else typeof b[E]=="function"&&v(b,E,b[E])}this.hasListener=Object.keys(this.listeners).length>0}async runAsync(){this.plugin=0;for(let v=0;v<this.plugins.length;v++){let b=this.plugins[v],E=this.runOnRoot(b);if(m(E))try{await E}catch(x){throw this.handleError(x)}}if(this.prepareVisitors(),this.hasListener){let v=this.result.root;for(;!v[e];){v[e]=!0;let b=[g(v)];for(;b.length>0;){let E=this.visitTick(b);if(m(E))try{await E}catch(x){let I=b[b.length-1].node;throw this.handleError(x,I)}}}if(this.listeners.OnceExit)for(let[b,E]of this.listeners.OnceExit){this.result.lastPlugin=b;try{if(v.type==="document"){let x=v.nodes.map(I=>E(I,this.helpers));await Promise.all(x)}else await E(v,this.helpers)}catch(x){throw this.handleError(x)}}}return this.processed=!0,this.stringify()}runOnRoot(v){this.result.lastPlugin=v;try{if(typeof v=="object"&&v.Once){if(this.result.root.type==="document"){let b=this.result.root.nodes.map(E=>v.Once(E,this.helpers));return m(b[0])?Promise.all(b):b}return v.Once(this.result.root,this.helpers)}else if(typeof v=="function")return v(this.result.root,this.result)}catch(b){throw this.handleError(b)}}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let v=this.result.opts,b=s;v.syntax&&(b=v.syntax.stringify),v.stringifier&&(b=v.stringifier),b.stringify&&(b=b.stringify);let x=new r(b,this.result.root,this.result.opts).generate();return this.result.css=x[0],this.result.map=x[1],this.result}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let v of this.plugins){let b=this.runOnRoot(v);if(m(b))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let v=this.result.root;for(;!v[e];)v[e]=!0,this.walkSync(v);if(this.listeners.OnceExit)if(v.type==="document")for(let b of v.nodes)this.visitSync(this.listeners.OnceExit,b);else this.visitSync(this.listeners.OnceExit,v)}return this.result}then(v,b){return this.async().then(v,b)}toString(){return this.css}visitSync(v,b){for(let[E,x]of v){this.result.lastPlugin=E;let I;try{I=x(b,this.helpers)}catch(N){throw this.handleError(N,b.proxyOf)}if(b.type!=="root"&&b.type!=="document"&&!b.parent)return!0;if(m(I))throw this.getAsyncError()}}visitTick(v){let b=v[v.length-1],{node:E,visitors:x}=b;if(E.type!=="root"&&E.type!=="document"&&!E.parent){v.pop();return}if(x.length>0&&b.visitorIndex<x.length){let[N,L]=x[b.visitorIndex];b.visitorIndex+=1,b.visitorIndex===x.length&&(b.visitors=[],b.visitorIndex=0),this.result.lastPlugin=N;try{return L(E.toProxy(),this.helpers)}catch(T){throw this.handleError(T,E)}}if(b.iterator!==0){let N=b.iterator,L;for(;L=E.nodes[E.indexes[N]];)if(E.indexes[N]+=1,!L[e]){L[e]=!0,v.push(g(L));return}b.iterator=0,delete E.indexes[N]}let I=b.events;for(;b.eventIndex<I.length;){let N=I[b.eventIndex];if(b.eventIndex+=1,N===f){E.nodes&&E.nodes.length&&(E[e]=!0,b.iterator=E.getIterator());return}else if(this.listeners[N]){b.visitors=this.listeners[N];return}}v.pop()}walkSync(v){v[e]=!0;let b=p(v);for(let E of b)if(E===f)v.nodes&&v.each(x=>{x[e]||this.walkSync(x)});else{let x=this.listeners[E];if(x&&this.visitSync(x,v.toProxy()))return}}warnings(){return this.sync().warnings()}get content(){return this.stringify().content}get css(){return this.stringify().css}get map(){return this.stringify().map}get messages(){return this.sync().messages}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){return this.sync().root}get[Symbol.toStringTag](){return"LazyResult"}}return S.registerPostcss=C=>{w=C},Hr=S,S.default=S,c.registerLazyResult(S),a.registerLazyResult(S),Hr}var Yr,nn;function fl(){if(nn)return Yr;nn=1;let e=Xn(),t=zt(),r=Qn(),s=Ns();const i=xs();class a{constructor(u,l,c){l=l.toString(),this.stringified=!1,this._processor=u,this._css=l,this._opts=c,this._map=void 0;let n,d=t;this.result=new i(this._processor,n,this._opts),this.result.css=l;let h=this;Object.defineProperty(this.result,"root",{get(){return h.root}});let f=new e(d,n,this._opts,l);if(f.isMap()){let[m,p]=f.generate();m&&(this.result.css=m),p&&(this.result.map=p)}else f.clearAnnotation(),this.result.css=f.css}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}catch(u){return this.async().catch(u)}finally(u){return this.async().then(u,u)}sync(){if(this.error)throw this.error;return this.result}then(u,l){return this.async().then(u,l)}toString(){return this._css}warnings(){return[]}get content(){return this.result.css}get css(){return this.result.css}get map(){return this.result.map}get messages(){return[]}get opts(){return this.result.opts}get processor(){return this.result.processor}get root(){if(this._root)return this._root;let u,l=s;try{u=l(this._css,this._opts)}catch(c){this.error=c}if(this.error)throw this.error;return this._root=u,u}get[Symbol.toStringTag](){return"NoWorkResult"}}return Yr=a,a.default=a,Yr}var Jr,on;function dl(){if(on)return Jr;on=1;let e=fl(),t=eo(),r=Es(),s=at();class i{constructor(o=[]){this.version="8.4.38",this.plugins=this.normalize(o)}normalize(o){let u=[];for(let l of o)if(l.postcss===!0?l=l():l.postcss&&(l=l.postcss),typeof l=="object"&&Array.isArray(l.plugins))u=u.concat(l.plugins);else if(typeof l=="object"&&l.postcssPlugin)u.push(l);else if(typeof l=="function")u.push(l);else if(!(typeof l=="object"&&(l.parse||l.stringify)))throw new Error(l+" is not a PostCSS plugin");return u}process(o,u={}){return!this.plugins.length&&!u.parser&&!u.stringifier&&!u.syntax?new e(this,o,u):new t(this,o,u)}use(o){return this.plugins=this.plugins.concat(this.normalize([o])),this}}return Jr=i,i.default=i,s.registerProcessor(i),r.registerProcessor(i),Jr}var Xr,an;function pl(){if(an)return Xr;an=1;let e=qt(),t=Jn(),r=Gt(),s=Rs(),i=jt(),a=at(),o=Ms();function u(l,c){if(Array.isArray(l))return l.map(m=>u(m));let h=l,{inputs:n}=h,d=$e(h,["inputs"]);if(n){c=[];for(let m of n){let p=se(P({},m),{__proto__:i.prototype});p.map&&(p.map=se(P({},p.map),{__proto__:t.prototype})),c.push(p)}}if(d.nodes&&(d.nodes=l.nodes.map(m=>u(m,c))),d.source){let f=d.source,{inputId:m}=f,p=$e(f,["inputId"]);d.source=p,m!=null&&(d.source.input=c[m])}if(d.type==="root")return new a(d);if(d.type==="decl")return new e(d);if(d.type==="rule")return new o(d);if(d.type==="comment")return new r(d);if(d.type==="atrule")return new s(d);throw new Error("Unknown node type: "+l.type)}return Xr=u,u.default=u,Xr}var Qr,ln;function ml(){if(ln)return Qr;ln=1;let e=Ss(),t=qt(),r=eo(),s=Fe(),i=dl(),a=zt(),o=pl(),u=Es(),l=Kn(),c=Gt(),n=Rs(),d=xs(),h=jt(),f=Ns(),m=Zn(),p=Ms(),g=at(),y=Vt();function w(...S){return S.length===1&&Array.isArray(S[0])&&(S=S[0]),new i(S)}return w.plugin=function(C,v){let b=!1;function E(...I){console&&console.warn&&!b&&(b=!0,console.warn(C+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(C+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let N=v(...I);return N.postcssPlugin=C,N.postcssVersion=new i().version,N}let x;return Object.defineProperty(E,"postcss",{get(){return x||(x=E()),x}}),E.process=function(I,N,L){return w([E(L)]).process(I,N)},E},w.stringify=a,w.parse=f,w.fromJSON=o,w.list=m,w.comment=S=>new c(S),w.atRule=S=>new n(S),w.decl=S=>new t(S),w.rule=S=>new p(S),w.root=S=>new g(S),w.document=S=>new u(S),w.CssSyntaxError=e,w.Declaration=t,w.Container=s,w.Processor=i,w.Document=u,w.Comment=c,w.Warning=l,w.AtRule=n,w.Result=d,w.Input=h,w.Rule=p,w.Root=g,w.Node=y,r.registerPostcss(w),Qr=w,w.default=w,Qr}var gl=ml();const Q=il(gl);Q.stringify;Q.fromJSON;Q.plugin;Q.parse;Q.list;Q.document;Q.comment;Q.atRule;Q.rule;Q.decl;Q.root;Q.CssSyntaxError;Q.Declaration;Q.Container;Q.Processor;Q.Document;Q.Comment;Q.Warning;Q.AtRule;Q.Result;Q.Input;Q.Rule;Q.Root;Q.Node;var W=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(W||{});function yl(e){const t={},r=/;(?![^(]*\))/g,s=/:(.+)/,i=/\/\*.*?\*\//g;return e.replace(i,"").split(r).forEach(function(a){if(a){const o=a.split(s);o.length>1&&(t[is(o[0].trim())]=o[1].trim())}}),t}function un(e){const t=[];for(const r in e){const s=e[r];if(typeof s!="string")continue;const i=Sl(r);t.push(`${i}: ${s};`)}return t.join(" ")}const wl=/-([a-z])/g,vl=/^--[a-zA-Z0-9-]+$/,is=e=>vl.test(e)?e:e.replace(wl,(t,r)=>r?r.toUpperCase():""),bl=/\B([A-Z])/g,Sl=e=>e.replace(bl,"-$1").toLowerCase();class we{constructor(...t){A(this,"parentElement",null),A(this,"parentNode",null),A(this,"ownerDocument"),A(this,"firstChild",null),A(this,"lastChild",null),A(this,"previousSibling",null),A(this,"nextSibling",null),A(this,"ELEMENT_NODE",1),A(this,"TEXT_NODE",3),A(this,"nodeType"),A(this,"nodeName"),A(this,"RRNodeType")}get childNodes(){const t=[];let r=this.firstChild;for(;r;)t.push(r),r=r.nextSibling;return t}contains(t){if(t instanceof we){if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0}else return!1;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1}appendChild(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")}insertBefore(t,r){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")}removeChild(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")}toString(){return"RRNode"}}class Os extends we{constructor(...t){super(t),A(this,"nodeType",9),A(this,"nodeName","#document"),A(this,"compatMode","CSS1Compat"),A(this,"RRNodeType",W.Document),A(this,"textContent",null),this.ownerDocument=this}get documentElement(){return this.childNodes.find(t=>t.RRNodeType===W.Element&&t.tagName==="HTML")||null}get body(){var t;return((t=this.documentElement)==null?void 0:t.childNodes.find(r=>r.RRNodeType===W.Element&&r.tagName==="BODY"))||null}get head(){var t;return((t=this.documentElement)==null?void 0:t.childNodes.find(r=>r.RRNodeType===W.Element&&r.tagName==="HEAD"))||null}get implementation(){return this}get firstElementChild(){return this.documentElement}appendChild(t){const r=t.RRNodeType;if((r===W.Element||r===W.DocumentType)&&this.childNodes.some(i=>i.RRNodeType===r))throw new Error(`RRDomException: Failed to execute 'appendChild' on 'RRNode': Only one ${r===W.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const s=Is(this,t);return s.parentElement=null,s}insertBefore(t,r){const s=t.RRNodeType;if((s===W.Element||s===W.DocumentType)&&this.childNodes.some(a=>a.RRNodeType===s))throw new Error(`RRDomException: Failed to execute 'insertBefore' on 'RRNode': Only one ${s===W.Element?"RRElement":"RRDoctype"} on RRDocument allowed.`);const i=no(this,t,r);return i.parentElement=null,i}removeChild(t){return oo(this,t)}open(){this.firstChild=null,this.lastChild=null}close(){}write(t){let r;if(t==='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "">'?r="-//W3C//DTD XHTML 1.0 Transitional//EN":t==='<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "">'&&(r="-//W3C//DTD HTML 4.0 Transitional//EN"),r){const s=this.createDocumentType("html",r,"");this.open(),this.appendChild(s)}}createDocument(t,r,s){return new Os}createDocumentType(t,r,s){const i=new to(t,r,s);return i.ownerDocument=this,i}createElement(t){const r=new Ht(t);return r.ownerDocument=this,r}createElementNS(t,r){return this.createElement(r)}createTextNode(t){const r=new ro(t);return r.ownerDocument=this,r}createComment(t){const r=new so(t);return r.ownerDocument=this,r}createCDATASection(t){const r=new io(t);return r.ownerDocument=this,r}toString(){return"RRDocument"}}class to extends we{constructor(t,r,s){super(),A(this,"nodeType",10),A(this,"RRNodeType",W.DocumentType),A(this,"name"),A(this,"publicId"),A(this,"systemId"),A(this,"textContent",null),this.name=t,this.publicId=r,this.systemId=s,this.nodeName=t}toString(){return"RRDocumentType"}}class Ht extends we{constructor(t){super(),A(this,"nodeType",1),A(this,"RRNodeType",W.Element),A(this,"tagName"),A(this,"attributes",{}),A(this,"shadowRoot",null),A(this,"scrollLeft"),A(this,"scrollTop"),this.tagName=t.toUpperCase(),this.nodeName=t.toUpperCase()}get textContent(){let t="";return this.childNodes.forEach(r=>t+=r.textContent),t}set textContent(t){this.firstChild=null,this.lastChild=null,this.appendChild(this.ownerDocument.createTextNode(t))}get classList(){return new xl(this.attributes.class,t=>{this.attributes.class=t})}get id(){return this.attributes.id||""}get className(){return this.attributes.class||""}get style(){const t=this.attributes.style?yl(this.attributes.style):{},r=/\B([A-Z])/g;return t.setProperty=(s,i,a)=>{if(r.test(s))return;const o=is(s);i?t[o]=i:delete t[o],a==="important"&&(t[o]+=" !important"),this.attributes.style=un(t)},t.removeProperty=s=>{if(r.test(s))return"";const i=is(s),a=t[i]||"";return delete t[i],this.attributes.style=un(t),a},t}getAttribute(t){return this.attributes[t]===void 0?null:this.attributes[t]}setAttribute(t,r){this.attributes[t]=r}setAttributeNS(t,r,s){this.setAttribute(r,s)}removeAttribute(t){delete this.attributes[t]}appendChild(t){return Is(this,t)}insertBefore(t,r){return no(this,t,r)}removeChild(t){return oo(this,t)}attachShadow(t){const r=this.ownerDocument.createElement("SHADOWROOT");return this.shadowRoot=r,r}dispatchEvent(t){return!0}toString(){let t="";for(const r in this.attributes)t+=`${r}="${this.attributes[r]}" `;return`${this.tagName} ${t}`}}class Cl extends Ht{constructor(){super(...arguments),A(this,"currentTime"),A(this,"volume"),A(this,"paused"),A(this,"muted"),A(this,"playbackRate"),A(this,"loop")}attachShadow(t){throw new Error("RRDomException: Failed to execute 'attachShadow' on 'RRElement': This RRElement does not support attachShadow")}play(){this.paused=!1}pause(){this.paused=!0}}class El extends Ht{constructor(){super(...arguments),A(this,"tagName","DIALOG"),A(this,"nodeName","DIALOG")}get isModal(){return this.getAttribute("rr_open_mode")==="modal"}get open(){return this.getAttribute("open")!==null}close(){this.removeAttribute("open"),this.removeAttribute("rr_open_mode")}show(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","non-modal")}showModal(){this.setAttribute("open",""),this.setAttribute("rr_open_mode","modal")}}class ro extends we{constructor(t){super(),A(this,"nodeType",3),A(this,"nodeName","#text"),A(this,"RRNodeType",W.Text),A(this,"data"),this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}toString(){return`RRText text=${JSON.stringify(this.data)}`}}class so extends we{constructor(t){super(),A(this,"nodeType",8),A(this,"nodeName","#comment"),A(this,"RRNodeType",W.Comment),A(this,"data"),this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}toString(){return`RRComment text=${JSON.stringify(this.data)}`}}class io extends we{constructor(t){super(),A(this,"nodeName","#cdata-section"),A(this,"nodeType",4),A(this,"RRNodeType",W.CDATA),A(this,"data"),this.data=t}get textContent(){return this.data}set textContent(t){this.data=t}toString(){return`RRCDATASection data=${JSON.stringify(this.data)}`}}class xl{constructor(t,r){if(A(this,"onChange"),A(this,"classes",[]),A(this,"add",(...s)=>{for(const i of s){const a=String(i);this.classes.indexOf(a)>=0||this.classes.push(a)}this.onChange&&this.onChange(this.classes.join(" "))}),A(this,"remove",(...s)=>{this.classes=this.classes.filter(i=>s.indexOf(i)===-1),this.onChange&&this.onChange(this.classes.join(" "))}),t){const s=t.trim().split(/\s+/);this.classes.push(...s)}this.onChange=r}}function Is(e,t){return t.parentNode&&t.parentNode.removeChild(t),e.lastChild?(e.lastChild.nextSibling=t,t.previousSibling=e.lastChild):(e.firstChild=t,t.previousSibling=null),e.lastChild=t,t.nextSibling=null,t.parentNode=e,t.parentElement=e,t.ownerDocument=e.ownerDocument,t}function no(e,t,r){if(!r)return Is(e,t);if(r.parentNode!==e)throw new Error("Failed to execute 'insertBefore' on 'RRNode': The RRNode before which the new node is to be inserted is not a child of this RRNode.");return t===r||(t.parentNode&&t.parentNode.removeChild(t),t.previousSibling=r.previousSibling,r.previousSibling=t,t.nextSibling=r,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,t.parentElement=e,t.parentNode=e,t.ownerDocument=e.ownerDocument),t}function oo(e,t){if(t.parentNode!==e)throw new Error("Failed to execute 'removeChild' on 'RRNode': The RRNode to be removed is not a child of this RRNode.");return t.previousSibling?t.previousSibling.nextSibling=t.nextSibling:e.firstChild=t.nextSibling,t.nextSibling?t.nextSibling.previousSibling=t.previousSibling:e.lastChild=t.previousSibling,t.previousSibling=null,t.nextSibling=null,t.parentElement=null,t.parentNode=null,t}var ce=(e=>(e[e.PLACEHOLDER=0]="PLACEHOLDER",e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",e[e.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",e[e.ENTITY_NODE=6]="ENTITY_NODE",e[e.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE",e[e.DOCUMENT_NODE=9]="DOCUMENT_NODE",e[e.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",e[e.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",e))(ce||{});const ns={svg:"http://www.w3.org/2000/svg","xlink:href":"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},Rl={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",fedropshadow:"feDropShadow",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient"};let be=null;function Dt(e,t,r,s=t.mirror||t.ownerDocument.mirror){e=Ml(e,t,r,s),ao(e,t,r,s),Nl(e,t,r)}function Ml(e,t,r,s){var i;if(r.afterAppend&&!be&&(be=new WeakSet,setTimeout(()=>{be=null},0)),!Ds(e,t)){const a=At(t,r.mirror,s);(i=e.parentNode)==null||i.replaceChild(a,e),e=a}switch(t.RRNodeType){case W.Document:{if(!ze(e,t,r.mirror,s)){const a=s.getMeta(t);a&&(r.mirror.removeNodeFromMap(e),e.close(),e.open(),r.mirror.add(e,a),be==null||be.add(e))}break}case W.Element:{const a=e,o=t;switch(o.tagName){case"IFRAME":{const u=e.contentDocument;if(!u)break;Dt(u,t.contentDocument,r,s);break}}o.shadowRoot&&(a.shadowRoot||a.attachShadow({mode:"open"}),ao(a.shadowRoot,o.shadowRoot,r,s)),Ol(a,o,s);break}}return e}function Nl(e,t,r){var s;switch(t.RRNodeType){case W.Document:{const i=t.scrollData;i&&r.applyScroll(i,!0);break}case W.Element:{const i=e,a=t;switch(a.scrollData&&r.applyScroll(a.scrollData,!0),a.inputData&&r.applyInput(a.inputData),a.tagName){case"AUDIO":case"VIDEO":{const o=e,u=a;u.paused!==void 0&&(u.paused?o.pause():o.play()),u.muted!==void 0&&(o.muted=u.muted),u.volume!==void 0&&(o.volume=u.volume),u.currentTime!==void 0&&(o.currentTime=u.currentTime),u.playbackRate!==void 0&&(o.playbackRate=u.playbackRate),u.loop!==void 0&&(o.loop=u.loop);break}case"CANVAS":{const o=t;if(o.rr_dataURL!==null){const u=document.createElement("img");u.onload=()=>{const l=i.getContext("2d");l&&l.drawImage(u,0,0,u.width,u.height)},u.src=o.rr_dataURL}o.canvasMutations.forEach(u=>r.applyCanvas(u.event,u.mutation,e));break}case"STYLE":{const o=i.sheet;o&&t.rules.forEach(u=>r.applyStyleSheetMutation(u,o));break}case"DIALOG":{const o=i,u=a,l=o.open,c=o.matches("dialog:modal"),n=u.open,d=u.isModal,h=c!==d,f=l!==n;if((h||l&&f)&&o.close(),n&&(f||h))try{d?o.showModal():o.show()}catch(m){console.warn(m)}break}}break}case W.Text:case W.Comment:case W.CDATA:{e.textContent!==t.data&&(e.textContent=t.data);break}}be!=null&&be.has(e)&&(be.delete(e),(s=r.afterAppend)==null||s.call(r,e,r.mirror.getId(e)))}function Ol(e,t,r){const s=e.attributes,i=t.attributes;for(const a in i){const o=i[a],u=r.getMeta(t);if(u!=null&&u.isSVG&&ns[a])e.setAttributeNS(ns[a],a,o);else if(t.tagName==="CANVAS"&&a==="rr_dataURL"){const l=document.createElement("img");l.src=o,l.onload=()=>{const c=e.getContext("2d");c&&c.drawImage(l,0,0,l.width,l.height)}}else{if(t.tagName==="IFRAME"&&a==="srcdoc")continue;try{e.setAttribute(a,o)}catch(l){console.warn(l)}}}for(const{name:a}of Array.from(s))a in i||e.removeAttribute(a);t.scrollLeft&&(e.scrollLeft=t.scrollLeft),t.scrollTop&&(e.scrollTop=t.scrollTop)}function ao(e,t,r,s){const i=Array.from(e.childNodes),a=t.childNodes;if(i.length===0&&a.length===0)return;let o=0,u=i.length-1,l=0,c=a.length-1,n=i[o],d=i[u],h=a[l],f=a[c],m,p;for(;o<=u&&l<=c;)if(n===void 0)n=i[++o];else if(d===void 0)d=i[--u];else if(ze(n,h,r.mirror,s))n=i[++o],h=a[++l];else if(ze(d,f,r.mirror,s))d=i[--u],f=a[--c];else if(ze(n,f,r.mirror,s)){try{e.insertBefore(n,d.nextSibling)}catch(w){console.warn(w)}n=i[++o],f=a[--c]}else if(ze(d,h,r.mirror,s)){try{e.insertBefore(d,n)}catch(w){console.warn(w)}d=i[--u],h=a[++l]}else{if(!m){m={};for(let S=o;S<=u;S++){const C=i[S];C&&r.mirror.hasNode(C)&&(m[r.mirror.getId(C)]=S)}}p=m[s.getId(h)];const w=i[p];if(p!==void 0&&w&&ze(w,h,r.mirror,s)){try{e.insertBefore(w,n)}catch(S){console.warn(S)}i[p]=void 0}else{const S=At(h,r.mirror,s);e.nodeName==="#document"&&n&&(S.nodeType===S.DOCUMENT_TYPE_NODE&&n.nodeType===n.DOCUMENT_TYPE_NODE||S.nodeType===S.ELEMENT_NODE&&n.nodeType===n.ELEMENT_NODE)&&(e.removeChild(n),r.mirror.removeNodeFromMap(n),n=i[++o]);try{e.insertBefore(S,n||null)}catch(C){console.warn(C)}}h=a[++l]}if(o>u){const w=a[c+1];let S=null;for(w&&(S=r.mirror.getNode(s.getId(w)));l<=c;++l){const C=At(a[l],r.mirror,s);try{e.insertBefore(C,S)}catch(v){console.warn(v)}}}else if(l>c)for(;o<=u;o++){const w=i[o];if(!(!w||w.parentNode!==e))try{e.removeChild(w),r.mirror.removeNodeFromMap(w)}catch(S){console.warn(S)}}let g=e.firstChild,y=t.firstChild;for(;g!==null&&y!==null;)Dt(g,y,r,s),g=g.nextSibling,y=y.nextSibling}function At(e,t,r){const s=r.getId(e),i=r.getMeta(e);let a=null;if(s>-1&&(a=t.getNode(s)),a!==null&&Ds(a,e))return a;switch(e.RRNodeType){case W.Document:a=new Document;break;case W.DocumentType:a=document.implementation.createDocumentType(e.name,e.publicId,e.systemId);break;case W.Element:{let o=e.tagName.toLowerCase();o=Rl[o]||o,i&&"isSVG"in i&&(i!=null&&i.isSVG)?a=document.createElementNS(ns.svg,o):a=document.createElement(e.tagName);break}case W.Text:a=document.createTextNode(e.data);break;case W.Comment:a=document.createComment(e.data);break;case W.CDATA:a=document.createCDATASection(e.data);break}i&&t.add(a,P({},i));try{be==null||be.add(a)}catch(o){}return a}function Ds(e,t){return e.nodeType!==t.nodeType?!1:e.nodeType!==e.ELEMENT_NODE||e.tagName.toUpperCase()===t.tagName}function ze(e,t,r,s){const i=r.getId(e),a=s.getId(t);return i===-1||i!==a?!1:Ds(e,t)}class Ke extends Os{constructor(t){super(),A(this,"UNSERIALIZED_STARTING_ID",-2),A(this,"_unserializedId",this.UNSERIALIZED_STARTING_ID),A(this,"mirror",$l()),A(this,"scrollData",null),t&&(this.mirror=t)}get unserializedId(){return this._unserializedId--}createDocument(t,r,s){return new Ke}createDocumentType(t,r,s){const i=new Il(t,r,s);return i.ownerDocument=this,i}createElement(t){const r=t.toUpperCase();let s;switch(r){case"AUDIO":case"VIDEO":s=new Dl(r);break;case"IFRAME":s=new kl(r,this.mirror);break;case"CANVAS":s=new Tl(r);break;case"STYLE":s=new _l(r);break;case"DIALOG":s=new Al(r);break;default:s=new Yt(r);break}return s.ownerDocument=this,s}createComment(t){const r=new Ll(t);return r.ownerDocument=this,r}createCDATASection(t){const r=new Fl(t);return r.ownerDocument=this,r}createTextNode(t){const r=new Pl(t);return r.ownerDocument=this,r}destroyTree(){this.firstChild=null,this.lastChild=null,this.mirror.reset()}open(){super.open(),this._unserializedId=this.UNSERIALIZED_STARTING_ID}}const Il=to;class Yt extends Ht{constructor(){super(...arguments),A(this,"inputData",null),A(this,"scrollData",null)}}class Dl extends Cl{}class Al extends El{}class Tl extends Yt{constructor(){super(...arguments),A(this,"rr_dataURL",null),A(this,"canvasMutations",[])}getContext(){return null}}class _l extends Yt{constructor(){super(...arguments),A(this,"rules",[])}}class kl extends Yt{constructor(t,r){super(t),A(this,"contentDocument",new Ke),this.contentDocument.mirror=r}}const Pl=ro,Ll=so,Fl=io;function Ul(e){return e instanceof HTMLFormElement?"FORM":e.tagName.toUpperCase()}function lo(e,t,r,s){let i;switch(e.nodeType){case ce.DOCUMENT_NODE:s&&s.nodeName==="IFRAME"?i=s.contentDocument:(i=t,i.compatMode=e.compatMode);break;case ce.DOCUMENT_TYPE_NODE:{const o=e;i=t.createDocumentType(o.name,o.publicId,o.systemId);break}case ce.ELEMENT_NODE:{const o=e,u=Ul(o);i=t.createElement(u);const l=i;for(const{name:c,value:n}of Array.from(o.attributes))l.attributes[c]=n;o.scrollLeft&&(l.scrollLeft=o.scrollLeft),o.scrollTop&&(l.scrollTop=o.scrollTop);break}case ce.TEXT_NODE:i=t.createTextNode(e.textContent||"");break;case ce.CDATA_SECTION_NODE:i=t.createCDATASection(e.data);break;case ce.COMMENT_NODE:i=t.createComment(e.textContent||"");break;case ce.DOCUMENT_FRAGMENT_NODE:i=s.attachShadow({mode:"open"});break;default:return null}let a=r.getMeta(e);return t instanceof Ke&&(a||(a=os(i,t.unserializedId),r.add(e,a)),t.mirror.add(i,P({},a))),i}function Bl(e,t=sl(),r=new Ke){function s(i,a){const o=lo(i,r,t,a);if(o!==null)if((a==null?void 0:a.nodeName)!=="IFRAME"&&i.nodeType!==ce.DOCUMENT_FRAGMENT_NODE&&(a==null||a.appendChild(o),o.parentNode=a,o.parentElement=a),i.nodeName==="IFRAME"){const u=i.contentDocument;u&&s(u,o)}else(i.nodeType===ce.DOCUMENT_NODE||i.nodeType===ce.ELEMENT_NODE||i.nodeType===ce.DOCUMENT_FRAGMENT_NODE)&&(i.nodeType===ce.ELEMENT_NODE&&i.shadowRoot&&s(i.shadowRoot,o),i.childNodes.forEach(u=>s(u,o)))}return s(e,null),r}function $l(){return new Wl}class Wl{constructor(){A(this,"idNodeMap",new Map),A(this,"nodeMetaMap",new WeakMap)}getId(t){var r;if(!t)return-1;const s=(r=this.getMeta(t))==null?void 0:r.id;return s!=null?s:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const r=this.getId(t);this.idNodeMap.delete(r),t.childNodes&&t.childNodes.forEach(s=>this.removeNodeFromMap(s))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,r){const s=r.id;this.idNodeMap.set(s,t),this.nodeMetaMap.set(t,r)}replace(t,r){const s=this.getNode(t);if(s){const i=this.nodeMetaMap.get(s);i&&this.nodeMetaMap.set(r,i)}this.idNodeMap.set(t,r)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function os(e,t){switch(e.RRNodeType){case W.Document:return{id:t,type:e.RRNodeType,childNodes:[]};case W.DocumentType:{const r=e;return{id:t,type:e.RRNodeType,name:r.name,publicId:r.publicId,systemId:r.systemId}}case W.Element:return{id:t,type:e.RRNodeType,tagName:e.tagName.toLowerCase(),attributes:{},childNodes:[]};case W.Text:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case W.Comment:return{id:t,type:e.RRNodeType,textContent:e.textContent||""};case W.CDATA:return{id:t,type:e.RRNodeType,textContent:""}}}const cn={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},hn={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},yt={};function zl(e){var t,r;const s=(r=(t=globalThis==null?void 0:globalThis.Zone)==null?void 0:t.__symbol__)==null?void 0:r.call(t,e);if(s&&globalThis[s])return globalThis[s]}function As(e){if(yt[e])return yt[e];const t=zl(e)||globalThis[e],r=t.prototype,s=e in cn?cn[e]:void 0,i=!!(s&&s.every(u=>{var l,c;return!!((c=(l=Object.getOwnPropertyDescriptor(r,u))==null?void 0:l.get)!=null&&c.toString().includes("[native code]"))})),a=e in hn?hn[e]:void 0,o=!!(a&&a.every(u=>{var l;return typeof r[u]=="function"&&((l=r[u])==null?void 0:l.toString().includes("[native code]"))}));if(i&&o)return yt[e]=t.prototype,t.prototype;try{const u=document.createElement("iframe");document.body.appendChild(u);const l=u.contentWindow;if(!l)return t.prototype;const c=l[e].prototype;return document.body.removeChild(u),c?yt[e]=c:r}catch(u){return r}}const Kr={};function Te(e,t,r){var s;const i=`${e}.${String(r)}`;if(Kr[i])return Kr[i].call(t);const a=As(e),o=(s=Object.getOwnPropertyDescriptor(a,r))==null?void 0:s.get;return o?(Kr[i]=o,o.call(t)):t[r]}const Zr={};function uo(e,t,r){const s=`${e}.${String(r)}`;if(Zr[s])return Zr[s].bind(t);const a=As(e)[r];return typeof a!="function"?t[r]:(Zr[s]=a,a.bind(t))}function Vl(e){return Te("Node",e,"childNodes")}function ql(e){return Te("Node",e,"parentNode")}function jl(e){return Te("Node",e,"parentElement")}function Gl(e){return Te("Node",e,"textContent")}function Hl(e,t){return uo("Node",e,"contains")(t)}function Yl(e){return uo("Node",e,"getRootNode")()}function Jl(e){return!e||!("host"in e)?null:Te("ShadowRoot",e,"host")}function Xl(e){return e.styleSheets}function Ql(e){return!e||!("shadowRoot"in e)?null:Te("Element",e,"shadowRoot")}function Kl(e,t){return Te("Element",e,"querySelector")(t)}function Zl(e,t){return Te("Element",e,"querySelectorAll")(t)}function co(){return As("MutationObserver").constructor}const $={childNodes:Vl,parentNode:ql,parentElement:jl,textContent:Gl,contains:Hl,getRootNode:Yl,host:Jl,styleSheets:Xl,shadowRoot:Ql,querySelector:Kl,querySelectorAll:Zl,mutationObserver:co};function ae(e,t,r=document){const s={capture:!0,passive:!0};return r.addEventListener(e,t,s),()=>r.removeEventListener(e,t,s)}const Ve=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;exports.mirror={map:{},getId(){return console.error(Ve),-1},getNode(){return console.error(Ve),null},removeNodeFromMap(){console.error(Ve)},has(){return console.error(Ve),!1},reset(){console.error(Ve)}};typeof window!="undefined"&&window.Proxy&&window.Reflect&&(exports.mirror=new Proxy(exports.mirror,{get(e,t,r){return t==="map"&&console.error(Ve),Reflect.get(e,t,r)}}));function Qe(e,t,r={}){let s=null,i=0;return function(...a){const o=Date.now();!i&&r.leading===!1&&(i=o);const u=t-(o-i),l=this;u<=0||u>t?(s&&(clearTimeout(s),s=null),i=o,e.apply(l,a)):!s&&r.trailing!==!1&&(s=setTimeout(()=>{i=r.leading===!1?0:Date.now(),s=null,e.apply(l,a)},u))}}function lt(e,t,r,s,i=window){const a=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,s?r:{set(o){setTimeout(()=>{r.set.call(this,o)},0),a&&a.set&&a.set.call(this,o)}}),()=>lt(e,t,a||{},!0)}function Ue(e,t,r){try{if(!(t in e))return()=>{};const s=e[t],i=r(s);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:s}})),e[t]=i,()=>{e[t]=s}}catch(s){return()=>{}}}let nt=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(nt=()=>new Date().getTime());function Ts(e){var t,r,s,i;const a=e.document;return{left:a.scrollingElement?a.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:a.documentElement.scrollLeft||(a==null?void 0:a.body)&&((t=$.parentElement(a.body))==null?void 0:t.scrollLeft)||((r=a==null?void 0:a.body)==null?void 0:r.scrollLeft)||0,top:a.scrollingElement?a.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(a==null?void 0:a.documentElement.scrollTop)||(a==null?void 0:a.body)&&((s=$.parentElement(a.body))==null?void 0:s.scrollTop)||((i=a==null?void 0:a.body)==null?void 0:i.scrollTop)||0}}function _s(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function ks(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Ps(e){return e?e.nodeType===e.ELEMENT_NODE?e:$.parentElement(e):null}function le(e,t,r,s){if(!e)return!1;const i=Ps(e);if(!i)return!1;try{if(typeof t=="string"){if(i.classList.contains(t)||s&&i.closest("."+t)!==null)return!0}else if(It(i,t,s))return!0}catch(a){}return!!(r&&(i.matches(r)||s&&i.closest(r)!==null))}function ho(e,t){return t.getId(e)!==-1}function Et(e,t,r){return e.tagName==="TITLE"&&r.headTitleMutations?!0:t.getId(e)===it}function Ls(e,t){if(et(e))return!1;const r=t.getId(e);if(!t.has(r))return!0;const s=$.parentNode(e);return s&&s.nodeType===e.DOCUMENT_NODE?!1:s?Ls(s,t):!0}function Tt(e){return!!e.changedTouches}function Fs(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function fo(e){const t={},r=(i,a)=>{const o={value:i,parent:a,children:[]};return t[i.node.id]=o,o},s=[];for(const i of e){const{nextId:a,parentId:o}=i;if(a&&a in t){const u=t[a];if(u.parent){const l=u.parent.children.indexOf(u);u.parent.children.splice(l,0,r(i,u.parent))}else{const l=s.indexOf(u);s.splice(l,0,r(i,null))}continue}if(o in t){const u=t[o];u.children.push(r(i,u));continue}s.push(r(i,null))}return s}function Us(e,t){t(e.value);for(let r=e.children.length-1;r>=0;r--)Us(e.children[r],t)}function Xe(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Bs(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function $s(e,t){var r,s;const i=(s=(r=e.ownerDocument)==null?void 0:r.defaultView)==null?void 0:s.frameElement;if(!i||i===t)return{x:0,y:0,relativeScale:1,absoluteScale:1};const a=i.getBoundingClientRect(),o=$s(i,t),u=a.height/i.clientHeight;return{x:a.x*o.relativeScale+o.x,y:a.y*o.relativeScale+o.y,relativeScale:u,absoluteScale:o.absoluteScale*u}}function Oe(e){return e?e instanceof we&&"shadowRoot"in e?!!e.shadowRoot:!!$.shadowRoot(e):!1}function He(e,t){const r=e[t[0]];return t.length===1?r:He(r.cssRules[t[1]].cssRules,t.slice(2))}function as(e){const t=[...e],r=t.pop();return{positions:t,index:r}}function po(e){const t=new Set,r=[];for(let s=e.length;s--;){const i=e[s];t.has(i.id)||(r.push(i),t.add(i.id))}return r}class Ws{constructor(){M(this,"id",1),M(this,"styleIDMap",new WeakMap),M(this,"idStyleMap",new Map)}getId(t){var r;return(r=this.styleIDMap.get(t))!=null?r:-1}has(t){return this.styleIDMap.has(t)}add(t,r){if(this.has(t))return this.getId(t);let s;return r===void 0?s=this.id++:s=r,this.styleIDMap.set(t,s),this.idStyleMap.set(s,t),s}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function zs(e){var t;let r=null;return"getRootNode"in e&&((t=$.getRootNode(e))==null?void 0:t.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&$.host($.getRootNode(e))&&(r=$.host($.getRootNode(e))),r}function mo(e){let t=e,r;for(;r=zs(t);)t=r;return t}function go(e){const t=e.ownerDocument;if(!t)return!1;const r=mo(e);return $.contains(t,r)}function Vs(e){const t=e.ownerDocument;return t?$.contains(t,e)||go(e):!1}const eu=Object.freeze(Object.defineProperty({__proto__:null,StyleSheetMirror:Ws,get _mirror(){return exports.mirror},closestElementOfNode:Ps,getBaseDimension:$s,getNestedRule:He,getPositionsAndIndex:as,getRootShadowHost:mo,getShadowHost:zs,getWindowHeight:_s,getWindowScroll:Ts,getWindowWidth:ks,hasShadowRoot:Oe,hookSetter:lt,inDom:Vs,isAncestorRemoved:Ls,isBlocked:le,isIgnored:Et,isSerialized:ho,isSerializedIframe:Xe,isSerializedStylesheet:Bs,iterateResolveTree:Us,legacy_isTouchEvent:Tt,get nowTimestamp(){return nt},on:ae,patch:Ue,polyfill:Fs,queueToResolveTrees:fo,shadowHostInDom:go,throttle:Qe,uniqueTextMutations:po},Symbol.toStringTag,{value:"Module"}));var _=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(_||{}),D=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(D||{}),V=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(V||{}),Ee=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Ee||{}),Re=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Re||{}),Ne=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Ne||{}),q=(e=>(e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back",e.Destroy="destroy",e))(q||{}),xe=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(xe||{});function fn(e){return"__ln"in e}class tu{constructor(){M(this,"length",0),M(this,"head",null),M(this,"tail",null)}get(t){if(t>=this.length)throw new Error("Position outside of list range");let r=this.head;for(let s=0;s<t;s++)r=(r==null?void 0:r.next)||null;return r}addNode(t){const r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&fn(t.previousSibling)){const s=t.previousSibling.__ln.next;r.next=s,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,s&&(s.previous=r)}else if(t.nextSibling&&fn(t.nextSibling)&&t.nextSibling.__ln.previous){const s=t.nextSibling.__ln.previous;r.previous=s,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,s&&(s.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++}removeNode(t){const r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const dn=(e,t)=>`${e}@${t}`;class ru{constructor(){M(this,"frozen",!1),M(this,"locked",!1),M(this,"texts",[]),M(this,"attributes",[]),M(this,"attributeMap",new WeakMap),M(this,"removes",[]),M(this,"mapRemoves",[]),M(this,"movedMap",{}),M(this,"addedSet",new Set),M(this,"movedSet",new Set),M(this,"droppedSet",new Set),M(this,"removesSubTreeCache",new Set),M(this,"mutationCb"),M(this,"blockClass"),M(this,"blockSelector"),M(this,"maskTextClass"),M(this,"maskTextSelector"),M(this,"inlineStylesheet"),M(this,"maskInputOptions"),M(this,"maskTextFn"),M(this,"maskInputFn"),M(this,"keepIframeSrcFn"),M(this,"recordCanvas"),M(this,"inlineImages"),M(this,"slimDOMOptions"),M(this,"dataURLOptions"),M(this,"doc"),M(this,"mirror"),M(this,"iframeManager"),M(this,"stylesheetManager"),M(this,"shadowDomManager"),M(this,"canvasManager"),M(this,"processedNodeManager"),M(this,"unattachedDoc"),M(this,"processMutations",t=>{t.forEach(this.processMutation),this.emit()}),M(this,"emit",()=>{if(this.frozen||this.locked)return;const t=[],r=new Set,s=new tu,i=l=>{let c=l,n=it;for(;n===it;)c=c&&c.nextSibling,n=c&&this.mirror.getId(c);return n},a=l=>{const c=$.parentNode(l);if(!c||!Vs(l))return;let n=!1;if(l.nodeType===Node.TEXT_NODE){const m=c.tagName;if(m==="TEXTAREA")return;m==="STYLE"&&this.addedSet.has(c)&&(n=!0)}const d=et(c)?this.mirror.getId(zs(l)):this.mirror.getId(c),h=i(l);if(d===-1||h===-1)return s.addNode(l);const f=Ge(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:m=>{Xe(m,this.mirror)&&this.iframeManager.addIframe(m),Bs(m,this.mirror)&&this.stylesheetManager.trackLinkElement(m),Oe(l)&&this.shadowDomManager.addShadowRoot($.shadowRoot(l),this.doc)},onIframeLoad:(m,p)=>{this.iframeManager.attachIframe(m,p),this.shadowDomManager.observeAttachShadow(m)},onStylesheetLoad:(m,p)=>{this.stylesheetManager.attachLinkElement(m,p)},cssCaptured:n});f&&(t.push({parentId:d,nextId:h,node:f}),r.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)pn(this.removesSubTreeCache,l,this.mirror)&&!this.movedSet.has($.parentNode(l))||a(l);for(const l of this.addedSet)!mn(this.droppedSet,l)&&!pn(this.removesSubTreeCache,l,this.mirror)||mn(this.movedSet,l)?a(l):this.droppedSet.add(l);let o=null;for(;s.length;){let l=null;if(o){const c=this.mirror.getId($.parentNode(o.value)),n=i(o.value);c!==-1&&n!==-1&&(l=o)}if(!l){let c=s.tail;for(;c;){const n=c;if(c=c.previous,n){const d=this.mirror.getId($.parentNode(n.value));if(i(n.value)===-1)continue;if(d!==-1){l=n;break}else{const f=n.value,m=$.parentNode(f);if(m&&m.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const p=$.host(m);if(this.mirror.getId(p)!==-1){l=n;break}}}}}}if(!l){for(;s.head;)s.removeNode(s.head.value);break}o=l.previous,s.removeNode(l.value),a(l.value)}const u={texts:this.texts.map(l=>{const c=l.node,n=$.parentNode(c);return n&&n.tagName==="TEXTAREA"&&this.genTextAreaValueMutation(n),{id:this.mirror.getId(c),value:l.value}}).filter(l=>!r.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const n=JSON.stringify(l.styleDiff),d=JSON.stringify(l._unchangedStyles);n.length<c.style.length&&(n+d).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!r.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!u.texts.length&&!u.attributes.length&&!u.removes.length&&!u.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.removesSubTreeCache=new Set,this.movedMap={},this.mutationCb(u))}),M(this,"genTextAreaValueMutation",t=>{let r=this.attributeMap.get(t);r||(r={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(r),this.attributeMap.set(t,r));const s=Array.from($.childNodes(t),i=>$.textContent(i)||"").join("");r.attributes.value=Mt({element:t,maskInputOptions:this.maskInputOptions,tagName:t.tagName,type:Nt(t),value:s,maskInputFn:this.maskInputFn})}),M(this,"processMutation",t=>{if(!Et(t.target,this.mirror,this.slimDOMOptions))switch(t.type){case"characterData":{const r=$.textContent(t.target);!le(t.target,this.blockClass,this.blockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:$n(t.target,this.maskTextClass,this.maskTextSelector,!0)&&r?this.maskTextFn?this.maskTextFn(r,Ps(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let s=t.attributeName,i=t.target.getAttribute(s);if(s==="value"){const o=Nt(r);i=Mt({element:r,maskInputOptions:this.maskInputOptions,tagName:r.tagName,type:o,value:i,maskInputFn:this.maskInputFn})}if(le(t.target,this.blockClass,this.blockSelector,!1)||i===t.oldValue)return;let a=this.attributeMap.get(t.target);if(r.tagName==="IFRAME"&&s==="src"&&!this.keepIframeSrcFn(i))if(!r.contentDocument)s="rr_src";else return;if(a||(a={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(a),this.attributeMap.set(t.target,a)),s==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Bn(r.tagName,s))if(a.attributes[s]=Un(this.doc,De(r.tagName),De(s),i),s==="style"){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(u){this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const u of Array.from(r.style)){const l=r.style.getPropertyValue(u),c=r.style.getPropertyPriority(u);l!==o.style.getPropertyValue(u)||c!==o.style.getPropertyPriority(u)?c===""?a.styleDiff[u]=l:a.styleDiff[u]=[l,c]:a._unchangedStyles[u]=[l,c]}for(const u of Array.from(o.style))r.style.getPropertyValue(u)===""&&(a.styleDiff[u]=!1)}else s==="open"&&r.tagName==="DIALOG"&&(r.matches("dialog:modal")?a.attributes.rr_open_mode="modal":a.attributes.rr_open_mode="non-modal");break}case"childList":{if(le(t.target,this.blockClass,this.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){this.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const s=this.mirror.getId(r),i=et(t.target)?this.mirror.getId($.host(t.target)):this.mirror.getId(t.target);le(t.target,this.blockClass,this.blockSelector,!1)||Et(r,this.mirror,this.slimDOMOptions)||!ho(r,this.mirror)||(this.addedSet.has(r)?(ls(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&s===-1||Ls(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[dn(s,i)]?ls(this.movedSet,r):(this.removes.push({parentId:i,id:s,isShadow:et(t.target)&&tt(t.target)?!0:void 0}),su(r,this.removesSubTreeCache))),this.mapRemoves.push(r))});break}}}),M(this,"genAdds",(t,r)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Et(t,this.mirror,this.slimDOMOptions))return;this.movedSet.add(t);let s=null;r&&this.mirror.hasNode(r)&&(s=this.mirror.getId(r)),s&&s!==-1&&(this.movedMap[dn(this.mirror.getId(t),s)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);le(t,this.blockClass,this.blockSelector,!1)||($.childNodes(t).forEach(s=>this.genAdds(s)),Oe(t)&&$.childNodes($.shadowRoot(t)).forEach(s=>{this.processedNodeManager.add(s,this),this.genAdds(s,t)}))}})}init(t){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(r=>{this[r]=t[r]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ls(e,t){e.delete(t),$.childNodes(t).forEach(r=>ls(e,r))}function su(e,t){const r=[e];for(;r.length;){const s=r.pop();t.has(s)||(t.add(s),$.childNodes(s).forEach(i=>r.push(i)))}}function pn(e,t,r){return e.size===0?!1:iu(e,t)}function iu(e,t,r){const s=$.parentNode(t);return s?e.has(s):!1}function mn(e,t){return e.size===0?!1:yo(e,t)}function yo(e,t){const r=$.parentNode(t);return r?e.has(r)?!0:yo(e,r):!1}let st;function nu(e){st=e}function ou(){st=void 0}const z=e=>st?((...r)=>{try{return e(...r)}catch(s){if(st&&st(s)===!0)return;throw s}}):e;function gn(e){return(...t)=>{try{return e(...t)}catch(r){try{r._external_=!0}catch(s){}throw r}}}const Pe=[];function ut(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(t){}return e&&e.target}function wo(e,t){const r=new ru;Pe.push(r),r.init(e);const s=new(co())(z(r.processMutations.bind(r)));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function au({mousemoveCb:e,sampling:t,doc:r,mirror:s}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,a=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],u;const l=Qe(z(d=>{const h=Date.now()-u;e(o.map(f=>(f.timeOffset-=h,f)),d),o=[],u=null}),a),c=z(Qe(z(d=>{const h=ut(d),{clientX:f,clientY:m}=Tt(d)?d.changedTouches[0]:d;u||(u=nt()),o.push({x:f,y:m,id:s.getId(h),timeOffset:nt()-u}),l(typeof DragEvent!="undefined"&&d instanceof DragEvent?D.Drag:d instanceof MouseEvent?D.MouseMove:D.TouchMove)}),i,{trailing:!1})),n=[ae("mousemove",c,r),ae("touchmove",c,r),ae("drag",c,r)];return z(()=>{n.forEach(d=>d())})}function lu({mouseInteractionCb:e,doc:t,mirror:r,blockClass:s,blockSelector:i,sampling:a}){if(a.mouseInteraction===!1)return()=>{};const o=a.mouseInteraction===!0||a.mouseInteraction===void 0?{}:a.mouseInteraction,u=[];let l=null;const c=n=>d=>{const h=ut(d);if(le(h,s,i,!0))return;let f=null,m=n;if("pointerType"in d){switch(d.pointerType){case"mouse":f=Ee.Mouse;break;case"touch":f=Ee.Touch;break;case"pen":f=Ee.Pen;break}f===Ee.Touch?V[n]===V.MouseDown?m="TouchStart":V[n]===V.MouseUp&&(m="TouchEnd"):Ee.Pen}else Tt(d)&&(f=Ee.Touch);f!==null?(l=f,(m.startsWith("Touch")&&f===Ee.Touch||m.startsWith("Mouse")&&f===Ee.Mouse)&&(f=null)):V[n]===V.Click&&(f=l,l=null);const p=Tt(d)?d.changedTouches[0]:d;if(!p)return;const g=r.getId(h),{clientX:y,clientY:w}=p;z(e)(P({type:V[m],id:g,x:y,y:w},f!==null&&{pointerType:f}))};return Object.keys(V).filter(n=>Number.isNaN(Number(n))&&!n.endsWith("_Departed")&&o[n]!==!1).forEach(n=>{let d=De(n);const h=c(n);if(window.PointerEvent)switch(V[n]){case V.MouseDown:case V.MouseUp:d=d.replace("mouse","pointer");break;case V.TouchStart:case V.TouchEnd:return}u.push(ae(d,h,t))}),z(()=>{u.forEach(n=>n())})}function vo({scrollCb:e,doc:t,mirror:r,blockClass:s,blockSelector:i,sampling:a}){const o=z(Qe(z(u=>{const l=ut(u);if(!l||le(l,s,i,!0))return;const c=r.getId(l);if(l===t&&t.defaultView){const n=Ts(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:l.scrollLeft,y:l.scrollTop})}),a.scroll||100));return ae("scroll",o,t)}function uu({viewportResizeCb:e},{win:t}){let r=-1,s=-1;const i=z(Qe(z(()=>{const a=_s(),o=ks();(r!==a||s!==o)&&(e({width:Number(o),height:Number(a)}),r=a,s=o)}),200));return ae("resize",i,t)}const cu=["INPUT","TEXTAREA","SELECT"],yn=new WeakMap;function hu({inputCb:e,doc:t,mirror:r,blockClass:s,blockSelector:i,ignoreClass:a,ignoreSelector:o,maskInputOptions:u,maskInputFn:l,sampling:c,userTriggeredOnInput:n}){function d(w){let S=ut(w);const C=w.isTrusted,v=S&&S.tagName;if(S&&v==="OPTION"&&(S=$.parentElement(S)),!S||!v||cu.indexOf(v)<0||le(S,s,i,!0)||S.classList.contains(a)||o&&S.matches(o))return;let b=S.value,E=!1;const x=Nt(S)||"";x==="radio"||x==="checkbox"?E=S.checked:(u[v.toLowerCase()]||u[x])&&(b=Mt({element:S,maskInputOptions:u,tagName:v,type:x,value:b,maskInputFn:l})),h(S,n?{text:b,isChecked:E,userTriggered:C}:{text:b,isChecked:E});const I=S.name;x==="radio"&&I&&E&&t.querySelectorAll(`input[type="radio"][name="${I}"]`).forEach(N=>{if(N!==S){const L=N.value;h(N,n?{text:L,isChecked:!E,userTriggered:!1}:{text:L,isChecked:!E})}})}function h(w,S){const C=yn.get(w);if(!C||C.text!==S.text||C.isChecked!==S.isChecked){yn.set(w,S);const v=r.getId(w);z(e)(se(P({},S),{id:v}))}}const m=(c.input==="last"?["change"]:["input","change"]).map(w=>ae(w,z(d),t)),p=t.defaultView;if(!p)return()=>{m.forEach(w=>w())};const g=p.Object.getOwnPropertyDescriptor(p.HTMLInputElement.prototype,"value"),y=[[p.HTMLInputElement.prototype,"value"],[p.HTMLInputElement.prototype,"checked"],[p.HTMLSelectElement.prototype,"value"],[p.HTMLTextAreaElement.prototype,"value"],[p.HTMLSelectElement.prototype,"selectedIndex"],[p.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&m.push(...y.map(w=>lt(w[0],w[1],{set(){z(d)({target:this,isTrusted:!1})}},!1,p))),z(()=>{m.forEach(w=>w())})}function _t(e){const t=[];function r(s,i){if(wt("CSSGroupingRule")&&s.parentRule instanceof CSSGroupingRule||wt("CSSMediaRule")&&s.parentRule instanceof CSSMediaRule||wt("CSSSupportsRule")&&s.parentRule instanceof CSSSupportsRule||wt("CSSConditionRule")&&s.parentRule instanceof CSSConditionRule){const o=Array.from(s.parentRule.cssRules).indexOf(s);i.unshift(o)}else if(s.parentStyleSheet){const o=Array.from(s.parentStyleSheet.cssRules).indexOf(s);i.unshift(o)}return i}return r(e,t)}function Me(e,t,r){let s,i;return e?(e.ownerNode?s=t.getId(e.ownerNode):i=r.getId(e),{styleId:i,id:s}):{}}function fu({styleSheetRuleCb:e,mirror:t,stylesheetManager:r},{win:s}){if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return()=>{};const i=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:z((n,d,h)=>{const[f,m]=h,{id:p,styleId:g}=Me(d,t,r.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,adds:[{rule:f,index:m}]}),gn(()=>n.apply(d,h))()})}),s.CSSStyleSheet.prototype.addRule=function(n,d,h=this.cssRules.length){const f=`${n} { ${d} }`;return s.CSSStyleSheet.prototype.insertRule.apply(this,[f,h])};const a=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:z((n,d,h)=>{const[f]=h,{id:m,styleId:p}=Me(d,t,r.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,removes:[{index:f}]}),gn(()=>n.apply(d,h))()})}),s.CSSStyleSheet.prototype.removeRule=function(n){return s.CSSStyleSheet.prototype.deleteRule.apply(this,[n])};let o;s.CSSStyleSheet.prototype.replace&&(o=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:z((n,d,h)=>{const[f]=h,{id:m,styleId:p}=Me(d,t,r.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,replace:f}),n.apply(d,h)})}));let u;s.CSSStyleSheet.prototype.replaceSync&&(u=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(u,{apply:z((n,d,h)=>{const[f]=h,{id:m,styleId:p}=Me(d,t,r.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,replaceSync:f}),n.apply(d,h)})}));const l={};vt("CSSGroupingRule")?l.CSSGroupingRule=s.CSSGroupingRule:(vt("CSSMediaRule")&&(l.CSSMediaRule=s.CSSMediaRule),vt("CSSConditionRule")&&(l.CSSConditionRule=s.CSSConditionRule),vt("CSSSupportsRule")&&(l.CSSSupportsRule=s.CSSSupportsRule));const c={};return Object.entries(l).forEach(([n,d])=>{c[n]={insertRule:d.prototype.insertRule,deleteRule:d.prototype.deleteRule},d.prototype.insertRule=new Proxy(c[n].insertRule,{apply:z((h,f,m)=>{const[p,g]=m,{id:y,styleId:w}=Me(f.parentStyleSheet,t,r.styleMirror);return(y&&y!==-1||w&&w!==-1)&&e({id:y,styleId:w,adds:[{rule:p,index:[..._t(f),g||0]}]}),h.apply(f,m)})}),d.prototype.deleteRule=new Proxy(c[n].deleteRule,{apply:z((h,f,m)=>{const[p]=m,{id:g,styleId:y}=Me(f.parentStyleSheet,t,r.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,removes:[{index:[..._t(f),p]}]}),h.apply(f,m)})})}),z(()=>{s.CSSStyleSheet.prototype.insertRule=i,s.CSSStyleSheet.prototype.deleteRule=a,o&&(s.CSSStyleSheet.prototype.replace=o),u&&(s.CSSStyleSheet.prototype.replaceSync=u),Object.entries(l).forEach(([n,d])=>{d.prototype.insertRule=c[n].insertRule,d.prototype.deleteRule=c[n].deleteRule})})}function bo({mirror:e,stylesheetManager:t},r){var s,i,a;let o=null;r.nodeName==="#document"?o=e.getId(r):o=e.getId($.host(r));const u=r.nodeName==="#document"?(s=r.defaultView)==null?void 0:s.Document:(a=(i=r.ownerDocument)==null?void 0:i.defaultView)==null?void 0:a.ShadowRoot,l=u!=null&&u.prototype?Object.getOwnPropertyDescriptor(u==null?void 0:u.prototype,"adoptedStyleSheets"):void 0;return o===null||o===-1||!u||!l?()=>{}:(Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get(){var c;return(c=l.get)==null?void 0:c.call(this)},set(c){var n;const d=(n=l.set)==null?void 0:n.call(this,c);if(o!==null&&o!==-1)try{t.adoptStyleSheets(c,o)}catch(h){}return d}}),z(()=>{Object.defineProperty(r,"adoptedStyleSheets",{configurable:l.configurable,enumerable:l.enumerable,get:l.get,set:l.set})}))}function du({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:r,stylesheetManager:s},{win:i}){const a=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:z((u,l,c)=>{var n;const[d,h,f]=c;if(r.has(d))return a.apply(l,[d,h,f]);const{id:m,styleId:p}=Me((n=l.parentRule)==null?void 0:n.parentStyleSheet,t,s.styleMirror);return(m&&m!==-1||p&&p!==-1)&&e({id:m,styleId:p,set:{property:d,value:h,priority:f},index:_t(l.parentRule)}),u.apply(l,c)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:z((u,l,c)=>{var n;const[d]=c;if(r.has(d))return o.apply(l,[d]);const{id:h,styleId:f}=Me((n=l.parentRule)==null?void 0:n.parentStyleSheet,t,s.styleMirror);return(h&&h!==-1||f&&f!==-1)&&e({id:h,styleId:f,remove:{property:d},index:_t(l.parentRule)}),u.apply(l,c)})}),z(()=>{i.CSSStyleDeclaration.prototype.setProperty=a,i.CSSStyleDeclaration.prototype.removeProperty=o})}function pu({mediaInteractionCb:e,blockClass:t,blockSelector:r,mirror:s,sampling:i,doc:a}){const o=z(l=>Qe(z(c=>{const n=ut(c);if(!n||le(n,t,r,!0))return;const{currentTime:d,volume:h,muted:f,playbackRate:m,loop:p}=n;e({type:l,id:s.getId(n),currentTime:d,volume:h,muted:f,playbackRate:m,loop:p})}),i.media||500)),u=[ae("play",o(Ne.Play),a),ae("pause",o(Ne.Pause),a),ae("seeked",o(Ne.Seeked),a),ae("volumechange",o(Ne.VolumeChange),a),ae("ratechange",o(Ne.RateChange),a)];return z(()=>{u.forEach(l=>l())})}function mu({fontCb:e,doc:t}){const r=t.defaultView;if(!r)return()=>{};const s=[],i=new WeakMap,a=r.FontFace;r.FontFace=function(l,c,n){const d=new a(l,c,n);return i.set(d,{family:l,buffer:typeof c!="string",descriptors:n,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),d};const o=Ue(t.fonts,"add",function(u){return function(l){return setTimeout(z(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),u.apply(this,[l])}});return s.push(()=>{r.FontFace=a}),s.push(o),z(()=>{s.forEach(u=>u())})}function gu(e){const{doc:t,mirror:r,blockClass:s,blockSelector:i,selectionCb:a}=e;let o=!0;const u=z(()=>{const l=t.getSelection();if(!l||o&&(l!=null&&l.isCollapsed))return;o=l.isCollapsed||!1;const c=[],n=l.rangeCount||0;for(let d=0;d<n;d++){const h=l.getRangeAt(d),{startContainer:f,startOffset:m,endContainer:p,endOffset:g}=h;le(f,s,i,!0)||le(p,s,i,!0)||c.push({start:r.getId(f),startOffset:m,end:r.getId(p),endOffset:g})}a({ranges:c})});return u(),ae("selectionchange",u)}function yu({doc:e,customElementCb:t}){const r=e.defaultView;return!r||!r.customElements?()=>{}:Ue(r.customElements,"define",function(i){return function(a,o,u){try{t({define:{name:a}})}catch(l){console.warn(`Custom element callback failed for ${a}`)}return i.apply(this,[a,o,u])}})}function wu(e,t){const{mutationCb:r,mousemoveCb:s,mouseInteractionCb:i,scrollCb:a,viewportResizeCb:o,inputCb:u,mediaInteractionCb:l,styleSheetRuleCb:c,styleDeclarationCb:n,canvasMutationCb:d,fontCb:h,selectionCb:f,customElementCb:m}=e;e.mutationCb=(...p)=>{t.mutation&&t.mutation(...p),r(...p)},e.mousemoveCb=(...p)=>{t.mousemove&&t.mousemove(...p),s(...p)},e.mouseInteractionCb=(...p)=>{t.mouseInteraction&&t.mouseInteraction(...p),i(...p)},e.scrollCb=(...p)=>{t.scroll&&t.scroll(...p),a(...p)},e.viewportResizeCb=(...p)=>{t.viewportResize&&t.viewportResize(...p),o(...p)},e.inputCb=(...p)=>{t.input&&t.input(...p),u(...p)},e.mediaInteractionCb=(...p)=>{t.mediaInteaction&&t.mediaInteaction(...p),l(...p)},e.styleSheetRuleCb=(...p)=>{t.styleSheetRule&&t.styleSheetRule(...p),c(...p)},e.styleDeclarationCb=(...p)=>{t.styleDeclaration&&t.styleDeclaration(...p),n(...p)},e.canvasMutationCb=(...p)=>{t.canvasMutation&&t.canvasMutation(...p),d(...p)},e.fontCb=(...p)=>{t.font&&t.font(...p),h(...p)},e.selectionCb=(...p)=>{t.selection&&t.selection(...p),f(...p)},e.customElementCb=(...p)=>{t.customElement&&t.customElement(...p),m(...p)}}function vu(e,t={}){const r=e.doc.defaultView;if(!r)return()=>{};wu(e,t);let s;e.recordDOM&&(s=wo(e,e.doc));const i=au(e),a=lu(e),o=vo(e),u=uu(e,{win:r}),l=hu(e),c=pu(e);let n=()=>{},d=()=>{},h=()=>{},f=()=>{};e.recordDOM&&(n=fu(e,{win:r}),d=bo(e,e.doc),h=du(e,{win:r}),e.collectFonts&&(f=mu(e)));const m=gu(e),p=yu(e),g=[];for(const y of e.plugins)g.push(y.observer(y.callback,r,y.options));return z(()=>{Pe.forEach(y=>y.reset()),s==null||s.disconnect(),i(),a(),o(),u(),l(),c(),n(),d(),h(),f(),m(),p(),g.forEach(y=>y())})}function wt(e){return typeof window[e]!="undefined"}function vt(e){return!!(typeof window[e]!="undefined"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class wn{constructor(t){M(this,"iframeIdToRemoteIdMap",new WeakMap),M(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=t}getId(t,r,s,i){const a=s||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let u=a.get(r);return u||(u=this.generateIdFn(),a.set(r,u),o.set(u,r)),u}getIds(t,r){const s=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return r.map(a=>this.getId(t,a,s,i))}getRemoteId(t,r,s){const i=s||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;const a=i.get(r);return a||-1}getRemoteIds(t,r){const s=this.getRemoteIdToIdMap(t);return r.map(i=>this.getRemoteId(t,i,s))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r}getRemoteIdToIdMap(t){let r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r}}class bu{constructor(t){M(this,"iframes",new WeakMap),M(this,"crossOriginIframeMap",new WeakMap),M(this,"crossOriginIframeMirror",new wn(Fn)),M(this,"crossOriginIframeStyleMirror"),M(this,"crossOriginIframeRootIdMap",new WeakMap),M(this,"mirror"),M(this,"mutationCb"),M(this,"wrappedEmit"),M(this,"loadListener"),M(this,"stylesheetManager"),M(this,"recordCrossOriginIframes"),this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new wn(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,r){var s,i;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(i=this.loadListener)==null||i.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const r=t;if(r.data.type!=="rrweb"||r.origin!==r.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const a=this.transformCrossOriginEvent(i,r.data.event);a&&this.wrappedEmit(a,r.data.isCheckout)}transformCrossOriginEvent(t,r){var s;switch(r.type){case _.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);const i=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(r.data.node,i),{timestamp:r.timestamp,type:_.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case _.Meta:case _.Load:case _.DomContentLoaded:return!1;case _.Plugin:return r;case _.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case _.IncrementalSnapshot:switch(r.data.source){case D.Mutation:return r.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const a=this.crossOriginIframeRootIdMap.get(t);a&&this.patchRootIdOnNode(i.node,a)}),r.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),r.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),r.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),r;case D.Drag:case D.TouchMove:case D.MouseMove:return r.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),r;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(r.data,t,["id"]),r;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case D.Font:return r;case D.Selection:return r.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),r;case D.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),(s=r.data.styles)==null||s.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),r}}return!1}replace(t,r,s,i){for(const a of i)!Array.isArray(r[a])&&typeof r[a]!="number"||(Array.isArray(r[a])?r[a]=t.getIds(s,r[a]):r[a]=t.getId(s,r[a]));return r}replaceIds(t,r,s){return this.replace(this.crossOriginIframeMirror,t,r,s)}replaceStyleIds(t,r,s){return this.replace(this.crossOriginIframeStyleMirror,t,r,s)}replaceIdOnNode(t,r){this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(s=>{this.replaceIdOnNode(s,r)})}patchRootIdOnNode(t,r){t.type!==xe.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(s=>{this.patchRootIdOnNode(s,r)})}}class Su{constructor(t){M(this,"shadowDoms",new WeakSet),M(this,"mutationCb"),M(this,"scrollCb"),M(this,"bypassOptions"),M(this,"mirror"),M(this,"restoreHandlers",[]),this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,r){if(!tt(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const s=wo(se(P({},this.bypassOptions),{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(()=>s.disconnect()),this.restoreHandlers.push(vo(se(P({},this.bypassOptions),{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId($.host(t))),this.restoreHandlers.push(bo({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,r){const s=this;this.restoreHandlers.push(Ue(t.prototype,"attachShadow",function(i){return function(a){const o=i.call(this,a),u=$.shadowRoot(this);return u&&Vs(this)&&s.addShadowRoot(u,r),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch(r){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}var Ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ze=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var bt=0;bt<Ye.length;bt++)Ze[Ye.charCodeAt(bt)]=bt;var Cu=function(e){var t=new Uint8Array(e),r,s=t.length,i="";for(r=0;r<s;r+=3)i+=Ye[t[r]>>2],i+=Ye[(t[r]&3)<<4|t[r+1]>>4],i+=Ye[(t[r+1]&15)<<2|t[r+2]>>6],i+=Ye[t[r+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i},Eu=function(e){var t=e.length*.75,r=e.length,s,i=0,a,o,u,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=new ArrayBuffer(t),n=new Uint8Array(c);for(s=0;s<r;s+=4)a=Ze[e.charCodeAt(s)],o=Ze[e.charCodeAt(s+1)],u=Ze[e.charCodeAt(s+2)],l=Ze[e.charCodeAt(s+3)],n[i++]=a<<2|o>>4,n[i++]=(o&15)<<4|u>>2,n[i++]=(u&3)<<6|l&63;return c};const vn=new Map;function xu(e,t){let r=vn.get(e);return r||(r=new Map,vn.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}const So=(e,t,r)=>{if(!e||!(Eo(e,t)||typeof e=="object"))return;const s=e.constructor.name,i=xu(r,s);let a=i.indexOf(e);return a===-1&&(a=i.length,i.push(e)),a};function xt(e,t,r){if(e instanceof Array)return e.map(s=>xt(s,t,r));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const s=e.constructor.name,i=Cu(e);return{rr_type:s,base64:i}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[xt(e.buffer,t,r),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const s=e.constructor.name,{src:i}=e;return{rr_type:s,src:i}}else if(e instanceof HTMLCanvasElement){const s="HTMLImageElement",i=e.toDataURL();return{rr_type:s,src:i}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[xt(e.data,t,r),e.width,e.height]};if(Eo(e,t)||typeof e=="object"){const s=e.constructor.name,i=So(e,t,r);return{rr_type:s,index:i}}}}return e}const Co=(e,t,r)=>e.map(s=>xt(s,t,r)),Eo=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(i=>typeof t[i]=="function").find(i=>e instanceof t[i]);function Ru(e,t,r,s){const i=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const o of a)try{if(typeof t.CanvasRenderingContext2D.prototype[o]!="function")continue;const u=Ue(t.CanvasRenderingContext2D.prototype,o,function(l){return function(...c){return le(this.canvas,r,s,!0)||setTimeout(()=>{const n=Co(c,t,this);e(this.canvas,{type:Re["2D"],property:o,args:n})},0),l.apply(this,c)}});i.push(u)}catch(u){const l=lt(t.CanvasRenderingContext2D.prototype,o,{set(c){e(this.canvas,{type:Re["2D"],property:o,args:[c],setter:!0})}});i.push(l)}return()=>{i.forEach(o=>o())}}function Mu(e){return e==="experimental-webgl"?"webgl":e}function bn(e,t,r,s){const i=[];try{const a=Ue(e.HTMLCanvasElement.prototype,"getContext",function(o){return function(u,...l){if(!le(this,t,r,!0)){const c=Mu(u);if("__context"in this||(this.__context=c),s&&["webgl","webgl2"].includes(c))if(l[0]&&typeof l[0]=="object"){const n=l[0];n.preserveDrawingBuffer||(n.preserveDrawingBuffer=!0)}else l.splice(0,1,{preserveDrawingBuffer:!0})}return o.apply(this,[u,...l])}});i.push(a)}catch(a){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach(a=>a())}}function Sn(e,t,r,s,i,a){const o=[],u=Object.getOwnPropertyNames(e);for(const l of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(l))try{if(typeof e[l]!="function")continue;const c=Ue(e,l,function(n){return function(...d){const h=n.apply(this,d);if(So(h,a,this),"tagName"in this.canvas&&!le(this.canvas,s,i,!0)){const f=Co(d,a,this),m={type:t,property:l,args:f};r(this.canvas,m)}return h}});o.push(c)}catch(c){const n=lt(e,l,{set(d){r(this.canvas,{type:t,property:l,args:[d],setter:!0})}});o.push(n)}return o}function Nu(e,t,r,s){const i=[];return i.push(...Sn(t.WebGLRenderingContext.prototype,Re.WebGL,e,r,s,t)),typeof t.WebGL2RenderingContext!="undefined"&&i.push(...Sn(t.WebGL2RenderingContext.prototype,Re.WebGL2,e,r,s,t)),()=>{i.forEach(a=>a())}}const xo=`(function() {
  "use strict";
  var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  var lookup = typeof Uint8Array === "undefined" ? [] : new Uint8Array(256);
  for (var i = 0; i < chars.length; i++) {
    lookup[chars.charCodeAt(i)] = i;
  }
  var encode = function(arraybuffer) {
    var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = "";
    for (i2 = 0; i2 < len; i2 += 3) {
      base64 += chars[bytes[i2] >> 2];
      base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];
      base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];
      base64 += chars[bytes[i2 + 2] & 63];
    }
    if (len % 3 === 2) {
      base64 = base64.substring(0, base64.length - 1) + "=";
    } else if (len % 3 === 1) {
      base64 = base64.substring(0, base64.length - 2) + "==";
    }
    return base64;
  };
  const lastBlobMap = /* @__PURE__ */ new Map();
  const transparentBlobMap = /* @__PURE__ */ new Map();
  async function getTransparentBlobFor(width, height, dataURLOptions) {
    const id = \`\${width}-\${height}\`;
    if ("OffscreenCanvas" in globalThis) {
      if (transparentBlobMap.has(id)) return transparentBlobMap.get(id);
      const offscreen = new OffscreenCanvas(width, height);
      offscreen.getContext("2d");
      const blob = await offscreen.convertToBlob(dataURLOptions);
      const arrayBuffer = await blob.arrayBuffer();
      const base64 = encode(arrayBuffer);
      transparentBlobMap.set(id, base64);
      return base64;
    } else {
      return "";
    }
  }
  const worker = self;
  worker.onmessage = async function(e) {
    if ("OffscreenCanvas" in globalThis) {
      const { id, bitmap, width, height, dataURLOptions } = e.data;
      const transparentBase64 = getTransparentBlobFor(
        width,
        height,
        dataURLOptions
      );
      const offscreen = new OffscreenCanvas(width, height);
      const ctx = offscreen.getContext("2d");
      ctx.drawImage(bitmap, 0, 0);
      bitmap.close();
      const blob = await offscreen.convertToBlob(dataURLOptions);
      const type = blob.type;
      const arrayBuffer = await blob.arrayBuffer();
      const base64 = encode(arrayBuffer);
      if (!lastBlobMap.has(id) && await transparentBase64 === base64) {
        lastBlobMap.set(id, base64);
        return worker.postMessage({ id });
      }
      if (lastBlobMap.get(id) === base64) return worker.postMessage({ id });
      worker.postMessage({
        id,
        type,
        base64,
        width,
        height
      });
      lastBlobMap.set(id, base64);
    } else {
      return worker.postMessage({ id: e.data.id });
    }
  };
})();
//# sourceMappingURL=image-bitmap-data-url-worker-IJpC7g_b.js.map
`,Cn=typeof self!="undefined"&&self.Blob&&new Blob([xo],{type:"text/javascript;charset=utf-8"});function Ou(e){let t;try{if(t=Cn&&(self.URL||self.webkitURL).createObjectURL(Cn),!t)throw"";const r=new Worker(t,{name:e==null?void 0:e.name});return r.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(t)}),r}catch(r){return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(xo),{name:e==null?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}class Iu{constructor(t){M(this,"pendingCanvasMutations",new Map),M(this,"rafStamps",{latestId:0,invokeId:null}),M(this,"mirror"),M(this,"mutationCb"),M(this,"resetObservers"),M(this,"frozen",!1),M(this,"locked",!1),M(this,"processMutation",(l,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(l)||this.pendingCanvasMutations.set(l,[]),this.pendingCanvasMutations.get(l).push(c)});const{sampling:r="all",win:s,blockClass:i,blockSelector:a,recordCanvas:o,dataURLOptions:u}=t;this.mutationCb=t.mutationCb,this.mirror=t.mirror,o&&r==="all"&&this.initCanvasMutationObserver(s,i,a),o&&typeof r=="number"&&this.initCanvasFPSObserver(r,s,i,a,{dataURLOptions:u})}reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}initCanvasFPSObserver(t,r,s,i,a){const o=bn(r,s,i,!0),u=new Map,l=new Ou;l.onmessage=m=>{const{id:p}=m.data;if(u.set(p,!1),!("base64"in m.data))return;const{base64:g,type:y,width:w,height:S}=m.data;this.mutationCb({id:p,type:Re["2D"],commands:[{property:"clearRect",args:[0,0,w,S]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:g}],type:y}]},0,0]}]})};const c=1e3/t;let n=0,d;const h=()=>{const m=[];return r.document.querySelectorAll("canvas").forEach(p=>{le(p,s,i,!0)||m.push(p)}),m},f=m=>{if(n&&m-n<c){d=requestAnimationFrame(f);return}n=m,h().forEach(async p=>{var g;const y=this.mirror.getId(p);if(u.get(y)||p.width===0||p.height===0)return;if(u.set(y,!0),["webgl","webgl2"].includes(p.__context)){const S=p.getContext(p.__context);((g=S==null?void 0:S.getContextAttributes())==null?void 0:g.preserveDrawingBuffer)===!1&&S.clear(S.COLOR_BUFFER_BIT)}const w=await createImageBitmap(p);l.postMessage({id:y,bitmap:w,width:p.width,height:p.height,dataURLOptions:a.dataURLOptions},[w])}),d=requestAnimationFrame(f)};d=requestAnimationFrame(f),this.resetObservers=()=>{o(),cancelAnimationFrame(d)}}initCanvasMutationObserver(t,r,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const i=bn(t,r,s,!1),a=Ru(this.processMutation.bind(this),t,r,s),o=Nu(this.processMutation.bind(this),t,r,s);this.resetObservers=()=>{i(),a(),o()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=r=>{this.rafStamps.latestId=r,requestAnimationFrame(t)};requestAnimationFrame(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,r)=>{const s=this.mirror.getId(r);this.flushPendingCanvasMutationFor(r,s)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,r){if(this.frozen||this.locked)return;const s=this.pendingCanvasMutations.get(t);if(!s||r===-1)return;const i=s.map(o=>{const c=o,{type:u}=c;return $e(c,["type"])}),{type:a}=s[0];this.mutationCb({id:r,type:a,commands:i}),this.pendingCanvasMutations.delete(t)}}class Du{constructor(t){M(this,"trackedLinkElements",new WeakSet),M(this,"mutationCb"),M(this,"adoptedStyleSheetCb"),M(this,"styleMirror",new Ws),this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,r){if(t.length===0)return;const s={id:r,styleIds:[]},i=[];for(const a of t){let o;this.styleMirror.has(a)?o=this.styleMirror.getId(a):(o=this.styleMirror.add(a),i.push({styleId:o,rules:Array.from(a.rules||CSSRule,(u,l)=>({rule:kn(u,a.href),index:l}))})),s.styleIds.push(o)}i.length>0&&(s.styles=i),this.adoptedStyleSheetCb(s)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Au{constructor(){M(this,"nodeMap",new WeakMap),M(this,"active",!1)}inOtherBuffer(t,r){const s=this.nodeMap.get(t);return s&&Array.from(s).some(i=>i!==r)}add(t,r){this.active||(this.active=!0,requestAnimationFrame(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))}destroy(){}}let ee,Rt,es,kt=!1;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Hs=e.contentWindow)==null?void 0:Hs.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const me=Pn();function _e(e={}){const{emit:t,checkoutEveryNms:r,checkoutEveryNth:s,blockClass:i="rr-block",blockSelector:a=null,ignoreClass:o="rr-ignore",ignoreSelector:u=null,maskTextClass:l="rr-mask",maskTextSelector:c=null,inlineStylesheet:n=!0,maskAllInputs:d,maskInputOptions:h,slimDOMOptions:f,maskInputFn:m,maskTextFn:p,hooks:g,packFn:y,sampling:w={},dataURLOptions:S={},mousemoveWait:C,recordDOM:v=!0,recordCanvas:b=!1,recordCrossOriginIframes:E=!1,recordAfter:x=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:I=!1,collectFonts:N=!1,inlineImages:L=!1,plugins:T,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:U=new Set([]),errorHandler:ue,applyBackgroundColorToBlockedElements:te=!1}=e;nu(ue);const k=E?window.parent===window:!0;let G=!1;if(!k)try{window.parent.document&&(G=!1)}catch(B){G=!0}if(k&&!t)throw new Error("emit function is required");if(!k&&!G)return()=>{};C!==void 0&&w.mousemove===void 0&&(w.mousemove=C),me.reset();const ne=d===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:h!==void 0?h:{password:!0},j=f===!0||f==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:f==="all",headMetaDescKeywords:f==="all",headTitleMutations:f==="all"}:f||{};Fs();let H,Se=0;const O=B=>{for(const ie of T||[])ie.eventProcessor&&(B=ie.eventProcessor(B));return y&&!G&&(B=y(B)),B};ee=(B,ie)=>{var K;const Z=B;if(Z.timestamp=nt(),(K=Pe[0])!=null&&K.isFrozen()&&Z.type!==_.FullSnapshot&&!(Z.type===_.IncrementalSnapshot&&Z.data.source===D.Mutation)&&Pe.forEach(ve=>ve.unfreeze()),k)t==null||t(O(Z),ie);else if(G){const ve={type:"rrweb",event:O(Z),origin:window.location.origin,isCheckout:ie};window.parent.postMessage(ve,"*")}if(Z.type===_.FullSnapshot)H=Z,Se=0;else if(Z.type===_.IncrementalSnapshot){if(Z.data.source===D.Mutation&&Z.data.isAttachIframe)return;Se++;const ve=s&&Se>=s,Y=r&&Z.timestamp-H.timestamp>r;(ve||Y)&&Rt(!0)}};const he=B=>{ee({type:_.IncrementalSnapshot,data:P({source:D.Mutation},B)})},fe=B=>ee({type:_.IncrementalSnapshot,data:P({source:D.Scroll},B)}),Be=B=>ee({type:_.IncrementalSnapshot,data:P({source:D.CanvasMutation},B)}),Ce=B=>ee({type:_.IncrementalSnapshot,data:P({source:D.AdoptedStyleSheet},B)}),de=new Du({mutationCb:he,adoptedStyleSheetCb:Ce}),pe=new bu({mirror:me,mutationCb:he,stylesheetManager:de,recordCrossOriginIframes:E,wrappedEmit:ee});for(const B of T||[])B.getMirror&&B.getMirror({nodeMirror:me,crossOriginIframeMirror:pe.crossOriginIframeMirror,crossOriginIframeStyleMirror:pe.crossOriginIframeStyleMirror});const ke=new Au;es=new Iu({recordCanvas:b,mutationCb:Be,win:window,blockClass:i,blockSelector:a,mirror:me,sampling:w.canvas,dataURLOptions:S});const re=new Su({mutationCb:he,scrollCb:fe,bypassOptions:{blockClass:i,blockSelector:a,maskTextClass:l,maskTextSelector:c,inlineStylesheet:n,maskInputOptions:ne,dataURLOptions:S,maskTextFn:p,maskInputFn:m,recordCanvas:b,inlineImages:L,sampling:w,slimDOMOptions:j,iframeManager:pe,stylesheetManager:de,canvasManager:es,keepIframeSrcFn:R,processedNodeManager:ke},mirror:me});Rt=(B=!1)=>{if(!v)return;ee({type:_.Meta,data:{href:window.location.href,width:ks(),height:_s()}},B),de.reset(),re.init(),Pe.forEach(K=>K.lock());const ie=Na(document,{mirror:me,blockClass:i,blockSelector:a,maskTextClass:l,maskTextSelector:c,inlineStylesheet:n,maskAllInputs:ne,maskTextFn:p,maskInputFn:m,slimDOM:j,dataURLOptions:S,recordCanvas:b,inlineImages:L,applyBackgroundColorToBlockedElements:te,onSerialize:K=>{Xe(K,me)&&pe.addIframe(K),Bs(K,me)&&de.trackLinkElement(K),Oe(K)&&re.addShadowRoot($.shadowRoot(K),document)},onIframeLoad:(K,Z)=>{pe.attachIframe(K,Z),re.observeAttachShadow(K)},onStylesheetLoad:(K,Z)=>{de.attachLinkElement(K,Z)},keepIframeSrcFn:R});if(!ie)return console.warn("Failed to snapshot the document");ee({type:_.FullSnapshot,data:{node:ie,initialOffset:Ts(window)}},B),Pe.forEach(K=>K.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&de.adoptStyleSheets(document.adoptedStyleSheets,me.getId(document))};try{const B=[],ie=Z=>{var ve;return z(vu)({mutationCb:he,mousemoveCb:(Y,Jt)=>ee({type:_.IncrementalSnapshot,data:{source:Jt,positions:Y}}),mouseInteractionCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.MouseInteraction},Y)}),scrollCb:fe,viewportResizeCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.ViewportResize},Y)}),inputCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.Input},Y)}),mediaInteractionCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.MediaInteraction},Y)}),styleSheetRuleCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.StyleSheetRule},Y)}),styleDeclarationCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.StyleDeclaration},Y)}),canvasMutationCb:Be,fontCb:Y=>ee({type:_.IncrementalSnapshot,data:P({source:D.Font},Y)}),selectionCb:Y=>{ee({type:_.IncrementalSnapshot,data:P({source:D.Selection},Y)})},customElementCb:Y=>{ee({type:_.IncrementalSnapshot,data:P({source:D.CustomElement},Y)})},blockClass:i,ignoreClass:o,ignoreSelector:u,maskTextClass:l,maskTextSelector:c,maskInputOptions:ne,inlineStylesheet:n,sampling:w,recordDOM:v,recordCanvas:b,inlineImages:L,userTriggeredOnInput:I,collectFonts:N,doc:Z,maskInputFn:m,maskTextFn:p,keepIframeSrcFn:R,blockSelector:a,slimDOMOptions:j,dataURLOptions:S,mirror:me,iframeManager:pe,stylesheetManager:de,shadowDomManager:re,processedNodeManager:ke,canvasManager:es,ignoreCSSAttributes:U,plugins:((ve=T==null?void 0:T.filter(Y=>Y.observer))==null?void 0:ve.map(Y=>({observer:Y.observer,options:Y.options,callback:Jt=>ee({type:_.Plugin,data:{plugin:Y.name,payload:Jt}})})))||[]},g)};pe.addLoadListener(Z=>{try{B.push(ie(Z.contentDocument))}catch(ve){console.warn(ve)}});const K=()=>{Rt(),B.push(ie(document)),kt=!0};return document.readyState==="interactive"||document.readyState==="complete"?K():(B.push(ae("DOMContentLoaded",()=>{ee({type:_.DomContentLoaded,data:{}}),x==="DOMContentLoaded"&&K()})),B.push(ae("load",()=>{ee({type:_.Load,data:{}}),x==="load"&&K()},window))),()=>{B.forEach(Z=>Z()),ke.destroy(),kt=!1,ou()}}catch(B){console.warn(B)}}_e.addCustomEvent=(e,t)=>{if(!kt)throw new Error("please add custom event after start recording");ee({type:_.Custom,data:{tag:e,payload:t}})};_e.freezePage=()=>{Pe.forEach(e=>e.freeze())};_e.takeFullSnapshot=e=>{if(!kt)throw new Error("please take full snapshot after start recording");Rt(e)};_e.mirror=me;function Ro(e){return{all:e=e||new Map,on:function(t,r){var s=e.get(t);s?s.push(r):e.set(t,[r])},off:function(t,r){var s=e.get(t);s&&(r?s.splice(s.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var s=e.get(t);s&&s.slice().map(function(i){i(r)}),(s=e.get("*"))&&s.slice().map(function(i){i(t,r)})}}}const Tu=Object.freeze(Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"}));function _u(e=window,t=document){if("scrollBehavior"in t.documentElement.style&&e.__forceSmoothScrollPolyfill__!==!0)return;const r=e.HTMLElement||e.Element,s=468,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:r.prototype.scroll||l,scrollIntoView:r.prototype.scrollIntoView},a=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;function o(y){const w=["MSIE ","Trident/","Edge/"];return new RegExp(w.join("|")).test(y)}const u=o(e.navigator.userAgent)?1:0;function l(y,w){this.scrollLeft=y,this.scrollTop=w}function c(y){return .5*(1-Math.cos(Math.PI*y))}function n(y){if(y===null||typeof y!="object"||y.behavior===void 0||y.behavior==="auto"||y.behavior==="instant")return!0;if(typeof y=="object"&&y.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+y.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(y,w){if(w==="Y")return y.clientHeight+u<y.scrollHeight;if(w==="X")return y.clientWidth+u<y.scrollWidth}function h(y,w){const S=e.getComputedStyle(y,null)["overflow"+w];return S==="auto"||S==="scroll"}function f(y){const w=d(y,"Y")&&h(y,"Y"),S=d(y,"X")&&h(y,"X");return w||S}function m(y){for(;y!==t.body&&f(y)===!1;)y=y.parentNode||y.host;return y}function p(y){const w=a();let S,C,v,b=(w-y.startTime)/s;b=b>1?1:b,S=c(b),C=y.startX+(y.x-y.startX)*S,v=y.startY+(y.y-y.startY)*S,y.method.call(y.scrollable,C,v),(C!==y.x||v!==y.y)&&e.requestAnimationFrame(p.bind(e,y))}function g(y,w,S){let C,v,b,E;const x=a();y===t.body?(C=e,v=e.scrollX||e.pageXOffset,b=e.scrollY||e.pageYOffset,E=i.scroll):(C=y,v=y.scrollLeft,b=y.scrollTop,E=l),p({scrollable:C,method:E,startTime:x,startX:v,startY:b,x:w,y:S})}e.scroll=e.scrollTo=function(){if(arguments[0]!==void 0){if(n(arguments[0])===!0){i.scroll.call(e,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:e.scrollX||e.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:e.scrollY||e.pageYOffset);return}g.call(e,t.body,arguments[0].left!==void 0?~~arguments[0].left:e.scrollX||e.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:e.scrollY||e.pageYOffset)}},e.scrollBy=function(){if(arguments[0]!==void 0){if(n(arguments[0])){i.scrollBy.call(e,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}g.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))}},r.prototype.scroll=r.prototype.scrollTo=function(){if(arguments[0]===void 0)return;if(n(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===void 0)throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}const y=arguments[0].left,w=arguments[0].top;g.call(this,this,typeof y=="undefined"?this.scrollLeft:~~y,typeof w=="undefined"?this.scrollTop:~~w)},r.prototype.scrollBy=function(){if(arguments[0]!==void 0){if(n(arguments[0])===!0){i.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},r.prototype.scrollIntoView=function(){if(n(arguments[0])===!0){i.scrollIntoView.call(this,arguments[0]===void 0?!0:arguments[0]);return}const y=m(this),w=y.getBoundingClientRect(),S=this.getBoundingClientRect();y!==t.body?(g.call(this,y,y.scrollLeft+S.left-w.left,y.scrollTop+S.top-w.top),e.getComputedStyle(y).position!=="fixed"&&e.scrollBy({left:w.left,top:w.top,behavior:"smooth"})):e.scrollBy({left:S.left,top:S.top,behavior:"smooth"})}}class ku{constructor(t=[],r){M(this,"timeOffset",0),M(this,"speed"),M(this,"actions"),M(this,"raf",null),M(this,"lastTimestamp"),this.actions=t,this.speed=r.speed}addAction(t){const r=this.raf===!0;if(!this.actions.length||this.actions[this.actions.length-1].delay<=t.delay)this.actions.push(t);else{const s=this.findActionIndex(t);this.actions.splice(s,0,t)}r&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const t=performance.now();for(this.timeOffset+=(t-this.lastTimestamp)*this.speed,this.lastTimestamp=t;this.actions.length;){const r=this.actions[0];if(this.timeOffset>=r.delay)this.actions.shift(),r.doAction();else break}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(this.raf!==!0&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(t){this.speed=t}isActive(){return this.raf!==null}findActionIndex(t){let r=0,s=this.actions.length-1;for(;r<=s;){const i=Math.floor((r+s)/2);if(this.actions[i].delay<t.delay)r=i+1;else if(this.actions[i].delay>t.delay)s=i-1;else return i+1}return r}}function En(e,t){if(e.type===_.IncrementalSnapshot&&e.data.source===D.MouseMove&&e.data.positions&&e.data.positions.length){const r=e.data.positions[0].timeOffset,s=e.timestamp+r;return e.delay=s-t,s-t}return e.delay=e.timestamp-t,e.delay}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xn(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var s,i,a=r.call(e),o=[];try{for(;(t===void 0||t-- >0)&&!(s=a.next()).done;)o.push(s.value)}catch(u){i={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o}var Je;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Je||(Je={}));var Mo={type:"xstate.init"};function ts(e){return e===void 0?[]:[].concat(e)}function qe(e){return{type:"xstate.assign",assignment:e}}function Rn(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function Pt(e){return function(t){return e===t}}function No(e){return typeof e=="string"?{type:e}:e}function Mn(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Pt(e)}}function Nn(e,t,r){var s=t,i=!1;return[e.filter((function(a){if(a.type==="xstate.assign"){i=!0;var o=Object.assign({},s);return typeof a.assignment=="function"?o=a.assignment(s,r):Object.keys(a.assignment).forEach((function(u){o[u]=typeof a.assignment[u]=="function"?a.assignment[u](s,r):a.assignment[u]})),s=o,!1}return!0})),s,i]}function Oo(e,t){t===void 0&&(t={});var r=xn(Nn(ts(e.states[e.initial].entry).map((function(o){return Rn(o,t.actions)})),e.context,Mo),2),s=r[0],i=r[1],a={config:e,_options:t,initialState:{value:e.initial,actions:s,context:i,matches:Pt(e.initial)},transition:function(o,u){var l,c,n=typeof o=="string"?{value:o,context:e.context}:o,d=n.value,h=n.context,f=No(u),m=e.states[d];if(m.on){var p=ts(m.on[f.type]);try{for(var g=(function(k){var G=typeof Symbol=="function"&&Symbol.iterator,ne=G&&k[G],j=0;if(ne)return ne.call(k);if(k&&typeof k.length=="number")return{next:function(){return k&&j>=k.length&&(k=void 0),{value:k&&k[j++],done:!k}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")})(p),y=g.next();!y.done;y=g.next()){var w=y.value;if(w===void 0)return Mn(d,h);var S=typeof w=="string"?{target:w}:w,C=S.target,v=S.actions,b=v===void 0?[]:v,E=S.cond,x=E===void 0?function(){return!0}:E,I=C===void 0,N=C!=null?C:d,L=e.states[N];if(x(h,f)){var T=xn(Nn((I?ts(b):[].concat(m.exit,b,L.entry).filter((function(k){return k}))).map((function(k){return Rn(k,a._options.actions)})),h,f),3),R=T[0],U=T[1],ue=T[2],te=C!=null?C:d;return{value:te,context:U,actions:R,changed:C!==d||R.length>0||ue,matches:Pt(te)}}}}catch(k){l={error:k}}finally{try{y&&!y.done&&(c=g.return)&&c.call(g)}finally{if(l)throw l.error}}}return Mn(d,h)}};return a}var On=function(e,t){return e.actions.forEach((function(r){var s=r.exec;return s&&s(e.context,t)}))};function Io(e){var t=e.initialState,r=Je.NotStarted,s=new Set,i={_machine:e,send:function(a){r===Je.Running&&(t=e.transition(t,a),On(t,No(a)),s.forEach((function(o){return o(t)})))},subscribe:function(a){return s.add(a),a(t),{unsubscribe:function(){return s.delete(a)}}},start:function(a){if(a){var o=typeof a=="object"?a:{context:e.config.context,value:a};t={value:o.value,actions:[],context:o.context,matches:Pt(o.value)}}return r=Je.Running,On(t,Mo),i},stop:function(){return r=Je.Stopped,s.clear(),i},get state(){return t},get status(){return r}};return i}function Pu(e,t){for(let r=e.length-1;r>=0;r--){const s=e[r];if(s.type===_.Meta&&s.timestamp<=t)return e.slice(r)}return e}function Lu(e,{getCastFn:t,applyEventsSynchronously:r,emitter:s}){const i=Oo({id:"player",context:e,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:qe({lastPlayedEvent:(a,o)=>o.type==="CAST_EVENT"?o.payload.event:a.lastPlayedEvent}),recordTimeOffset:qe((a,o)=>{let u=a.timeOffset;return"payload"in o&&"timeOffset"in o.payload&&(u=o.payload.timeOffset),se(P({},a),{timeOffset:u,baselineTime:a.events[0].timestamp+u})}),play(a){var o;const{timer:u,events:l,baselineTime:c,lastPlayedEvent:n}=a;u.clear();for(const m of l)En(m,c);const d=Pu(l,c);let h=n==null?void 0:n.timestamp;(n==null?void 0:n.type)===_.IncrementalSnapshot&&n.data.source===D.MouseMove&&(h=n.timestamp+((o=n.data.positions[0])==null?void 0:o.timeOffset)),c<(h||0)&&s.emit(q.PlayBack);const f=new Array;for(const m of d)if(!(h&&h<c&&(m.timestamp<=h||m===n)))if(m.timestamp<c)f.push(m);else{const p=t(m,!1);u.addAction({doAction:()=>{p()},delay:m.delay})}r(f),s.emit(q.Flush),u.start()},pause(a){a.timer.clear()},resetLastPlayedEvent:qe(a=>se(P({},a),{lastPlayedEvent:null})),startLive:qe({baselineTime:(a,o)=>(a.timer.start(),o.type==="TO_LIVE"&&o.payload.baselineTime?o.payload.baselineTime:Date.now())}),addEvent:qe((a,o)=>{const{baselineTime:u,timer:l,events:c}=a;if(o.type==="ADD_EVENT"){const{event:n}=o.payload;En(n,u);let d=c.length-1;if(!c[d]||c[d].timestamp<=n.timestamp)c.push(n);else{let m=-1,p=0;for(;p<=d;){const g=Math.floor((p+d)/2);c[g].timestamp<=n.timestamp?p=g+1:d=g-1}m===-1&&(m=p),c.splice(m,0,n)}const h=n.timestamp<u,f=t(n,h);h?f():l.isActive()&&l.addAction({doAction:()=>{f()},delay:n.delay})}return se(P({},a),{events:c})})}});return Io(i)}function Fu(e){const t=Oo({id:"speed",context:e,initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(r,s)=>{"payload"in s&&r.timer.setSpeed(s.payload.speed)},recordSpeed:qe({normalSpeed:r=>r.timer.speed}),restoreSpeed:r=>{r.timer.setSpeed(r.normalSpeed)}}});return Io(t)}const In=e=>[`.${e} { background: currentColor }`,"noscript { display: none !important; }"],Dn=new Map;function Do(e,t){let r=Dn.get(e);return r||(r=new Map,Dn.set(e,r)),r.has(t)||r.set(t,[]),r.get(t)}function Ie(e,t,r){return async s=>{if(s&&typeof s=="object"&&"rr_type"in s)if(r&&(r.isUnchanged=!1),s.rr_type==="ImageBitmap"&&"args"in s){const i=await Ie(e,t,r)(s.args);return await createImageBitmap.apply(null,i)}else if("index"in s){if(r||t===null)return s;const{rr_type:i,index:a}=s;return Do(t,i)[a]}else if("args"in s){const{rr_type:i,args:a}=s,o=window[i];return new o(...await Promise.all(a.map(Ie(e,t,r))))}else{if("base64"in s)return Eu(s.base64);if("src"in s){const i=e.get(s.src);if(i)return i;{const a=new Image;return a.src=s.src,e.set(s.src,a),a}}else if("data"in s&&s.rr_type==="Blob"){const i=await Promise.all(s.data.map(Ie(e,t,r)));return new Blob(i,{type:s.type})}}else if(Array.isArray(s))return await Promise.all(s.map(Ie(e,t,r)));return s}}function Uu(e,t){try{return t===Re.WebGL?e.getContext("webgl")||e.getContext("experimental-webgl"):e.getContext("webgl2")}catch(r){return null}}const Bu=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function $u(e,t){if(!(t!=null&&t.constructor))return;const{name:r}=t.constructor;if(!Bu.includes(r))return;const s=Do(e,r);s.includes(t)||s.push(t)}async function Wu({mutation:e,target:t,type:r,imageMap:s,errorHandler:i}){try{const a=Uu(t,r);if(!a)return;if(e.setter){a[e.property]=e.args[0];return}const o=a[e.property],u=await Promise.all(e.args.map(Ie(s,a))),l=o.apply(a,u);$u(a,l);const c=!1}catch(a){i(e,a)}}async function zu({event:e,mutations:t,target:r,imageMap:s,errorHandler:i}){const a=r.getContext("2d");if(!a){i(t[0],new Error("Canvas context is null"));return}const o=t.map(async l=>Promise.all(l.args.map(Ie(s,a))));(await Promise.all(o)).forEach((l,c)=>{const n=t[c];try{if(n.setter){a[n.property]=n.args[0];return}const d=a[n.property];n.property==="drawImage"&&typeof n.args[0]=="string"?(s.get(e),d.apply(a,n.args)):d.apply(a,l)}catch(d){i(n,d)}})}async function us({event:e,mutation:t,target:r,imageMap:s,canvasEventMap:i,errorHandler:a}){try{const o=i.get(e)||t,u="commands"in o?o.commands:[o];if([Re.WebGL,Re.WebGL2].includes(t.type)){for(let l=0;l<u.length;l++){const c=u[l];await Wu({mutation:c,type:t.type,target:r,imageMap:s,errorHandler:a})}return}await zu({event:e,mutations:u,target:r,imageMap:s,errorHandler:a})}catch(o){a(t,o)}}class Vu{constructor(t){M(this,"mediaMap",new Map),M(this,"warn"),M(this,"service"),M(this,"speedService"),M(this,"emitter"),M(this,"getCurrentTime"),M(this,"metadataCallbackMap",new Map),this.warn=t.warn,this.service=t.service,this.speedService=t.speedService,this.emitter=t.emitter,this.getCurrentTime=t.getCurrentTime,this.emitter.on(q.Start,this.start.bind(this)),this.emitter.on(q.SkipStart,this.start.bind(this)),this.emitter.on(q.Pause,this.pause.bind(this)),this.emitter.on(q.Finish,this.pause.bind(this)),this.speedService.subscribe(()=>{this.syncAllMediaElements()})}syncAllMediaElements(t={pause:!1}){this.mediaMap.forEach((r,s)=>{this.syncTargetWithState(s),t.pause&&s.pause()})}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:t,target:r,mediaState:s}){if(s.isPlaying){const a=(t-s.lastInteractionTimeOffset)/1e3*s.playbackRate,o="duration"in r&&r.duration;if(Number.isNaN(o)){this.waitForMetadata(r);return}let u=s.currentTimeAtLastInteraction+a;r.loop&&o!==!1&&(u=u%o),r.currentTime=u}else r.pause(),r.currentTime=s.currentTimeAtLastInteraction}waitForMetadata(t){if(this.metadataCallbackMap.has(t)||!("addEventListener"in t))return;const r=()=>{this.metadataCallbackMap.delete(t);const s=this.mediaMap.get(t);s&&this.seekTo({time:this.getCurrentTime(),target:t,mediaState:s})};this.metadataCallbackMap.set(t,r),t.addEventListener("loadedmetadata",r,{once:!0})}getMediaStateFromMutation({target:t,timeOffset:r,mutation:s}){var f,m,p,g,y;const i=this.mediaMap.get(t),{type:a,playbackRate:o,currentTime:u,muted:l,volume:c,loop:n}=s;return{isPlaying:a===Ne.Play||a!==Ne.Pause&&((i==null?void 0:i.isPlaying)||t.getAttribute("autoplay")!==null),currentTimeAtLastInteraction:(f=u!=null?u:i==null?void 0:i.currentTimeAtLastInteraction)!=null?f:0,lastInteractionTimeOffset:r,playbackRate:(m=o!=null?o:i==null?void 0:i.playbackRate)!=null?m:1,volume:(p=c!=null?c:i==null?void 0:i.volume)!=null?p:1,muted:(g=l!=null?l:i==null?void 0:i.muted)!=null?g:t.getAttribute("muted")===null,loop:(y=n!=null?n:i==null?void 0:i.loop)!=null?y:t.getAttribute("loop")===null}}syncTargetWithState(t){const r=this.mediaMap.get(t);if(!r)return;const{muted:s,loop:i,volume:a,isPlaying:o}=r,u=this.service.state.matches("paused"),l=r.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:t,mediaState:r}),t.volume!==a&&(t.volume=a),t.muted=s,t.loop=i,t.playbackRate!==l&&(t.playbackRate=l),o&&!u?t.play():t.pause()}catch(c){this.warn(`Failed to replay media interactions: ${c.message||c}`)}}addMediaElements(t,r,s){if(!["AUDIO","VIDEO"].includes(t.nodeName))return;const i=t,a=s.getMeta(i);if(!a||!("attributes"in a))return;const o=this.service.state.matches("paused"),u=a.attributes;let l=!1;u.rr_mediaState?l=u.rr_mediaState==="played":l=i.getAttribute("autoplay")!==null,l&&o&&i.pause();let c=1;typeof u.rr_mediaPlaybackRate=="number"&&(c=u.rr_mediaPlaybackRate);let n=!1;typeof u.rr_mediaMuted=="boolean"?n=u.rr_mediaMuted:n=i.getAttribute("muted")!==null;let d=!1;typeof u.rr_mediaLoop=="boolean"?d=u.rr_mediaLoop:d=i.getAttribute("loop")!==null;let h=1;typeof u.rr_mediaVolume=="number"&&(h=u.rr_mediaVolume);let f=0;typeof u.rr_mediaCurrentTime=="number"&&(f=u.rr_mediaCurrentTime),this.mediaMap.set(i,{isPlaying:l,currentTimeAtLastInteraction:f,lastInteractionTimeOffset:r,playbackRate:c,volume:h,muted:n,loop:d}),this.syncTargetWithState(i)}mediaMutation({target:t,timeOffset:r,mutation:s}){this.mediaMap.set(t,this.getMediaStateFromMutation({target:t,timeOffset:r,mutation:s})),this.syncTargetWithState(t)}isSupportedMediaElement(t){return["AUDIO","VIDEO"].includes(t.nodeName)}reset(){this.mediaMap.clear()}}function St(e,t){if(e.nodeName!=="DIALOG"||e instanceof we)return;const r=e,s=r.open,i=s&&r.matches("dialog:modal"),a=r.getAttribute("rr_open_mode"),o=typeof(t==null?void 0:t.attributes.open)=="string"||typeof r.getAttribute("open")=="string",u=a==="modal";if(!(s&&!(i&&a==="non-modal"||!i&&u))){if(!r.isConnected){console.warn("dialog is not attached to the dom",r);return}s&&r.close(),o&&(u?r.showModal():r.show())}}function qu(e,t){if(e.nodeName!=="DIALOG"||e instanceof we)return;const r=e;if(!r.isConnected){console.warn("dialog is not attached to the dom",r);return}t.attributes.open===null&&(r.removeAttribute("open"),r.removeAttribute("rr_open_mode"))}const ju=Ro||Tu,An="[replayer]",Ct="__rrweb-injected-style__",rs={duration:500,lineCap:"round",lineWidth:3,strokeStyle:"red"};function Tn(e){return e.type==_.IncrementalSnapshot&&(e.data.source==D.TouchMove||e.data.source==D.MouseInteraction&&e.data.type==V.TouchStart)}class Gu{constructor(t,r){if(M(this,"wrapper"),M(this,"iframe"),M(this,"service"),M(this,"speedService"),M(this,"config"),M(this,"usingVirtualDom",!1),M(this,"virtualDom",new Ke),M(this,"mouse"),M(this,"mouseTail",null),M(this,"tailPositions",[]),M(this,"emitter",ju()),M(this,"nextUserInteractionEvent"),M(this,"legacy_missingNodeRetryMap",{}),M(this,"cache",Ai()),M(this,"imageMap",new Map),M(this,"canvasEventMap",new Map),M(this,"mirror",Pn()),M(this,"styleMirror",new Ws),M(this,"mediaManager"),M(this,"firstFullSnapshot",null),M(this,"newDocumentQueue",[]),M(this,"mousePos",null),M(this,"touchActive",null),M(this,"lastMouseDownEvent",null),M(this,"lastHoveredRootNode"),M(this,"lastSelectionData",null),M(this,"constructedStyleMutations",[]),M(this,"adoptedStyleSheets",[]),M(this,"handleResize",u=>{this.iframe.style.display="inherit";for(const l of[this.mouseTail,this.iframe])l&&(l.setAttribute("width",String(u.width)),l.setAttribute("height",String(u.height)))}),M(this,"applyEventsSynchronously",u=>{for(const l of u){switch(l.type){case _.DomContentLoaded:case _.Load:case _.Custom:continue;case _.FullSnapshot:case _.Meta:case _.Plugin:case _.IncrementalSnapshot:break}this.getCastFn(l,!0)()}}),M(this,"getCastFn",(u,l=!1)=>{let c;switch(u.type){case _.DomContentLoaded:case _.Load:break;case _.Custom:c=()=>{this.emitter.emit(q.CustomEvent,u)};break;case _.Meta:c=()=>this.emitter.emit(q.Resize,{width:u.data.width,height:u.data.height});break;case _.FullSnapshot:c=()=>{var d;if(this.firstFullSnapshot){if(this.firstFullSnapshot===u){this.firstFullSnapshot=!0;return}}else this.firstFullSnapshot=!0;this.mediaManager.reset(),this.styleMirror.reset(),this.rebuildFullSnapshot(u,l),(d=this.iframe.contentWindow)==null||d.scrollTo(u.data.initialOffset)};break;case _.IncrementalSnapshot:c=()=>{if(this.applyIncremental(u,l),!l&&this.config.skipInactive&&!this.nextUserInteractionEvent){for(const d of this.service.state.context.events)if(!(d.timestamp<=u.timestamp)&&this.isUserInteraction(d)){d.delay-u.delay>this.config.inactivePeriodThreshold*this.speedService.state.context.timer.speed&&(this.nextUserInteractionEvent=d);break}if(this.nextUserInteractionEvent){const d=this.nextUserInteractionEvent.delay-u.delay;this.play(this.getCurrentTime()+d),this.nextUserInteractionEvent=null}}};break}return()=>{c&&c();for(const h of this.config.plugins||[])h.handler&&h.handler(u,l,{replayer:this});this.service.send({type:"CAST_EVENT",payload:{event:u}});const d=this.service.state.context.events.length-1;if(!this.config.liveMode&&u===this.service.state.context.events[d]){const h=()=>{d<this.service.state.context.events.length-1||(this.backToNormal(),this.service.send("END"),this.emitter.emit(q.Finish))};let f=50;u.type===_.IncrementalSnapshot&&u.data.source===D.MouseMove&&u.data.positions.length&&(f+=Math.max(0,-u.data.positions[0].timeOffset)),setTimeout(h,f)}this.emitter.emit(q.EventCast,u)}}),!(r!=null&&r.liveMode)&&t.length<2)throw new Error("Replayer need at least 2 events.");const s={speed:1,maxSpeed:360,root:document.body,loadTimeout:0,skipInactive:!1,inactivePeriodThreshold:10*1e3,showWarning:!0,showDebug:!1,blockClass:"rr-block",liveMode:!1,insertStyleRules:[],triggerFocus:!0,UNSAFE_replayCanvas:!1,pauseAnimation:!0,mouseTail:rs,useVirtualDom:!0,logger:console};this.config=Object.assign({},s,r),this.handleResize=this.handleResize.bind(this),this.getCastFn=this.getCastFn.bind(this),this.applyEventsSynchronously=this.applyEventsSynchronously.bind(this),this.emitter.on(q.Resize,this.handleResize),this.setupDom();for(const u of this.config.plugins||[])u.getMirror&&u.getMirror({nodeMirror:this.mirror});this.emitter.on(q.Flush,()=>{if(this.usingVirtualDom){const u={mirror:this.mirror,applyCanvas:(l,c,n)=>{us({event:l,mutation:c,target:n,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})},applyInput:this.applyInput.bind(this),applyScroll:this.applyScroll.bind(this),applyStyleSheetMutation:(l,c)=>{l.source===D.StyleSheetRule?this.applyStyleSheetRule(l,c):l.source===D.StyleDeclaration&&this.applyStyleDeclaration(l,c)},afterAppend:(l,c)=>{for(const n of this.config.plugins||[])n.onBuild&&n.onBuild(l,{id:c,replayer:this})}};if(this.iframe.contentDocument)try{Dt(this.iframe.contentDocument,this.virtualDom,u,this.virtualDom.mirror)}catch(l){console.warn(l)}if(this.virtualDom.destroyTree(),this.usingVirtualDom=!1,Object.keys(this.legacy_missingNodeRetryMap).length)for(const l in this.legacy_missingNodeRetryMap)try{const c=this.legacy_missingNodeRetryMap[l],n=At(c.node,this.mirror,this.virtualDom.mirror);Dt(n,c.node,u,this.virtualDom.mirror),c.node=n}catch(c){this.warn(c)}this.constructedStyleMutations.forEach(l=>{this.applyStyleSheetMutation(l)}),this.constructedStyleMutations=[],this.adoptedStyleSheets.forEach(l=>{this.applyAdoptedStyleSheet(l)}),this.adoptedStyleSheets=[]}if(this.mousePos&&(this.moveAndHover(this.mousePos.x,this.mousePos.y,this.mousePos.id,!0,this.mousePos.debugData),this.mousePos=null),this.touchActive===!0?this.mouse.classList.add("touch-active"):this.touchActive===!1&&this.mouse.classList.remove("touch-active"),this.touchActive=null,this.lastMouseDownEvent){const[u,l]=this.lastMouseDownEvent;u.dispatchEvent(l)}this.lastMouseDownEvent=null,this.lastSelectionData&&(this.applySelection(this.lastSelectionData),this.lastSelectionData=null)}),this.emitter.on(q.PlayBack,()=>{this.firstFullSnapshot=null,this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset()});const i=new ku([],{speed:this.config.speed});this.service=Lu({events:t.map(u=>r&&r.unpackFn?r.unpackFn(u):u).sort((u,l)=>u.timestamp-l.timestamp),timer:i,timeOffset:0,baselineTime:0,lastPlayedEvent:null},{getCastFn:this.getCastFn,applyEventsSynchronously:this.applyEventsSynchronously,emitter:this.emitter}),this.service.start(),this.service.subscribe(u=>{this.emitter.emit(q.StateChange,{player:u})}),this.speedService=Fu({normalSpeed:-1,timer:i}),this.speedService.start(),this.speedService.subscribe(u=>{this.emitter.emit(q.StateChange,{speed:u})}),this.mediaManager=new Vu({warn:this.warn.bind(this),service:this.service,speedService:this.speedService,emitter:this.emitter,getCurrentTime:this.getCurrentTime.bind(this)});const a=this.service.state.context.events.find(u=>u.type===_.Meta),o=this.service.state.context.events.find(u=>u.type===_.FullSnapshot);if(a){const{width:u,height:l}=a.data;setTimeout(()=>{this.emitter.emit(q.Resize,{width:u,height:l})},0)}o&&setTimeout(()=>{var u;this.firstFullSnapshot||(this.firstFullSnapshot=o,this.rebuildFullSnapshot(o),(u=this.iframe.contentWindow)==null||u.scrollTo(o.data.initialOffset))},1),this.service.state.context.events.find(Tn)&&this.mouse.classList.add("touch-device")}get timer(){return this.service.state.context.timer}on(t,r){return this.emitter.on(t,r),this}off(t,r){return this.emitter.off(t,r),this}setConfig(t){Object.keys(t).forEach(r=>{t[r],this.config[r]=t[r]}),this.config.skipInactive||this.backToNormal(),typeof t.speed!="undefined"&&this.speedService.send({type:"SET_SPEED",payload:{speed:t.speed}}),typeof t.mouseTail!="undefined"&&(t.mouseTail===!1?this.mouseTail&&(this.mouseTail.style.display="none"):(this.mouseTail||(this.mouseTail=document.createElement("canvas"),this.mouseTail.width=Number.parseFloat(this.iframe.width),this.mouseTail.height=Number.parseFloat(this.iframe.height),this.mouseTail.classList.add("replayer-mouse-tail"),this.wrapper.insertBefore(this.mouseTail,this.iframe)),this.mouseTail.style.display="inherit"))}getMetaData(){const t=this.service.state.context.events[0],r=this.service.state.context.events[this.service.state.context.events.length-1];return{startTime:t.timestamp,endTime:r.timestamp,totalTime:r.timestamp-t.timestamp}}getCurrentTime(){return this.timer.timeOffset+this.getTimeOffset()}getTimeOffset(){const{baselineTime:t,events:r}=this.service.state.context;return t-r[0].timestamp}getMirror(){return this.mirror}play(t=0){var r,s;this.service.state.matches("paused")?this.service.send({type:"PLAY",payload:{timeOffset:t}}):(this.service.send({type:"PAUSE"}),this.service.send({type:"PLAY",payload:{timeOffset:t}})),(s=(r=this.iframe.contentDocument)==null?void 0:r.getElementsByTagName("html")[0])==null||s.classList.remove("rrweb-paused"),this.emitter.emit(q.Start)}pause(t){var r,s;t===void 0&&this.service.state.matches("playing")&&this.service.send({type:"PAUSE"}),typeof t=="number"&&(this.play(t),this.service.send({type:"PAUSE"})),(s=(r=this.iframe.contentDocument)==null?void 0:r.getElementsByTagName("html")[0])==null||s.classList.add("rrweb-paused"),this.emitter.emit(q.Pause)}resume(t=0){this.warn("The 'resume' was deprecated in 1.0. Please use 'play' method which has the same interface."),this.play(t),this.emitter.emit(q.Resume)}destroy(){this.pause(),this.mirror.reset(),this.styleMirror.reset(),this.mediaManager.reset(),this.config.root.removeChild(this.wrapper),this.emitter.emit(q.Destroy)}startLive(t){this.service.send({type:"TO_LIVE",payload:{baselineTime:t}})}addEvent(t){const r=this.config.unpackFn?this.config.unpackFn(t):t;Tn(r)&&this.mouse.classList.add("touch-device"),Promise.resolve().then(()=>this.service.send({type:"ADD_EVENT",payload:{event:r}}))}enableInteract(){this.iframe.setAttribute("scrolling","auto"),this.iframe.style.pointerEvents="auto"}disableInteract(){this.iframe.setAttribute("scrolling","no"),this.iframe.style.pointerEvents="none"}resetCache(){this.cache=Ai()}setupDom(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("replayer-wrapper"),this.config.root.appendChild(this.wrapper),this.mouse=document.createElement("div"),this.mouse.classList.add("replayer-mouse"),this.wrapper.appendChild(this.mouse),this.config.mouseTail!==!1&&(this.mouseTail=document.createElement("canvas"),this.mouseTail.classList.add("replayer-mouse-tail"),this.mouseTail.style.display="inherit",this.wrapper.appendChild(this.mouseTail)),this.iframe=document.createElement("iframe");const t=["allow-same-origin"];this.config.UNSAFE_replayCanvas&&t.push("allow-scripts"),this.iframe.style.display="none",this.iframe.setAttribute("sandbox",t.join(" ")),this.disableInteract(),this.wrapper.appendChild(this.iframe),this.iframe.contentWindow&&this.iframe.contentDocument&&(_u(this.iframe.contentWindow,this.iframe.contentDocument),Fs(this.iframe.contentWindow))}rebuildFullSnapshot(t,r=!1){if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");Object.keys(this.legacy_missingNodeRetryMap).length&&this.warn("Found unresolved missing node map",this.legacy_missingNodeRetryMap),this.legacy_missingNodeRetryMap={};const s=[],i=new Set,a=(l,c)=>{if(l.nodeName==="DIALOG"&&i.add(l),this.collectIframeAndAttachDocument(s,l),this.mediaManager.isSupportedMediaElement(l)){const{events:n}=this.service.state.context;this.mediaManager.addMediaElements(l,t.timestamp-n[0].timestamp,this.mirror)}for(const n of this.config.plugins||[])n.onBuild&&n.onBuild(l,{id:c,replayer:this})};this.usingVirtualDom&&(this.virtualDom.destroyTree(),this.usingVirtualDom=!1),this.mirror.reset(),Qa(t.data.node,{doc:this.iframe.contentDocument,afterAppend:a,cache:this.cache,mirror:this.mirror}),a(this.iframe.contentDocument,t.data.node.id);for(const{mutationInQueue:l,builtNode:c}of s)this.attachDocumentToIframe(l,c),this.newDocumentQueue=this.newDocumentQueue.filter(n=>n!==l);const{documentElement:o,head:u}=this.iframe.contentDocument;this.insertStyleRules(o,u),i.forEach(l=>St(l)),this.service.state.matches("playing")||this.iframe.contentDocument.getElementsByTagName("html")[0].classList.add("rrweb-paused"),this.emitter.emit(q.FullsnapshotRebuilded,t),r||this.waitForStylesheetLoad(),this.config.UNSAFE_replayCanvas&&this.preloadAllImages()}insertStyleRules(t,r){var s;const i=In(this.config.blockClass).concat(this.config.insertStyleRules);if(this.config.pauseAnimation&&i.push("html.rrweb-paused *, html.rrweb-paused *:before, html.rrweb-paused *:after { animation-play-state: paused !important; }"),!!i.length)if(this.usingVirtualDom){const a=this.virtualDom.createElement("style");this.virtualDom.mirror.add(a,os(a,this.virtualDom.unserializedId)),t.insertBefore(a,r),a.rules.push({source:D.StyleSheetRule,adds:i.map((o,u)=>({rule:o,index:u}))})}else{const a=document.createElement("style");t.insertBefore(a,r);for(let o=0;o<i.length;o++)(s=a.sheet)==null||s.insertRule(i[o],o)}}isShadowRoot(t){return t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}insertStyleRulesIntoShadowRoot(t){var i;var r;const s=In(this.config.blockClass).concat(this.config.insertStyleRules);if(s.length){if(this.usingVirtualDom&&t.getAttribute("id")!==Ct){const a=this.virtualDom.createElement("style");this.virtualDom.mirror.add(a,os(a,this.virtualDom.unserializedId)),a.setAttribute("id",Ct),t.insertBefore(a,t.firstChild||null),a.rules.push({source:D.StyleSheetRule,adds:s.map((o,u)=>({rule:o,index:u}))})}else if(this.isShadowRoot(t)&&!t.getElementById(Ct)){const a=document.createElement("style");a.id=Ct,t.insertBefore(a,(i=t.firstChild)!=null?i:null);for(let o=0;o<s.length;o++)(r=a.sheet)==null||r.insertRule(s[o],o)}}}attachDocumentToIframe(t,r){const s=this.usingVirtualDom?this.virtualDom.mirror:this.mirror,i=[],a=new Set,o=(u,l)=>{u.nodeName==="DIALOG"&&a.add(u),this.collectIframeAndAttachDocument(i,u);const c=s.getMeta(u);if((c==null?void 0:c.type)===xe.Element&&(c==null?void 0:c.tagName.toUpperCase())==="HTML"){const{documentElement:n,head:d}=r.contentDocument;this.insertStyleRules(n,d)}if(!this.usingVirtualDom)for(const n of this.config.plugins||[])n.onBuild&&n.onBuild(u,{id:l,replayer:this})};rt(t.node,{doc:r.contentDocument,mirror:s,hackCss:!0,skipChild:!1,afterAppend:o,cache:this.cache}),o(r.contentDocument,t.node.id);for(const{mutationInQueue:u,builtNode:l}of i)this.attachDocumentToIframe(u,l),this.newDocumentQueue=this.newDocumentQueue.filter(c=>c!==u);a.forEach(u=>St(u))}collectIframeAndAttachDocument(t,r){if(Xe(r,this.mirror)){const s=this.newDocumentQueue.find(i=>i.parentId===this.mirror.getId(r));s&&t.push({mutationInQueue:s,builtNode:r})}}waitForStylesheetLoad(){var t;const r=(t=this.iframe.contentDocument)==null?void 0:t.head;if(r){const s=new Set;let i,a=this.service.state;const o=()=>{a=this.service.state};this.emitter.on(q.Start,o),this.emitter.on(q.Pause,o);const u=()=>{this.emitter.off(q.Start,o),this.emitter.off(q.Pause,o)};r.querySelectorAll('link[rel="stylesheet"]').forEach(l=>{l.sheet||(s.add(l),l.addEventListener("load",()=>{s.delete(l),s.size===0&&i!==-1&&(a.matches("playing")&&this.play(this.getCurrentTime()),this.emitter.emit(q.LoadStylesheetEnd),i&&clearTimeout(i),u())}))}),s.size>0&&(this.service.send({type:"PAUSE"}),this.emitter.emit(q.LoadStylesheetStart),i=setTimeout(()=>{a.matches("playing")&&this.play(this.getCurrentTime()),i=-1,u()},this.config.loadTimeout))}}async preloadAllImages(){const t=[];for(const r of this.service.state.context.events)r.type===_.IncrementalSnapshot&&r.data.source===D.CanvasMutation&&(t.push(this.deserializeAndPreloadCanvasEvents(r.data,r)),("commands"in r.data?r.data.commands:[r.data]).forEach(i=>{this.preloadImages(i,r)}));return Promise.all(t)}preloadImages(t,r){if(t.property==="drawImage"&&typeof t.args[0]=="string"&&!this.imageMap.has(r)){const s=document.createElement("canvas"),i=s.getContext("2d"),a=i==null?void 0:i.createImageData(s.width,s.height);i==null||i.putImageData(a,0,0)}}async deserializeAndPreloadCanvasEvents(t,r){if(!this.canvasEventMap.has(r)){const s={isUnchanged:!0};if("commands"in t){const i=await Promise.all(t.commands.map(async a=>{const o=await Promise.all(a.args.map(Ie(this.imageMap,null,s)));return se(P({},a),{args:o})}));s.isUnchanged===!1&&this.canvasEventMap.set(r,se(P({},t),{commands:i}))}else{const i=await Promise.all(t.args.map(Ie(this.imageMap,null,s)));s.isUnchanged===!1&&this.canvasEventMap.set(r,se(P({},t),{args:i}))}}}applyIncremental(t,r){var s,i,a;const{data:o}=t;switch(o.source){case D.Mutation:{try{this.applyMutation(o,r)}catch(u){this.warn(`Exception in mutation ${u.message||u}`,o)}break}case D.Drag:case D.TouchMove:case D.MouseMove:if(r){const u=o.positions[o.positions.length-1];this.mousePos={x:u.x,y:u.y,id:u.id,debugData:o}}else o.positions.forEach(u=>{const l={doAction:()=>{this.moveAndHover(u.x,u.y,u.id,r,o)},delay:u.timeOffset+t.timestamp-this.service.state.context.baselineTime};this.timer.addAction(l)}),this.timer.addAction({doAction(){},delay:t.delay-((s=o.positions[0])==null?void 0:s.timeOffset)});break;case D.MouseInteraction:{if(o.id===-1)break;const u=new Event(De(V[o.type])),l=this.mirror.getNode(o.id);if(!l)return this.debugNodeNotFound(o,o.id);this.emitter.emit(q.MouseInteraction,{type:o.type,target:l});const{triggerFocus:c}=this.config;switch(o.type){case V.Blur:"blur"in l&&l.blur();break;case V.Focus:c&&l.focus&&l.focus({preventScroll:!0});break;case V.Click:case V.TouchStart:case V.TouchEnd:case V.MouseDown:case V.MouseUp:r?(o.type===V.TouchStart?this.touchActive=!0:o.type===V.TouchEnd&&(this.touchActive=!1),o.type===V.MouseDown?this.lastMouseDownEvent=[l,u]:o.type===V.MouseUp&&(this.lastMouseDownEvent=null),this.mousePos={x:o.x||0,y:o.y||0,id:o.id,debugData:o}):(o.type===V.TouchStart&&(this.tailPositions.length=0),this.moveAndHover(o.x||0,o.y||0,o.id,r,o),o.type===V.Click?(this.mouse.classList.remove("active"),this.mouse.offsetWidth,this.mouse.classList.add("active")):o.type===V.TouchStart?(this.mouse.offsetWidth,this.mouse.classList.add("touch-active")):o.type===V.TouchEnd?this.mouse.classList.remove("touch-active"):l.dispatchEvent(u));break;case V.TouchCancel:r?this.touchActive=!1:this.mouse.classList.remove("touch-active");break;default:l.dispatchEvent(u)}break}case D.Scroll:{if(o.id===-1)break;if(this.usingVirtualDom){const u=this.virtualDom.mirror.getNode(o.id);if(!u)return this.debugNodeNotFound(o,o.id);u.scrollData=o;break}this.applyScroll(o,r);break}case D.ViewportResize:this.emitter.emit(q.Resize,{width:o.width,height:o.height});break;case D.Input:{if(o.id===-1)break;if(this.usingVirtualDom){const u=this.virtualDom.mirror.getNode(o.id);if(!u)return this.debugNodeNotFound(o,o.id);u.inputData=o;break}this.applyInput(o);break}case D.MediaInteraction:{const u=this.usingVirtualDom?this.virtualDom.mirror.getNode(o.id):this.mirror.getNode(o.id);if(!u)return this.debugNodeNotFound(o,o.id);const l=u,{events:c}=this.service.state.context;this.mediaManager.mediaMutation({target:l,timeOffset:t.timestamp-c[0].timestamp,mutation:o});break}case D.StyleSheetRule:case D.StyleDeclaration:{this.usingVirtualDom?o.styleId?this.constructedStyleMutations.push(o):o.id&&((i=this.virtualDom.mirror.getNode(o.id))==null||i.rules.push(o)):this.applyStyleSheetMutation(o);break}case D.CanvasMutation:{if(!this.config.UNSAFE_replayCanvas)return;if(this.usingVirtualDom){const u=this.virtualDom.mirror.getNode(o.id);if(!u)return this.debugNodeNotFound(o,o.id);u.canvasMutations.push({event:t,mutation:o})}else{const u=this.mirror.getNode(o.id);if(!u)return this.debugNodeNotFound(o,o.id);us({event:t,mutation:o,target:u,imageMap:this.imageMap,canvasEventMap:this.canvasEventMap,errorHandler:this.warnCanvasMutationFailed.bind(this)})}break}case D.Font:{try{const u=new FontFace(o.family,o.buffer?new Uint8Array(JSON.parse(o.fontSource)):o.fontSource,o.descriptors);(a=this.iframe.contentDocument)==null||a.fonts.add(u)}catch(u){this.warn(u)}break}case D.Selection:{if(r){this.lastSelectionData=o;break}this.applySelection(o);break}case D.AdoptedStyleSheet:{this.usingVirtualDom?this.adoptedStyleSheets.push(o):this.applyAdoptedStyleSheet(o);break}}}applyMutation(t,r){if(this.config.useVirtualDom&&!this.usingVirtualDom&&r&&(this.usingVirtualDom=!0,Bl(this.iframe.contentDocument,this.mirror,this.virtualDom),Object.keys(this.legacy_missingNodeRetryMap).length))for(const c in this.legacy_missingNodeRetryMap)try{const n=this.legacy_missingNodeRetryMap[c],d=lo(n.node,this.virtualDom,this.mirror);d&&(n.node=d)}catch(n){this.warn(n)}const s=this.usingVirtualDom?this.virtualDom.mirror:this.mirror;t.removes=t.removes.filter(c=>s.getNode(c.id)?!0:(this.warnNodeNotFound(t,c.id),!1)),t.removes.forEach(c=>{var n;const d=s.getNode(c.id);if(!d)return;let h=s.getNode(c.parentId);if(!h)return this.warnNodeNotFound(t,c.parentId);if(c.isShadow&&Oe(h)&&(h=h.shadowRoot),s.removeNodeFromMap(d),h)try{h.removeChild(d),this.usingVirtualDom&&d.nodeName==="#text"&&h.nodeName==="STYLE"&&((n=h.rules)==null?void 0:n.length)>0&&(h.rules=[])}catch(f){if(f instanceof DOMException)this.warn("parent could not remove child in mutation",h,d,t);else throw f}});const i=P({},this.legacy_missingNodeRetryMap),a=[],o=c=>{let n=null;return c.nextId&&(n=s.getNode(c.nextId)),c.nextId!==null&&c.nextId!==void 0&&c.nextId!==-1&&!n},u=c=>{var n,d;if(!this.iframe.contentDocument)return this.warn("Looks like your replayer has been destroyed.");let h=s.getNode(c.parentId);if(!h)return c.node.type===xe.Document?this.newDocumentQueue.push(c):a.push(c);c.node.isShadow&&(Oe(h)||h.attachShadow({mode:"open"}),h=h.shadowRoot,this.insertStyleRulesIntoShadowRoot(h));let f=null,m=null;if(c.previousId&&(f=s.getNode(c.previousId)),c.nextId&&(m=s.getNode(c.nextId)),o(c))return a.push(c);if(c.node.rootId&&!s.getNode(c.node.rootId))return;const p=c.node.rootId?s.getNode(c.node.rootId):this.usingVirtualDom?this.virtualDom:this.iframe.contentDocument;if(Xe(h,s)){this.attachDocumentToIframe(c,h);return}const g=(S,C)=>{if(!this.usingVirtualDom){St(S);for(const v of this.config.plugins||[])v.onBuild&&v.onBuild(S,{id:C,replayer:this})}},y=rt(c.node,{doc:p,mirror:s,skipChild:!0,hackCss:!0,cache:this.cache,afterAppend:g});if(c.previousId===-1||c.nextId===-1){i[c.node.id]={node:y,mutation:c};return}const w=s.getMeta(h);if(w&&w.type===xe.Element&&c.node.type===xe.Text){const S=Array.isArray(h.childNodes)?h.childNodes:Array.from(h.childNodes);if(w.tagName==="textarea")for(const C of S)C.nodeType===h.TEXT_NODE&&h.removeChild(C);else if(w.tagName==="style"&&S.length===1)for(const C of S)C.nodeType===h.TEXT_NODE&&!s.hasNode(C)&&(y.textContent=C.textContent,h.removeChild(C))}else if((w==null?void 0:w.type)===xe.Document){const S=h;c.node.type===xe.DocumentType&&((n=S.childNodes[0])==null?void 0:n.nodeType)===Node.DOCUMENT_TYPE_NODE&&S.removeChild(S.childNodes[0]),y.nodeName==="HTML"&&S.documentElement&&S.removeChild(S.documentElement)}if(f&&f.nextSibling&&f.nextSibling.parentNode?h.insertBefore(y,f.nextSibling):m&&m.parentNode?h.contains(m)?h.insertBefore(y,m):h.insertBefore(y,null):h.appendChild(y),g(y,c.node.id),this.usingVirtualDom&&y.nodeName==="#text"&&h.nodeName==="STYLE"&&((d=h.rules)==null?void 0:d.length)>0&&(h.rules=[]),Xe(y,this.mirror)){const S=this.mirror.getId(y),C=this.newDocumentQueue.find(v=>v.parentId===S);C&&(this.attachDocumentToIframe(C,y),this.newDocumentQueue=this.newDocumentQueue.filter(v=>v!==C))}(c.previousId||c.nextId)&&this.legacy_resolveMissingNode(i,h,y,c)};t.adds.forEach(c=>{u(c)});const l=Date.now();for(;a.length;){const c=fo(a);if(a.length=0,Date.now()-l>500){this.warn("Timeout in the loop, please check the resolve tree data:",c);break}for(const n of c)s.getNode(n.value.parentId)?Us(n,h=>{u(h)}):this.debug("Drop resolve tree since there is no parent for the root node.",n)}Object.keys(i).length&&Object.assign(this.legacy_missingNodeRetryMap,i),po(t.texts).forEach(c=>{var n;const d=s.getNode(c.id);if(!d)return t.removes.find(f=>f.id===c.id)?void 0:this.warnNodeNotFound(t,c.id);const h=d.parentElement;if(c.value&&h&&h.tagName==="STYLE"?d.textContent=Wt(c.value,this.cache):d.textContent=c.value,this.usingVirtualDom){const f=d.parentNode;((n=f==null?void 0:f.rules)==null?void 0:n.length)>0&&(f.rules=[])}}),t.attributes.forEach(c=>{var n;const d=s.getNode(c.id);if(!d)return t.removes.find(h=>h.id===c.id)?void 0:this.warnNodeNotFound(t,c.id);for(const h in c.attributes)if(typeof h=="string"){const f=c.attributes[h];if(f===null)d.removeAttribute(h),h==="open"&&qu(d,c);else if(typeof f=="string")try{if(h==="_cssText"&&(d.nodeName==="LINK"||d.nodeName==="STYLE"))try{const m=s.getMeta(d);Object.assign(m.attributes,c.attributes);const p=rt(m,{doc:d.ownerDocument,mirror:s,skipChild:!0,hackCss:!0,cache:this.cache}),g=d.nextSibling,y=d.parentNode;if(p&&y){y.removeChild(d),y.insertBefore(p,g),s.replace(c.id,p);break}}catch(m){}if(h==="value"&&d.nodeName==="TEXTAREA"){const m=d;m.childNodes.forEach(g=>m.removeChild(g));const p=(n=d.ownerDocument)==null?void 0:n.createTextNode(f);p&&m.appendChild(p)}else d.setAttribute(h,f);h==="rr_open_mode"&&d.nodeName==="DIALOG"&&St(d,c)}catch(m){this.warn("An error occurred may due to the checkout feature.",m)}else if(h==="style"){const m=f,p=d;for(const g in m)if(m[g]===!1)p.style.removeProperty(g);else if(m[g]instanceof Array){const y=m[g];p.style.setProperty(g,y[0],y[1])}else{const y=m[g];p.style.setProperty(g,y)}}}})}applyScroll(t,r){var s,i;const a=this.mirror.getNode(t.id);if(!a)return this.debugNodeNotFound(t,t.id);const o=this.mirror.getMeta(a);if(a===this.iframe.contentDocument)(s=this.iframe.contentWindow)==null||s.scrollTo({top:t.y,left:t.x,behavior:r?"auto":"smooth"});else if((o==null?void 0:o.type)===xe.Document)(i=a.defaultView)==null||i.scrollTo({top:t.y,left:t.x,behavior:r?"auto":"smooth"});else try{a.scrollTo({top:t.y,left:t.x,behavior:r?"auto":"smooth"})}catch(u){}}applyInput(t){const r=this.mirror.getNode(t.id);if(!r)return this.debugNodeNotFound(t,t.id);try{r.checked=t.isChecked,r.value=t.text}catch(s){}}applySelection(t){try{const r=new Set,s=t.ranges.map(({start:i,startOffset:a,end:o,endOffset:u})=>{const l=this.mirror.getNode(i),c=this.mirror.getNode(o);if(!l||!c)return;const n=new Range;n.setStart(l,a),n.setEnd(c,u);const d=l.ownerDocument,h=d==null?void 0:d.getSelection();return h&&r.add(h),{range:n,selection:h}});r.forEach(i=>i.removeAllRanges()),s.forEach(i=>{var a;return i&&((a=i.selection)==null?void 0:a.addRange(i.range))})}catch(r){}}applyStyleSheetMutation(t){var r;let s=null;t.styleId?s=this.styleMirror.getStyle(t.styleId):t.id&&(s=((r=this.mirror.getNode(t.id))==null?void 0:r.sheet)||null),s&&(t.source===D.StyleSheetRule?this.applyStyleSheetRule(t,s):t.source===D.StyleDeclaration&&this.applyStyleDeclaration(t,s))}applyStyleSheetRule(t,r){var s,i,a,o;if((s=t.adds)==null||s.forEach(({rule:u,index:l})=>{try{if(Array.isArray(l)){const{positions:c,index:n}=as(l);He(r.cssRules,c).insertRule(u,n)}else{const c=l===void 0?void 0:Math.min(l,r.cssRules.length);r==null||r.insertRule(u,c)}}catch(c){}}),(i=t.removes)==null||i.forEach(({index:u})=>{try{if(Array.isArray(u)){const{positions:l,index:c}=as(u);He(r.cssRules,l).deleteRule(c||0)}else r==null||r.deleteRule(u)}catch(l){}}),t.replace)try{(a=r.replace)==null||a.call(r,t.replace)}catch(u){}if(t.replaceSync)try{(o=r.replaceSync)==null||o.call(r,t.replaceSync)}catch(u){}}applyStyleDeclaration(t,r){t.set&&He(r.rules,t.index).style.setProperty(t.set.property,t.set.value,t.set.priority),t.remove&&He(r.rules,t.index).style.removeProperty(t.remove.property)}applyAdoptedStyleSheet(t){var r;const s=this.mirror.getNode(t.id);if(!s)return;(r=t.styles)==null||r.forEach(u=>{var l;let c=null,n=null;if(Oe(s)?n=((l=s.ownerDocument)==null?void 0:l.defaultView)||null:s.nodeName==="#document"&&(n=s.defaultView),!!n)try{c=new n.CSSStyleSheet,this.styleMirror.add(c,u.styleId),this.applyStyleSheetRule({source:D.StyleSheetRule,adds:u.rules},c)}catch(d){}});const i=10;let a=0;const o=(u,l)=>{const c=l.map(n=>this.styleMirror.getStyle(n)).filter(n=>n!==null);Oe(u)?u.shadowRoot.adoptedStyleSheets=c:u.nodeName==="#document"&&(u.adoptedStyleSheets=c),c.length!==l.length&&a<i&&(setTimeout(()=>o(u,l),0+100*a),a++)};o(s,t.styleIds)}legacy_resolveMissingNode(t,r,s,i){const{previousId:a,nextId:o}=i,u=a&&t[a],l=o&&t[o];if(u){const{node:c,mutation:n}=u;r.insertBefore(c,s),delete t[n.node.id],delete this.legacy_missingNodeRetryMap[n.node.id],(n.previousId||n.nextId)&&this.legacy_resolveMissingNode(t,r,c,n)}if(l){const{node:c,mutation:n}=l;r.insertBefore(c,s.nextSibling),delete t[n.node.id],delete this.legacy_missingNodeRetryMap[n.node.id],(n.previousId||n.nextId)&&this.legacy_resolveMissingNode(t,r,c,n)}}moveAndHover(t,r,s,i,a){const o=this.mirror.getNode(s);if(!o)return this.debugNodeNotFound(a,s);const u=$s(o,this.iframe),l=t*u.absoluteScale+u.x,c=r*u.absoluteScale+u.y;this.mouse.style.left=`${l}px`,this.mouse.style.top=`${c}px`,i||this.drawMouseTail({x:l,y:c}),this.hoverElements(o)}drawMouseTail(t){if(!this.mouseTail)return;const{lineCap:r,lineWidth:s,strokeStyle:i,duration:a}=this.config.mouseTail===!0?rs:Object.assign({},rs,this.config.mouseTail),o=()=>{if(!this.mouseTail)return;const u=this.mouseTail.getContext("2d");!u||!this.tailPositions.length||(u.clearRect(0,0,this.mouseTail.width,this.mouseTail.height),u.beginPath(),u.lineWidth=s,u.lineCap=r,u.strokeStyle=i,u.moveTo(this.tailPositions[0].x,this.tailPositions[0].y),this.tailPositions.forEach(l=>u.lineTo(l.x,l.y)),u.stroke())};this.tailPositions.push(t),o(),setTimeout(()=>{this.tailPositions=this.tailPositions.filter(u=>u!==t),o()},a/this.speedService.state.context.timer.speed)}hoverElements(t){var r;(r=this.lastHoveredRootNode||this.iframe.contentDocument)==null||r.querySelectorAll(".\\:hover").forEach(i=>{i.classList.remove(":hover")}),this.lastHoveredRootNode=t.getRootNode();let s=t;for(;s;)s.classList&&s.classList.add(":hover"),s=s.parentElement}isUserInteraction(t){return t.type!==_.IncrementalSnapshot?!1:t.data.source>D.Mutation&&t.data.source<=D.Input}backToNormal(){this.nextUserInteractionEvent=null,!this.speedService.state.matches("normal")&&(this.speedService.send({type:"BACK_TO_NORMAL"}),this.emitter.emit(q.SkipEnd,{speed:this.speedService.state.context.normalSpeed}))}warnNodeNotFound(t,r){this.warn(`Node with id '${r}' not found. `,t)}warnCanvasMutationFailed(t,r){this.warn("Has error on canvas update",r,"canvas mutation:",t)}debugNodeNotFound(t,r){this.debug(`Node with id '${r}' not found. `,t)}warn(...t){this.config.showWarning&&this.config.logger.warn(An,...t)}debug(...t){this.config.showDebug&&this.config.logger.log(An,...t)}}const{addCustomEvent:Hu}=_e,{freezePage:Yu}=_e,{takeFullSnapshot:Ju}=_e;exports.EventType=_;exports.IncrementalSource=D;exports.MouseInteractions=V;exports.Replayer=Gu;exports.ReplayerEvents=q;exports.addCustomEvent=Hu;exports.canvasMutation=us;exports.freezePage=Yu;exports.record=_e;exports.takeFullSnapshot=Ju;exports.utils=eu;
if (typeof module.exports == "object" && typeof exports == "object") {
  var __cp = (to, from, except, desc) => {
    if ((from && typeof from === "object") || typeof from === "function") {
      for (let key of Object.getOwnPropertyNames(from)) {
        if (!Object.prototype.hasOwnProperty.call(to, key) && key !== except)
        Object.defineProperty(to, key, {
          get: () => from[key],
          enumerable: !(desc = Object.getOwnPropertyDescriptor(from, key)) || desc.enumerable,
        });
      }
    }
    return to;
  };
  module.exports = __cp(module.exports, exports);
}
return module.exports;
}))
//# sourceMappingURL=rrweb.umd.min.cjs.map
